// modules are defined as an array
// [ module function, map of requires ]
//
// map of requires is short require name -> numeric require
//
// anything defined in a previous bundle is accessed via the
// orig method which is the require for previous bundles

(function (modules, entry, mainEntry, parcelRequireName, globalName) {
  /* eslint-disable no-undef */
  var globalObject =
    typeof globalThis !== 'undefined'
      ? globalThis
      : typeof self !== 'undefined'
      ? self
      : typeof window !== 'undefined'
      ? window
      : typeof global !== 'undefined'
      ? global
      : {};
  /* eslint-enable no-undef */

  // Save the require from previous bundle to this closure if any
  var previousRequire =
    typeof globalObject[parcelRequireName] === 'function' &&
    globalObject[parcelRequireName];

  var cache = previousRequire.cache || {};
  // Do not use `require` to prevent Webpack from trying to bundle this call
  var nodeRequire =
    typeof module !== 'undefined' &&
    typeof module.require === 'function' &&
    module.require.bind(module);

  function newRequire(name, jumped) {
    if (!cache[name]) {
      if (!modules[name]) {
        // if we cannot find the module within our internal map or
        // cache jump to the current global require ie. the last bundle
        // that was added to the page.
        var currentRequire =
          typeof globalObject[parcelRequireName] === 'function' &&
          globalObject[parcelRequireName];
        if (!jumped && currentRequire) {
          return currentRequire(name, true);
        }

        // If there are other bundles on this page the require from the
        // previous one is saved to 'previousRequire'. Repeat this as
        // many times as there are bundles until the module is found or
        // we exhaust the require chain.
        if (previousRequire) {
          return previousRequire(name, true);
        }

        // Try the node require function if it exists.
        if (nodeRequire && typeof name === 'string') {
          return nodeRequire(name);
        }

        var err = new Error("Cannot find module '" + name + "'");
        err.code = 'MODULE_NOT_FOUND';
        throw err;
      }

      localRequire.resolve = resolve;
      localRequire.cache = {};

      var module = (cache[name] = new newRequire.Module(name));

      modules[name][0].call(
        module.exports,
        localRequire,
        module,
        module.exports,
        this
      );
    }

    return cache[name].exports;

    function localRequire(x) {
      var res = localRequire.resolve(x);
      return res === false ? {} : newRequire(res);
    }

    function resolve(x) {
      var id = modules[name][1][x];
      return id != null ? id : x;
    }
  }

  function Module(moduleName) {
    this.id = moduleName;
    this.bundle = newRequire;
    this.exports = {};
  }

  newRequire.isParcelRequire = true;
  newRequire.Module = Module;
  newRequire.modules = modules;
  newRequire.cache = cache;
  newRequire.parent = previousRequire;
  newRequire.register = function (id, exports) {
    modules[id] = [
      function (require, module) {
        module.exports = exports;
      },
      {},
    ];
  };

  Object.defineProperty(newRequire, 'root', {
    get: function () {
      return globalObject[parcelRequireName];
    },
  });

  globalObject[parcelRequireName] = newRequire;

  for (var i = 0; i < entry.length; i++) {
    newRequire(entry[i]);
  }

  if (mainEntry) {
    // Expose entry point to Node, AMD or browser globals
    // Based on https://github.com/ForbesLindesay/umd/blob/master/template.js
    var mainExports = newRequire(mainEntry);

    // CommonJS
    if (typeof exports === 'object' && typeof module !== 'undefined') {
      module.exports = mainExports;

      // RequireJS
    } else if (typeof define === 'function' && define.amd) {
      define(function () {
        return mainExports;
      });

      // <script>
    } else if (globalName) {
      this[globalName] = mainExports;
    }
  }
})({"fm8Gy":[function(require,module,exports) {
var global = arguments[3];
var HMR_HOST = null;
var HMR_PORT = null;
var HMR_SECURE = false;
var HMR_ENV_HASH = "d6ea1d42532a7575";
var HMR_USE_SSE = false;
module.bundle.HMR_BUNDLE_ID = "5c1b77e3b71e74eb";
"use strict";
/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */ /*::
import type {
  HMRAsset,
  HMRMessage,
} from '@parcel/reporter-dev-server/src/HMRServer.js';
interface ParcelRequire {
  (string): mixed;
  cache: {|[string]: ParcelModule|};
  hotData: {|[string]: mixed|};
  Module: any;
  parent: ?ParcelRequire;
  isParcelRequire: true;
  modules: {|[string]: [Function, {|[string]: string|}]|};
  HMR_BUNDLE_ID: string;
  root: ParcelRequire;
}
interface ParcelModule {
  hot: {|
    data: mixed,
    accept(cb: (Function) => void): void,
    dispose(cb: (mixed) => void): void,
    // accept(deps: Array<string> | string, cb: (Function) => void): void,
    // decline(): void,
    _acceptCallbacks: Array<(Function) => void>,
    _disposeCallbacks: Array<(mixed) => void>,
  |};
}
interface ExtensionContext {
  runtime: {|
    reload(): void,
    getURL(url: string): string;
    getManifest(): {manifest_version: number, ...};
  |};
}
declare var module: {bundle: ParcelRequire, ...};
declare var HMR_HOST: string;
declare var HMR_PORT: string;
declare var HMR_ENV_HASH: string;
declare var HMR_SECURE: boolean;
declare var HMR_USE_SSE: boolean;
declare var chrome: ExtensionContext;
declare var browser: ExtensionContext;
declare var __parcel__import__: (string) => Promise<void>;
declare var __parcel__importScripts__: (string) => Promise<void>;
declare var globalThis: typeof self;
declare var ServiceWorkerGlobalScope: Object;
*/ var OVERLAY_ID = "__parcel__error__overlay__";
var OldModule = module.bundle.Module;
function Module(moduleName) {
    OldModule.call(this, moduleName);
    this.hot = {
        data: module.bundle.hotData[moduleName],
        _acceptCallbacks: [],
        _disposeCallbacks: [],
        accept: function(fn) {
            this._acceptCallbacks.push(fn || function() {});
        },
        dispose: function(fn) {
            this._disposeCallbacks.push(fn);
        }
    };
    module.bundle.hotData[moduleName] = undefined;
}
module.bundle.Module = Module;
module.bundle.hotData = {};
var checkedAssets /*: {|[string]: boolean|} */ , assetsToDispose /*: Array<[ParcelRequire, string]> */ , assetsToAccept /*: Array<[ParcelRequire, string]> */ ;
function getHostname() {
    return HMR_HOST || (location.protocol.indexOf("http") === 0 ? location.hostname : "localhost");
}
function getPort() {
    return HMR_PORT || location.port;
}
// eslint-disable-next-line no-redeclare
var parent = module.bundle.parent;
if ((!parent || !parent.isParcelRequire) && typeof WebSocket !== "undefined") {
    var hostname = getHostname();
    var port = getPort();
    var protocol = HMR_SECURE || location.protocol == "https:" && ![
        "localhost",
        "127.0.0.1",
        "0.0.0.0"
    ].includes(hostname) ? "wss" : "ws";
    var ws;
    if (HMR_USE_SSE) ws = new EventSource("/__parcel_hmr");
    else try {
        ws = new WebSocket(protocol + "://" + hostname + (port ? ":" + port : "") + "/");
    } catch (err) {
        if (err.message) console.error(err.message);
        ws = {};
    }
    // Web extension context
    var extCtx = typeof browser === "undefined" ? typeof chrome === "undefined" ? null : chrome : browser;
    // Safari doesn't support sourceURL in error stacks.
    // eval may also be disabled via CSP, so do a quick check.
    var supportsSourceURL = false;
    try {
        (0, eval)('throw new Error("test"); //# sourceURL=test.js');
    } catch (err) {
        supportsSourceURL = err.stack.includes("test.js");
    }
    // $FlowFixMe
    ws.onmessage = async function(event /*: {data: string, ...} */ ) {
        checkedAssets = {} /*: {|[string]: boolean|} */ ;
        assetsToAccept = [];
        assetsToDispose = [];
        var data /*: HMRMessage */  = JSON.parse(event.data);
        if (data.type === "update") {
            // Remove error overlay if there is one
            if (typeof document !== "undefined") removeErrorOverlay();
            let assets = data.assets.filter((asset)=>asset.envHash === HMR_ENV_HASH);
            // Handle HMR Update
            let handled = assets.every((asset)=>{
                return asset.type === "css" || asset.type === "js" && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);
            });
            if (handled) {
                console.clear();
                // Dispatch custom event so other runtimes (e.g React Refresh) are aware.
                if (typeof window !== "undefined" && typeof CustomEvent !== "undefined") window.dispatchEvent(new CustomEvent("parcelhmraccept"));
                await hmrApplyUpdates(assets);
                // Dispose all old assets.
                let processedAssets = {} /*: {|[string]: boolean|} */ ;
                for(let i = 0; i < assetsToDispose.length; i++){
                    let id = assetsToDispose[i][1];
                    if (!processedAssets[id]) {
                        hmrDispose(assetsToDispose[i][0], id);
                        processedAssets[id] = true;
                    }
                }
                // Run accept callbacks. This will also re-execute other disposed assets in topological order.
                processedAssets = {};
                for(let i = 0; i < assetsToAccept.length; i++){
                    let id = assetsToAccept[i][1];
                    if (!processedAssets[id]) {
                        hmrAccept(assetsToAccept[i][0], id);
                        processedAssets[id] = true;
                    }
                }
            } else fullReload();
        }
        if (data.type === "error") {
            // Log parcel errors to console
            for (let ansiDiagnostic of data.diagnostics.ansi){
                let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;
                console.error("\uD83D\uDEA8 [parcel]: " + ansiDiagnostic.message + "\n" + stack + "\n\n" + ansiDiagnostic.hints.join("\n"));
            }
            if (typeof document !== "undefined") {
                // Render the fancy html overlay
                removeErrorOverlay();
                var overlay = createErrorOverlay(data.diagnostics.html);
                // $FlowFixMe
                document.body.appendChild(overlay);
            }
        }
    };
    if (ws instanceof WebSocket) {
        ws.onerror = function(e) {
            if (e.message) console.error(e.message);
        };
        ws.onclose = function() {
            console.warn("[parcel] \uD83D\uDEA8 Connection to the HMR server was lost");
        };
    }
}
function removeErrorOverlay() {
    var overlay = document.getElementById(OVERLAY_ID);
    if (overlay) {
        overlay.remove();
        console.log("[parcel] \u2728 Error resolved");
    }
}
function createErrorOverlay(diagnostics) {
    var overlay = document.createElement("div");
    overlay.id = OVERLAY_ID;
    let errorHTML = '<div style="background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;">';
    for (let diagnostic of diagnostics){
        let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame)=>{
            return `${p}
<a href="/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}" style="text-decoration: underline; color: #888" onclick="fetch(this.href); return false">${frame.location}</a>
${frame.code}`;
        }, "") : diagnostic.stack;
        errorHTML += `
      <div>
        <div style="font-size: 18px; font-weight: bold; margin-top: 20px;">
          \u{1F6A8} ${diagnostic.message}
        </div>
        <pre>${stack}</pre>
        <div>
          ${diagnostic.hints.map((hint)=>"<div>\uD83D\uDCA1 " + hint + "</div>").join("")}
        </div>
        ${diagnostic.documentation ? `<div>\u{1F4DD} <a style="color: violet" href="${diagnostic.documentation}" target="_blank">Learn more</a></div>` : ""}
      </div>
    `;
    }
    errorHTML += "</div>";
    overlay.innerHTML = errorHTML;
    return overlay;
}
function fullReload() {
    if ("reload" in location) location.reload();
    else if (extCtx && extCtx.runtime && extCtx.runtime.reload) extCtx.runtime.reload();
}
function getParents(bundle, id) /*: Array<[ParcelRequire, string]> */ {
    var modules = bundle.modules;
    if (!modules) return [];
    var parents = [];
    var k, d, dep;
    for(k in modules)for(d in modules[k][1]){
        dep = modules[k][1][d];
        if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) parents.push([
            bundle,
            k
        ]);
    }
    if (bundle.parent) parents = parents.concat(getParents(bundle.parent, id));
    return parents;
}
function updateLink(link) {
    var href = link.getAttribute("href");
    if (!href) return;
    var newLink = link.cloneNode();
    newLink.onload = function() {
        if (link.parentNode !== null) // $FlowFixMe
        link.parentNode.removeChild(link);
    };
    newLink.setAttribute("href", // $FlowFixMe
    href.split("?")[0] + "?" + Date.now());
    // $FlowFixMe
    link.parentNode.insertBefore(newLink, link.nextSibling);
}
var cssTimeout = null;
function reloadCSS() {
    if (cssTimeout) return;
    cssTimeout = setTimeout(function() {
        var links = document.querySelectorAll('link[rel="stylesheet"]');
        for(var i = 0; i < links.length; i++){
            // $FlowFixMe[incompatible-type]
            var href /*: string */  = links[i].getAttribute("href");
            var hostname = getHostname();
            var servedFromHMRServer = hostname === "localhost" ? new RegExp("^(https?:\\/\\/(0.0.0.0|127.0.0.1)|localhost):" + getPort()).test(href) : href.indexOf(hostname + ":" + getPort());
            var absolute = /^https?:\/\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;
            if (!absolute) updateLink(links[i]);
        }
        cssTimeout = null;
    }, 50);
}
function hmrDownload(asset) {
    if (asset.type === "js") {
        if (typeof document !== "undefined") {
            let script = document.createElement("script");
            script.src = asset.url + "?t=" + Date.now();
            if (asset.outputFormat === "esmodule") script.type = "module";
            return new Promise((resolve, reject)=>{
                var _document$head;
                script.onload = ()=>resolve(script);
                script.onerror = reject;
                (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);
            });
        } else if (typeof importScripts === "function") {
            // Worker scripts
            if (asset.outputFormat === "esmodule") return import(asset.url + "?t=" + Date.now());
            else return new Promise((resolve, reject)=>{
                try {
                    importScripts(asset.url + "?t=" + Date.now());
                    resolve();
                } catch (err) {
                    reject(err);
                }
            });
        }
    }
}
async function hmrApplyUpdates(assets) {
    global.parcelHotUpdate = Object.create(null);
    let scriptsToRemove;
    try {
        // If sourceURL comments aren't supported in eval, we need to load
        // the update from the dev server over HTTP so that stack traces
        // are correct in errors/logs. This is much slower than eval, so
        // we only do it if needed (currently just Safari).
        // https://bugs.webkit.org/show_bug.cgi?id=137297
        // This path is also taken if a CSP disallows eval.
        if (!supportsSourceURL) {
            let promises = assets.map((asset)=>{
                var _hmrDownload;
                return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch((err)=>{
                    // Web extension fix
                    if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != "undefined" && global instanceof ServiceWorkerGlobalScope) {
                        extCtx.runtime.reload();
                        return;
                    }
                    throw err;
                });
            });
            scriptsToRemove = await Promise.all(promises);
        }
        assets.forEach(function(asset) {
            hmrApply(module.bundle.root, asset);
        });
    } finally{
        delete global.parcelHotUpdate;
        if (scriptsToRemove) scriptsToRemove.forEach((script)=>{
            if (script) {
                var _document$head2;
                (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);
            }
        });
    }
}
function hmrApply(bundle /*: ParcelRequire */ , asset /*:  HMRAsset */ ) {
    var modules = bundle.modules;
    if (!modules) return;
    if (asset.type === "css") reloadCSS();
    else if (asset.type === "js") {
        let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];
        if (deps) {
            if (modules[asset.id]) {
                // Remove dependencies that are removed and will become orphaned.
                // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.
                let oldDeps = modules[asset.id][1];
                for(let dep in oldDeps)if (!deps[dep] || deps[dep] !== oldDeps[dep]) {
                    let id = oldDeps[dep];
                    let parents = getParents(module.bundle.root, id);
                    if (parents.length === 1) hmrDelete(module.bundle.root, id);
                }
            }
            if (supportsSourceURL) // Global eval. We would use `new Function` here but browser
            // support for source maps is better with eval.
            (0, eval)(asset.output);
            // $FlowFixMe
            let fn = global.parcelHotUpdate[asset.id];
            modules[asset.id] = [
                fn,
                deps
            ];
        } else if (bundle.parent) hmrApply(bundle.parent, asset);
    }
}
function hmrDelete(bundle, id) {
    let modules = bundle.modules;
    if (!modules) return;
    if (modules[id]) {
        // Collect dependencies that will become orphaned when this module is deleted.
        let deps = modules[id][1];
        let orphans = [];
        for(let dep in deps){
            let parents = getParents(module.bundle.root, deps[dep]);
            if (parents.length === 1) orphans.push(deps[dep]);
        }
        // Delete the module. This must be done before deleting dependencies in case of circular dependencies.
        delete modules[id];
        delete bundle.cache[id];
        // Now delete the orphans.
        orphans.forEach((id)=>{
            hmrDelete(module.bundle.root, id);
        });
    } else if (bundle.parent) hmrDelete(bundle.parent, id);
}
function hmrAcceptCheck(bundle /*: ParcelRequire */ , id /*: string */ , depsByBundle /*: ?{ [string]: { [string]: string } }*/ ) {
    if (hmrAcceptCheckOne(bundle, id, depsByBundle)) return true;
    // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.
    let parents = getParents(module.bundle.root, id);
    let accepted = false;
    while(parents.length > 0){
        let v = parents.shift();
        let a = hmrAcceptCheckOne(v[0], v[1], null);
        if (a) // If this parent accepts, stop traversing upward, but still consider siblings.
        accepted = true;
        else {
            // Otherwise, queue the parents in the next level upward.
            let p = getParents(module.bundle.root, v[1]);
            if (p.length === 0) {
                // If there are no parents, then we've reached an entry without accepting. Reload.
                accepted = false;
                break;
            }
            parents.push(...p);
        }
    }
    return accepted;
}
function hmrAcceptCheckOne(bundle /*: ParcelRequire */ , id /*: string */ , depsByBundle /*: ?{ [string]: { [string]: string } }*/ ) {
    var modules = bundle.modules;
    if (!modules) return;
    if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {
        // If we reached the root bundle without finding where the asset should go,
        // there's nothing to do. Mark as "accepted" so we don't reload the page.
        if (!bundle.parent) return true;
        return hmrAcceptCheck(bundle.parent, id, depsByBundle);
    }
    if (checkedAssets[id]) return true;
    checkedAssets[id] = true;
    var cached = bundle.cache[id];
    assetsToDispose.push([
        bundle,
        id
    ]);
    if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {
        assetsToAccept.push([
            bundle,
            id
        ]);
        return true;
    }
}
function hmrDispose(bundle /*: ParcelRequire */ , id /*: string */ ) {
    var cached = bundle.cache[id];
    bundle.hotData[id] = {};
    if (cached && cached.hot) cached.hot.data = bundle.hotData[id];
    if (cached && cached.hot && cached.hot._disposeCallbacks.length) cached.hot._disposeCallbacks.forEach(function(cb) {
        cb(bundle.hotData[id]);
    });
    delete bundle.cache[id];
}
function hmrAccept(bundle /*: ParcelRequire */ , id /*: string */ ) {
    // Execute the module.
    bundle(id);
    // Run the accept callbacks in the new version of the module.
    var cached = bundle.cache[id];
    if (cached && cached.hot && cached.hot._acceptCallbacks.length) cached.hot._acceptCallbacks.forEach(function(cb) {
        var assetsToAlsoAccept = cb(function() {
            return getParents(module.bundle.root, id);
        });
        if (assetsToAlsoAccept && assetsToAccept.length) {
            assetsToAlsoAccept.forEach(function(a) {
                hmrDispose(a[0], a[1]);
            });
            // $FlowFixMe[method-unbinding]
            assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);
        }
    });
}

},{}],"h7u1C":[function(require,module,exports) {
var _mappedinJs = require("@mappedin/mappedin-js");
var _mappedinCss = require("@mappedin/mappedin-js/lib/mappedin.css");
var _stylesCss = require("./styles.css");
// See Trial API key Terms and Conditions
// https://developer.mappedin.com/guides/api-keys
const options = {
    venue: "mappedin-demo-mall",
    clientId: "5eab30aa91b055001a68e996",
    clientSecret: "RJyRXKcryCMy4erZqqCbuB1NbR66QTGNXVE0x3Pg6oCIlUR1"
};
let blueDotPosition = {
    timestamp: Date.now(),
    coords: {
        latitude: 43.51913063428935,
        longitude: -80.54104173445346,
        accuracy: 4
    }
};
const positionUpdater = new (0, _mappedinJs.PositionUpdater)();
const sectionNames = [
    "Grocery",
    "Produce",
    "Bakery",
    "Dairy",
    "Meat & Seafood",
    "Household Essentials",
    "Electronics",
    "Clothing",
    "Toys",
    "Automotive",
    "Home & Garden",
    "Pharmacy",
    "Beauty",
    "Health & Wellness",
    "Sports & Outdoors",
    "Furniture",
    "Baby",
    "Pets",
    "Jewelry",
    "Stationery",
    "Crafts & Fabrics",
    "Shoes",
    "Appliances",
    "Books & Magazines",
    "Luggage",
    "Seasonal",
    "Hardware",
    "Office Supplies",
    "Musical Instruments",
    "Optical",
    "Photo Center",
    "Auto Care Center",
    "Tire & Lube",
    "Outdoor Living",
    "Wireless Services",
    "Cleaning Supplies",
    "Kitchenware",
    "Storage & Organization",
    "Patio & Garden Furniture",
    "Rugs & Mats",
    "Curtains & Blinds",
    "Bedding",
    "Mattresses",
    "Lighting",
    "Small Kitchen Appliances",
    "Large Appliances",
    "Air Conditioners",
    "Heaters",
    "Fans",
    "Vacuums",
    "Floor Care",
    "Laundry",
    "Home Decor",
    "Wall Art",
    "Mirrors",
    "Clocks",
    "Furniture Sets",
    "Living Room Furniture",
    "Bedroom Furniture",
    "Office Furniture",
    "Kitchen Furniture",
    "Storage Furniture",
    "Baby Furniture",
    "Kids Furniture",
    "Fitness Equipment",
    "Camping Gear",
    "Sports Apparel",
    "Sports Equipment",
    "Outdoor Furniture",
    "Grills & Outdoor Cooking",
    "Pool Supplies",
    "Lawn Care",
    "Garden Tools",
    "Planters",
    "Seeds & Bulbs",
    "Fertilizers",
    "Pest Control",
    "Bird Feeders",
    "Pet Food",
    "Pet Supplies",
    "Pet Toys",
    "Pet Grooming",
    "Pet Health",
    "Cat Litter",
    "Cat Food",
    "Dog Food",
    "Dog Toys",
    "Dog Beds",
    "Cat Beds",
    "Bird Cages",
    "Fish Tanks",
    "Aquarium Supplies",
    "Small Animal Supplies",
    "Bird Food",
    "Reptile Supplies",
    "Animal Health",
    "Health Care",
    "Personal Care",
    "Hair Care",
    "Skin Care",
    "Oral Care",
    "Bath & Body",
    "Men's Grooming",
    "Women's Health",
    "First Aid",
    "Pain Relief",
    "Cold & Flu",
    "Vitamins & Supplements",
    "Weight Loss",
    "Digestive Health",
    "Allergy Relief",
    "Sleep Aids",
    "Wellness Products",
    "Dietary Supplements",
    "Medical Supplies",
    "Feminine Hygiene",
    "Men's Health",
    "Baby Care",
    "Diapers & Wipes",
    "Baby Food",
    "Baby Formula",
    "Nursing & Feeding",
    "Baby Health & Safety",
    "Baby Toys",
    "Baby Furniture",
    "Maternity",
    "Infant Care",
    "Toddler Care",
    "Children's Medicine",
    "Family Health",
    "Weight Management",
    "Healthy Eating",
    "Sports Nutrition",
    "Dietary Foods",
    "Gluten-Free Foods",
    "Organic Foods",
    "Snacks",
    "Beverages",
    "Canned Goods",
    "Frozen Foods",
    "Dairy Products",
    "Meat",
    "Seafood",
    "Produce",
    "Bakery Items",
    "Bread",
    "Pastries",
    "Desserts",
    "Cakes",
    "Cookies",
    "Crackers",
    "Chips",
    "Candy",
    "Nuts & Seeds",
    "Baking Ingredients",
    "Spices & Seasonings",
    "Cooking Oils",
    "Sauces & Dressings",
    "Condiments",
    "Pasta & Rice",
    "Beans & Grains",
    "Soups & Broths",
    "Breakfast Foods",
    "Cereal",
    "Oatmeal",
    "Pancake Mixes",
    "Syrups",
    "Coffee & Tea",
    "Juice",
    "Soft Drinks",
    "Water",
    "Sports Drinks",
    "Energy Drinks",
    "Alcoholic Beverages",
    "Wine",
    "Beer",
    "Spirits",
    "Household Cleaning",
    "Paper Products",
    "Trash Bags",
    "Laundry Detergent",
    "Fabric Softener",
    "Dish Soap",
    "Cleaning Tools",
    "Mops & Brooms",
    "Sponges & Scrubbers",
    "Cleaning Cloths",
    "All-Purpose Cleaners",
    "Bathroom Cleaners",
    "Kitchen Cleaners",
    "Air Fresheners",
    "Pest Control",
    "Bug Sprays",
    "Rodent Control",
    "Cleaning Solutions",
    "Storage Bins",
    "Shelving Units",
    "Closet Organizers",
    "Storage Bags",
    "Laundry Baskets",
    "Home Organization",
    "Drawer Organizers",
    "Hangers",
    "Garment Bags",
    "Utility Carts",
    "Tool Storage",
    "Workbenches",
    "Tool Sets",
    "Power Tools",
    "Hand Tools",
    "Paint Supplies",
    "Hardware",
    "Fasteners",
    "Safety Gear",
    "Workwear",
    "Building Materials",
    "Home Improvement",
    "Plumbing Supplies",
    "Electrical Supplies",
    "Light Bulbs",
    "Batteries",
    "Extension Cords",
    "Electrical Cords",
    "Home Security",
    "Smoke Detectors",
    "Carbon Monoxide Detectors",
    "Fire Extinguishers",
    "Locks & Keys",
    "Door Hardware",
    "Window Hardware",
    "Lock Sets",
    "Door Closers",
    "Window Blinds",
    "Curtains",
    "Curtain Rods",
    "Wall Decor",
    "Picture Frames",
    "Wall Tapestries",
    "Rugs",
    "Mats",
    "Throw Pillows",
    "Blankets",
    "Bed Linens",
    "Comforters",
    "Pillow Cases",
    "Sheets",
    "Mattress Pads",
    "Mattress Protectors",
    "Bed Skirts",
    "Bedroom Decor"
];
async function init() {
    //Wait while the venue is downloaded.
    const venue = await (0, _mappedinJs.getVenue)(options);
    const alphabeticalLocations = venue.locations.filter((location)=>location.type === "tenant").sort((a, b)=>a.name < b.name ? -1 : 1);
    // Check that the list of section names is not longer than the number of locations
    if (sectionNames.length > alphabeticalLocations.length) console.warn("Not enough locations to rename all sections.");
    // Update the names of the sections using a for loop
    for(let i = 0; i < alphabeticalLocations.length; i++)if (i < sectionNames.length) alphabeticalLocations[i].name = sectionNames[i];
    else // If there are more locations than section names, use a default name or repeat names
    alphabeticalLocations[i].name = `Section ${i + 1}`;
    //Display the default map in the app div.
    const mapView = await (0, _mappedinJs.showVenue)(document.getElementById("app"), venue, {
        multiBufferRendering: true
    });
    mapView.addInteractivePolygonsForAllLocations(); // if user hovers over a polygon , it will indicate that it's clickable
    //Enable Flat Labels for all locations.
    mapView.FlatLabels.labelAllLocations();
    // Implementing manual search functionality
    const getDirections = async ()=>{
        const sourceInput = document.getElementById("sourceLocation").value.toLowerCase();
        const destinationInput = document.getElementById("destinationLocation").value.toLowerCase();
        const startLocation = alphabeticalLocations.find((location)=>location.name.toLowerCase().includes(sourceInput));
        const endLocation = alphabeticalLocations.find((location)=>location.name.toLowerCase().includes(destinationInput));
        if (!startLocation || !endLocation) {
            alert("Locations not found, please enter valid locations.");
            return;
        }
        const directions = startLocation.directionsTo(endLocation, {
            accessible: false
        });
        mapView.Journey.clear(); // Clear previous directions if any
        mapView.Journey.draw(directions, {
            pathOptions: {
                nearRadius: 2.5,
                farRadius: 2.5
            }
        });
        //Set the camera state to follow the user's location on the map,
        //marked by a blue dot.
        mapView.setState((0, _mappedinJs.STATE).FOLLOW);
        //Enable the showing the user's location on the map as a Blue Dot.
        //A positionUpdater is passed, which will provide the latitude and
        //longtitude coordinates used to locate the user.
        mapView.BlueDot.enable({
            allowImplicitFloorLevel: true,
            smoothing: false,
            positionUpdater: positionUpdater,
            useRotationMode: true,
            showBearing: true
        });
        //Capture when the user clicks on the map.
        //The position that was clicked on is passed into the on method.
        mapView.on((0, _mappedinJs.E_SDK_EVENT).CLICK, ({ position })=>{
            //Update the Blue Dot's position to match where the user clicked.
            //In a real app the user's position would be supplied by a device
            //using an indoor positioning system (IPS). To allow the Blue Dot's
            //position to move in this example, cliking on the map is used
            //to simulate user movement.
            console.log(position);
            blueDotPosition.coords = {
                ...blueDotPosition.coords,
                ...position
            };
            //Call the positionUpdater to trigger an update of the Blue Dot's position.
            positionUpdater.update(blueDotPosition);
        });
        //Set the user's initial position to coordinates of the
        //start point, Microsoft.
        blueDotPosition.coords = {
            ...blueDotPosition.coords,
            latitude: directions.instructions[0].node.lat,
            longitude: directions.instructions[0].node.lon
        };
        //Call the positionUpdater to trigger an update of the Blue Dot's position.
        console.log(directions.instructions[0].node.lon);
        positionUpdater.update(blueDotPosition);
    };
    document.getElementById("getDirections").onclick = getDirections;
}
init();

},{"@mappedin/mappedin-js":"hNbmx","@mappedin/mappedin-js/lib/mappedin.css":"4amsj","./styles.css":"lW6qc"}],"hNbmx":[function(require,module,exports) {
var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
parcelHelpers.defineInteropFlag(exports);
parcelHelpers.export(exports, "ACTION_TYPE", ()=>So);
parcelHelpers.export(exports, "ANIMATION_TWEENS", ()=>fn);
parcelHelpers.export(exports, "AssetManager", ()=>Sa);
parcelHelpers.export(exports, "AzureOutdoorContextProvider", ()=>mw);
parcelHelpers.export(exports, "BEARING_TYPE", ()=>Md);
parcelHelpers.export(exports, "BundleAssetManager", ()=>d1);
parcelHelpers.export(exports, "CAMERA_EASING_MODE", ()=>Mp);
parcelHelpers.export(exports, "COLLISION_RANKING_TIERS", ()=>Pa);
parcelHelpers.export(exports, "CustomerAnalytics", ()=>kn);
parcelHelpers.export(exports, "E_BLUEDOT_EVENT", ()=>r1);
parcelHelpers.export(exports, "E_BLUEDOT_MARKER_STATE", ()=>i1);
parcelHelpers.export(exports, "E_BLUEDOT_STATE", ()=>Pu);
parcelHelpers.export(exports, "E_BLUEDOT_STATE_REASON", ()=>t1);
parcelHelpers.export(exports, "E_CAMERA_DIRECTION", ()=>a1);
parcelHelpers.export(exports, "E_CAMERA_EVENT", ()=>Ep);
parcelHelpers.export(exports, "E_MAP_CHANGED_REASON", ()=>wp);
parcelHelpers.export(exports, "E_SDK_EVENT", ()=>n1);
parcelHelpers.export(exports, "E_SDK_LOG_LEVEL", ()=>L2);
parcelHelpers.export(exports, "GEOLOCATION_STATUS", ()=>y4);
parcelHelpers.export(exports, "GET_VENUE_EVENT", ()=>_d);
parcelHelpers.export(exports, "MAP_RENDER_MODE", ()=>Ea);
parcelHelpers.export(exports, "MARKER_ANCHOR", ()=>Tp);
parcelHelpers.export(exports, "Mappedin", ()=>cn);
parcelHelpers.export(exports, "MappedinCategory", ()=>Ta);
parcelHelpers.export(exports, "MappedinCollectionType", ()=>Gi);
parcelHelpers.export(exports, "MappedinCoordinate", ()=>dn);
parcelHelpers.export(exports, "MappedinDestinationSet", ()=>on);
parcelHelpers.export(exports, "MappedinDirections", ()=>ua);
parcelHelpers.export(exports, "MappedinEvent", ()=>Ro);
parcelHelpers.export(exports, "MappedinLocation", ()=>Fn);
parcelHelpers.export(exports, "MappedinLocationState", ()=>ru);
parcelHelpers.export(exports, "MappedinMap", ()=>Cs);
parcelHelpers.export(exports, "MappedinMapGroup", ()=>ko);
parcelHelpers.export(exports, "MappedinNavigatable", ()=>Dn);
parcelHelpers.export(exports, "MappedinNode", ()=>di);
parcelHelpers.export(exports, "MappedinPolygon", ()=>Un);
parcelHelpers.export(exports, "MappedinRankings", ()=>No);
parcelHelpers.export(exports, "MappedinVenue", ()=>Ma);
parcelHelpers.export(exports, "MappedinVortex", ()=>qo);
parcelHelpers.export(exports, "OfflineSearch", ()=>Dd);
parcelHelpers.export(exports, "OpenStreetMapOutdoorContext", ()=>gw);
parcelHelpers.export(exports, "PositionUpdater", ()=>dv);
parcelHelpers.export(exports, "SAFE_AREA_INSET_TYPE", ()=>b4);
parcelHelpers.export(exports, "STACKED_MAPS_STATE", ()=>Go);
parcelHelpers.export(exports, "STATE", ()=>Su);
parcelHelpers.export(exports, "TILE_RENDER_MODES", ()=>QM);
parcelHelpers.export(exports, "__enableTileManager", ()=>EMe);
parcelHelpers.export(exports, "__showWatermark", ()=>MMe);
parcelHelpers.export(exports, "downloadBundle", ()=>AF);
parcelHelpers.export(exports, "downloadVenueBundleMVF", ()=>dS);
parcelHelpers.export(exports, "getVenue", ()=>uS);
parcelHelpers.export(exports, "getVenueBundle", ()=>cS);
parcelHelpers.export(exports, "getVenueBundleURL", ()=>hS);
parcelHelpers.export(exports, "getVenueMVF", ()=>MF);
parcelHelpers.export(exports, "getVenueMaker", ()=>wF);
parcelHelpers.export(exports, "hydrateVenue", ()=>_F);
parcelHelpers.export(exports, "labelThemes", ()=>s1);
parcelHelpers.export(exports, "setAssetManager", ()=>$M);
parcelHelpers.export(exports, "setFetchFn", ()=>xF);
parcelHelpers.export(exports, "setLoggerLevel", ()=>Xw);
parcelHelpers.export(exports, "showVenue", ()=>gMe);
var _chunk4XLXKB34Js = require("./chunk-4XLXKB34.js");
var _chunkA5C75TI6Js = require("./chunk-A5C75TI6.js");
var _chunkZRT45YCMJs = require("./chunk-ZRT45YCM.js");
var global = arguments[3];
var Qm = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)(), function(i, n) {
        "use strict";
        var r = "function", o = "undefined", s = "object", a = "string", h = "model", c = "name", u = "type", d = "vendor", p = "version", f = "architecture", m = "console", g = "mobile", v = "tablet", y = "smarttv", b = "wearable", w = "embedded", A = "Amazon", x = "Apple", E = "ASUS", M = "BlackBerry", q = "Browser", C = "Chrome", T = "Firefox", P = "Google", S = "Huawei", I = "LG", O = "Microsoft", D = "Motorola", _ = "Opera", L = "Samsung", B = "Sony", R = "Xiaomi", N = "Zebra", k = "Facebook", F = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            var i = {};
            for(var n in e)t[n] && t[n].length % 2 == 0 ? i[n] = t[n].concat(e[n]) : i[n] = e[n];
            return i;
        }, "extend"), z = (0, _chunkZRT45YCMJs.a)(function(e) {
            for(var t = {}, i = 0; i < e.length; i++)t[e[i].toUpperCase()] = e[i];
            return t;
        }, "enumerize"), j = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            return typeof e === a && -1 !== U(t).indexOf(U(e));
        }, "has"), U = (0, _chunkZRT45YCMJs.a)(function(e) {
            return e.toLowerCase();
        }, "lowerize"), V = (0, _chunkZRT45YCMJs.a)(function(e) {
            return typeof e === a ? e.replace(/[^\d\.]/g, "").split(".")[0] : n;
        }, "majorize"), W = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            if (typeof e === a) return e = e.replace(/^\s\s*/, "").replace(/\s\s*$/, ""), typeof t === o ? e : e.substring(0, 275);
        }, "trim"), G = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            for(var i, o, a, l, h, c, u = 0; u < t.length && !h;){
                var d = t[u], p = t[u + 1];
                for(i = o = 0; i < d.length && !h;)if (h = d[i++].exec(e)) for(a = 0; a < p.length; a++)c = h[++o], typeof (l = p[a]) === s && l.length > 0 ? 2 === l.length ? typeof l[1] == r ? this[l[0]] = l[1].call(this, c) : this[l[0]] = l[1] : 3 === l.length ? typeof l[1] !== r || l[1].exec && l[1].test ? this[l[0]] = c ? c.replace(l[1], l[2]) : n : this[l[0]] = c ? l[1].call(this, c, l[2]) : n : 4 === l.length && (this[l[0]] = c ? l[3].call(this, c.replace(l[1], l[2])) : n) : this[l] = c || n;
                u += 2;
            }
        }, "rgxMapper"), H = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            for(var i in t)if (typeof t[i] === s && t[i].length > 0) {
                for(var r = 0; r < t[i].length; r++)if (j(t[i][r], e)) return "?" === i ? n : i;
            } else if (j(t[i], e)) return "?" === i ? n : i;
            return e;
        }, "strMapper"), Y = {
            ME: "4.90",
            "NT 3.11": "NT3.51",
            "NT 4.0": "NT4.0",
            2e3: "NT 5.0",
            XP: [
                "NT 5.1",
                "NT 5.2"
            ],
            Vista: "NT 6.0",
            7: "NT 6.1",
            8: "NT 6.2",
            8.1: "NT 6.3",
            10: [
                "NT 6.4",
                "NT 10.0"
            ],
            RT: "ARM"
        }, X = {
            browser: [
                [
                    /\b(?:crmo|crios)\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "Chrome"
                    ]
                ],
                [
                    /edg(?:e|ios|a)?\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "Edge"
                    ]
                ],
                [
                    /(opera mini)\/([-\w\.]+)/i,
                    /(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,
                    /(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /opios[\/ ]+([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        _ + " Mini"
                    ]
                ],
                [
                    /\bopr\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        _
                    ]
                ],
                [
                    /(kindle)\/([\w\.]+)/i,
                    /(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,
                    /(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,
                    /(ba?idubrowser)[\/ ]?([\w\.]+)/i,
                    /(?:ms|\()(ie) ([\w\.]+)/i,
                    /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,
                    /(weibo)__([\d\.]+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "UC" + q
                    ]
                ],
                [
                    /\bqbcore\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "WeChat(Win) Desktop"
                    ]
                ],
                [
                    /micromessenger\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "WeChat"
                    ]
                ],
                [
                    /konqueror\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "Konqueror"
                    ]
                ],
                [
                    /trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i
                ],
                [
                    p,
                    [
                        c,
                        "IE"
                    ]
                ],
                [
                    /yabrowser\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "Yandex"
                    ]
                ],
                [
                    /(avast|avg)\/([\w\.]+)/i
                ],
                [
                    [
                        c,
                        /(.+)/,
                        "$1 Secure " + q
                    ],
                    p
                ],
                [
                    /\bfocus\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        T + " Focus"
                    ]
                ],
                [
                    /\bopt\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        _ + " Touch"
                    ]
                ],
                [
                    /coc_coc\w+\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "Coc Coc"
                    ]
                ],
                [
                    /dolfin\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "Dolphin"
                    ]
                ],
                [
                    /coast\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        _ + " Coast"
                    ]
                ],
                [
                    /miuibrowser\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "MIUI " + q
                    ]
                ],
                [
                    /fxios\/([-\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        T
                    ]
                ],
                [
                    /\bqihu|(qi?ho?o?|360)browser/i
                ],
                [
                    [
                        c,
                        "360 " + q
                    ]
                ],
                [
                    /(oculus|samsung|sailfish)browser\/([\w\.]+)/i
                ],
                [
                    [
                        c,
                        /(.+)/,
                        "$1 " + q
                    ],
                    p
                ],
                [
                    /(comodo_dragon)\/([\w\.]+)/i
                ],
                [
                    [
                        c,
                        /_/g,
                        " "
                    ],
                    p
                ],
                [
                    /(electron)\/([\w\.]+) safari/i,
                    /(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,
                    /m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /(metasr)[\/ ]?([\w\.]+)/i,
                    /(lbbrowser)/i
                ],
                [
                    c
                ],
                [
                    /((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i
                ],
                [
                    [
                        c,
                        k
                    ],
                    p
                ],
                [
                    /safari (line)\/([\w\.]+)/i,
                    /\b(line)\/([\w\.]+)\/iab/i,
                    /(chromium|instagram)[\/ ]([-\w\.]+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /\bgsa\/([\w\.]+) .*safari\//i
                ],
                [
                    p,
                    [
                        c,
                        "GSA"
                    ]
                ],
                [
                    /headlesschrome(?:\/([\w\.]+)| )/i
                ],
                [
                    p,
                    [
                        c,
                        C + " Headless"
                    ]
                ],
                [
                    / wv\).+(chrome)\/([\w\.]+)/i
                ],
                [
                    [
                        c,
                        C + " WebView"
                    ],
                    p
                ],
                [
                    /droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i
                ],
                [
                    p,
                    [
                        c,
                        "Android " + q
                    ]
                ],
                [
                    /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /version\/([\w\.]+) .*mobile\/\w+ (safari)/i
                ],
                [
                    p,
                    [
                        c,
                        "Mobile Safari"
                    ]
                ],
                [
                    /version\/([\w\.]+) .*(mobile ?safari|safari)/i
                ],
                [
                    p,
                    c
                ],
                [
                    /webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i
                ],
                [
                    c,
                    [
                        p,
                        H,
                        {
                            "1.0": "/8",
                            1.2: "/1",
                            1.3: "/3",
                            "2.0": "/412",
                            "2.0.2": "/416",
                            "2.0.3": "/417",
                            "2.0.4": "/419",
                            "?": "/"
                        }
                    ]
                ],
                [
                    /(webkit|khtml)\/([\w\.]+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /(navigator|netscape\d?)\/([-\w\.]+)/i
                ],
                [
                    [
                        c,
                        "Netscape"
                    ],
                    p
                ],
                [
                    /mobile vr; rv:([\w\.]+)\).+firefox/i
                ],
                [
                    p,
                    [
                        c,
                        T + " Reality"
                    ]
                ],
                [
                    /ekiohf.+(flow)\/([\w\.]+)/i,
                    /(swiftfox)/i,
                    /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,
                    /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,
                    /(firefox)\/([\w\.]+)/i,
                    /(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,
                    /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,
                    /(links) \(([\w\.]+)/i
                ],
                [
                    c,
                    p
                ]
            ],
            cpu: [
                [
                    /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i
                ],
                [
                    [
                        f,
                        "amd64"
                    ]
                ],
                [
                    /(ia32(?=;))/i
                ],
                [
                    [
                        f,
                        U
                    ]
                ],
                [
                    /((?:i[346]|x)86)[;\)]/i
                ],
                [
                    [
                        f,
                        "ia32"
                    ]
                ],
                [
                    /\b(aarch64|arm(v?8e?l?|_?64))\b/i
                ],
                [
                    [
                        f,
                        "arm64"
                    ]
                ],
                [
                    /\b(arm(?:v[67])?ht?n?[fl]p?)\b/i
                ],
                [
                    [
                        f,
                        "armhf"
                    ]
                ],
                [
                    /windows (ce|mobile); ppc;/i
                ],
                [
                    [
                        f,
                        "arm"
                    ]
                ],
                [
                    /((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i
                ],
                [
                    [
                        f,
                        /ower/,
                        "",
                        U
                    ]
                ],
                [
                    /(sun4\w)[;\)]/i
                ],
                [
                    [
                        f,
                        "sparc"
                    ]
                ],
                [
                    /((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i
                ],
                [
                    [
                        f,
                        U
                    ]
                ]
            ],
            device: [
                [
                    /\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i
                ],
                [
                    h,
                    [
                        d,
                        L
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,
                    /samsung[- ]([-\w]+)/i,
                    /sec-(sgh\w+)/i
                ],
                [
                    h,
                    [
                        d,
                        L
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /((ipod|iphone)\d+,\d+)/i
                ],
                [
                    h,
                    [
                        d,
                        x
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(ipad\d+,\d+)/i
                ],
                [
                    h,
                    [
                        d,
                        x
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\((ip(?:hone|od)[\w ]*);/i
                ],
                [
                    h,
                    [
                        d,
                        x
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\((ipad);[-\w\),; ]+apple/i,
                    /applecoremedia\/[\w\.]+ \((ipad)/i,
                    /\b(ipad)\d\d?,\d\d?[;\]].+ios/i
                ],
                [
                    h,
                    [
                        d,
                        x
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i
                ],
                [
                    h,
                    [
                        d,
                        S
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(?:huawei|honor)([-\w ]+)[;\)]/i,
                    /\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i
                ],
                [
                    h,
                    [
                        d,
                        S
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(poco[\w ]+)(?: bui|\))/i,
                    /\b; (\w+) build\/hm\1/i,
                    /\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,
                    /\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,
                    /\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i
                ],
                [
                    [
                        h,
                        /_/g,
                        " "
                    ],
                    [
                        d,
                        R
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i
                ],
                [
                    [
                        h,
                        /_/g,
                        " "
                    ],
                    [
                        d,
                        R
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /; (\w+) bui.+ oppo/i,
                    /\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i
                ],
                [
                    h,
                    [
                        d,
                        "OPPO"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /vivo (\w+)(?: bui|\))/i,
                    /\b(v[12]\d{3}\w?[at])(?: bui|;)/i
                ],
                [
                    h,
                    [
                        d,
                        "Vivo"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(rmx[12]\d{3})(?: bui|;|\))/i
                ],
                [
                    h,
                    [
                        d,
                        "Realme"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,
                    /\bmot(?:orola)?[- ](\w*)/i,
                    /((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i
                ],
                [
                    h,
                    [
                        d,
                        D
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(mz60\d|xoom[2 ]{0,2}) build\//i
                ],
                [
                    h,
                    [
                        d,
                        D
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i
                ],
                [
                    h,
                    [
                        d,
                        I
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,
                    /\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,
                    /\blg-?([\d\w]+) bui/i
                ],
                [
                    h,
                    [
                        d,
                        I
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(ideatab[-\w ]+)/i,
                    /lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i
                ],
                [
                    h,
                    [
                        d,
                        "Lenovo"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(?:maemo|nokia).*(n900|lumia \d+)/i,
                    /nokia[-_ ]?([-\w\.]*)/i
                ],
                [
                    [
                        h,
                        /_/g,
                        " "
                    ],
                    [
                        d,
                        "Nokia"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(pixel c)\b/i
                ],
                [
                    h,
                    [
                        d,
                        P
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i
                ],
                [
                    h,
                    [
                        d,
                        P
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i
                ],
                [
                    h,
                    [
                        d,
                        B
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /sony tablet [ps]/i,
                    /\b(?:sony)?sgp\w+(?: bui|\))/i
                ],
                [
                    [
                        h,
                        "Xperia Tablet"
                    ],
                    [
                        d,
                        B
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    / (kb2005|in20[12]5|be20[12][59])\b/i,
                    /(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i
                ],
                [
                    h,
                    [
                        d,
                        "OnePlus"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(alexa)webm/i,
                    /(kf[a-z]{2}wi)( bui|\))/i,
                    /(kf[a-z]+)( bui|\)).+silk\//i
                ],
                [
                    h,
                    [
                        d,
                        A
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i
                ],
                [
                    [
                        h,
                        /(.+)/g,
                        "Fire Phone $1"
                    ],
                    [
                        d,
                        A
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(playbook);[-\w\),; ]+(rim)/i
                ],
                [
                    h,
                    d,
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b((?:bb[a-f]|st[hv])100-\d)/i,
                    /\(bb10; (\w+)/i
                ],
                [
                    h,
                    [
                        d,
                        M
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i
                ],
                [
                    h,
                    [
                        d,
                        E
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    / (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i
                ],
                [
                    h,
                    [
                        d,
                        E
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(nexus 9)/i
                ],
                [
                    h,
                    [
                        d,
                        "HTC"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,
                    /(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,
                    /(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i
                ],
                [
                    d,
                    [
                        h,
                        /_/g,
                        " "
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /droid.+; ([ab][1-7]-?[0178a]\d\d?)/i
                ],
                [
                    h,
                    [
                        d,
                        "Acer"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /droid.+; (m[1-5] note) bui/i,
                    /\bmz-([-\w]{2,})/i
                ],
                [
                    h,
                    [
                        d,
                        "Meizu"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(sh-?[altvz]?\d\d[a-ekm]?)/i
                ],
                [
                    h,
                    [
                        d,
                        "Sharp"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,
                    /(hp) ([\w ]+\w)/i,
                    /(asus)-?(\w+)/i,
                    /(microsoft); (lumia[\w ]+)/i,
                    /(lenovo)[-_ ]?([-\w]+)/i,
                    /(jolla)/i,
                    /(oppo) ?([\w ]+) bui/i
                ],
                [
                    d,
                    h,
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(archos) (gamepad2?)/i,
                    /(hp).+(touchpad(?!.+tablet)|tablet)/i,
                    /(kindle)\/([\w\.]+)/i,
                    /(nook)[\w ]+build\/(\w+)/i,
                    /(dell) (strea[kpr\d ]*[\dko])/i,
                    /(le[- ]+pan)[- ]+(\w{1,9}) bui/i,
                    /(trinity)[- ]*(t\d{3}) bui/i,
                    /(gigaset)[- ]+(q\w{1,9}) bui/i,
                    /(vodafone) ([\w ]+)(?:\)| bui)/i
                ],
                [
                    d,
                    h,
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(surface duo)/i
                ],
                [
                    h,
                    [
                        d,
                        O
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /droid [\d\.]+; (fp\du?)(?: b|\))/i
                ],
                [
                    h,
                    [
                        d,
                        "Fairphone"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(u304aa)/i
                ],
                [
                    h,
                    [
                        d,
                        "AT&T"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\bsie-(\w*)/i
                ],
                [
                    h,
                    [
                        d,
                        "Siemens"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(rct\w+) b/i
                ],
                [
                    h,
                    [
                        d,
                        "RCA"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(venue[\d ]{2,7}) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Dell"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(q(?:mv|ta)\w+) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Verizon"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Barnes & Noble"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(tm\d{3}\w+) b/i
                ],
                [
                    h,
                    [
                        d,
                        "NuVision"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(k88) b/i
                ],
                [
                    h,
                    [
                        d,
                        "ZTE"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(nx\d{3}j) b/i
                ],
                [
                    h,
                    [
                        d,
                        "ZTE"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(gen\d{3}) b.+49h/i
                ],
                [
                    h,
                    [
                        d,
                        "Swiss"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(zur\d{3}) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Swiss"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b((zeki)?tb.*\b) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Zeki"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b([yr]\d{2}) b/i,
                    /\b(dragon[- ]+touch |dt)(\w{5}) b/i
                ],
                [
                    [
                        d,
                        "Dragon Touch"
                    ],
                    h,
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(ns-?\w{0,9}) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Insignia"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b((nxa|next)-?\w{0,9}) b/i
                ],
                [
                    h,
                    [
                        d,
                        "NextBook"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i
                ],
                [
                    [
                        d,
                        "Voice"
                    ],
                    h,
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(lvtel\-)?(v1[12]) b/i
                ],
                [
                    [
                        d,
                        "LvTel"
                    ],
                    h,
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(ph-1) /i
                ],
                [
                    h,
                    [
                        d,
                        "Essential"
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /\b(v(100md|700na|7011|917g).*\b) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Envizen"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b(trio[-\w\. ]+) b/i
                ],
                [
                    h,
                    [
                        d,
                        "MachSpeed"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\btu_(1491) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Rotor"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(shield[\w ]+) b/i
                ],
                [
                    h,
                    [
                        d,
                        "Nvidia"
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(sprint) (\w+)/i
                ],
                [
                    d,
                    h,
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(kin\.[onetw]{3})/i
                ],
                [
                    [
                        h,
                        /\./g,
                        " "
                    ],
                    [
                        d,
                        O
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i
                ],
                [
                    h,
                    [
                        d,
                        N
                    ],
                    [
                        u,
                        v
                    ]
                ],
                [
                    /droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i
                ],
                [
                    h,
                    [
                        d,
                        N
                    ],
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(ouya)/i,
                    /(nintendo) ([wids3utch]+)/i
                ],
                [
                    d,
                    h,
                    [
                        u,
                        m
                    ]
                ],
                [
                    /droid.+; (shield) bui/i
                ],
                [
                    h,
                    [
                        d,
                        "Nvidia"
                    ],
                    [
                        u,
                        m
                    ]
                ],
                [
                    /(playstation [345portablevi]+)/i
                ],
                [
                    h,
                    [
                        d,
                        B
                    ],
                    [
                        u,
                        m
                    ]
                ],
                [
                    /\b(xbox(?: one)?(?!; xbox))[\); ]/i
                ],
                [
                    h,
                    [
                        d,
                        O
                    ],
                    [
                        u,
                        m
                    ]
                ],
                [
                    /smart-tv.+(samsung)/i
                ],
                [
                    d,
                    [
                        u,
                        y
                    ]
                ],
                [
                    /hbbtv.+maple;(\d+)/i
                ],
                [
                    [
                        h,
                        /^/,
                        "SmartTV"
                    ],
                    [
                        d,
                        L
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i
                ],
                [
                    [
                        d,
                        I
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /(apple) ?tv/i
                ],
                [
                    d,
                    [
                        h,
                        x + " TV"
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /crkey/i
                ],
                [
                    [
                        h,
                        C + "cast"
                    ],
                    [
                        d,
                        P
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /droid.+aft(\w)( bui|\))/i
                ],
                [
                    h,
                    [
                        d,
                        A
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /\(dtv[\);].+(aquos)/i
                ],
                [
                    h,
                    [
                        d,
                        "Sharp"
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /(bravia[\w- ]+) bui/i
                ],
                [
                    h,
                    [
                        d,
                        B
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,
                    /hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i
                ],
                [
                    [
                        d,
                        W
                    ],
                    [
                        h,
                        W
                    ],
                    [
                        u,
                        y
                    ]
                ],
                [
                    /\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i
                ],
                [
                    [
                        u,
                        y
                    ]
                ],
                [
                    /((pebble))app/i
                ],
                [
                    d,
                    h,
                    [
                        u,
                        b
                    ]
                ],
                [
                    /droid.+; (glass) \d/i
                ],
                [
                    h,
                    [
                        d,
                        P
                    ],
                    [
                        u,
                        b
                    ]
                ],
                [
                    /droid.+; (wt63?0{2,3})\)/i
                ],
                [
                    h,
                    [
                        d,
                        N
                    ],
                    [
                        u,
                        b
                    ]
                ],
                [
                    /(quest( 2)?)/i
                ],
                [
                    h,
                    [
                        d,
                        k
                    ],
                    [
                        u,
                        b
                    ]
                ],
                [
                    /(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i
                ],
                [
                    d,
                    [
                        u,
                        w
                    ]
                ],
                [
                    /droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i
                ],
                [
                    h,
                    [
                        u,
                        g
                    ]
                ],
                [
                    /droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i
                ],
                [
                    h,
                    [
                        u,
                        v
                    ]
                ],
                [
                    /\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i
                ],
                [
                    [
                        u,
                        v
                    ]
                ],
                [
                    /(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i
                ],
                [
                    [
                        u,
                        g
                    ]
                ],
                [
                    /(android[-\w\. ]{0,9});.+buil/i
                ],
                [
                    h,
                    [
                        d,
                        "Generic"
                    ]
                ]
            ],
            engine: [
                [
                    /windows.+ edge\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "EdgeHTML"
                    ]
                ],
                [
                    /webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "Blink"
                    ]
                ],
                [
                    /(presto)\/([\w\.]+)/i,
                    /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,
                    /ekioh(flow)\/([\w\.]+)/i,
                    /(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,
                    /(icab)[\/ ]([23]\.[\d\.]+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /rv\:([\w\.]{1,9})\b.+(gecko)/i
                ],
                [
                    p,
                    c
                ]
            ],
            os: [
                [
                    /microsoft (windows) (vista|xp)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /(windows) nt 6\.2; (arm)/i,
                    /(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,
                    /(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i
                ],
                [
                    c,
                    [
                        p,
                        H,
                        Y
                    ]
                ],
                [
                    /(win(?=3|9|n)|win 9x )([nt\d\.]+)/i
                ],
                [
                    [
                        c,
                        "Windows"
                    ],
                    [
                        p,
                        H,
                        Y
                    ]
                ],
                [
                    /ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,
                    /cfnetwork\/.+darwin/i
                ],
                [
                    [
                        p,
                        /_/g,
                        "."
                    ],
                    [
                        c,
                        "iOS"
                    ]
                ],
                [
                    /(mac os x) ?([\w\. ]*)/i,
                    /(macintosh|mac_powerpc\b)(?!.+haiku)/i
                ],
                [
                    [
                        c,
                        "Mac OS"
                    ],
                    [
                        p,
                        /_/g,
                        "."
                    ]
                ],
                [
                    /droid ([\w\.]+)\b.+(android[- ]x86)/i
                ],
                [
                    p,
                    c
                ],
                [
                    /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,
                    /(blackberry)\w*\/([\w\.]*)/i,
                    /(tizen|kaios)[\/ ]([\w\.]+)/i,
                    /\((series40);/i
                ],
                [
                    c,
                    p
                ],
                [
                    /\(bb(10);/i
                ],
                [
                    p,
                    [
                        c,
                        M
                    ]
                ],
                [
                    /(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i
                ],
                [
                    p,
                    [
                        c,
                        "Symbian"
                    ]
                ],
                [
                    /mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        T + " OS"
                    ]
                ],
                [
                    /web0s;.+rt(tv)/i,
                    /\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        "webOS"
                    ]
                ],
                [
                    /crkey\/([\d\.]+)/i
                ],
                [
                    p,
                    [
                        c,
                        C + "cast"
                    ]
                ],
                [
                    /(cros) [\w]+ ([\w\.]+\w)/i
                ],
                [
                    [
                        c,
                        "Chromium OS"
                    ],
                    p
                ],
                [
                    /(nintendo|playstation) ([wids345portablevuch]+)/i,
                    /(xbox); +xbox ([^\);]+)/i,
                    /\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,
                    /(mint)[\/\(\) ]?(\w*)/i,
                    /(mageia|vectorlinux)[; ]/i,
                    /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,
                    /(hurd|linux) ?([\w\.]*)/i,
                    /(gnu) ?([\w\.]*)/i,
                    /\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,
                    /(haiku) (\w+)/i
                ],
                [
                    c,
                    p
                ],
                [
                    /(sunos) ?([\w\.\d]*)/i
                ],
                [
                    [
                        c,
                        "Solaris"
                    ],
                    p
                ],
                [
                    /((?:open)?solaris)[-\/ ]?([\w\.]*)/i,
                    /(aix) ((\d)(?=\.|\)| )[\w\.])*/i,
                    /\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,
                    /(unix) ?([\w\.]*)/i
                ],
                [
                    c,
                    p
                ]
            ]
        }, Z = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            if (typeof e === s && (t = e, e = n), !(this instanceof Z)) return new Z(e, t).getResult();
            var r = e || (typeof i !== o && i.navigator && i.navigator.userAgent ? i.navigator.userAgent : ""), l = t ? F(X, t) : X;
            return this.getBrowser = function() {
                var e = {};
                return e[c] = n, e[p] = n, G.call(e, r, l.browser), e.major = V(e.version), e;
            }, this.getCPU = function() {
                var e = {};
                return e[f] = n, G.call(e, r, l.cpu), e;
            }, this.getDevice = function() {
                var e = {};
                return e[d] = n, e[h] = n, e[u] = n, G.call(e, r, l.device), e;
            }, this.getEngine = function() {
                var e = {};
                return e[c] = n, e[p] = n, G.call(e, r, l.engine), e;
            }, this.getOS = function() {
                var e = {};
                return e[c] = n, e[p] = n, G.call(e, r, l.os), e;
            }, this.getResult = function() {
                return {
                    ua: this.getUA(),
                    browser: this.getBrowser(),
                    engine: this.getEngine(),
                    os: this.getOS(),
                    device: this.getDevice(),
                    cpu: this.getCPU()
                };
            }, this.getUA = function() {
                return r;
            }, this.setUA = function(e) {
                return r = typeof e === a && e.length > 275 ? W(e, 275) : e, this;
            }, this.setUA(r), this;
        }, "UAParser");
        Z.VERSION = "0.7.31", Z.BROWSER = z([
            c,
            p,
            "major"
        ]), Z.CPU = z([
            f
        ]), Z.DEVICE = z([
            h,
            d,
            u,
            m,
            g,
            y,
            v,
            b,
            w
        ]), Z.ENGINE = Z.OS = z([
            c,
            p
        ]), typeof e !== o ? (typeof t !== o && t.exports && (e = t.exports = Z), e.UAParser = Z) : typeof define === r && define.amd ? define(function() {
            return Z;
        }) : typeof i !== o && (i.UAParser = Z);
        var Q = typeof i !== o && (i.jQuery || i.Zepto);
        if (Q && !Q.ua) {
            var J = new Z;
            Q.ua = J.getResult(), Q.ua.get = function() {
                return J.getUA();
            }, Q.ua.set = function(e) {
                J.setUA(e);
                var t = J.getResult();
                for(var i in t)Q.ua[i] = t[i];
            };
        }
    }("object" == typeof window ? window : e);
}), T6 = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)();
    var i = "__lodash_hash_undefined__", n = 9007199254740991, r = "[object Arguments]", o = "[object Array]", s = "[object Boolean]", a = "[object Date]", h = "[object Error]", c = "[object Function]", u = "[object Map]", d = "[object Number]", p = "[object Object]", f = "[object Promise]", m = "[object RegExp]", g = "[object Set]", v = "[object String]", y = "[object WeakMap]", w = "[object ArrayBuffer]", A = "[object DataView]", x = /^\[object .+?Constructor\]$/, E = /^(?:0|[1-9]\d*)$/, M = {};
    M["[object Float32Array]"] = M["[object Float64Array]"] = M["[object Int8Array]"] = M["[object Int16Array]"] = M["[object Int32Array]"] = M["[object Uint8Array]"] = M["[object Uint8ClampedArray]"] = M["[object Uint16Array]"] = M["[object Uint32Array]"] = !0, M[r] = M[o] = M[w] = M[s] = M[A] = M[a] = M[h] = M[c] = M[u] = M[d] = M[p] = M[m] = M[g] = M[v] = M[y] = !1;
    var q = "object" == typeof global && global && global.Object === Object && global, C = "object" == typeof self && self && self.Object === Object && self, T = q || C || Function("return this")(), P = "object" == typeof e && e && !e.nodeType && e, S = P && "object" == typeof t && t && !t.nodeType && t, I = S && S.exports === P, O = I && q.process, D = function() {
        try {
            return O && O.binding && O.binding("util");
        } catch  {}
    }(), _ = D && D.isTypedArray;
    function L(e, t) {
        for(var i = -1, n = null == e ? 0 : e.length, r = 0, o = []; ++i < n;){
            var s = e[i];
            t(s, i, e) && (o[r++] = s);
        }
        return o;
    }
    function B(e, t) {
        for(var i = -1, n = t.length, r = e.length; ++i < n;)e[r + i] = t[i];
        return e;
    }
    function R(e, t) {
        for(var i = -1, n = null == e ? 0 : e.length; ++i < n;)if (t(e[i], i, e)) return !0;
        return !1;
    }
    function N(e, t) {
        for(var i = -1, n = Array(e); ++i < e;)n[i] = t(i);
        return n;
    }
    function k(e) {
        return function(t) {
            return e(t);
        };
    }
    function F(e, t) {
        return e.has(t);
    }
    function z(e, t) {
        return null == e ? void 0 : e[t];
    }
    function j(e) {
        var t = -1, i = Array(e.size);
        return e.forEach(function(e, n) {
            i[++t] = [
                n,
                e
            ];
        }), i;
    }
    function U(e, t) {
        return function(i) {
            return e(t(i));
        };
    }
    function V(e) {
        var t = -1, i = Array(e.size);
        return e.forEach(function(e) {
            i[++t] = e;
        }), i;
    }
    (0, _chunkZRT45YCMJs.a)(L, "arrayFilter"), (0, _chunkZRT45YCMJs.a)(B, "arrayPush"), (0, _chunkZRT45YCMJs.a)(R, "arraySome"), (0, _chunkZRT45YCMJs.a)(N, "baseTimes"), (0, _chunkZRT45YCMJs.a)(k, "baseUnary"), (0, _chunkZRT45YCMJs.a)(F, "cacheHas"), (0, _chunkZRT45YCMJs.a)(z, "getValue"), (0, _chunkZRT45YCMJs.a)(j, "mapToArray"), (0, _chunkZRT45YCMJs.a)(U, "overArg"), (0, _chunkZRT45YCMJs.a)(V, "setToArray");
    var W, G = Array.prototype, H = Function.prototype, Y = Object.prototype, X = T["__core-js_shared__"], Z = H.toString, Q = Y.hasOwnProperty, J = (W = /[^.]+$/.exec(X && X.keys && X.keys.IE_PROTO || "")) ? "Symbol(src)_1." + W : "", K = Y.toString, $ = RegExp("^" + Z.call(Q).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), ee = I ? T.Buffer : void 0, te = T.Symbol, ie = T.Uint8Array, ne = Y.propertyIsEnumerable, re = G.splice, oe = te ? te.toStringTag : void 0, se = Object.getOwnPropertySymbols, ae = ee ? ee.isBuffer : void 0, le = U(Object.keys, Object), he = ct(T, "DataView"), ce = ct(T, "Map"), ue = ct(T, "Promise"), de = ct(T, "Set"), pe = ct(T, "WeakMap"), fe = ct(Object, "create"), me = bt(he), ge = bt(ce), ve = bt(ue), ye = bt(de), be = bt(pe), we = te ? te.prototype : void 0, Ae = we ? we.valueOf : void 0;
    function xe(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function Ee() {
        this.__data__ = fe ? fe(null) : {}, this.size = 0;
    }
    function Me(e) {
        var t = this.has(e) && delete this.__data__[e];
        return this.size -= t ? 1 : 0, t;
    }
    function qe(e) {
        var t = this.__data__;
        if (fe) {
            var n = t[e];
            return n === i ? void 0 : n;
        }
        return Q.call(t, e) ? t[e] : void 0;
    }
    function Ce(e) {
        var t = this.__data__;
        return fe ? void 0 !== t[e] : Q.call(t, e);
    }
    function Te(e, t) {
        var n = this.__data__;
        return this.size += this.has(e) ? 0 : 1, n[e] = fe && void 0 === t ? i : t, this;
    }
    function Pe(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function Se() {
        this.__data__ = [], this.size = 0;
    }
    function Ie(e) {
        var t = this.__data__, i = Qe(t, e);
        return !(i < 0) && (i == t.length - 1 ? t.pop() : re.call(t, i, 1), --this.size, !0);
    }
    function Oe(e) {
        var t = this.__data__, i = Qe(t, e);
        return i < 0 ? void 0 : t[i][1];
    }
    function De(e) {
        return Qe(this.__data__, e) > -1;
    }
    function _e(e, t) {
        var i = this.__data__, n = Qe(i, e);
        return n < 0 ? (++this.size, i.push([
            e,
            t
        ])) : i[n][1] = t, this;
    }
    function Le(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function Be() {
        this.size = 0, this.__data__ = {
            hash: new xe,
            map: new (ce || Pe),
            string: new xe
        };
    }
    function Re(e) {
        var t = ht(this, e).delete(e);
        return this.size -= t ? 1 : 0, t;
    }
    function Ne(e) {
        return ht(this, e).get(e);
    }
    function ke(e) {
        return ht(this, e).has(e);
    }
    function Fe(e, t) {
        var i = ht(this, e), n = i.size;
        return i.set(e, t), this.size += i.size == n ? 0 : 1, this;
    }
    function ze(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.__data__ = new Le; ++t < i;)this.add(e[t]);
    }
    function je(e) {
        return this.__data__.set(e, i), this;
    }
    function Ue(e) {
        return this.__data__.has(e);
    }
    function Ve(e) {
        var t = this.__data__ = new Pe(e);
        this.size = t.size;
    }
    function We() {
        this.__data__ = new Pe, this.size = 0;
    }
    function Ge(e) {
        var t = this.__data__, i = t.delete(e);
        return this.size = t.size, i;
    }
    function He(e) {
        return this.__data__.get(e);
    }
    function Ye(e) {
        return this.__data__.has(e);
    }
    function Xe(e, t) {
        var i = this.__data__;
        if (i instanceof Pe) {
            var n = i.__data__;
            if (!ce || n.length < 199) return n.push([
                e,
                t
            ]), this.size = ++i.size, this;
            i = this.__data__ = new Le(n);
        }
        return i.set(e, t), this.size = i.size, this;
    }
    function Ze(e, t) {
        var i = xt(e), n = !i && At(e), r = !i && !n && Mt(e), o = !i && !n && !r && It(e), s = i || n || r || o, a = s ? N(e.length, String) : [], l = a.length;
        for(var h in e)(t || Q.call(e, h)) && (!s || !("length" == h || r && ("offset" == h || "parent" == h) || o && ("buffer" == h || "byteLength" == h || "byteOffset" == h) || ft(h, l))) && a.push(h);
        return a;
    }
    function Qe(e, t) {
        for(var i = e.length; i--;)if (wt(e[i][0], t)) return i;
        return -1;
    }
    function Je(e, t, i) {
        var n = t(e);
        return xt(e) ? n : B(n, i(e));
    }
    function Ke(e) {
        return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : oe && oe in Object(e) ? ut(e) : yt(e);
    }
    function $e(e) {
        return St(e) && Ke(e) == r;
    }
    function et(e, t, i, n, r) {
        return e === t || (null == e || null == t || !St(e) && !St(t) ? e != e && t != t : tt(e, t, i, n, et, r));
    }
    function tt(e, t, i, n, s, a) {
        var l = xt(e), h = xt(t), c = l ? o : pt(e), u = h ? o : pt(t), d = (c = c == r ? p : c) == p, f = (u = u == r ? p : u) == p, m = c == u;
        if (m && Mt(e)) {
            if (!Mt(t)) return !1;
            l = !0, d = !1;
        }
        if (m && !d) return a || (a = new Ve), l || It(e) ? ot(e, t, i, n, s, a) : st(e, t, c, i, n, s, a);
        if (!(1 & i)) {
            var g = d && Q.call(e, "__wrapped__"), v = f && Q.call(t, "__wrapped__");
            if (g || v) {
                var y = g ? e.value() : e, b = v ? t.value() : t;
                return a || (a = new Ve), s(y, b, i, n, a);
            }
        }
        return !!m && (a || (a = new Ve), at(e, t, i, n, s, a));
    }
    function it(e) {
        return !(!Pt(e) || gt(e)) && (Ct(e) ? $ : x).test(bt(e));
    }
    function nt(e) {
        return St(e) && Tt(e.length) && !!M[Ke(e)];
    }
    function rt(e) {
        if (!vt(e)) return le(e);
        var t = [];
        for(var i in Object(e))Q.call(e, i) && "constructor" != i && t.push(i);
        return t;
    }
    function ot(e, t, i, n, r, o) {
        var s = 1 & i, a = e.length, l = t.length;
        if (a != l && !(s && l > a)) return !1;
        var h = o.get(e);
        if (h && o.get(t)) return h == t;
        var c = -1, u = !0, d = 2 & i ? new ze : void 0;
        for(o.set(e, t), o.set(t, e); ++c < a;){
            var p = e[c], f = t[c];
            if (n) var m = s ? n(f, p, c, t, e, o) : n(p, f, c, e, t, o);
            if (void 0 !== m) {
                if (m) continue;
                u = !1;
                break;
            }
            if (d) {
                if (!R(t, function(e, t) {
                    if (!F(d, t) && (p === e || r(p, e, i, n, o))) return d.push(t);
                })) {
                    u = !1;
                    break;
                }
            } else if (p !== f && !r(p, f, i, n, o)) {
                u = !1;
                break;
            }
        }
        return o.delete(e), o.delete(t), u;
    }
    function st(e, t, i, n, r, o, l) {
        switch(i){
            case A:
                if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
                e = e.buffer, t = t.buffer;
            case w:
                return !(e.byteLength != t.byteLength || !o(new ie(e), new ie(t)));
            case s:
            case a:
            case d:
                return wt(+e, +t);
            case h:
                return e.name == t.name && e.message == t.message;
            case m:
            case v:
                return e == t + "";
            case u:
                var c = j;
            case g:
                var p = 1 & n;
                if (c || (c = V), e.size != t.size && !p) return !1;
                var f = l.get(e);
                if (f) return f == t;
                n |= 2, l.set(e, t);
                var y = ot(c(e), c(t), n, r, o, l);
                return l.delete(e), y;
            case "[object Symbol]":
                if (Ae) return Ae.call(e) == Ae.call(t);
        }
        return !1;
    }
    function at(e, t, i, n, r, o) {
        var s = 1 & i, a = lt(e), l = a.length;
        if (l != lt(t).length && !s) return !1;
        for(var h = l; h--;){
            var c = a[h];
            if (!(s ? c in t : Q.call(t, c))) return !1;
        }
        var u = o.get(e);
        if (u && o.get(t)) return u == t;
        var d = !0;
        o.set(e, t), o.set(t, e);
        for(var p = s; ++h < l;){
            var f = e[c = a[h]], m = t[c];
            if (n) var g = s ? n(m, f, c, t, e, o) : n(f, m, c, e, t, o);
            if (!(void 0 === g ? f === m || r(f, m, i, n, o) : g)) {
                d = !1;
                break;
            }
            p || (p = "constructor" == c);
        }
        if (d && !p) {
            var v = e.constructor, y = t.constructor;
            v != y && "constructor" in e && "constructor" in t && !("function" == typeof v && v instanceof v && "function" == typeof y && y instanceof y) && (d = !1);
        }
        return o.delete(e), o.delete(t), d;
    }
    function lt(e) {
        return Je(e, Ot, dt);
    }
    function ht(e, t) {
        var i = e.__data__;
        return mt(t) ? i["string" == typeof t ? "string" : "hash"] : i.map;
    }
    function ct(e, t) {
        var i = z(e, t);
        return it(i) ? i : void 0;
    }
    function ut(e) {
        var t = Q.call(e, oe), i = e[oe];
        try {
            e[oe] = void 0;
            var n = !0;
        } catch  {}
        var r = K.call(e);
        return n && (t ? e[oe] = i : delete e[oe]), r;
    }
    (0, _chunkZRT45YCMJs.a)(xe, "Hash"), (0, _chunkZRT45YCMJs.a)(Ee, "hashClear"), (0, _chunkZRT45YCMJs.a)(Me, "hashDelete"), (0, _chunkZRT45YCMJs.a)(qe, "hashGet"), (0, _chunkZRT45YCMJs.a)(Ce, "hashHas"), (0, _chunkZRT45YCMJs.a)(Te, "hashSet"), xe.prototype.clear = Ee, xe.prototype.delete = Me, xe.prototype.get = qe, xe.prototype.has = Ce, xe.prototype.set = Te, (0, _chunkZRT45YCMJs.a)(Pe, "ListCache"), (0, _chunkZRT45YCMJs.a)(Se, "listCacheClear"), (0, _chunkZRT45YCMJs.a)(Ie, "listCacheDelete"), (0, _chunkZRT45YCMJs.a)(Oe, "listCacheGet"), (0, _chunkZRT45YCMJs.a)(De, "listCacheHas"), (0, _chunkZRT45YCMJs.a)(_e, "listCacheSet"), Pe.prototype.clear = Se, Pe.prototype.delete = Ie, Pe.prototype.get = Oe, Pe.prototype.has = De, Pe.prototype.set = _e, (0, _chunkZRT45YCMJs.a)(Le, "MapCache"), (0, _chunkZRT45YCMJs.a)(Be, "mapCacheClear"), (0, _chunkZRT45YCMJs.a)(Re, "mapCacheDelete"), (0, _chunkZRT45YCMJs.a)(Ne, "mapCacheGet"), (0, _chunkZRT45YCMJs.a)(ke, "mapCacheHas"), (0, _chunkZRT45YCMJs.a)(Fe, "mapCacheSet"), Le.prototype.clear = Be, Le.prototype.delete = Re, Le.prototype.get = Ne, Le.prototype.has = ke, Le.prototype.set = Fe, (0, _chunkZRT45YCMJs.a)(ze, "SetCache"), (0, _chunkZRT45YCMJs.a)(je, "setCacheAdd"), (0, _chunkZRT45YCMJs.a)(Ue, "setCacheHas"), ze.prototype.add = ze.prototype.push = je, ze.prototype.has = Ue, (0, _chunkZRT45YCMJs.a)(Ve, "Stack"), (0, _chunkZRT45YCMJs.a)(We, "stackClear"), (0, _chunkZRT45YCMJs.a)(Ge, "stackDelete"), (0, _chunkZRT45YCMJs.a)(He, "stackGet"), (0, _chunkZRT45YCMJs.a)(Ye, "stackHas"), (0, _chunkZRT45YCMJs.a)(Xe, "stackSet"), Ve.prototype.clear = We, Ve.prototype.delete = Ge, Ve.prototype.get = He, Ve.prototype.has = Ye, Ve.prototype.set = Xe, (0, _chunkZRT45YCMJs.a)(Ze, "arrayLikeKeys"), (0, _chunkZRT45YCMJs.a)(Qe, "assocIndexOf"), (0, _chunkZRT45YCMJs.a)(Je, "baseGetAllKeys"), (0, _chunkZRT45YCMJs.a)(Ke, "baseGetTag"), (0, _chunkZRT45YCMJs.a)($e, "baseIsArguments"), (0, _chunkZRT45YCMJs.a)(et, "baseIsEqual"), (0, _chunkZRT45YCMJs.a)(tt, "baseIsEqualDeep"), (0, _chunkZRT45YCMJs.a)(it, "baseIsNative"), (0, _chunkZRT45YCMJs.a)(nt, "baseIsTypedArray"), (0, _chunkZRT45YCMJs.a)(rt, "baseKeys"), (0, _chunkZRT45YCMJs.a)(ot, "equalArrays"), (0, _chunkZRT45YCMJs.a)(st, "equalByTag"), (0, _chunkZRT45YCMJs.a)(at, "equalObjects"), (0, _chunkZRT45YCMJs.a)(lt, "getAllKeys"), (0, _chunkZRT45YCMJs.a)(ht, "getMapData"), (0, _chunkZRT45YCMJs.a)(ct, "getNative"), (0, _chunkZRT45YCMJs.a)(ut, "getRawTag");
    var dt = se ? function(e) {
        return null == e ? [] : (e = Object(e), L(se(e), function(t) {
            return ne.call(e, t);
        }));
    } : Dt, pt = Ke;
    function ft(e, t) {
        return !!(t = null == t ? n : t) && ("number" == typeof e || E.test(e)) && e > -1 && e % 1 == 0 && e < t;
    }
    function mt(e) {
        var t = typeof e;
        return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e;
    }
    function gt(e) {
        return !!J && J in e;
    }
    function vt(e) {
        var t = e && e.constructor;
        return e === ("function" == typeof t && t.prototype || Y);
    }
    function yt(e) {
        return K.call(e);
    }
    function bt(e) {
        if (null != e) {
            try {
                return Z.call(e);
            } catch  {}
            try {
                return e + "";
            } catch  {}
        }
        return "";
    }
    function wt(e, t) {
        return e === t || e != e && t != t;
    }
    (he && pt(new he(new ArrayBuffer(1))) != A || ce && pt(new ce) != u || ue && pt(ue.resolve()) != f || de && pt(new de) != g || pe && pt(new pe) != y) && (pt = (0, _chunkZRT45YCMJs.a)(function(e) {
        var t = Ke(e), i = t == p ? e.constructor : void 0, n = i ? bt(i) : "";
        if (n) switch(n){
            case me:
                return A;
            case ge:
                return u;
            case ve:
                return f;
            case ye:
                return g;
            case be:
                return y;
        }
        return t;
    }, "getTag")), (0, _chunkZRT45YCMJs.a)(ft, "isIndex"), (0, _chunkZRT45YCMJs.a)(mt, "isKeyable"), (0, _chunkZRT45YCMJs.a)(gt, "isMasked"), (0, _chunkZRT45YCMJs.a)(vt, "isPrototype"), (0, _chunkZRT45YCMJs.a)(yt, "objectToString"), (0, _chunkZRT45YCMJs.a)(bt, "toSource"), (0, _chunkZRT45YCMJs.a)(wt, "eq");
    var At = $e(function() {
        return arguments;
    }()) ? $e : function(e) {
        return St(e) && Q.call(e, "callee") && !ne.call(e, "callee");
    }, xt = Array.isArray;
    function Et(e) {
        return null != e && Tt(e.length) && !Ct(e);
    }
    (0, _chunkZRT45YCMJs.a)(Et, "isArrayLike");
    var Mt = ae || _t;
    function qt(e, t) {
        return et(e, t);
    }
    function Ct(e) {
        if (!Pt(e)) return !1;
        var t = Ke(e);
        return t == c || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t;
    }
    function Tt(e) {
        return "number" == typeof e && e > -1 && e % 1 == 0 && e <= n;
    }
    function Pt(e) {
        var t = typeof e;
        return null != e && ("object" == t || "function" == t);
    }
    function St(e) {
        return null != e && "object" == typeof e;
    }
    (0, _chunkZRT45YCMJs.a)(qt, "isEqual"), (0, _chunkZRT45YCMJs.a)(Ct, "isFunction"), (0, _chunkZRT45YCMJs.a)(Tt, "isLength"), (0, _chunkZRT45YCMJs.a)(Pt, "isObject"), (0, _chunkZRT45YCMJs.a)(St, "isObjectLike");
    var It = _ ? k(_) : nt;
    function Ot(e) {
        return Et(e) ? Ze(e) : rt(e);
    }
    function Dt() {
        return [];
    }
    function _t() {
        return !1;
    }
    (0, _chunkZRT45YCMJs.a)(Ot, "keys"), (0, _chunkZRT45YCMJs.a)(Dt, "stubArray"), (0, _chunkZRT45YCMJs.a)(_t, "stubFalse"), t.exports = qt;
}), dx = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)();
    var i = "__lodash_hash_undefined__", n = 9007199254740991, r = "[object Arguments]", o = "[object Function]", s = "[object Object]", a = /^\[object .+?Constructor\]$/, h = /^(?:0|[1-9]\d*)$/, c = {};
    c["[object Float32Array]"] = c["[object Float64Array]"] = c["[object Int8Array]"] = c["[object Int16Array]"] = c["[object Int32Array]"] = c["[object Uint8Array]"] = c["[object Uint8ClampedArray]"] = c["[object Uint16Array]"] = c["[object Uint32Array]"] = !0, c[r] = c["[object Array]"] = c["[object ArrayBuffer]"] = c["[object Boolean]"] = c["[object DataView]"] = c["[object Date]"] = c["[object Error]"] = c[o] = c["[object Map]"] = c["[object Number]"] = c[s] = c["[object RegExp]"] = c["[object Set]"] = c["[object String]"] = c["[object WeakMap]"] = !1;
    var u = "object" == typeof global && global && global.Object === Object && global, d = "object" == typeof self && self && self.Object === Object && self, p = u || d || Function("return this")(), f = "object" == typeof e && e && !e.nodeType && e, m = f && "object" == typeof t && t && !t.nodeType && t, g = m && m.exports === f, v = g && u.process, y = function() {
        try {
            return m && m.require && m.require("util").types || v && v.binding && v.binding("util");
        } catch  {}
    }(), w = y && y.isTypedArray;
    function A(e, t, i) {
        switch(i.length){
            case 0:
                return e.call(t);
            case 1:
                return e.call(t, i[0]);
            case 2:
                return e.call(t, i[0], i[1]);
            case 3:
                return e.call(t, i[0], i[1], i[2]);
        }
        return e.apply(t, i);
    }
    function x(e, t) {
        for(var i = -1, n = Array(e); ++i < e;)n[i] = t(i);
        return n;
    }
    function E(e) {
        return function(t) {
            return e(t);
        };
    }
    function M(e, t) {
        return null == e ? void 0 : e[t];
    }
    function q(e, t) {
        return function(i) {
            return e(t(i));
        };
    }
    (0, _chunkZRT45YCMJs.a)(A, "apply"), (0, _chunkZRT45YCMJs.a)(x, "baseTimes"), (0, _chunkZRT45YCMJs.a)(E, "baseUnary"), (0, _chunkZRT45YCMJs.a)(M, "getValue"), (0, _chunkZRT45YCMJs.a)(q, "overArg");
    var C, T = Array.prototype, P = Function.prototype, S = Object.prototype, I = p["__core-js_shared__"], O = P.toString, D = S.hasOwnProperty, _ = (C = /[^.]+$/.exec(I && I.keys && I.keys.IE_PROTO || "")) ? "Symbol(src)_1." + C : "", L = S.toString, B = O.call(Object), R = RegExp("^" + O.call(D).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), N = g ? p.Buffer : void 0, k = p.Symbol, F = p.Uint8Array, z = N ? N.allocUnsafe : void 0, j = q(Object.getPrototypeOf, Object), U = Object.create, V = S.propertyIsEnumerable, W = T.splice, G = k ? k.toStringTag : void 0, H = function() {
        try {
            var e = He(Object, "defineProperty");
            return e({}, "", {}), e;
        } catch  {}
    }(), Y = N ? N.isBuffer : void 0, X = Math.max, Z = Date.now, Q = He(p, "Map"), J = He(Object, "create"), K = function() {
        function e() {}
        return (0, _chunkZRT45YCMJs.a)(e, "object"), function(t) {
            if (!mt(t)) return {};
            if (U) return U(t);
            e.prototype = t;
            var i = new e;
            return e.prototype = void 0, i;
        };
    }();
    function $(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function ee() {
        this.__data__ = J ? J(null) : {}, this.size = 0;
    }
    function te(e) {
        var t = this.has(e) && delete this.__data__[e];
        return this.size -= t ? 1 : 0, t;
    }
    function ie(e) {
        var t = this.__data__;
        if (J) {
            var n = t[e];
            return n === i ? void 0 : n;
        }
        return D.call(t, e) ? t[e] : void 0;
    }
    function ne(e) {
        var t = this.__data__;
        return J ? void 0 !== t[e] : D.call(t, e);
    }
    function re(e, t) {
        var n = this.__data__;
        return this.size += this.has(e) ? 0 : 1, n[e] = J && void 0 === t ? i : t, this;
    }
    function oe(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function se() {
        this.__data__ = [], this.size = 0;
    }
    function ae(e) {
        var t = this.__data__, i = Ce(t, e);
        return !(i < 0) && (i == t.length - 1 ? t.pop() : W.call(t, i, 1), --this.size, !0);
    }
    function le(e) {
        var t = this.__data__, i = Ce(t, e);
        return i < 0 ? void 0 : t[i][1];
    }
    function he(e) {
        return Ce(this.__data__, e) > -1;
    }
    function ce(e, t) {
        var i = this.__data__, n = Ce(i, e);
        return n < 0 ? (++this.size, i.push([
            e,
            t
        ])) : i[n][1] = t, this;
    }
    function ue(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function de() {
        this.size = 0, this.__data__ = {
            hash: new $,
            map: new (Q || oe),
            string: new $
        };
    }
    function pe(e) {
        var t = Ge(this, e).delete(e);
        return this.size -= t ? 1 : 0, t;
    }
    function fe(e) {
        return Ge(this, e).get(e);
    }
    function me(e) {
        return Ge(this, e).has(e);
    }
    function ge(e, t) {
        var i = Ge(this, e), n = i.size;
        return i.set(e, t), this.size += i.size == n ? 0 : 1, this;
    }
    function ve(e) {
        var t = this.__data__ = new oe(e);
        this.size = t.size;
    }
    function ye() {
        this.__data__ = new oe, this.size = 0;
    }
    function be(e) {
        var t = this.__data__, i = t.delete(e);
        return this.size = t.size, i;
    }
    function we(e) {
        return this.__data__.get(e);
    }
    function Ae(e) {
        return this.__data__.has(e);
    }
    function xe(e, t) {
        var i = this.__data__;
        if (i instanceof oe) {
            var n = i.__data__;
            if (!Q || n.length < 199) return n.push([
                e,
                t
            ]), this.size = ++i.size, this;
            i = this.__data__ = new ue(n);
        }
        return i.set(e, t), this.size = i.size, this;
    }
    function Ee(e, t) {
        var i = ht(e), n = !i && lt(e), r = !i && !n && dt(e), o = !i && !n && !r && yt(e), s = i || n || r || o, a = s ? x(e.length, String) : [], l = a.length;
        for(var h in e)(t || D.call(e, h)) && (!s || !("length" == h || r && ("offset" == h || "parent" == h) || o && ("buffer" == h || "byteLength" == h || "byteOffset" == h) || Ze(h, l))) && a.push(h);
        return a;
    }
    function Me(e, t, i) {
        (void 0 !== i && !at(e[t], i) || void 0 === i && !(t in e)) && Te(e, t, i);
    }
    function qe(e, t, i) {
        var n = e[t];
        (!D.call(e, t) || !at(n, i) || void 0 === i && !(t in e)) && Te(e, t, i);
    }
    function Ce(e, t) {
        for(var i = e.length; i--;)if (at(e[i][0], t)) return i;
        return -1;
    }
    function Te(e, t, i) {
        "__proto__" == t && H ? H(e, t, {
            configurable: !0,
            enumerable: !0,
            value: i,
            writable: !0
        }) : e[t] = i;
    }
    (0, _chunkZRT45YCMJs.a)($, "Hash"), (0, _chunkZRT45YCMJs.a)(ee, "hashClear"), (0, _chunkZRT45YCMJs.a)(te, "hashDelete"), (0, _chunkZRT45YCMJs.a)(ie, "hashGet"), (0, _chunkZRT45YCMJs.a)(ne, "hashHas"), (0, _chunkZRT45YCMJs.a)(re, "hashSet"), $.prototype.clear = ee, $.prototype.delete = te, $.prototype.get = ie, $.prototype.has = ne, $.prototype.set = re, (0, _chunkZRT45YCMJs.a)(oe, "ListCache"), (0, _chunkZRT45YCMJs.a)(se, "listCacheClear"), (0, _chunkZRT45YCMJs.a)(ae, "listCacheDelete"), (0, _chunkZRT45YCMJs.a)(le, "listCacheGet"), (0, _chunkZRT45YCMJs.a)(he, "listCacheHas"), (0, _chunkZRT45YCMJs.a)(ce, "listCacheSet"), oe.prototype.clear = se, oe.prototype.delete = ae, oe.prototype.get = le, oe.prototype.has = he, oe.prototype.set = ce, (0, _chunkZRT45YCMJs.a)(ue, "MapCache"), (0, _chunkZRT45YCMJs.a)(de, "mapCacheClear"), (0, _chunkZRT45YCMJs.a)(pe, "mapCacheDelete"), (0, _chunkZRT45YCMJs.a)(fe, "mapCacheGet"), (0, _chunkZRT45YCMJs.a)(me, "mapCacheHas"), (0, _chunkZRT45YCMJs.a)(ge, "mapCacheSet"), ue.prototype.clear = de, ue.prototype.delete = pe, ue.prototype.get = fe, ue.prototype.has = me, ue.prototype.set = ge, (0, _chunkZRT45YCMJs.a)(ve, "Stack"), (0, _chunkZRT45YCMJs.a)(ye, "stackClear"), (0, _chunkZRT45YCMJs.a)(be, "stackDelete"), (0, _chunkZRT45YCMJs.a)(we, "stackGet"), (0, _chunkZRT45YCMJs.a)(Ae, "stackHas"), (0, _chunkZRT45YCMJs.a)(xe, "stackSet"), ve.prototype.clear = ye, ve.prototype.delete = be, ve.prototype.get = we, ve.prototype.has = Ae, ve.prototype.set = xe, (0, _chunkZRT45YCMJs.a)(Ee, "arrayLikeKeys"), (0, _chunkZRT45YCMJs.a)(Me, "assignMergeValue"), (0, _chunkZRT45YCMJs.a)(qe, "assignValue"), (0, _chunkZRT45YCMJs.a)(Ce, "assocIndexOf"), (0, _chunkZRT45YCMJs.a)(Te, "baseAssignValue");
    var Pe = We();
    function Se(e) {
        return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : G && G in Object(e) ? Ye(e) : tt(e);
    }
    function Ie(e) {
        return gt(e) && Se(e) == r;
    }
    function Oe(e) {
        return !(!mt(e) || Ke(e)) && (pt(e) ? R : a).test(st(e));
    }
    function De(e) {
        return gt(e) && ft(e.length) && !!c[Se(e)];
    }
    function _e(e) {
        if (!mt(e)) return et(e);
        var t = $e(e), i = [];
        for(var n in e)"constructor" == n && (t || !D.call(e, n)) || i.push(n);
        return i;
    }
    function Le(e, t, i, n, r) {
        e !== t && Pe(t, function(o, s) {
            if (r || (r = new ve), mt(o)) Be(e, t, s, i, Le, n, r);
            else {
                var a = n ? n(nt(e, s), o, s + "", e, t, r) : void 0;
                void 0 === a && (a = o), Me(e, s, a);
            }
        }, wt);
    }
    function Be(e, t, i, n, r, o, s) {
        var a = nt(e, i), l = nt(t, i), h = s.get(l);
        if (h) Me(e, i, h);
        else {
            var c = o ? o(a, l, i + "", e, t, s) : void 0, u = void 0 === c;
            if (u) {
                var d = ht(l), p = !d && dt(l), f = !d && !p && yt(l);
                c = l, d || p || f ? ht(a) ? c = a : ut(a) ? c = je(a) : p ? (u = !1, c = ke(l, !0)) : f ? (u = !1, c = ze(l, !0)) : c = [] : vt(l) || lt(l) ? (c = a, lt(a) ? c = bt(a) : (!mt(a) || pt(a)) && (c = Xe(l))) : u = !1;
            }
            u && (s.set(l, c), r(c, l, n, o, s), s.delete(l)), Me(e, i, c);
        }
    }
    function Re(e, t) {
        return rt(it(e, t, Et), e + "");
    }
    (0, _chunkZRT45YCMJs.a)(Se, "baseGetTag"), (0, _chunkZRT45YCMJs.a)(Ie, "baseIsArguments"), (0, _chunkZRT45YCMJs.a)(Oe, "baseIsNative"), (0, _chunkZRT45YCMJs.a)(De, "baseIsTypedArray"), (0, _chunkZRT45YCMJs.a)(_e, "baseKeysIn"), (0, _chunkZRT45YCMJs.a)(Le, "baseMerge"), (0, _chunkZRT45YCMJs.a)(Be, "baseMergeDeep"), (0, _chunkZRT45YCMJs.a)(Re, "baseRest");
    var Ne = H ? function(e, t) {
        return H(e, "toString", {
            configurable: !0,
            enumerable: !1,
            value: xt(t),
            writable: !0
        });
    } : Et;
    function ke(e, t) {
        if (t) return e.slice();
        var i = e.length, n = z ? z(i) : new e.constructor(i);
        return e.copy(n), n;
    }
    function Fe(e) {
        var t = new e.constructor(e.byteLength);
        return new F(t).set(new F(e)), t;
    }
    function ze(e, t) {
        var i = t ? Fe(e.buffer) : e.buffer;
        return new e.constructor(i, e.byteOffset, e.length);
    }
    function je(e, t) {
        var i = -1, n = e.length;
        for(t || (t = Array(n)); ++i < n;)t[i] = e[i];
        return t;
    }
    function Ue(e, t, i, n) {
        var r = !i;
        i || (i = {});
        for(var o = -1, s = t.length; ++o < s;){
            var a = t[o], l = n ? n(i[a], e[a], a, i, e) : void 0;
            void 0 === l && (l = e[a]), r ? Te(i, a, l) : qe(i, a, l);
        }
        return i;
    }
    function Ve(e) {
        return Re(function(t, i) {
            var n = -1, r = i.length, o = r > 1 ? i[r - 1] : void 0, s = r > 2 ? i[2] : void 0;
            for(o = e.length > 3 && "function" == typeof o ? (r--, o) : void 0, s && Qe(i[0], i[1], s) && (o = r < 3 ? void 0 : o, r = 1), t = Object(t); ++n < r;){
                var a = i[n];
                a && e(t, a, n, o);
            }
            return t;
        });
    }
    function We(e) {
        return function(t, i, n) {
            for(var r = -1, o = Object(t), s = n(t), a = s.length; a--;){
                var l = s[e ? a : ++r];
                if (!1 === i(o[l], l, o)) break;
            }
            return t;
        };
    }
    function Ge(e, t) {
        var i = e.__data__;
        return Je(t) ? i["string" == typeof t ? "string" : "hash"] : i.map;
    }
    function He(e, t) {
        var i = M(e, t);
        return Oe(i) ? i : void 0;
    }
    function Ye(e) {
        var t = D.call(e, G), i = e[G];
        try {
            e[G] = void 0;
            var n = !0;
        } catch  {}
        var r = L.call(e);
        return n && (t ? e[G] = i : delete e[G]), r;
    }
    function Xe(e) {
        return "function" != typeof e.constructor || $e(e) ? {} : K(j(e));
    }
    function Ze(e, t) {
        var i = typeof e;
        return !!(t = null == t ? n : t) && ("number" == i || "symbol" != i && h.test(e)) && e > -1 && e % 1 == 0 && e < t;
    }
    function Qe(e, t, i) {
        if (!mt(i)) return !1;
        var n = typeof t;
        return !!("number" == n ? ct(i) && Ze(t, i.length) : "string" == n && t in i) && at(i[t], e);
    }
    function Je(e) {
        var t = typeof e;
        return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e;
    }
    function Ke(e) {
        return !!_ && _ in e;
    }
    function $e(e) {
        var t = e && e.constructor;
        return e === ("function" == typeof t && t.prototype || S);
    }
    function et(e) {
        var t = [];
        if (null != e) for(var i in Object(e))t.push(i);
        return t;
    }
    function tt(e) {
        return L.call(e);
    }
    function it(e, t, i) {
        return t = X(void 0 === t ? e.length - 1 : t, 0), function() {
            for(var n = arguments, r = -1, o = X(n.length - t, 0), s = Array(o); ++r < o;)s[r] = n[t + r];
            r = -1;
            for(var a = Array(t + 1); ++r < t;)a[r] = n[r];
            return a[t] = i(s), A(e, this, a);
        };
    }
    function nt(e, t) {
        if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t) return e[t];
    }
    (0, _chunkZRT45YCMJs.a)(ke, "cloneBuffer"), (0, _chunkZRT45YCMJs.a)(Fe, "cloneArrayBuffer"), (0, _chunkZRT45YCMJs.a)(ze, "cloneTypedArray"), (0, _chunkZRT45YCMJs.a)(je, "copyArray"), (0, _chunkZRT45YCMJs.a)(Ue, "copyObject"), (0, _chunkZRT45YCMJs.a)(Ve, "createAssigner"), (0, _chunkZRT45YCMJs.a)(We, "createBaseFor"), (0, _chunkZRT45YCMJs.a)(Ge, "getMapData"), (0, _chunkZRT45YCMJs.a)(He, "getNative"), (0, _chunkZRT45YCMJs.a)(Ye, "getRawTag"), (0, _chunkZRT45YCMJs.a)(Xe, "initCloneObject"), (0, _chunkZRT45YCMJs.a)(Ze, "isIndex"), (0, _chunkZRT45YCMJs.a)(Qe, "isIterateeCall"), (0, _chunkZRT45YCMJs.a)(Je, "isKeyable"), (0, _chunkZRT45YCMJs.a)(Ke, "isMasked"), (0, _chunkZRT45YCMJs.a)($e, "isPrototype"), (0, _chunkZRT45YCMJs.a)(et, "nativeKeysIn"), (0, _chunkZRT45YCMJs.a)(tt, "objectToString"), (0, _chunkZRT45YCMJs.a)(it, "overRest"), (0, _chunkZRT45YCMJs.a)(nt, "safeGet");
    var rt = ot(Ne);
    function ot(e) {
        var t = 0, i = 0;
        return function() {
            var n = Z(), r = 16 - (n - i);
            if (i = n, r > 0) {
                if (++t >= 800) return arguments[0];
            } else t = 0;
            return e.apply(void 0, arguments);
        };
    }
    function st(e) {
        if (null != e) {
            try {
                return O.call(e);
            } catch  {}
            try {
                return e + "";
            } catch  {}
        }
        return "";
    }
    function at(e, t) {
        return e === t || e != e && t != t;
    }
    (0, _chunkZRT45YCMJs.a)(ot, "shortOut"), (0, _chunkZRT45YCMJs.a)(st, "toSource"), (0, _chunkZRT45YCMJs.a)(at, "eq");
    var lt = Ie(function() {
        return arguments;
    }()) ? Ie : function(e) {
        return gt(e) && D.call(e, "callee") && !V.call(e, "callee");
    }, ht = Array.isArray;
    function ct(e) {
        return null != e && ft(e.length) && !pt(e);
    }
    function ut(e) {
        return gt(e) && ct(e);
    }
    (0, _chunkZRT45YCMJs.a)(ct, "isArrayLike"), (0, _chunkZRT45YCMJs.a)(ut, "isArrayLikeObject");
    var dt = Y || Mt;
    function pt(e) {
        if (!mt(e)) return !1;
        var t = Se(e);
        return t == o || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t;
    }
    function ft(e) {
        return "number" == typeof e && e > -1 && e % 1 == 0 && e <= n;
    }
    function mt(e) {
        var t = typeof e;
        return null != e && ("object" == t || "function" == t);
    }
    function gt(e) {
        return null != e && "object" == typeof e;
    }
    function vt(e) {
        if (!gt(e) || Se(e) != s) return !1;
        var t = j(e);
        if (null === t) return !0;
        var i = D.call(t, "constructor") && t.constructor;
        return "function" == typeof i && i instanceof i && O.call(i) == B;
    }
    (0, _chunkZRT45YCMJs.a)(pt, "isFunction"), (0, _chunkZRT45YCMJs.a)(ft, "isLength"), (0, _chunkZRT45YCMJs.a)(mt, "isObject"), (0, _chunkZRT45YCMJs.a)(gt, "isObjectLike"), (0, _chunkZRT45YCMJs.a)(vt, "isPlainObject");
    var yt = w ? E(w) : De;
    function bt(e) {
        return Ue(e, wt(e));
    }
    function wt(e) {
        return ct(e) ? Ee(e, !0) : _e(e);
    }
    (0, _chunkZRT45YCMJs.a)(bt, "toPlainObject"), (0, _chunkZRT45YCMJs.a)(wt, "keysIn");
    var At = Ve(function(e, t, i) {
        Le(e, t, i);
    });
    function xt(e) {
        return function() {
            return e;
        };
    }
    function Et(e) {
        return e;
    }
    function Mt() {
        return !1;
    }
    (0, _chunkZRT45YCMJs.a)(xt, "constant"), (0, _chunkZRT45YCMJs.a)(Et, "identity"), (0, _chunkZRT45YCMJs.a)(Mt, "stubFalse"), t.exports = At;
}), Q6 = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)(), function(i) {
        var n = "object" == typeof e && e, r = "object" == typeof t && t && t.exports == n && t, o = "object" == typeof global && global;
        (o.global === o || o.window === o) && (i = o);
        var s = (0, _chunkZRT45YCMJs.a)(function(e) {
            this.message = e;
        }, "InvalidCharacterError");
        s.prototype = new Error, s.prototype.name = "InvalidCharacterError";
        var a = (0, _chunkZRT45YCMJs.a)(function(e) {
            throw new s(e);
        }, "error"), h = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", c = /[\t\n\f\r ]/g, u = (0, _chunkZRT45YCMJs.a)(function(e) {
            var t = (e = String(e).replace(c, "")).length;
            t % 4 == 0 && (t = (e = e.replace(/==?$/, "")).length), (t % 4 == 1 || /[^+a-zA-Z0-9/]/.test(e)) && a("Invalid character: the string to be decoded is not correctly encoded.");
            for(var i, n, r = 0, o = "", s = -1; ++s < t;)n = h.indexOf(e.charAt(s)), i = r % 4 ? 64 * i + n : n, r++ % 4 && (o += String.fromCharCode(255 & i >> (-2 * r & 6)));
            return o;
        }, "decode"), d = {
            encode: (0, _chunkZRT45YCMJs.a)(function(e) {
                e = String(e), /[^\0-\xFF]/.test(e) && a("The string to be encoded contains characters outside of the Latin1 range.");
                for(var t, i, n, r, o = e.length % 3, s = "", l = -1, c = e.length - o; ++l < c;)t = e.charCodeAt(l) << 16, i = e.charCodeAt(++l) << 8, n = e.charCodeAt(++l), s += h.charAt((r = t + i + n) >> 18 & 63) + h.charAt(r >> 12 & 63) + h.charAt(r >> 6 & 63) + h.charAt(63 & r);
                return 2 == o ? (t = e.charCodeAt(l) << 8, i = e.charCodeAt(++l), s += h.charAt((r = t + i) >> 10) + h.charAt(r >> 4 & 63) + h.charAt(r << 2 & 63) + "=") : 1 == o && (r = e.charCodeAt(l), s += h.charAt(r >> 2) + h.charAt(r << 4 & 63) + "=="), s;
            }, "encode"),
            decode: u,
            version: "1.0.0"
        };
        if ("function" == typeof define && "object" == typeof define.amd && define.amd) define(function() {
            return d;
        });
        else if (n && !n.nodeType) {
            if (r) r.exports = d;
            else for(var p in d)d.hasOwnProperty(p) && (n[p] = d[p]);
        } else i.base64 = d;
    }(e);
}), xi = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.areaConversion = e.timeConversion = e.distanceConversion = e.altitudeKeys = e.latitudeKeys = e.longitudeKeys = e.MAXLON = e.MINLON = e.MAXLAT = e.MINLAT = e.earthRadius = e.sexagesimalPattern = void 0;
    e.sexagesimalPattern = /^([0-9]{1,3})\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)[']\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["]\s*)?([NEOSW]?)$/;
    e.earthRadius = 6378137;
    e.MINLAT = -90;
    e.MAXLAT = 90;
    e.MINLON = -180;
    e.MAXLON = 180;
    e.longitudeKeys = [
        "lng",
        "lon",
        "longitude",
        0
    ];
    e.latitudeKeys = [
        "lat",
        "latitude",
        1
    ];
    e.altitudeKeys = [
        "alt",
        "altitude",
        "elevation",
        "elev",
        2
    ];
    e.distanceConversion = {
        m: 1,
        km: .001,
        cm: 100,
        mm: 1e3,
        mi: 1 / 1609.344,
        sm: 1 / 1852.216,
        ft: 100 / 30.48,
        in: 100 / 2.54,
        yd: 1 / .9144
    };
    e.timeConversion = {
        m: 60,
        h: 3600,
        d: 86400
    };
    var t = {
        m2: 1,
        km2: 1e-6,
        ha: 1e-4,
        a: .01,
        ft2: 10.763911,
        yd2: 1.19599,
        in2: 1550.0031
    };
    e.areaConversion = t, t.sqm = t.m2, t.sqkm = t.km2, t.sqft = t.ft2, t.sqyd = t.yd2, t.sqin = t.in2;
}), vd = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = (0, _chunkZRT45YCMJs.a)(function(e, t) {
        return t.reduce(function(t, i) {
            if (typeof e > "u" || null === e) throw new Error("'".concat(e, "' is no valid coordinate."));
            return Object.prototype.hasOwnProperty.call(e, i) && typeof i < "u" && typeof t > "u" ? (t = i, i) : t;
        }, void 0);
    }, "getCoordinateKey");
    e.default = t;
}), yd = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = (0, _chunkZRT45YCMJs.a)(function(e) {
        var t = e.toString().trim();
        return !isNaN(parseFloat(t)) && parseFloat(t) === Number(t);
    }, "isDecimal");
    e.default = t;
}), bd = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = (0, _chunkZRT45YCMJs.a)(function(e) {
        return t.sexagesimalPattern.test(e.toString().trim());
    }, "isSexagesimal");
    e.default = i;
}), xd = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = (0, _chunkZRT45YCMJs.a)(function(e) {
        var i = new RegExp(t.sexagesimalPattern).exec(e);
        if (typeof i > "u" || null === i) throw new Error("Given value is not in sexagesimal format");
        var n = Number(i[2]) / 60 || 0, r = Number(i[4]) / 3600 || 0, o = parseFloat(i[1]) + n + r;
        return [
            "S",
            "W"
        ].includes(i[7]) ? -o : o;
    }, "sexagesimalToDecimal");
    e.default = i;
}), Sg = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = n(vd());
    function n(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function r(e, t) {
        var i = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(e);
            t && (n = n.filter(function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable;
            })), i.push.apply(i, n);
        }
        return i;
    }
    function o(e) {
        for(var t = 1; t < arguments.length; t++){
            var i = null != arguments[t] ? arguments[t] : {};
            t % 2 ? r(Object(i), !0).forEach(function(t) {
                s(e, t, i[t]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : r(Object(i)).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t));
            });
        }
        return e;
    }
    function s(e, t, i) {
        return t in e ? Object.defineProperty(e, t, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = i, e;
    }
    (0, _chunkZRT45YCMJs.a)(n, "_interopRequireDefault"), (0, _chunkZRT45YCMJs.a)(r, "ownKeys"), (0, _chunkZRT45YCMJs.a)(o, "_objectSpread"), (0, _chunkZRT45YCMJs.a)(s, "_defineProperty");
    var a = (0, _chunkZRT45YCMJs.a)(function(e) {
        var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {
            longitude: t.longitudeKeys,
            latitude: t.latitudeKeys,
            altitude: t.altitudeKeys
        }, r = (0, i.default)(e, n.longitude), s = (0, i.default)(e, n.latitude), a = (0, i.default)(e, n.altitude);
        return o({
            latitude: s,
            longitude: r
        }, a ? {
            altitude: a
        } : {});
    }, "getCoordinateKeys");
    e.default = a;
}), gx = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = o(yd()), i = o(bd()), n = o(xd()), r = xi();
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(o, "_interopRequireDefault");
    var s = (0, _chunkZRT45YCMJs.a)(function e(o) {
        return (0, t.default)(o) ? !(parseFloat(o) > r.MAXLAT || o < r.MINLAT) : !!(0, i.default)(o) && e((0, n.default)(o));
    }, "isValidLatitude");
    e.default = s;
}), yx = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = o(yd()), i = o(bd()), n = o(xd()), r = xi();
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(o, "_interopRequireDefault");
    var s = (0, _chunkZRT45YCMJs.a)(function e(o) {
        return (0, t.default)(o) ? !(parseFloat(o) > r.MAXLON || o < r.MINLON) : !!(0, i.default)(o) && e((0, n.default)(o));
    }, "isValidLongitude");
    e.default = s;
}), xx = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = r(Sg()), i = r(gx()), n = r(yx());
    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(r, "_interopRequireDefault");
    var o = (0, _chunkZRT45YCMJs.a)(function(e) {
        var r = (0, t.default)(e), o = r.latitude, s = r.longitude;
        if (Array.isArray(e) && e.length >= 2) return (0, n.default)(e[0]) && (0, i.default)(e[1]);
        if (typeof o > "u" || typeof s > "u") return !1;
        var a = e[s], l = e[o];
        return !(typeof l > "u" || typeof a > "u" || !1 === (0, i.default)(l) || !1 === (0, n.default)(a));
    }, "isValidCoordinate");
    e.default = o;
}), Lg = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = s(yd()), i = s(bd()), n = s(xd()), r = s(xx()), o = s(Sg());
    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function a(e, t) {
        var i = Object.keys(e);
        if (Object.getOwnPropertySymbols) {
            var n = Object.getOwnPropertySymbols(e);
            t && (n = n.filter(function(t) {
                return Object.getOwnPropertyDescriptor(e, t).enumerable;
            })), i.push.apply(i, n);
        }
        return i;
    }
    function h(e) {
        for(var t = 1; t < arguments.length; t++){
            var i = null != arguments[t] ? arguments[t] : {};
            t % 2 ? a(Object(i), !0).forEach(function(t) {
                c(e, t, i[t]);
            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(i)) : a(Object(i)).forEach(function(t) {
                Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(i, t));
            });
        }
        return e;
    }
    function c(e, t, i) {
        return t in e ? Object.defineProperty(e, t, {
            value: i,
            enumerable: !0,
            configurable: !0,
            writable: !0
        }) : e[t] = i, e;
    }
    (0, _chunkZRT45YCMJs.a)(s, "_interopRequireDefault"), (0, _chunkZRT45YCMJs.a)(a, "ownKeys"), (0, _chunkZRT45YCMJs.a)(h, "_objectSpread"), (0, _chunkZRT45YCMJs.a)(c, "_defineProperty");
    var u = (0, _chunkZRT45YCMJs.a)(function e(s) {
        if ((0, t.default)(s)) return Number(s);
        if ((0, i.default)(s)) return (0, n.default)(s);
        if ((0, r.default)(s)) {
            var a = (0, o.default)(s);
            return Array.isArray(s) ? s.map(function(t, i) {
                return [
                    0,
                    1
                ].includes(i) ? e(t) : t;
            }) : h(h(h({}, s), a.latitude && c({}, a.latitude, e(s[a.latitude]))), a.longitude && c({}, a.longitude, e(s[a.longitude])));
        }
        return Array.isArray(s) ? s.map(function(t) {
            return (0, r.default)(t) ? e(t) : t;
        }) : s;
    }, "toDecimal");
    e.default = u;
}), qn = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = r(vd()), n = r(Lg());
    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(r, "_interopRequireDefault");
    var o = (0, _chunkZRT45YCMJs.a)(function(e, r) {
        var o = (0, i.default)(e, t.latitudeKeys);
        if (!(typeof o > "u" || null === o)) {
            var s = e[o];
            return !0 === r ? s : (0, n.default)(s);
        }
    }, "getLatitude");
    e.default = o;
}), Nn = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = r(vd()), n = r(Lg());
    function r(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(r, "_interopRequireDefault");
    var o = (0, _chunkZRT45YCMJs.a)(function(e, r) {
        var o = (0, i.default)(e, t.longitudeKeys);
        if (!(typeof o > "u" || null === o)) {
            var s = e[o];
            return !0 === r ? s : (0, n.default)(s);
        }
    }, "getLongitude");
    e.default = o;
}), _r = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = (0, _chunkZRT45YCMJs.a)(function(e) {
        return e * Math.PI / 180;
    }, "toRad");
    e.default = t;
}), Co = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = (0, _chunkZRT45YCMJs.a)(function(e) {
        return 180 * e / Math.PI;
    }, "toDeg");
    e.default = t;
}), oC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = s(qn()), i = s(Nn()), n = s(_r()), r = s(Co()), o = xi();
    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(s, "_interopRequireDefault");
    var a = (0, _chunkZRT45YCMJs.a)(function(e, s, a) {
        var l = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 6371e3, h = (0, t.default)(e), c = (0, i.default)(e), u = s / l, d = (0, n.default)(a), p = (0, n.default)(h), f = (0, n.default)(c), m = Math.asin(Math.sin(p) * Math.cos(u) + Math.cos(p) * Math.sin(u) * Math.cos(d)), g = f + Math.atan2(Math.sin(d) * Math.sin(u) * Math.cos(p), Math.cos(u) - Math.sin(p) * Math.sin(m)), v = (0, r.default)(g);
        return (v < o.MINLON || v > o.MAXLON) && (g = (g + 3 * Math.PI) % (2 * Math.PI) - Math.PI, v = (0, r.default)(g)), {
            latitude: (0, r.default)(m),
            longitude: v
        };
    }, "computeDestinationPoint");
    e.default = a;
}), lC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = (0, _chunkZRT45YCMJs.a)(function(e) {
        var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "m", n = t.areaConversion[i];
        if (n) return e * n;
        throw new Error("Invalid unit used for area conversion.");
    }, "convertArea");
    e.default = i;
}), uC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = (0, _chunkZRT45YCMJs.a)(function(e) {
        var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "m", n = t.distanceConversion[i];
        if (n) return e * n;
        throw new Error("Invalid unit used for distance conversion.");
    }, "convertDistance");
    e.default = i;
}), cC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = xi(), i = (0, _chunkZRT45YCMJs.a)(function(e) {
        var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "kmh";
        switch(i){
            case "kmh":
                return e * t.timeConversion.h * t.distanceConversion.km;
            case "mph":
                return e * t.timeConversion.h * t.distanceConversion.mi;
            default:
                return e;
        }
    }, "convertSpeed");
    e.default = i;
}), pC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    function t(e, t) {
        return s(e) || o(e, t) || n(e, t) || i();
    }
    function i() {
        throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function n(e, t) {
        if (e) {
            if ("string" == typeof e) return r(e, t);
            var i = Object.prototype.toString.call(e).slice(8, -1);
            if ("Object" === i && e.constructor && (i = e.constructor.name), "Map" === i || "Set" === i) return Array.from(e);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return r(e, t);
        }
    }
    function r(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for(var i = 0, n = new Array(t); i < t; i++)n[i] = e[i];
        return n;
    }
    function o(e, t) {
        if (!(typeof Symbol > "u") && Symbol.iterator in Object(e)) {
            var i = [], n = !0, r = !1, o = void 0;
            try {
                for(var s, a = e[Symbol.iterator](); !(n = (s = a.next()).done) && (i.push(s.value), !t || i.length !== t); n = !0);
            } catch (e) {
                r = !0, o = e;
            } finally{
                try {
                    !n && null != a.return && a.return();
                } finally{
                    if (r) throw o;
                }
            }
            return i;
        }
    }
    function s(e) {
        if (Array.isArray(e)) return e;
    }
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0, (0, _chunkZRT45YCMJs.a)(t, "_slicedToArray"), (0, _chunkZRT45YCMJs.a)(i, "_nonIterableRest"), (0, _chunkZRT45YCMJs.a)(n, "_unsupportedIterableToArray"), (0, _chunkZRT45YCMJs.a)(r, "_arrayLikeToArray"), (0, _chunkZRT45YCMJs.a)(o, "_iterableToArrayLimit"), (0, _chunkZRT45YCMJs.a)(s, "_arrayWithHoles");
    var a = (0, _chunkZRT45YCMJs.a)(function(e) {
        var t = Math.pow(10, 12);
        return Math.round(e * t) / t;
    }, "imprecise"), h = (0, _chunkZRT45YCMJs.a)(function(e) {
        var i = t(e.toString().split("."), 2), n = i[0], r = i[1], o = Math.abs(Number(n)), s = a(60 * +("0." + (r || 0))), l = Math.floor(s), h = a(60 * (s % l || 0));
        return o + "\xb0 " + Number(l.toFixed(6)).toString().split(".").map(function(e, t) {
            return 0 === t ? e.padStart(2, "0") : e;
        }).join(".") + "' " + Number(h.toFixed(4)).toString().split(".").map(function(e, t) {
            return 0 === t ? e.padStart(2, "0") : e;
        }).join(".") + '"';
    }, "decimal2sexagesimal");
    e.default = h;
}), Ax = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = (0, _chunkZRT45YCMJs.a)(function(e) {
        return e > 1 ? 1 : e < -1 ? -1 : e;
    }, "robustAcos");
    e.default = t;
}), vs = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = s(qn()), i = s(Nn()), n = s(_r()), r = s(Ax()), o = xi();
    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(s, "_interopRequireDefault");
    var a = (0, _chunkZRT45YCMJs.a)(function(e, s) {
        var a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
        a = typeof a < "u" && !isNaN(a) ? a : 1;
        var l = (0, t.default)(e), h = (0, i.default)(e), c = (0, t.default)(s), u = (0, i.default)(s), d = Math.acos((0, r.default)(Math.sin((0, n.default)(c)) * Math.sin((0, n.default)(l)) + Math.cos((0, n.default)(c)) * Math.cos((0, n.default)(l)) * Math.cos((0, n.default)(h) - (0, n.default)(u)))) * o.earthRadius;
        return Math.round(d / a) * a;
    }, "getDistance");
    e.default = a;
}), Cx = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(vs());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e, i) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t.default;
        return n = "function" == typeof n ? n : t.default, i.slice().sort(function(t, i) {
            return n(e, t) - n(e, i);
        });
    }, "orderByDistance");
    e.default = n;
}), vC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(Cx());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e, i) {
        return (0, t.default)(e, i)[0];
    }, "findNearest");
    e.default = n;
}), xC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = o(_r()), i = o(qn()), n = o(Nn()), r = xi();
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(o, "_interopRequireDefault");
    var s = (0, _chunkZRT45YCMJs.a)(function(e) {
        var o = 0;
        if (e.length > 2) {
            for(var s, a, l, h = 0; h < e.length; h++){
                h === e.length - 2 ? (s = e.length - 2, a = e.length - 1, l = 0) : h === e.length - 1 ? (s = e.length - 1, a = 0, l = 1) : (s = h, a = h + 1, l = h + 2);
                var c = (0, n.default)(e[s]), u = (0, i.default)(e[a]), d = (0, n.default)(e[l]);
                o += ((0, t.default)(d) - (0, t.default)(c)) * Math.sin((0, t.default)(u));
            }
            o = o * r.earthRadius * r.earthRadius / 2;
        }
        return Math.abs(o);
    }, "getAreaOfPolygon");
    e.default = s;
}), Ix = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = n(qn()), i = n(Nn());
    function n(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(n, "_interopRequireDefault");
    var r = (0, _chunkZRT45YCMJs.a)(function(e) {
        if (!1 === Array.isArray(e) || 0 === e.length) throw new Error("No points were given.");
        return e.reduce(function(e, n) {
            var r = (0, t.default)(n), o = (0, i.default)(n);
            return {
                maxLat: Math.max(r, e.maxLat),
                minLat: Math.min(r, e.minLat),
                maxLng: Math.max(o, e.maxLng),
                minLng: Math.min(o, e.minLng)
            };
        }, {
            maxLat: -1 / 0,
            minLat: 1 / 0,
            maxLng: -1 / 0,
            minLng: 1 / 0
        });
    }, "getBounds");
    e.default = r;
}), EC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = s(qn()), i = s(Nn()), n = s(_r()), r = s(Co()), o = xi();
    function s(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(s, "_interopRequireDefault");
    var a = (0, _chunkZRT45YCMJs.a)(function(e, s) {
        var a, l, h = (0, t.default)(e), c = (0, i.default)(e), u = (0, n.default)(h), d = (0, n.default)(c), p = s / o.earthRadius, f = u - p, m = u + p, g = (0, n.default)(o.MAXLAT), v = (0, n.default)(o.MINLAT), y = (0, n.default)(o.MAXLON), b = (0, n.default)(o.MINLON);
        if (f > v && m < g) {
            var w = Math.asin(Math.sin(p) / Math.cos(u));
            (a = d - w) < b && (a += 2 * Math.PI), (l = d + w) > y && (l -= 2 * Math.PI);
        } else f = Math.max(f, v), m = Math.min(m, g), a = b, l = y;
        return [
            {
                latitude: (0, r.default)(f),
                longitude: (0, r.default)(a)
            },
            {
                latitude: (0, r.default)(m),
                longitude: (0, r.default)(l)
            }
        ];
    }, "getBoundsOfDistance");
    e.default = a;
}), AC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = o(qn()), i = o(Nn()), n = o(_r()), r = o(Co());
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(o, "_interopRequireDefault");
    var s = (0, _chunkZRT45YCMJs.a)(function(e) {
        if (!1 === Array.isArray(e) || 0 === e.length) return !1;
        var o = e.length, s = e.reduce(function(e, r) {
            var o = (0, n.default)((0, t.default)(r)), s = (0, n.default)((0, i.default)(r));
            return {
                X: e.X + Math.cos(o) * Math.cos(s),
                Y: e.Y + Math.cos(o) * Math.sin(s),
                Z: e.Z + Math.sin(o)
            };
        }, {
            X: 0,
            Y: 0,
            Z: 0
        }), a = s.X / o, l = s.Y / o, h = s.Z / o;
        return {
            longitude: (0, r.default)(Math.atan2(l, a)),
            latitude: (0, r.default)(Math.atan2(h, Math.sqrt(a * a + l * l)))
        };
    }, "getCenter");
    e.default = s;
}), CC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(Ix());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e) {
        var i = (0, t.default)(e), n = i.minLat + (i.maxLat - i.minLat) / 2, r = i.minLng + (i.maxLng - i.minLng) / 2;
        return {
            latitude: parseFloat(n.toFixed(6)),
            longitude: parseFloat(r.toFixed(6))
        };
    }, "getCenterOfBounds");
    e.default = n;
}), _x = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = o(qn()), i = o(Nn()), n = o(_r()), r = o(Co());
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(o, "_interopRequireDefault");
    var s = (0, _chunkZRT45YCMJs.a)(function(e, o) {
        var s = (0, n.default)((0, i.default)(o)) - (0, n.default)((0, i.default)(e)), a = Math.log(Math.tan((0, n.default)((0, t.default)(o)) / 2 + Math.PI / 4) / Math.tan((0, n.default)((0, t.default)(e)) / 2 + Math.PI / 4));
        return Math.abs(s) > Math.PI && (s = s > 0 ? -1 * (2 * Math.PI - s) : 2 * Math.PI + s), ((0, r.default)(Math.atan2(s, a)) + 360) % 360;
    }, "getRhumbLineBearing");
    e.default = s;
}), _C = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(_x());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e, i) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t.default, r = "function" == typeof n ? n(e, i) : (0, t.default)(e, i);
        if (isNaN(r)) throw new Error("Could not calculate bearing for given points. Check your bearing function");
        switch(Math.round(r / 22.5)){
            case 1:
                return "NNE";
            case 2:
                return "NE";
            case 3:
                return "ENE";
            case 4:
                return "E";
            case 5:
                return "ESE";
            case 6:
                return "SE";
            case 7:
                return "SSE";
            case 8:
                return "S";
            case 9:
                return "SSW";
            case 10:
                return "SW";
            case 11:
                return "WSW";
            case 12:
                return "W";
            case 13:
                return "WNW";
            case 14:
                return "NW";
            case 15:
                return "NNW";
            default:
                return "N";
        }
    }, "getCompassDirection");
    e.default = n;
}), Dx = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = n(vs()), i = n(Ax());
    function n(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(n, "_interopRequireDefault");
    var r = (0, _chunkZRT45YCMJs.a)(function(e, n, r) {
        var o = (0, t.default)(n, e), s = (0, t.default)(e, r), a = (0, t.default)(n, r), l = Math.acos((0, i.default)((o * o + a * a - s * s) / (2 * o * a))), h = Math.acos((0, i.default)((s * s + a * a - o * o) / (2 * s * a)));
        return l > Math.PI / 2 ? o : h > Math.PI / 2 ? s : Math.sin(l) * o;
    }, "getDistanceFromLine");
    e.default = r;
}), NC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = o(qn()), i = o(Nn()), n = o(_r()), r = o(Co());
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(o, "_interopRequireDefault");
    var s = (0, _chunkZRT45YCMJs.a)(function(e, o) {
        var s = (0, t.default)(o), a = (0, i.default)(o), l = (0, t.default)(e), h = (0, i.default)(e);
        return ((0, r.default)(Math.atan2(Math.sin((0, n.default)(a) - (0, n.default)(h)) * Math.cos((0, n.default)(s)), Math.cos((0, n.default)(l)) * Math.sin((0, n.default)(s)) - Math.sin((0, n.default)(l)) * Math.cos((0, n.default)(s)) * Math.cos((0, n.default)(a) - (0, n.default)(h)))) + 360) % 360;
    }, "getGreatCircleBearing");
    e.default = s;
}), RC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(vs());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    function n(e) {
        return (n = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? (0, _chunkZRT45YCMJs.a)(function(e) {
            return typeof e;
        }, "_typeof") : (0, _chunkZRT45YCMJs.a)(function(e) {
            return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
        }, "_typeof"))(e);
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault"), (0, _chunkZRT45YCMJs.a)(n, "_typeof");
    var r = (0, _chunkZRT45YCMJs.a)(function(e) {
        var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t.default;
        return e.reduce(function(e, t) {
            return "object" === n(e) && null !== e.last && (e.distance += i(t, e.last)), e.last = t, e;
        }, {
            last: null,
            distance: 0
        }).distance;
    }, "getPathLength");
    e.default = r;
}), UC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = o(qn()), i = o(Nn()), n = o(_r()), r = xi();
    function o(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(o, "_interopRequireDefault");
    var s = (0, _chunkZRT45YCMJs.a)(function(e, o) {
        var s = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1;
        s = typeof s < "u" && !isNaN(s) ? s : 1;
        var a, l, h, c, u, d, p, f = (0, t.default)(e), m = (0, i.default)(e), g = (0, t.default)(o), v = (0, i.default)(o), y = 6356752.314245, b = 1 / 298.257223563, w = (0, n.default)(v - m), A = Math.atan((1 - b) * Math.tan((0, n.default)(parseFloat(f)))), x = Math.atan((1 - b) * Math.tan((0, n.default)(parseFloat(g)))), E = Math.sin(A), M = Math.cos(A), q = Math.sin(x), C = Math.cos(x), T = w, P = 100;
        do {
            var S = Math.sin(T), I = Math.cos(T);
            if (0 === (d = Math.sqrt(C * S * (C * S) + (M * q - E * C * I) * (M * q - E * C * I)))) return 0;
            a = E * q + M * C * I, l = Math.atan2(d, a), u = a - 2 * E * q / (c = 1 - (h = M * C * S / d) * h), isNaN(u) && (u = 0);
            var O = b / 16 * c * (4 + b * (4 - 3 * c));
            p = T, T = w + (1 - O) * b * h * (l + O * d * (u + O * a * (2 * u * u - 1)));
        }while (Math.abs(T - p) > 1e-12 && --P > 0);
        if (0 === P) return NaN;
        var D = c * (r.earthRadius * r.earthRadius - y * y) / (y * y), _ = 1 + D / 16384 * (4096 + D * (D * (320 - 175 * D) - 768)), L = D / 1024 * (256 + D * (D * (74 - 47 * D) - 128)), B = L * d * (u + L / 4 * (a * (2 * u * u - 1) - L / 6 * u * (4 * d * d - 3) * (4 * u * u - 3))), R = y * _ * (l - B);
        return Math.round(R / s) * s;
    }, "getDistance");
    e.default = s;
}), zC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = (0, _chunkZRT45YCMJs.a)(function(e) {
        return /^NNE|NE|NNW|N$/.test(e) ? "N" : /^ENE|E|ESE|SE$/.test(e) ? "E" : /^SSE|S|SSW|SW$/.test(e) ? "S" : /^WSW|W|WNW|NW$/.test(e) ? "W" : void 0;
    }, "getRoughCompassDirection");
    e.default = t;
}), VC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(vs());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e, i) {
        var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t.default, r = n(e, i), o = Number(i.time) - Number(e.time), s = r / o * 1e3;
        return s;
    }, "getSpeed");
    e.default = n;
}), GC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(vs());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e, i, n) {
        return (0, t.default)(i, e) + (0, t.default)(e, n) === (0, t.default)(i, n);
    }, "isPointInLine");
    e.default = n;
}), HC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = n(qn()), i = n(Nn());
    function n(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(n, "_interopRequireDefault");
    var r = (0, _chunkZRT45YCMJs.a)(function(e, n) {
        for(var r = !1, o = n.length, s = -1, a = o - 1; ++s < o; a = s)((0, i.default)(n[s]) <= (0, i.default)(e) && (0, i.default)(e) < (0, i.default)(n[a]) || (0, i.default)(n[a]) <= (0, i.default)(e) && (0, i.default)(e) < (0, i.default)(n[s])) && (0, t.default)(e) < ((0, t.default)(n[a]) - (0, t.default)(n[s])) * ((0, i.default)(e) - (0, i.default)(n[s])) / ((0, i.default)(n[a]) - (0, i.default)(n[s])) + (0, t.default)(n[s]) && (r = !r);
        return r;
    }, "isPointInPolygon");
    e.default = r;
}), YC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(Dx());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e, i, n, r) {
        return (0, t.default)(e, i, n) < r;
    }, "isPointNearLine");
    e.default = n;
}), WC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0;
    var t = i(vs());
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    (0, _chunkZRT45YCMJs.a)(i, "_interopRequireDefault");
    var n = (0, _chunkZRT45YCMJs.a)(function(e, i, n) {
        return (0, t.default)(e, i) < n;
    }, "isPointWithinRadius");
    e.default = n;
}), ZC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    function t(e, t) {
        return s(e) || o(e, t) || n(e, t) || i();
    }
    function i() {
        throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function n(e, t) {
        if (e) {
            if ("string" == typeof e) return r(e, t);
            var i = Object.prototype.toString.call(e).slice(8, -1);
            if ("Object" === i && e.constructor && (i = e.constructor.name), "Map" === i || "Set" === i) return Array.from(e);
            if ("Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)) return r(e, t);
        }
    }
    function r(e, t) {
        (null == t || t > e.length) && (t = e.length);
        for(var i = 0, n = new Array(t); i < t; i++)n[i] = e[i];
        return n;
    }
    function o(e, t) {
        if (!(typeof Symbol > "u") && Symbol.iterator in Object(e)) {
            var i = [], n = !0, r = !1, o = void 0;
            try {
                for(var s, a = e[Symbol.iterator](); !(n = (s = a.next()).done) && (i.push(s.value), !t || i.length !== t); n = !0);
            } catch (e) {
                r = !0, o = e;
            } finally{
                try {
                    !n && null != a.return && a.return();
                } finally{
                    if (r) throw o;
                }
            }
            return i;
        }
    }
    function s(e) {
        if (Array.isArray(e)) return e;
    }
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.default = void 0, (0, _chunkZRT45YCMJs.a)(t, "_slicedToArray"), (0, _chunkZRT45YCMJs.a)(i, "_nonIterableRest"), (0, _chunkZRT45YCMJs.a)(n, "_unsupportedIterableToArray"), (0, _chunkZRT45YCMJs.a)(r, "_arrayLikeToArray"), (0, _chunkZRT45YCMJs.a)(o, "_iterableToArrayLimit"), (0, _chunkZRT45YCMJs.a)(s, "_arrayWithHoles");
    var a = (0, _chunkZRT45YCMJs.a)(function(e) {
        if (!e.startsWith("POLYGON")) throw new Error("Invalid wkt.");
        return e.slice(e.indexOf("(") + 2, e.indexOf(")")).split(", ").map(function(e) {
            var i = t(e.split(" "), 2), n = i[0], r = i[1];
            return {
                longitude: parseFloat(n),
                latitude: parseFloat(r)
            };
        });
    }, "wktToPolygon");
    e.default = a;
}), KC = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var t = {
        computeDestinationPoint: !0,
        convertArea: !0,
        convertDistance: !0,
        convertSpeed: !0,
        decimalToSexagesimal: !0,
        findNearest: !0,
        getAreaOfPolygon: !0,
        getBounds: !0,
        getBoundsOfDistance: !0,
        getCenter: !0,
        getCenterOfBounds: !0,
        getCompassDirection: !0,
        getCoordinateKey: !0,
        getCoordinateKeys: !0,
        getDistance: !0,
        getDistanceFromLine: !0,
        getGreatCircleBearing: !0,
        getLatitude: !0,
        getLongitude: !0,
        getPathLength: !0,
        getPreciseDistance: !0,
        getRhumbLineBearing: !0,
        getRoughCompassDirection: !0,
        getSpeed: !0,
        isDecimal: !0,
        isPointInLine: !0,
        isPointInPolygon: !0,
        isPointNearLine: !0,
        isPointWithinRadius: !0,
        isSexagesimal: !0,
        isValidCoordinate: !0,
        isValidLatitude: !0,
        isValidLongitude: !0,
        orderByDistance: !0,
        sexagesimalToDecimal: !0,
        toDecimal: !0,
        toRad: !0,
        toDeg: !0,
        wktToPolygon: !0
    };
    Object.defineProperty(e, "computeDestinationPoint", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return i.default;
        }, "get")
    }), Object.defineProperty(e, "convertArea", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return n.default;
        }, "get")
    }), Object.defineProperty(e, "convertDistance", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return r.default;
        }, "get")
    }), Object.defineProperty(e, "convertSpeed", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return o.default;
        }, "get")
    }), Object.defineProperty(e, "decimalToSexagesimal", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return s.default;
        }, "get")
    }), Object.defineProperty(e, "findNearest", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return a.default;
        }, "get")
    }), Object.defineProperty(e, "getAreaOfPolygon", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return h.default;
        }, "get")
    }), Object.defineProperty(e, "getBounds", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return c.default;
        }, "get")
    }), Object.defineProperty(e, "getBoundsOfDistance", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return u.default;
        }, "get")
    }), Object.defineProperty(e, "getCenter", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return d.default;
        }, "get")
    }), Object.defineProperty(e, "getCenterOfBounds", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return p.default;
        }, "get")
    }), Object.defineProperty(e, "getCompassDirection", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return f.default;
        }, "get")
    }), Object.defineProperty(e, "getCoordinateKey", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return m.default;
        }, "get")
    }), Object.defineProperty(e, "getCoordinateKeys", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return g.default;
        }, "get")
    }), Object.defineProperty(e, "getDistance", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return v.default;
        }, "get")
    }), Object.defineProperty(e, "getDistanceFromLine", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return y.default;
        }, "get")
    }), Object.defineProperty(e, "getGreatCircleBearing", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return w.default;
        }, "get")
    }), Object.defineProperty(e, "getLatitude", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return A.default;
        }, "get")
    }), Object.defineProperty(e, "getLongitude", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return x.default;
        }, "get")
    }), Object.defineProperty(e, "getPathLength", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return E.default;
        }, "get")
    }), Object.defineProperty(e, "getPreciseDistance", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return M.default;
        }, "get")
    }), Object.defineProperty(e, "getRhumbLineBearing", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return q.default;
        }, "get")
    }), Object.defineProperty(e, "getRoughCompassDirection", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return C.default;
        }, "get")
    }), Object.defineProperty(e, "getSpeed", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return T.default;
        }, "get")
    }), Object.defineProperty(e, "isDecimal", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return P.default;
        }, "get")
    }), Object.defineProperty(e, "isPointInLine", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return S.default;
        }, "get")
    }), Object.defineProperty(e, "isPointInPolygon", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return I.default;
        }, "get")
    }), Object.defineProperty(e, "isPointNearLine", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return O.default;
        }, "get")
    }), Object.defineProperty(e, "isPointWithinRadius", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return D.default;
        }, "get")
    }), Object.defineProperty(e, "isSexagesimal", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return _.default;
        }, "get")
    }), Object.defineProperty(e, "isValidCoordinate", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return L.default;
        }, "get")
    }), Object.defineProperty(e, "isValidLatitude", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return B.default;
        }, "get")
    }), Object.defineProperty(e, "isValidLongitude", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return R.default;
        }, "get")
    }), Object.defineProperty(e, "orderByDistance", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return N.default;
        }, "get")
    }), Object.defineProperty(e, "sexagesimalToDecimal", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return k.default;
        }, "get")
    }), Object.defineProperty(e, "toDecimal", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return F.default;
        }, "get")
    }), Object.defineProperty(e, "toRad", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return z.default;
        }, "get")
    }), Object.defineProperty(e, "toDeg", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return j.default;
        }, "get")
    }), Object.defineProperty(e, "wktToPolygon", {
        enumerable: !0,
        get: (0, _chunkZRT45YCMJs.a)(function() {
            return U.default;
        }, "get")
    });
    var i = W(oC()), n = W(lC()), r = W(uC()), o = W(cC()), s = W(pC()), a = W(vC()), h = W(xC()), c = W(Ix()), u = W(EC()), d = W(AC()), p = W(CC()), f = W(_C()), m = W(vd()), g = W(Sg()), v = W(vs()), y = W(Dx()), w = W(NC()), A = W(qn()), x = W(Nn()), E = W(RC()), M = W(UC()), q = W(_x()), C = W(zC()), T = W(VC()), P = W(yd()), S = W(GC()), I = W(HC()), O = W(YC()), D = W(WC()), _ = W(bd()), L = W(xx()), B = W(gx()), R = W(yx()), N = W(Cx()), k = W(xd()), F = W(Lg()), z = W(_r()), j = W(Co()), U = W(ZC()), V = xi();
    function W(e) {
        return e && e.__esModule ? e : {
            default: e
        };
    }
    Object.keys(V).forEach(function(i) {
        "default" === i || "__esModule" === i || Object.prototype.hasOwnProperty.call(t, i) || Object.defineProperty(e, i, {
            enumerable: !0,
            get: (0, _chunkZRT45YCMJs.a)(function() {
                return V[i];
            }, "get")
        });
    }), (0, _chunkZRT45YCMJs.a)(W, "_interopRequireDefault");
}), oP = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    var i, n;
    (0, _chunkA5C75TI6Js.a)(), i = e, n = function() {
        "use strict";
        function e(e, n, r, o, s) {
            (0, _chunkZRT45YCMJs.a)(function e(i, n, r, o, s) {
                for(; o > r;){
                    if (o - r > 600) {
                        var a = o - r + 1, l = n - r + 1, h = Math.log(a), c = .5 * Math.exp(2 * h / 3), u = .5 * Math.sqrt(h * c * (a - c) / a) * (l - a / 2 < 0 ? -1 : 1);
                        e(i, n, Math.max(r, Math.floor(n - l * c / a + u)), Math.min(o, Math.floor(n + (a - l) * c / a + u)), s);
                    }
                    var d = i[n], p = r, f = o;
                    for(t(i, r, n), s(i[o], d) > 0 && t(i, r, o); p < f;){
                        for(t(i, p, f), p++, f--; s(i[p], d) < 0;)p++;
                        for(; s(i[f], d) > 0;)f--;
                    }
                    0 === s(i[r], d) ? t(i, r, f) : t(i, ++f, o), f <= n && (r = f + 1), n <= f && (o = f - 1);
                }
            }, "t")(e, n, r || 0, o || e.length - 1, s || i);
        }
        function t(e, t, i) {
            var n = e[t];
            e[t] = e[i], e[i] = n;
        }
        function i(e, t) {
            return e < t ? -1 : e > t ? 1 : 0;
        }
        (0, _chunkZRT45YCMJs.a)(e, "t"), (0, _chunkZRT45YCMJs.a)(t, "i"), (0, _chunkZRT45YCMJs.a)(i, "n");
        var n = (0, _chunkZRT45YCMJs.a)(function(e) {
            void 0 === e && (e = 9), this._maxEntries = Math.max(4, e), this._minEntries = Math.max(2, Math.ceil(.4 * this._maxEntries)), this.clear();
        }, "r");
        function r(e, t, i) {
            if (!i) return t.indexOf(e);
            for(var n = 0; n < t.length; n++)if (i(e, t[n])) return n;
            return -1;
        }
        function o(e, t) {
            s(e, 0, e.children.length, t, e);
        }
        function s(e, t, i, n, r) {
            r || (r = m(null)), r.minX = 1 / 0, r.minY = 1 / 0, r.maxX = -1 / 0, r.maxY = -1 / 0;
            for(var o = t; o < i; o++){
                var s = e.children[o];
                a(r, e.leaf ? n(s) : s);
            }
            return r;
        }
        function a(e, t) {
            return e.minX = Math.min(e.minX, t.minX), e.minY = Math.min(e.minY, t.minY), e.maxX = Math.max(e.maxX, t.maxX), e.maxY = Math.max(e.maxY, t.maxY), e;
        }
        function h(e, t) {
            return e.minX - t.minX;
        }
        function c(e, t) {
            return e.minY - t.minY;
        }
        function u(e) {
            return (e.maxX - e.minX) * (e.maxY - e.minY);
        }
        function d(e) {
            return e.maxX - e.minX + (e.maxY - e.minY);
        }
        function p(e, t) {
            return e.minX <= t.minX && e.minY <= t.minY && t.maxX <= e.maxX && t.maxY <= e.maxY;
        }
        function f(e, t) {
            return t.minX <= e.maxX && t.minY <= e.maxY && t.maxX >= e.minX && t.maxY >= e.minY;
        }
        function m(e) {
            return {
                children: e,
                height: 1,
                leaf: !0,
                minX: 1 / 0,
                minY: 1 / 0,
                maxX: -1 / 0,
                maxY: -1 / 0
            };
        }
        function g(t, i, n, r, o) {
            for(var s = [
                i,
                n
            ]; s.length;)if (!((n = s.pop()) - (i = s.pop()) <= r)) {
                var a = i + Math.ceil((n - i) / r / 2) * r;
                e(t, a, i, n, o), s.push(i, a, a, n);
            }
        }
        return (0, _chunkZRT45YCMJs.a)(r, "e"), (0, _chunkZRT45YCMJs.a)(o, "a"), (0, _chunkZRT45YCMJs.a)(s, "h"), (0, _chunkZRT45YCMJs.a)(a, "o"), (0, _chunkZRT45YCMJs.a)(h, "s"), (0, _chunkZRT45YCMJs.a)(c, "l"), (0, _chunkZRT45YCMJs.a)(u, "f"), (0, _chunkZRT45YCMJs.a)(d, "u"), (0, _chunkZRT45YCMJs.a)(p, "m"), (0, _chunkZRT45YCMJs.a)(f, "c"), (0, _chunkZRT45YCMJs.a)(m, "p"), (0, _chunkZRT45YCMJs.a)(g, "d"), n.prototype.all = function() {
            return this._all(this.data, []);
        }, n.prototype.search = function(e) {
            var t = this.data, i = [];
            if (!f(e, t)) return i;
            for(var n = this.toBBox, r = []; t;){
                for(var o = 0; o < t.children.length; o++){
                    var s = t.children[o], a = t.leaf ? n(s) : s;
                    f(e, a) && (t.leaf ? i.push(s) : p(e, a) ? this._all(s, i) : r.push(s));
                }
                t = r.pop();
            }
            return i;
        }, n.prototype.collides = function(e) {
            var t = this.data;
            if (!f(e, t)) return !1;
            for(var i = []; t;){
                for(var n = 0; n < t.children.length; n++){
                    var r = t.children[n], o = t.leaf ? this.toBBox(r) : r;
                    if (f(e, o)) {
                        if (t.leaf || p(e, o)) return !0;
                        i.push(r);
                    }
                }
                t = i.pop();
            }
            return !1;
        }, n.prototype.load = function(e) {
            if (!e || !e.length) return this;
            if (e.length < this._minEntries) {
                for(var t = 0; t < e.length; t++)this.insert(e[t]);
                return this;
            }
            var i = this._build(e.slice(), 0, e.length - 1, 0);
            if (this.data.children.length) {
                if (this.data.height === i.height) this._splitRoot(this.data, i);
                else {
                    if (this.data.height < i.height) {
                        var n = this.data;
                        this.data = i, i = n;
                    }
                    this._insert(i, this.data.height - i.height - 1, !0);
                }
            } else this.data = i;
            return this;
        }, n.prototype.insert = function(e) {
            return e && this._insert(e, this.data.height - 1), this;
        }, n.prototype.clear = function() {
            return this.data = m([]), this;
        }, n.prototype.remove = function(e, t) {
            if (!e) return this;
            for(var i, n, o, s = this.data, a = this.toBBox(e), l = [], h = []; s || l.length;){
                if (s || (s = l.pop(), n = l[l.length - 1], i = h.pop(), o = !0), s.leaf) {
                    var c = r(e, s.children, t);
                    if (-1 !== c) return s.children.splice(c, 1), l.push(s), this._condense(l), this;
                }
                o || s.leaf || !p(s, a) ? n ? (i++, s = n.children[i], o = !1) : s = null : (l.push(s), h.push(i), i = 0, n = s, s = s.children[0]);
            }
            return this;
        }, n.prototype.toBBox = function(e) {
            return e;
        }, n.prototype.compareMinX = function(e, t) {
            return e.minX - t.minX;
        }, n.prototype.compareMinY = function(e, t) {
            return e.minY - t.minY;
        }, n.prototype.toJSON = function() {
            return this.data;
        }, n.prototype.fromJSON = function(e) {
            return this.data = e, this;
        }, n.prototype._all = function(e, t) {
            for(var i = []; e;)e.leaf ? t.push.apply(t, e.children) : i.push.apply(i, e.children), e = i.pop();
            return t;
        }, n.prototype._build = function(e, t, i, n) {
            var r, s = i - t + 1, a = this._maxEntries;
            if (s <= a) return o(r = m(e.slice(t, i + 1)), this.toBBox), r;
            n || (n = Math.ceil(Math.log(s) / Math.log(a)), a = Math.ceil(s / Math.pow(a, n - 1))), (r = m([])).leaf = !1, r.height = n;
            var l = Math.ceil(s / a), h = l * Math.ceil(Math.sqrt(a));
            g(e, t, i, h, this.compareMinX);
            for(var c = t; c <= i; c += h){
                var u = Math.min(c + h - 1, i);
                g(e, c, u, l, this.compareMinY);
                for(var d = c; d <= u; d += l){
                    var p = Math.min(d + l - 1, u);
                    r.children.push(this._build(e, d, p, n - 1));
                }
            }
            return o(r, this.toBBox), r;
        }, n.prototype._chooseSubtree = function(e, t, i, n) {
            for(; n.push(t), !t.leaf && n.length - 1 !== i;){
                for(var r = 1 / 0, o = 1 / 0, s = void 0, a = 0; a < t.children.length; a++){
                    var l = t.children[a], h = u(l), c = (d = e, p = l, (Math.max(p.maxX, d.maxX) - Math.min(p.minX, d.minX)) * (Math.max(p.maxY, d.maxY) - Math.min(p.minY, d.minY)) - h);
                    c < o ? (o = c, r = h < r ? h : r, s = l) : c === o && h < r && (r = h, s = l);
                }
                t = s || t.children[0];
            }
            var d, p;
            return t;
        }, n.prototype._insert = function(e, t, i) {
            var n = i ? e : this.toBBox(e), r = [], o = this._chooseSubtree(n, this.data, t, r);
            for(o.children.push(e), a(o, n); t >= 0 && r[t].children.length > this._maxEntries;)this._split(r, t), t--;
            this._adjustParentBBoxes(n, r, t);
        }, n.prototype._split = function(e, t) {
            var i = e[t], n = i.children.length, r = this._minEntries;
            this._chooseSplitAxis(i, r, n);
            var s = this._chooseSplitIndex(i, r, n), a = m(i.children.splice(s, i.children.length - s));
            a.height = i.height, a.leaf = i.leaf, o(i, this.toBBox), o(a, this.toBBox), t ? e[t - 1].children.push(a) : this._splitRoot(i, a);
        }, n.prototype._splitRoot = function(e, t) {
            this.data = m([
                e,
                t
            ]), this.data.height = e.height + 1, this.data.leaf = !1, o(this.data, this.toBBox);
        }, n.prototype._chooseSplitIndex = function(e, t, i) {
            for(var n, r, o, a, l, h, c, d = 1 / 0, p = 1 / 0, f = t; f <= i - t; f++){
                var m = s(e, 0, f, this.toBBox), g = s(e, f, i, this.toBBox), v = (r = m, o = g, a = Math.max(r.minX, o.minX), l = Math.max(r.minY, o.minY), h = Math.min(r.maxX, o.maxX), c = Math.min(r.maxY, o.maxY), Math.max(0, h - a) * Math.max(0, c - l)), y = u(m) + u(g);
                v < d ? (d = v, n = f, p = y < p ? y : p) : v === d && y < p && (p = y, n = f);
            }
            return n || i - t;
        }, n.prototype._chooseSplitAxis = function(e, t, i) {
            var n = e.leaf ? this.compareMinX : h, r = e.leaf ? this.compareMinY : c;
            this._allDistMargin(e, t, i, n) < this._allDistMargin(e, t, i, r) && e.children.sort(n);
        }, n.prototype._allDistMargin = function(e, t, i, n) {
            e.children.sort(n);
            for(var r = this.toBBox, o = s(e, 0, t, r), l = s(e, i - t, i, r), h = d(o) + d(l), c = t; c < i - t; c++){
                var u = e.children[c];
                a(o, e.leaf ? r(u) : u), h += d(o);
            }
            for(var p = i - t - 1; p >= t; p--){
                var f = e.children[p];
                a(l, e.leaf ? r(f) : f), h += d(l);
            }
            return h;
        }, n.prototype._adjustParentBBoxes = function(e, t, i) {
            for(var n = i; n >= 0; n--)a(t[n], e);
        }, n.prototype._condense = function(e) {
            for(var t = e.length - 1, i = void 0; t >= 0; t--)0 === e[t].children.length ? t > 0 ? (i = e[t - 1].children).splice(i.indexOf(e[t]), 1) : this.clear() : o(e[t], this.toBBox);
        }, n;
    }, "object" == typeof e && typeof t < "u" ? t.exports = n() : "function" == typeof define && define.amd ? define(n) : (i = i || self).RBush = n();
}), r3 = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    function t(e, t, i) {
        void 0 === i && (i = {});
        var n = {
            type: "Feature"
        };
        return (0 === i.id || i.id) && (n.id = i.id), i.bbox && (n.bbox = i.bbox), n.properties = t || {}, n.geometry = e, n;
    }
    function i(e, t, i) {
        switch(void 0 === i && (i = {}), e){
            case "Point":
                return n(t).geometry;
            case "LineString":
                return a(t).geometry;
            case "Polygon":
                return o(t).geometry;
            case "MultiPoint":
                return d(t).geometry;
            case "MultiLineString":
                return u(t).geometry;
            case "MultiPolygon":
                return p(t).geometry;
            default:
                throw new Error(e + " is invalid");
        }
    }
    function n(e, i, n) {
        if (void 0 === n && (n = {}), !e) throw new Error("coordinates is required");
        if (!Array.isArray(e)) throw new Error("coordinates must be an Array");
        if (e.length < 2) throw new Error("coordinates must be at least 2 numbers long");
        if (!q(e[0]) || !q(e[1])) throw new Error("coordinates must contain numbers");
        return t({
            type: "Point",
            coordinates: e
        }, i, n);
    }
    function r(e, t, i) {
        return void 0 === i && (i = {}), c(e.map(function(e) {
            return n(e, t);
        }), i);
    }
    function o(e, i, n) {
        void 0 === n && (n = {});
        for(var r = 0, o = e; r < o.length; r++){
            var s = o[r];
            if (s.length < 4) throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");
            for(var a = 0; a < s[s.length - 1].length; a++)if (s[s.length - 1][a] !== s[0][a]) throw new Error("First and last Position are not equivalent.");
        }
        return t({
            type: "Polygon",
            coordinates: e
        }, i, n);
    }
    function s(e, t, i) {
        return void 0 === i && (i = {}), c(e.map(function(e) {
            return o(e, t);
        }), i);
    }
    function a(e, i, n) {
        if (void 0 === n && (n = {}), e.length < 2) throw new Error("coordinates must be an array of two or more positions");
        return t({
            type: "LineString",
            coordinates: e
        }, i, n);
    }
    function h(e, t, i) {
        return void 0 === i && (i = {}), c(e.map(function(e) {
            return a(e, t);
        }), i);
    }
    function c(e, t) {
        void 0 === t && (t = {});
        var i = {
            type: "FeatureCollection"
        };
        return t.id && (i.id = t.id), t.bbox && (i.bbox = t.bbox), i.features = e, i;
    }
    function u(e, i, n) {
        return void 0 === n && (n = {}), t({
            type: "MultiLineString",
            coordinates: e
        }, i, n);
    }
    function d(e, i, n) {
        return void 0 === n && (n = {}), t({
            type: "MultiPoint",
            coordinates: e
        }, i, n);
    }
    function p(e, i, n) {
        return void 0 === n && (n = {}), t({
            type: "MultiPolygon",
            coordinates: e
        }, i, n);
    }
    function f(e, i, n) {
        return void 0 === n && (n = {}), t({
            type: "GeometryCollection",
            geometries: e
        }, i, n);
    }
    function m(e, t) {
        if (void 0 === t && (t = 0), t && !(t >= 0)) throw new Error("precision must be a positive number");
        var i = Math.pow(10, t || 0);
        return Math.round(e * i) / i;
    }
    function g(t, i) {
        void 0 === i && (i = "kilometers");
        var n = e.factors[i];
        if (!n) throw new Error(i + " units is invalid");
        return t * n;
    }
    function v(t, i) {
        void 0 === i && (i = "kilometers");
        var n = e.factors[i];
        if (!n) throw new Error(i + " units is invalid");
        return t / n;
    }
    function y(e, t) {
        return A(v(e, t));
    }
    function w(e) {
        var t = e % 360;
        return t < 0 && (t += 360), t;
    }
    function A(e) {
        return 180 * (e % (2 * Math.PI)) / Math.PI;
    }
    function x(e) {
        return e % 360 * Math.PI / 180;
    }
    function E(e, t, i) {
        if (void 0 === t && (t = "kilometers"), void 0 === i && (i = "kilometers"), !(e >= 0)) throw new Error("length must be a positive number");
        return g(v(e, t), i);
    }
    function M(t, i, n) {
        if (void 0 === i && (i = "meters"), void 0 === n && (n = "kilometers"), !(t >= 0)) throw new Error("area must be a positive number");
        var r = e.areaFactors[i];
        if (!r) throw new Error("invalid original units");
        var o = e.areaFactors[n];
        if (!o) throw new Error("invalid final units");
        return t / r * o;
    }
    function q(e) {
        return !isNaN(e) && null !== e && !Array.isArray(e);
    }
    function C(e) {
        return !!e && e.constructor === Object;
    }
    function T(e) {
        if (!e) throw new Error("bbox is required");
        if (!Array.isArray(e)) throw new Error("bbox must be an Array");
        if (4 !== e.length && 6 !== e.length) throw new Error("bbox must be an Array of 4 or 6 numbers");
        e.forEach(function(e) {
            if (!q(e)) throw new Error("bbox must only contain numbers");
        });
    }
    function P(e) {
        if (!e) throw new Error("id is required");
        if (-1 === [
            "string",
            "number"
        ].indexOf(typeof e)) throw new Error("id must be a number or a string");
    }
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    }), e.earthRadius = 6371008.8, e.factors = {
        centimeters: 100 * e.earthRadius,
        centimetres: 100 * e.earthRadius,
        degrees: e.earthRadius / 111325,
        feet: 3.28084 * e.earthRadius,
        inches: 39.37 * e.earthRadius,
        kilometers: e.earthRadius / 1e3,
        kilometres: e.earthRadius / 1e3,
        meters: e.earthRadius,
        metres: e.earthRadius,
        miles: e.earthRadius / 1609.344,
        millimeters: 1e3 * e.earthRadius,
        millimetres: 1e3 * e.earthRadius,
        nauticalmiles: e.earthRadius / 1852,
        radians: 1,
        yards: 1.0936 * e.earthRadius
    }, e.unitsFactors = {
        centimeters: 100,
        centimetres: 100,
        degrees: 1 / 111325,
        feet: 3.28084,
        inches: 39.37,
        kilometers: .001,
        kilometres: .001,
        meters: 1,
        metres: 1,
        miles: 1 / 1609.344,
        millimeters: 1e3,
        millimetres: 1e3,
        nauticalmiles: 1 / 1852,
        radians: 1 / e.earthRadius,
        yards: 1.0936133
    }, e.areaFactors = {
        acres: 247105e-9,
        centimeters: 1e4,
        centimetres: 1e4,
        feet: 10.763910417,
        hectares: 1e-4,
        inches: 1550.003100006,
        kilometers: 1e-6,
        kilometres: 1e-6,
        meters: 1,
        metres: 1,
        miles: 386e-9,
        millimeters: 1e6,
        millimetres: 1e6,
        yards: 1.195990046
    }, (0, _chunkZRT45YCMJs.a)(t, "feature"), e.feature = t, (0, _chunkZRT45YCMJs.a)(i, "geometry"), e.geometry = i, (0, _chunkZRT45YCMJs.a)(n, "point"), e.point = n, (0, _chunkZRT45YCMJs.a)(r, "points"), e.points = r, (0, _chunkZRT45YCMJs.a)(o, "polygon"), e.polygon = o, (0, _chunkZRT45YCMJs.a)(s, "polygons"), e.polygons = s, (0, _chunkZRT45YCMJs.a)(a, "lineString"), e.lineString = a, (0, _chunkZRT45YCMJs.a)(h, "lineStrings"), e.lineStrings = h, (0, _chunkZRT45YCMJs.a)(c, "featureCollection"), e.featureCollection = c, (0, _chunkZRT45YCMJs.a)(u, "multiLineString"), e.multiLineString = u, (0, _chunkZRT45YCMJs.a)(d, "multiPoint"), e.multiPoint = d, (0, _chunkZRT45YCMJs.a)(p, "multiPolygon"), e.multiPolygon = p, (0, _chunkZRT45YCMJs.a)(f, "geometryCollection"), e.geometryCollection = f, (0, _chunkZRT45YCMJs.a)(m, "round"), e.round = m, (0, _chunkZRT45YCMJs.a)(g, "radiansToLength"), e.radiansToLength = g, (0, _chunkZRT45YCMJs.a)(v, "lengthToRadians"), e.lengthToRadians = v, (0, _chunkZRT45YCMJs.a)(y, "lengthToDegrees"), e.lengthToDegrees = y, (0, _chunkZRT45YCMJs.a)(w, "bearingToAzimuth"), e.bearingToAzimuth = w, (0, _chunkZRT45YCMJs.a)(A, "radiansToDegrees"), e.radiansToDegrees = A, (0, _chunkZRT45YCMJs.a)(x, "degreesToRadians"), e.degreesToRadians = x, (0, _chunkZRT45YCMJs.a)(E, "convertLength"), e.convertLength = E, (0, _chunkZRT45YCMJs.a)(M, "convertArea"), e.convertArea = M, (0, _chunkZRT45YCMJs.a)(q, "isNumber"), e.isNumber = q, (0, _chunkZRT45YCMJs.a)(C, "isObject"), e.isObject = C, (0, _chunkZRT45YCMJs.a)(T, "validateBBox"), e.validateBBox = T, (0, _chunkZRT45YCMJs.a)(P, "validateId"), e.validateId = P;
}), s3 = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var t = r3();
    function i(e, t, n) {
        if (null !== e) for(var r, o, s, a, l, h, c, u, d = 0, p = 0, f = e.type, m = "FeatureCollection" === f, g = "Feature" === f, v = m ? e.features.length : 1, y = 0; y < v; y++){
            l = (u = !!(c = m ? e.features[y].geometry : g ? e.geometry : e) && "GeometryCollection" === c.type) ? c.geometries.length : 1;
            for(var b = 0; b < l; b++){
                var w = 0, A = 0;
                if (null !== (a = u ? c.geometries[b] : c)) {
                    h = a.coordinates;
                    var x = a.type;
                    switch(d = !n || "Polygon" !== x && "MultiPolygon" !== x ? 0 : 1, x){
                        case null:
                            break;
                        case "Point":
                            if (!1 === t(h, p, y, w, A)) return !1;
                            p++, w++;
                            break;
                        case "LineString":
                        case "MultiPoint":
                            for(r = 0; r < h.length; r++){
                                if (!1 === t(h[r], p, y, w, A)) return !1;
                                p++, "MultiPoint" === x && w++;
                            }
                            "LineString" === x && w++;
                            break;
                        case "Polygon":
                        case "MultiLineString":
                            for(r = 0; r < h.length; r++){
                                for(o = 0; o < h[r].length - d; o++){
                                    if (!1 === t(h[r][o], p, y, w, A)) return !1;
                                    p++;
                                }
                                "MultiLineString" === x && w++, "Polygon" === x && A++;
                            }
                            "Polygon" === x && w++;
                            break;
                        case "MultiPolygon":
                            for(r = 0; r < h.length; r++){
                                for(A = 0, o = 0; o < h[r].length; o++){
                                    for(s = 0; s < h[r][o].length - d; s++){
                                        if (!1 === t(h[r][o][s], p, y, w, A)) return !1;
                                        p++;
                                    }
                                    A++;
                                }
                                w++;
                            }
                            break;
                        case "GeometryCollection":
                            for(r = 0; r < a.geometries.length; r++)if (!1 === i(a.geometries[r], t, n)) return !1;
                            break;
                        default:
                            throw new Error("Unknown Geometry Type");
                    }
                }
            }
        }
    }
    function n(e, t, n, r) {
        var o = n;
        return i(e, function(e, i, r, s, a) {
            o = 0 === i && void 0 === n ? e : t(o, e, i, r, s, a);
        }, r), o;
    }
    function r(e, t) {
        var i;
        switch(e.type){
            case "FeatureCollection":
                for(i = 0; i < e.features.length && !1 !== t(e.features[i].properties, i); i++);
                break;
            case "Feature":
                t(e.properties, 0);
        }
    }
    function o(e, t, i) {
        var n = i;
        return r(e, function(e, r) {
            n = 0 === r && void 0 === i ? e : t(n, e, r);
        }), n;
    }
    function s(e, t) {
        if ("Feature" === e.type) t(e, 0);
        else if ("FeatureCollection" === e.type) for(var i = 0; i < e.features.length && !1 !== t(e.features[i], i); i++);
    }
    function a(e, t, i) {
        var n = i;
        return s(e, function(e, r) {
            n = 0 === r && void 0 === i ? e : t(n, e, r);
        }), n;
    }
    function h(e) {
        var t = [];
        return i(e, function(e) {
            t.push(e);
        }), t;
    }
    function c(e, t) {
        var i, n, r, o, s, a, l, h, c, u, d = 0, p = "FeatureCollection" === e.type, f = "Feature" === e.type, m = p ? e.features.length : 1;
        for(i = 0; i < m; i++){
            for(a = p ? e.features[i].geometry : f ? e.geometry : e, h = p ? e.features[i].properties : f ? e.properties : {}, c = p ? e.features[i].bbox : f ? e.bbox : void 0, u = p ? e.features[i].id : f ? e.id : void 0, s = (l = !!a && "GeometryCollection" === a.type) ? a.geometries.length : 1, r = 0; r < s; r++)if (null !== (o = l ? a.geometries[r] : a)) switch(o.type){
                case "Point":
                case "LineString":
                case "MultiPoint":
                case "Polygon":
                case "MultiLineString":
                case "MultiPolygon":
                    if (!1 === t(o, d, h, c, u)) return !1;
                    break;
                case "GeometryCollection":
                    for(n = 0; n < o.geometries.length; n++)if (!1 === t(o.geometries[n], d, h, c, u)) return !1;
                    break;
                default:
                    throw new Error("Unknown Geometry Type");
            }
            else if (!1 === t(null, d, h, c, u)) return !1;
            d++;
        }
    }
    function u(e, t, i) {
        var n = i;
        return c(e, function(e, r, o, s, a) {
            n = 0 === r && void 0 === i ? e : t(n, e, r, o, s, a);
        }), n;
    }
    function d(e, i) {
        c(e, function(e, n, r, o, s) {
            var a, l = null === e ? null : e.type;
            switch(l){
                case null:
                case "Point":
                case "LineString":
                case "Polygon":
                    return !1 !== i(t.feature(e, r, {
                        bbox: o,
                        id: s
                    }), n, 0) && void 0;
            }
            switch(l){
                case "MultiPoint":
                    a = "Point";
                    break;
                case "MultiLineString":
                    a = "LineString";
                    break;
                case "MultiPolygon":
                    a = "Polygon";
            }
            for(var h = 0; h < e.coordinates.length; h++){
                var c = {
                    type: a,
                    coordinates: e.coordinates[h]
                };
                if (!1 === i(t.feature(c, r), n, h)) return !1;
            }
        });
    }
    function p(e, t, i) {
        var n = i;
        return d(e, function(e, r, o) {
            n = 0 === r && 0 === o && void 0 === i ? e : t(n, e, r, o);
        }), n;
    }
    function f(e, n) {
        d(e, function(e, r, o) {
            var s = 0;
            if (e.geometry) {
                var a = e.geometry.type;
                if ("Point" !== a && "MultiPoint" !== a) {
                    var l, h = 0, c = 0, u = 0;
                    if (!1 === i(e, function(i, a, d, p, f) {
                        if (void 0 === l || r > h || p > c || f > u) return l = i, h = r, c = p, u = f, void (s = 0);
                        var m = t.lineString([
                            l,
                            i
                        ], e.properties);
                        if (!1 === n(m, r, o, f, s)) return !1;
                        s++, l = i;
                    })) return !1;
                }
            }
        });
    }
    function m(e, t, i) {
        var n = i, r = !1;
        return f(e, function(e, o, s, a, l) {
            n = !1 === r && void 0 === i ? e : t(n, e, o, s, a, l), r = !0;
        }), n;
    }
    function g(e, i) {
        if (!e) throw new Error("geojson is required");
        d(e, function(e, n, r) {
            if (null !== e.geometry) {
                var o = e.geometry.type, s = e.geometry.coordinates;
                switch(o){
                    case "LineString":
                        if (!1 === i(e, n, r, 0, 0)) return !1;
                        break;
                    case "Polygon":
                        for(var a = 0; a < s.length; a++)if (!1 === i(t.lineString(s[a], e.properties), n, r, a)) return !1;
                }
            }
        });
    }
    function v(e, t, i) {
        var n = i;
        return g(e, function(e, r, o, s) {
            n = 0 === r && void 0 === i ? e : t(n, e, r, o, s);
        }), n;
    }
    function y(e, i) {
        if (i = i || {}, !t.isObject(i)) throw new Error("options is invalid");
        var n, r = i.featureIndex || 0, o = i.multiFeatureIndex || 0, s = i.geometryIndex || 0, a = i.segmentIndex || 0, l = i.properties;
        switch(e.type){
            case "FeatureCollection":
                r < 0 && (r = e.features.length + r), l = l || e.features[r].properties, n = e.features[r].geometry;
                break;
            case "Feature":
                l = l || e.properties, n = e.geometry;
                break;
            case "Point":
            case "MultiPoint":
                return null;
            case "LineString":
            case "Polygon":
            case "MultiLineString":
            case "MultiPolygon":
                n = e;
                break;
            default:
                throw new Error("geojson is invalid");
        }
        if (null === n) return null;
        var h = n.coordinates;
        switch(n.type){
            case "Point":
            case "MultiPoint":
                return null;
            case "LineString":
                return a < 0 && (a = h.length + a - 1), t.lineString([
                    h[a],
                    h[a + 1]
                ], l, i);
            case "Polygon":
                return s < 0 && (s = h.length + s), a < 0 && (a = h[s].length + a - 1), t.lineString([
                    h[s][a],
                    h[s][a + 1]
                ], l, i);
            case "MultiLineString":
                return o < 0 && (o = h.length + o), a < 0 && (a = h[o].length + a - 1), t.lineString([
                    h[o][a],
                    h[o][a + 1]
                ], l, i);
            case "MultiPolygon":
                return o < 0 && (o = h.length + o), s < 0 && (s = h[o].length + s), a < 0 && (a = h[o][s].length - a - 1), t.lineString([
                    h[o][s][a],
                    h[o][s][a + 1]
                ], l, i);
        }
        throw new Error("geojson is invalid");
    }
    function w(e, i) {
        if (i = i || {}, !t.isObject(i)) throw new Error("options is invalid");
        var n, r = i.featureIndex || 0, o = i.multiFeatureIndex || 0, s = i.geometryIndex || 0, a = i.coordIndex || 0, l = i.properties;
        switch(e.type){
            case "FeatureCollection":
                r < 0 && (r = e.features.length + r), l = l || e.features[r].properties, n = e.features[r].geometry;
                break;
            case "Feature":
                l = l || e.properties, n = e.geometry;
                break;
            case "Point":
            case "MultiPoint":
                return null;
            case "LineString":
            case "Polygon":
            case "MultiLineString":
            case "MultiPolygon":
                n = e;
                break;
            default:
                throw new Error("geojson is invalid");
        }
        if (null === n) return null;
        var h = n.coordinates;
        switch(n.type){
            case "Point":
                return t.point(h, l, i);
            case "MultiPoint":
                return o < 0 && (o = h.length + o), t.point(h[o], l, i);
            case "LineString":
                return a < 0 && (a = h.length + a), t.point(h[a], l, i);
            case "Polygon":
                return s < 0 && (s = h.length + s), a < 0 && (a = h[s].length + a), t.point(h[s][a], l, i);
            case "MultiLineString":
                return o < 0 && (o = h.length + o), a < 0 && (a = h[o].length + a), t.point(h[o][a], l, i);
            case "MultiPolygon":
                return o < 0 && (o = h.length + o), s < 0 && (s = h[o].length + s), a < 0 && (a = h[o][s].length - a), t.point(h[o][s][a], l, i);
        }
        throw new Error("geojson is invalid");
    }
    (0, _chunkZRT45YCMJs.a)(i, "coordEach"), (0, _chunkZRT45YCMJs.a)(n, "coordReduce"), (0, _chunkZRT45YCMJs.a)(r, "propEach"), (0, _chunkZRT45YCMJs.a)(o, "propReduce"), (0, _chunkZRT45YCMJs.a)(s, "featureEach"), (0, _chunkZRT45YCMJs.a)(a, "featureReduce"), (0, _chunkZRT45YCMJs.a)(h, "coordAll"), (0, _chunkZRT45YCMJs.a)(c, "geomEach"), (0, _chunkZRT45YCMJs.a)(u, "geomReduce"), (0, _chunkZRT45YCMJs.a)(d, "flattenEach"), (0, _chunkZRT45YCMJs.a)(p, "flattenReduce"), (0, _chunkZRT45YCMJs.a)(f, "segmentEach"), (0, _chunkZRT45YCMJs.a)(m, "segmentReduce"), (0, _chunkZRT45YCMJs.a)(g, "lineEach"), (0, _chunkZRT45YCMJs.a)(v, "lineReduce"), (0, _chunkZRT45YCMJs.a)(y, "findSegment"), (0, _chunkZRT45YCMJs.a)(w, "findPoint"), e.coordAll = h, e.coordEach = i, e.coordReduce = n, e.featureEach = s, e.featureReduce = a, e.findPoint = w, e.findSegment = y, e.flattenEach = d, e.flattenReduce = p, e.geomEach = c, e.geomReduce = u, e.lineEach = g, e.lineReduce = v, e.propEach = r, e.propReduce = o, e.segmentEach = f, e.segmentReduce = m;
}), vP = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), Object.defineProperty(e, "__esModule", {
        value: !0
    });
    var t = s3();
    function i(e) {
        var i = [
            1 / 0,
            1 / 0,
            -1 / 0,
            -1 / 0
        ];
        return t.coordEach(e, function(e) {
            i[0] > e[0] && (i[0] = e[0]), i[1] > e[1] && (i[1] = e[1]), i[2] < e[0] && (i[2] = e[0]), i[3] < e[1] && (i[3] = e[1]);
        }), i;
    }
    (0, _chunkZRT45YCMJs.a)(i, "bbox"), i.default = i, e.default = i;
}), EP = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)();
    var i = oP(), n = r3(), r = s3(), o = vP().default, s = r.featureEach, a = (r.coordEach, n.polygon, n.featureCollection);
    function h(e) {
        var t = new i(e);
        return t.insert = function(e) {
            if ("Feature" !== e.type) throw new Error("invalid feature");
            return e.bbox = e.bbox ? e.bbox : o(e), i.prototype.insert.call(this, e);
        }, t.load = function(e) {
            var t = [];
            return Array.isArray(e) ? e.forEach(function(e) {
                if ("Feature" !== e.type) throw new Error("invalid features");
                e.bbox = e.bbox ? e.bbox : o(e), t.push(e);
            }) : s(e, function(e) {
                if ("Feature" !== e.type) throw new Error("invalid features");
                e.bbox = e.bbox ? e.bbox : o(e), t.push(e);
            }), i.prototype.load.call(this, t);
        }, t.remove = function(e, t) {
            if ("Feature" !== e.type) throw new Error("invalid feature");
            return e.bbox = e.bbox ? e.bbox : o(e), i.prototype.remove.call(this, e, t);
        }, t.clear = function() {
            return i.prototype.clear.call(this);
        }, t.search = function(e) {
            var t = i.prototype.search.call(this, this.toBBox(e));
            return a(t);
        }, t.collides = function(e) {
            return i.prototype.collides.call(this, this.toBBox(e));
        }, t.all = function() {
            var e = i.prototype.all.call(this);
            return a(e);
        }, t.toJSON = function() {
            return i.prototype.toJSON.call(this);
        }, t.fromJSON = function(e) {
            return i.prototype.fromJSON.call(this, e);
        }, t.toBBox = function(e) {
            var t;
            if (e.bbox) t = e.bbox;
            else if (Array.isArray(e) && 4 === e.length) t = e;
            else if (Array.isArray(e) && 6 === e.length) t = [
                e[0],
                e[1],
                e[3],
                e[4]
            ];
            else if ("Feature" === e.type) t = o(e);
            else {
                if ("FeatureCollection" !== e.type) throw new Error("invalid geojson");
                t = o(e);
            }
            return {
                minX: t[0],
                minY: t[1],
                maxX: t[2],
                maxY: t[3]
            };
        }, t;
    }
    (0, _chunkZRT45YCMJs.a)(h, "geojsonRbush"), t.exports = h, t.exports.default = h;
}), Q3 = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), t.exports = (0, _chunkZRT45YCMJs.a)(function(e) {
        if (!Array.isArray(e)) throw new TypeError("array-unique expects an array.");
        for(var t = e.length, i = -1; i++ < t;)for(var n = i + 1; n < e.length; ++n)e[i] === e[n] && e.splice(n--, 1);
        return e;
    }, "unique"), t.exports.immutable = (0, _chunkZRT45YCMJs.a)(function(e) {
        if (!Array.isArray(e)) throw new TypeError("array-unique expects an array.");
        for(var i = e.length, n = new Array(i), r = 0; r < i; r++)n[r] = e[r];
        return t.exports(n);
    }, "uniqueImmutable");
}), zS = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), t.exports = (e)=>encodeURIComponent(e).replace(/[!'()*]/g, (e)=>"%".concat(e.charCodeAt(0).toString(16).toUpperCase()));
}), YS = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)();
    var i = "%[a-f0-9]{2}", n = new RegExp("(" + i + ")|([^%]+?)", "gi"), r = new RegExp("(" + i + ")+", "gi");
    function o(e, t) {
        try {
            return [
                decodeURIComponent(e.join(""))
            ];
        } catch  {}
        if (1 === e.length) return e;
        t = t || 1;
        var i = e.slice(0, t), n = e.slice(t);
        return Array.prototype.concat.call([], o(i), o(n));
    }
    function s(e) {
        try {
            return decodeURIComponent(e);
        } catch  {
            for(var t = e.match(n) || [], i = 1; i < t.length; i++)t = (e = o(t, i).join("")).match(n) || [];
            return e;
        }
    }
    function a(e) {
        for(var t = {
            "%FE%FF": "\uFFFD\uFFFD",
            "%FF%FE": "\uFFFD\uFFFD"
        }, i = r.exec(e); i;){
            try {
                t[i[0]] = decodeURIComponent(i[0]);
            } catch  {
                var n = s(i[0]);
                n !== i[0] && (t[i[0]] = n);
            }
            i = r.exec(e);
        }
        t["%C2"] = "\uFFFD";
        for(var o = Object.keys(t), a = 0; a < o.length; a++){
            var l = o[a];
            e = e.replace(new RegExp(l, "g"), t[l]);
        }
        return e;
    }
    (0, _chunkZRT45YCMJs.a)(o, "decodeComponents"), (0, _chunkZRT45YCMJs.a)(s, "decode"), (0, _chunkZRT45YCMJs.a)(a, "customDecodeURIComponent"), t.exports = function(e) {
        if ("string" != typeof e) throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof e + "`");
        try {
            return e = e.replace(/\+/g, " "), decodeURIComponent(e);
        } catch  {
            return a(e);
        }
    };
}), XS = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), t.exports = (e, t)=>{
        if ("string" != typeof e || "string" != typeof t) throw new TypeError("Expected the arguments to be of type `string`");
        if ("" === t) return [
            e
        ];
        let i = e.indexOf(t);
        return -1 === i ? [
            e
        ] : [
            e.slice(0, i),
            e.slice(i + t.length)
        ];
    };
}), QS = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)(), t.exports = function(e, t) {
        for(var i = {}, n = Object.keys(e), r = Array.isArray(t), o = 0; o < n.length; o++){
            var s = n[o], a = e[s];
            (r ? -1 !== t.indexOf(s) : t(s, a, e)) && (i[s] = a);
        }
        return i;
    };
}), r7 = (0, _chunkZRT45YCMJs.c)((e)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)();
    var t = zS(), i = YS(), n = XS(), r = QS(), o = (0, _chunkZRT45YCMJs.a)((e)=>null == e, "isNullOrUndefined"), s = Symbol("encodeFragmentIdentifier");
    function a(e) {
        switch(e.arrayFormat){
            case "index":
                return (t)=>(i, n)=>{
                        let r = i.length;
                        return void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? i : null === n ? [
                            ...i,
                            [
                                u(t, e),
                                "[",
                                r,
                                "]"
                            ].join("")
                        ] : [
                            ...i,
                            [
                                u(t, e),
                                "[",
                                u(r, e),
                                "]=",
                                u(n, e)
                            ].join("")
                        ];
                    };
            case "bracket":
                return (t)=>(i, n)=>void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? i : null === n ? [
                            ...i,
                            [
                                u(t, e),
                                "[]"
                            ].join("")
                        ] : [
                            ...i,
                            [
                                u(t, e),
                                "[]=",
                                u(n, e)
                            ].join("")
                        ];
            case "comma":
            case "separator":
            case "bracket-separator":
                {
                    let t = "bracket-separator" === e.arrayFormat ? "[]=" : "=";
                    return (i)=>(n, r)=>void 0 === r || e.skipNull && null === r || e.skipEmptyString && "" === r ? n : (r = null === r ? "" : r, 0 === n.length ? [
                                [
                                    u(i, e),
                                    t,
                                    u(r, e)
                                ].join("")
                            ] : [
                                [
                                    n,
                                    u(r, e)
                                ].join(e.arrayFormatSeparator)
                            ]);
                }
            default:
                return (t)=>(i, n)=>void 0 === n || e.skipNull && null === n || e.skipEmptyString && "" === n ? i : null === n ? [
                            ...i,
                            u(t, e)
                        ] : [
                            ...i,
                            [
                                u(t, e),
                                "=",
                                u(n, e)
                            ].join("")
                        ];
        }
    }
    function h(e) {
        let t;
        switch(e.arrayFormat){
            case "index":
                return (e, i, n)=>{
                    t = /\[(\d*)\]$/.exec(e), e = e.replace(/\[\d*\]$/, ""), t ? (void 0 === n[e] && (n[e] = {}), n[e][t[1]] = i) : n[e] = i;
                };
            case "bracket":
                return (e, i, n)=>{
                    t = /(\[\])$/.exec(e), e = e.replace(/\[\]$/, ""), t ? void 0 !== n[e] ? n[e] = [].concat(n[e], i) : n[e] = [
                        i
                    ] : n[e] = i;
                };
            case "comma":
            case "separator":
                return (t, i, n)=>{
                    let r = "string" == typeof i && i.includes(e.arrayFormatSeparator), o = "string" == typeof i && !r && d(i, e).includes(e.arrayFormatSeparator);
                    i = o ? d(i, e) : i;
                    let s = r || o ? i.split(e.arrayFormatSeparator).map((t)=>d(t, e)) : null === i ? i : d(i, e);
                    n[t] = s;
                };
            case "bracket-separator":
                return (t, i, n)=>{
                    let r = /(\[\])$/.test(t);
                    if (t = t.replace(/\[\]$/, ""), !r) return void (n[t] = i && d(i, e));
                    let o = null === i ? [] : i.split(e.arrayFormatSeparator).map((t)=>d(t, e));
                    void 0 !== n[t] ? n[t] = [].concat(n[t], o) : n[t] = o;
                };
            default:
                return (e, t, i)=>{
                    void 0 !== i[e] ? i[e] = [].concat(i[e], t) : i[e] = t;
                };
        }
    }
    function c(e) {
        if ("string" != typeof e || 1 !== e.length) throw new TypeError("arrayFormatSeparator must be single character string");
    }
    function u(e, i) {
        return i.encode ? i.strict ? t(e) : encodeURIComponent(e) : e;
    }
    function d(e, t) {
        return t.decode ? i(e) : e;
    }
    function p(e) {
        return Array.isArray(e) ? e.sort() : "object" == typeof e ? p(Object.keys(e)).sort((e, t)=>Number(e) - Number(t)).map((t)=>e[t]) : e;
    }
    function f(e) {
        let t = e.indexOf("#");
        return -1 !== t && (e = e.slice(0, t)), e;
    }
    function m(e) {
        let t = "", i = e.indexOf("#");
        return -1 !== i && (t = e.slice(i)), t;
    }
    function g(e) {
        let t = (e = f(e)).indexOf("?");
        return -1 === t ? "" : e.slice(t + 1);
    }
    function v(e, t) {
        return t.parseNumbers && !Number.isNaN(Number(e)) && "string" == typeof e && "" !== e.trim() ? e = Number(e) : t.parseBooleans && null !== e && ("true" === e.toLowerCase() || "false" === e.toLowerCase()) && (e = "true" === e.toLowerCase()), e;
    }
    function y(e, t) {
        c((t = Object.assign({
            decode: !0,
            sort: !0,
            arrayFormat: "none",
            arrayFormatSeparator: ",",
            parseNumbers: !1,
            parseBooleans: !1
        }, t)).arrayFormatSeparator);
        let i = h(t), r = Object.create(null);
        if ("string" != typeof e || !(e = e.trim().replace(/^[?#&]/, ""))) return r;
        for (let o of e.split("&")){
            if ("" === o) continue;
            let [e, s] = n(t.decode ? o.replace(/\+/g, " ") : o, "=");
            s = void 0 === s ? null : [
                "comma",
                "separator",
                "bracket-separator"
            ].includes(t.arrayFormat) ? s : d(s, t), i(d(e, t), s, r);
        }
        for (let e of Object.keys(r)){
            let i = r[e];
            if ("object" == typeof i && null !== i) for (let e of Object.keys(i))i[e] = v(i[e], t);
            else r[e] = v(i, t);
        }
        return !1 === t.sort ? r : (!0 === t.sort ? Object.keys(r).sort() : Object.keys(r).sort(t.sort)).reduce((e, t)=>{
            let i = r[t];
            return i && "object" == typeof i && !Array.isArray(i) ? e[t] = p(i) : e[t] = i, e;
        }, Object.create(null));
    }
    (0, _chunkZRT45YCMJs.a)(a, "encoderForArrayFormat"), (0, _chunkZRT45YCMJs.a)(h, "parserForArrayFormat"), (0, _chunkZRT45YCMJs.a)(c, "validateArrayFormatSeparator"), (0, _chunkZRT45YCMJs.a)(u, "encode"), (0, _chunkZRT45YCMJs.a)(d, "decode"), (0, _chunkZRT45YCMJs.a)(p, "keysSorter"), (0, _chunkZRT45YCMJs.a)(f, "removeHash"), (0, _chunkZRT45YCMJs.a)(m, "getHash"), (0, _chunkZRT45YCMJs.a)(g, "extract"), (0, _chunkZRT45YCMJs.a)(v, "parseValue"), (0, _chunkZRT45YCMJs.a)(y, "parse"), e.extract = g, e.parse = y, e.stringify = (e, t)=>{
        if (!e) return "";
        c((t = Object.assign({
            encode: !0,
            strict: !0,
            arrayFormat: "none",
            arrayFormatSeparator: ","
        }, t)).arrayFormatSeparator);
        let i = (0, _chunkZRT45YCMJs.a)((i)=>t.skipNull && o(e[i]) || t.skipEmptyString && "" === e[i], "shouldFilter"), n = a(t), r = {};
        for (let t of Object.keys(e))i(t) || (r[t] = e[t]);
        let s = Object.keys(r);
        return !1 !== t.sort && s.sort(t.sort), s.map((i)=>{
            let r = e[i];
            return void 0 === r ? "" : null === r ? u(i, t) : Array.isArray(r) ? 0 === r.length && "bracket-separator" === t.arrayFormat ? u(i, t) + "[]" : r.reduce(n(i), []).join("&") : u(i, t) + "=" + u(r, t);
        }).filter((e)=>e.length > 0).join("&");
    }, e.parseUrl = (e, t)=>{
        t = Object.assign({
            decode: !0
        }, t);
        let [i, r] = n(e, "#");
        return Object.assign({
            url: i.split("?")[0] || "",
            query: y(g(e), t)
        }, t && t.parseFragmentIdentifier && r ? {
            fragmentIdentifier: d(r, t)
        } : {});
    }, e.stringifyUrl = (t, i)=>{
        i = Object.assign({
            encode: !0,
            strict: !0,
            [s]: !0
        }, i);
        let n = f(t.url).split("?")[0] || "", r = e.extract(t.url), o = e.parse(r, {
            sort: !1
        }), a = Object.assign(o, t.query), l = e.stringify(a, i);
        l && (l = "?".concat(l));
        let h = m(t.url);
        return t.fragmentIdentifier && (h = "#".concat(i[s] ? u(t.fragmentIdentifier, i) : t.fragmentIdentifier)), "".concat(n).concat(l).concat(h);
    }, e.pick = (t, i, n)=>{
        n = Object.assign({
            parseFragmentIdentifier: !0,
            [s]: !1
        }, n);
        let { url: o, query: a, fragmentIdentifier: l } = e.parseUrl(t, n);
        return e.stringifyUrl({
            url: o,
            query: r(a, i),
            fragmentIdentifier: l
        }, n);
    }, e.exclude = (t, i, n)=>{
        let r = Array.isArray(i) ? (e)=>!i.includes(e) : (e, t)=>!i(e, t);
        return e.pick(t, r, n);
    };
}), Vr = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)();
    var i = (0, _chunkZRT45YCMJs.a)(function() {
        this._tweens = {}, this._tweensAddedDuringUpdate = {};
    }, "_Group");
    i.prototype = {
        getAll: function() {
            return Object.keys(this._tweens).map((function(e) {
                return this._tweens[e];
            }).bind(this));
        },
        removeAll: function() {
            this._tweens = {};
        },
        add: function(e) {
            this._tweens[e.getId()] = e, this._tweensAddedDuringUpdate[e.getId()] = e;
        },
        remove: function(e) {
            delete this._tweens[e.getId()], delete this._tweensAddedDuringUpdate[e.getId()];
        },
        update: function(e, t) {
            var i = Object.keys(this._tweens);
            if (0 === i.length) return !1;
            for(e = void 0 !== e ? e : r.now(); i.length > 0;){
                this._tweensAddedDuringUpdate = {};
                for(var n = 0; n < i.length; n++){
                    var o = this._tweens[i[n]];
                    o && !1 === o.update(e) && (o._isPlaying = !1, t || delete this._tweens[i[n]]);
                }
                i = Object.keys(this._tweensAddedDuringUpdate);
            }
            return !0;
        }
    };
    var n, r = new i;
    r.Group = i, r._nextId = 0, r.nextId = function() {
        return r._nextId++;
    }, typeof self > "u" && typeof (0, _chunkA5C75TI6Js.b) < "u" && (0, _chunkA5C75TI6Js.b).hrtime ? r.now = function() {
        var e = (0, _chunkA5C75TI6Js.b).hrtime();
        return 1e3 * e[0] + e[1] / 1e6;
    } : typeof self < "u" && void 0 !== self.performance && void 0 !== self.performance.now ? r.now = self.performance.now.bind(self.performance) : void 0 !== Date.now ? r.now = Date.now : r.now = function() {
        return (new Date).getTime();
    }, r.Tween = function(e, t) {
        this._object = e, this._valuesStart = {}, this._valuesEnd = {}, this._valuesStartRepeat = {}, this._duration = 1e3, this._repeat = 0, this._repeatDelayTime = void 0, this._yoyo = !1, this._isPlaying = !1, this._reversed = !1, this._delayTime = 0, this._startTime = null, this._easingFunction = r.Easing.Linear.None, this._interpolationFunction = r.Interpolation.Linear, this._chainedTweens = [], this._onStartCallback = null, this._onStartCallbackFired = !1, this._onUpdateCallback = null, this._onRepeatCallback = null, this._onCompleteCallback = null, this._onStopCallback = null, this._group = t || r, this._id = r.nextId();
    }, r.Tween.prototype = {
        getId: function() {
            return this._id;
        },
        isPlaying: function() {
            return this._isPlaying;
        },
        to: function(e, t) {
            return this._valuesEnd = e, void 0 !== t && (this._duration = t), this;
        },
        duration: (0, _chunkZRT45YCMJs.a)(function(e) {
            return this._duration = e, this;
        }, "duration"),
        start: function(e) {
            for(var t in this._group.add(this), this._isPlaying = !0, this._onStartCallbackFired = !1, this._startTime = void 0 !== e ? "string" == typeof e ? r.now() + parseFloat(e) : e : r.now(), this._startTime += this._delayTime, this._valuesEnd){
                if (this._valuesEnd[t] instanceof Array) {
                    if (0 === this._valuesEnd[t].length) continue;
                    this._valuesEnd[t] = [
                        this._object[t]
                    ].concat(this._valuesEnd[t]);
                }
                void 0 !== this._object[t] && (this._valuesStart[t] = this._object[t], this._valuesStart[t] instanceof Array || (this._valuesStart[t] *= 1), this._valuesStartRepeat[t] = this._valuesStart[t] || 0);
            }
            return this;
        },
        stop: function() {
            return this._isPlaying ? (this._group.remove(this), this._isPlaying = !1, null !== this._onStopCallback && this._onStopCallback(this._object), this.stopChainedTweens(), this) : this;
        },
        end: function() {
            return this.update(1 / 0), this;
        },
        stopChainedTweens: function() {
            for(var e = 0, t = this._chainedTweens.length; e < t; e++)this._chainedTweens[e].stop();
        },
        group: function(e) {
            return this._group = e, this;
        },
        delay: function(e) {
            return this._delayTime = e, this;
        },
        repeat: function(e) {
            return this._repeat = e, this;
        },
        repeatDelay: function(e) {
            return this._repeatDelayTime = e, this;
        },
        yoyo: function(e) {
            return this._yoyo = e, this;
        },
        easing: function(e) {
            return this._easingFunction = e, this;
        },
        interpolation: function(e) {
            return this._interpolationFunction = e, this;
        },
        chain: function() {
            return this._chainedTweens = arguments, this;
        },
        onStart: function(e) {
            return this._onStartCallback = e, this;
        },
        onUpdate: function(e) {
            return this._onUpdateCallback = e, this;
        },
        onRepeat: (0, _chunkZRT45YCMJs.a)(function(e) {
            return this._onRepeatCallback = e, this;
        }, "onRepeat"),
        onComplete: function(e) {
            return this._onCompleteCallback = e, this;
        },
        onStop: function(e) {
            return this._onStopCallback = e, this;
        },
        update: function(e) {
            var t, i, n;
            if (e < this._startTime) return !0;
            for(t in !1 === this._onStartCallbackFired && (null !== this._onStartCallback && this._onStartCallback(this._object), this._onStartCallbackFired = !0), i = (e - this._startTime) / this._duration, i = 0 === this._duration || i > 1 ? 1 : i, n = this._easingFunction(i), this._valuesEnd)if (void 0 !== this._valuesStart[t]) {
                var r = this._valuesStart[t] || 0, o = this._valuesEnd[t];
                o instanceof Array ? this._object[t] = this._interpolationFunction(o, n) : ("string" == typeof o && (o = "+" === o.charAt(0) || "-" === o.charAt(0) ? r + parseFloat(o) : parseFloat(o)), "number" == typeof o && (this._object[t] = r + (o - r) * n));
            }
            if (null !== this._onUpdateCallback && this._onUpdateCallback(this._object, i), 1 === i) {
                if (this._repeat > 0) {
                    for(t in isFinite(this._repeat) && this._repeat--, this._valuesStartRepeat){
                        if ("string" == typeof this._valuesEnd[t] && (this._valuesStartRepeat[t] = this._valuesStartRepeat[t] + parseFloat(this._valuesEnd[t])), this._yoyo) {
                            var s = this._valuesStartRepeat[t];
                            this._valuesStartRepeat[t] = this._valuesEnd[t], this._valuesEnd[t] = s;
                        }
                        this._valuesStart[t] = this._valuesStartRepeat[t];
                    }
                    return this._yoyo && (this._reversed = !this._reversed), void 0 !== this._repeatDelayTime ? this._startTime = e + this._repeatDelayTime : this._startTime = e + this._delayTime, null !== this._onRepeatCallback && this._onRepeatCallback(this._object), !0;
                }
                null !== this._onCompleteCallback && this._onCompleteCallback(this._object);
                for(var a = 0, l = this._chainedTweens.length; a < l; a++)this._chainedTweens[a].start(this._startTime + this._duration);
                return !1;
            }
            return !0;
        }
    }, r.Easing = {
        Linear: {
            None: function(e) {
                return e;
            }
        },
        Quadratic: {
            In: function(e) {
                return e * e;
            },
            Out: function(e) {
                return e * (2 - e);
            },
            InOut: function(e) {
                return (e *= 2) < 1 ? .5 * e * e : -0.5 * (--e * (e - 2) - 1);
            }
        },
        Cubic: {
            In: function(e) {
                return e * e * e;
            },
            Out: function(e) {
                return --e * e * e + 1;
            },
            InOut: function(e) {
                return (e *= 2) < 1 ? .5 * e * e * e : .5 * ((e -= 2) * e * e + 2);
            }
        },
        Quartic: {
            In: function(e) {
                return e * e * e * e;
            },
            Out: function(e) {
                return 1 - --e * e * e * e;
            },
            InOut: function(e) {
                return (e *= 2) < 1 ? .5 * e * e * e * e : -0.5 * ((e -= 2) * e * e * e - 2);
            }
        },
        Quintic: {
            In: function(e) {
                return e * e * e * e * e;
            },
            Out: function(e) {
                return --e * e * e * e * e + 1;
            },
            InOut: function(e) {
                return (e *= 2) < 1 ? .5 * e * e * e * e * e : .5 * ((e -= 2) * e * e * e * e + 2);
            }
        },
        Sinusoidal: {
            In: function(e) {
                return 1 - Math.cos(e * Math.PI / 2);
            },
            Out: function(e) {
                return Math.sin(e * Math.PI / 2);
            },
            InOut: function(e) {
                return .5 * (1 - Math.cos(Math.PI * e));
            }
        },
        Exponential: {
            In: function(e) {
                return 0 === e ? 0 : Math.pow(1024, e - 1);
            },
            Out: function(e) {
                return 1 === e ? 1 : 1 - Math.pow(2, -10 * e);
            },
            InOut: function(e) {
                return 0 === e ? 0 : 1 === e ? 1 : (e *= 2) < 1 ? .5 * Math.pow(1024, e - 1) : .5 * (2 - Math.pow(2, -10 * (e - 1)));
            }
        },
        Circular: {
            In: function(e) {
                return 1 - Math.sqrt(1 - e * e);
            },
            Out: function(e) {
                return Math.sqrt(1 - --e * e);
            },
            InOut: function(e) {
                return (e *= 2) < 1 ? -0.5 * (Math.sqrt(1 - e * e) - 1) : .5 * (Math.sqrt(1 - (e -= 2) * e) + 1);
            }
        },
        Elastic: {
            In: function(e) {
                return 0 === e ? 0 : 1 === e ? 1 : -Math.pow(2, 10 * (e - 1)) * Math.sin(5 * (e - 1.1) * Math.PI);
            },
            Out: function(e) {
                return 0 === e ? 0 : 1 === e ? 1 : Math.pow(2, -10 * e) * Math.sin(5 * (e - .1) * Math.PI) + 1;
            },
            InOut: function(e) {
                return 0 === e ? 0 : 1 === e ? 1 : (e *= 2) < 1 ? -0.5 * Math.pow(2, 10 * (e - 1)) * Math.sin(5 * (e - 1.1) * Math.PI) : .5 * Math.pow(2, -10 * (e - 1)) * Math.sin(5 * (e - 1.1) * Math.PI) + 1;
            }
        },
        Back: {
            In: function(e) {
                var t = 1.70158;
                return e * e * ((t + 1) * e - t);
            },
            Out: function(e) {
                var t = 1.70158;
                return --e * e * ((t + 1) * e + t) + 1;
            },
            InOut: function(e) {
                var t = 2.5949095;
                return (e *= 2) < 1 ? e * e * ((t + 1) * e - t) * .5 : .5 * ((e -= 2) * e * ((t + 1) * e + t) + 2);
            }
        },
        Bounce: {
            In: function(e) {
                return 1 - r.Easing.Bounce.Out(1 - e);
            },
            Out: function(e) {
                return e < 1 / 2.75 ? 7.5625 * e * e : e < 2 / 2.75 ? 7.5625 * (e -= 1.5 / 2.75) * e + .75 : e < 2.5 / 2.75 ? 7.5625 * (e -= 2.25 / 2.75) * e + .9375 : 7.5625 * (e -= 2.625 / 2.75) * e + .984375;
            },
            InOut: function(e) {
                return e < .5 ? .5 * r.Easing.Bounce.In(2 * e) : .5 * r.Easing.Bounce.Out(2 * e - 1) + .5;
            }
        }
    }, r.Interpolation = {
        Linear: function(e, t) {
            var i = e.length - 1, n = i * t, o = Math.floor(n), s = r.Interpolation.Utils.Linear;
            return t < 0 ? s(e[0], e[1], n) : t > 1 ? s(e[i], e[i - 1], i - n) : s(e[o], e[o + 1 > i ? i : o + 1], n - o);
        },
        Bezier: function(e, t) {
            for(var i = 0, n = e.length - 1, o = Math.pow, s = r.Interpolation.Utils.Bernstein, a = 0; a <= n; a++)i += o(1 - t, n - a) * o(t, a) * e[a] * s(n, a);
            return i;
        },
        CatmullRom: function(e, t) {
            var i = e.length - 1, n = i * t, o = Math.floor(n), s = r.Interpolation.Utils.CatmullRom;
            return e[0] === e[i] ? (t < 0 && (o = Math.floor(n = i * (1 + t))), s(e[(o - 1 + i) % i], e[o], e[(o + 1) % i], e[(o + 2) % i], n - o)) : t < 0 ? e[0] - (s(e[0], e[0], e[1], e[1], -n) - e[0]) : t > 1 ? e[i] - (s(e[i], e[i], e[i - 1], e[i - 1], n - i) - e[i]) : s(e[o ? o - 1 : 0], e[o], e[i < o + 1 ? i : o + 1], e[i < o + 2 ? i : o + 2], n - o);
        },
        Utils: {
            Linear: function(e, t, i) {
                return (t - e) * i + e;
            },
            Bernstein: function(e, t) {
                var i = r.Interpolation.Utils.Factorial;
                return i(e) / i(t) / i(e - t);
            },
            Factorial: (n = [
                1
            ], function(e) {
                var t = 1;
                if (n[e]) return n[e];
                for(var i = e; i > 1; i--)t *= i;
                return n[e] = t, t;
            }),
            CatmullRom: function(e, t, i, n, r) {
                var o = .5 * (i - e), s = .5 * (n - t), a = r * r;
                return (2 * t - 2 * i + o + s) * (r * a) + (-3 * t + 3 * i - 2 * o - s) * a + o * r + t;
            }
        }
    }, function(i) {
        "function" == typeof define && define.amd ? define([], function() {
            return r;
        }) : typeof t < "u" && "object" == typeof e ? t.exports = r : void 0 !== i && (i.TWEEN = r);
    }(e);
}), R4 = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)(), function(e) {
        var i = /^\s+/, n = /\s+$/, r = 0, o = e.round, s = e.min, a = e.max, h = e.random;
        function c(e, t) {
            if (t = t || {}, (e = e || "") instanceof c) return e;
            if (!(this instanceof c)) return new c(e, t);
            var i = u(e);
            this._originalInput = e, this._r = i.r, this._g = i.g, this._b = i.b, this._a = i.a, this._roundA = o(100 * this._a) / 100, this._format = t.format || i.format, this._gradientType = t.gradientType, this._r < 1 && (this._r = o(this._r)), this._g < 1 && (this._g = o(this._g)), this._b < 1 && (this._b = o(this._b)), this._ok = i.ok, this._tc_id = r++;
        }
        function u(e) {
            var t = {
                r: 0,
                g: 0,
                b: 0
            }, i = 1, n = null, r = null, o = null, l = !1, h = !1;
            return "string" == typeof e && (e = J(e)), "object" == typeof e && (Q(e.r) && Q(e.g) && Q(e.b) ? (t = d(e.r, e.g, e.b), l = !0, h = "%" === String(e.r).substr(-1) ? "prgb" : "rgb") : Q(e.h) && Q(e.s) && Q(e.v) ? (n = V(e.s), r = V(e.v), t = g(e.h, n, r), l = !0, h = "hsv") : Q(e.h) && Q(e.s) && Q(e.l) && (n = V(e.s), o = V(e.l), t = f(e.h, n, o), l = !0, h = "hsl"), e.hasOwnProperty("a") && (i = e.a)), i = R(i), {
                ok: l,
                format: e.format || h,
                r: s(255, a(t.r, 0)),
                g: s(255, a(t.g, 0)),
                b: s(255, a(t.b, 0)),
                a: i
            };
        }
        function d(e, t, i) {
            return {
                r: 255 * N(e, 255),
                g: 255 * N(t, 255),
                b: 255 * N(i, 255)
            };
        }
        function p(e, t, i) {
            e = N(e, 255), t = N(t, 255), i = N(i, 255);
            var n, r, o = a(e, t, i), l = s(e, t, i), h = (o + l) / 2;
            if (o == l) n = r = 0;
            else {
                var c = o - l;
                switch(r = h > .5 ? c / (2 - o - l) : c / (o + l), o){
                    case e:
                        n = (t - i) / c + (t < i ? 6 : 0);
                        break;
                    case t:
                        n = (i - e) / c + 2;
                        break;
                    case i:
                        n = (e - t) / c + 4;
                }
                n /= 6;
            }
            return {
                h: n,
                s: r,
                l: h
            };
        }
        function f(e, t, i) {
            var n, r, o;
            function s(e, t, i) {
                return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? e + 6 * (t - e) * i : i < .5 ? t : i < 2 / 3 ? e + (t - e) * (2 / 3 - i) * 6 : e;
            }
            if (e = N(e, 360), t = N(t, 100), i = N(i, 100), (0, _chunkZRT45YCMJs.a)(s, "hue2rgb"), 0 === t) n = r = o = i;
            else {
                var a = i < .5 ? i * (1 + t) : i + t - i * t, h = 2 * i - a;
                n = s(h, a, e + 1 / 3), r = s(h, a, e), o = s(h, a, e - 1 / 3);
            }
            return {
                r: 255 * n,
                g: 255 * r,
                b: 255 * o
            };
        }
        function m(e, t, i) {
            e = N(e, 255), t = N(t, 255), i = N(i, 255);
            var n, r, o = a(e, t, i), l = s(e, t, i), h = o, c = o - l;
            if (r = 0 === o ? 0 : c / o, o == l) n = 0;
            else {
                switch(o){
                    case e:
                        n = (t - i) / c + (t < i ? 6 : 0);
                        break;
                    case t:
                        n = (i - e) / c + 2;
                        break;
                    case i:
                        n = (e - t) / c + 4;
                }
                n /= 6;
            }
            return {
                h: n,
                s: r,
                v: h
            };
        }
        function g(t, i, n) {
            t = 6 * N(t, 360), i = N(i, 100), n = N(n, 100);
            var r = e.floor(t), o = t - r, s = n * (1 - i), a = n * (1 - o * i), l = n * (1 - (1 - o) * i), h = r % 6;
            return {
                r: 255 * [
                    n,
                    a,
                    s,
                    s,
                    l,
                    n
                ][h],
                g: 255 * [
                    l,
                    n,
                    n,
                    a,
                    s,
                    s
                ][h],
                b: 255 * [
                    s,
                    s,
                    l,
                    n,
                    n,
                    a
                ][h]
            };
        }
        function v(e, t, i, n) {
            var r = [
                U(o(e).toString(16)),
                U(o(t).toString(16)),
                U(o(i).toString(16))
            ];
            return n && r[0].charAt(0) == r[0].charAt(1) && r[1].charAt(0) == r[1].charAt(1) && r[2].charAt(0) == r[2].charAt(1) ? r[0].charAt(0) + r[1].charAt(0) + r[2].charAt(0) : r.join("");
        }
        function y(e, t, i, n, r) {
            var s = [
                U(o(e).toString(16)),
                U(o(t).toString(16)),
                U(o(i).toString(16)),
                U(W(n))
            ];
            return r && s[0].charAt(0) == s[0].charAt(1) && s[1].charAt(0) == s[1].charAt(1) && s[2].charAt(0) == s[2].charAt(1) && s[3].charAt(0) == s[3].charAt(1) ? s[0].charAt(0) + s[1].charAt(0) + s[2].charAt(0) + s[3].charAt(0) : s.join("");
        }
        function b(e, t, i, n) {
            return [
                U(W(n)),
                U(o(e).toString(16)),
                U(o(t).toString(16)),
                U(o(i).toString(16))
            ].join("");
        }
        function w(e, t) {
            t = 0 === t ? 0 : t || 10;
            var i = c(e).toHsl();
            return i.s -= t / 100, i.s = k(i.s), c(i);
        }
        function A(e, t) {
            t = 0 === t ? 0 : t || 10;
            var i = c(e).toHsl();
            return i.s += t / 100, i.s = k(i.s), c(i);
        }
        function x(e) {
            return c(e).desaturate(100);
        }
        function E(e, t) {
            t = 0 === t ? 0 : t || 10;
            var i = c(e).toHsl();
            return i.l += t / 100, i.l = k(i.l), c(i);
        }
        function M(e, t) {
            t = 0 === t ? 0 : t || 10;
            var i = c(e).toRgb();
            return i.r = a(0, s(255, i.r - o(-t / 100 * 255))), i.g = a(0, s(255, i.g - o(-t / 100 * 255))), i.b = a(0, s(255, i.b - o(-t / 100 * 255))), c(i);
        }
        function q(e, t) {
            t = 0 === t ? 0 : t || 10;
            var i = c(e).toHsl();
            return i.l -= t / 100, i.l = k(i.l), c(i);
        }
        function C(e, t) {
            var i = c(e).toHsl(), n = (i.h + t) % 360;
            return i.h = n < 0 ? 360 + n : n, c(i);
        }
        function T(e) {
            var t = c(e).toHsl();
            return t.h = (t.h + 180) % 360, c(t);
        }
        function P(e) {
            var t = c(e).toHsl(), i = t.h;
            return [
                c(e),
                c({
                    h: (i + 120) % 360,
                    s: t.s,
                    l: t.l
                }),
                c({
                    h: (i + 240) % 360,
                    s: t.s,
                    l: t.l
                })
            ];
        }
        function S(e) {
            var t = c(e).toHsl(), i = t.h;
            return [
                c(e),
                c({
                    h: (i + 90) % 360,
                    s: t.s,
                    l: t.l
                }),
                c({
                    h: (i + 180) % 360,
                    s: t.s,
                    l: t.l
                }),
                c({
                    h: (i + 270) % 360,
                    s: t.s,
                    l: t.l
                })
            ];
        }
        function I(e) {
            var t = c(e).toHsl(), i = t.h;
            return [
                c(e),
                c({
                    h: (i + 72) % 360,
                    s: t.s,
                    l: t.l
                }),
                c({
                    h: (i + 216) % 360,
                    s: t.s,
                    l: t.l
                })
            ];
        }
        function O(e, t, i) {
            t = t || 6, i = i || 30;
            var n = c(e).toHsl(), r = 360 / i, o = [
                c(e)
            ];
            for(n.h = (n.h - (r * t >> 1) + 720) % 360; --t;)n.h = (n.h + r) % 360, o.push(c(n));
            return o;
        }
        function D(e, t) {
            t = t || 6;
            for(var i = c(e).toHsv(), n = i.h, r = i.s, o = i.v, s = [], a = 1 / t; t--;)s.push(c({
                h: n,
                s: r,
                v: o
            })), o = (o + a) % 1;
            return s;
        }
        (0, _chunkZRT45YCMJs.a)(c, "tinycolor"), c.prototype = {
            isDark: function() {
                return this.getBrightness() < 128;
            },
            isLight: function() {
                return !this.isDark();
            },
            isValid: function() {
                return this._ok;
            },
            getOriginalInput: function() {
                return this._originalInput;
            },
            getFormat: function() {
                return this._format;
            },
            getAlpha: function() {
                return this._a;
            },
            getBrightness: function() {
                var e = this.toRgb();
                return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3;
            },
            getLuminance: function() {
                var t, i, n, r = this.toRgb();
                return t = r.r / 255, i = r.g / 255, n = r.b / 255, .2126 * (t <= .03928 ? t / 12.92 : e.pow((t + .055) / 1.055, 2.4)) + .7152 * (i <= .03928 ? i / 12.92 : e.pow((i + .055) / 1.055, 2.4)) + .0722 * (n <= .03928 ? n / 12.92 : e.pow((n + .055) / 1.055, 2.4));
            },
            setAlpha: function(e) {
                return this._a = R(e), this._roundA = o(100 * this._a) / 100, this;
            },
            toHsv: function() {
                var e = m(this._r, this._g, this._b);
                return {
                    h: 360 * e.h,
                    s: e.s,
                    v: e.v,
                    a: this._a
                };
            },
            toHsvString: function() {
                var e = m(this._r, this._g, this._b), t = o(360 * e.h), i = o(100 * e.s), n = o(100 * e.v);
                return 1 == this._a ? "hsv(" + t + ", " + i + "%, " + n + "%)" : "hsva(" + t + ", " + i + "%, " + n + "%, " + this._roundA + ")";
            },
            toHsl: function() {
                var e = p(this._r, this._g, this._b);
                return {
                    h: 360 * e.h,
                    s: e.s,
                    l: e.l,
                    a: this._a
                };
            },
            toHslString: function() {
                var e = p(this._r, this._g, this._b), t = o(360 * e.h), i = o(100 * e.s), n = o(100 * e.l);
                return 1 == this._a ? "hsl(" + t + ", " + i + "%, " + n + "%)" : "hsla(" + t + ", " + i + "%, " + n + "%, " + this._roundA + ")";
            },
            toHex: function(e) {
                return v(this._r, this._g, this._b, e);
            },
            toHexString: function(e) {
                return "#" + this.toHex(e);
            },
            toHex8: function(e) {
                return y(this._r, this._g, this._b, this._a, e);
            },
            toHex8String: function(e) {
                return "#" + this.toHex8(e);
            },
            toRgb: function() {
                return {
                    r: o(this._r),
                    g: o(this._g),
                    b: o(this._b),
                    a: this._a
                };
            },
            toRgbString: function() {
                return 1 == this._a ? "rgb(" + o(this._r) + ", " + o(this._g) + ", " + o(this._b) + ")" : "rgba(" + o(this._r) + ", " + o(this._g) + ", " + o(this._b) + ", " + this._roundA + ")";
            },
            toPercentageRgb: function() {
                return {
                    r: o(100 * N(this._r, 255)) + "%",
                    g: o(100 * N(this._g, 255)) + "%",
                    b: o(100 * N(this._b, 255)) + "%",
                    a: this._a
                };
            },
            toPercentageRgbString: function() {
                return 1 == this._a ? "rgb(" + o(100 * N(this._r, 255)) + "%, " + o(100 * N(this._g, 255)) + "%, " + o(100 * N(this._b, 255)) + "%)" : "rgba(" + o(100 * N(this._r, 255)) + "%, " + o(100 * N(this._g, 255)) + "%, " + o(100 * N(this._b, 255)) + "%, " + this._roundA + ")";
            },
            toName: function() {
                return 0 === this._a ? "transparent" : !(this._a < 1) && (L[v(this._r, this._g, this._b, !0)] || !1);
            },
            toFilter: function(e) {
                var t = "#" + b(this._r, this._g, this._b, this._a), i = t, n = this._gradientType ? "GradientType = 1, " : "";
                if (e) {
                    var r = c(e);
                    i = "#" + b(r._r, r._g, r._b, r._a);
                }
                return "progid:DXImageTransform.Microsoft.gradient(" + n + "startColorstr=" + t + ",endColorstr=" + i + ")";
            },
            toString: function(e) {
                var t = !!e;
                e = e || this._format;
                var i = !1, n = this._a < 1 && this._a >= 0;
                return !t && n && ("hex" === e || "hex6" === e || "hex3" === e || "hex4" === e || "hex8" === e || "name" === e) ? "name" === e && 0 === this._a ? this.toName() : this.toRgbString() : ("rgb" === e && (i = this.toRgbString()), "prgb" === e && (i = this.toPercentageRgbString()), ("hex" === e || "hex6" === e) && (i = this.toHexString()), "hex3" === e && (i = this.toHexString(!0)), "hex4" === e && (i = this.toHex8String(!0)), "hex8" === e && (i = this.toHex8String()), "name" === e && (i = this.toName()), "hsl" === e && (i = this.toHslString()), "hsv" === e && (i = this.toHsvString()), i || this.toHexString());
            },
            clone: function() {
                return c(this.toString());
            },
            _applyModification: function(e, t) {
                var i = e.apply(null, [
                    this
                ].concat([].slice.call(t)));
                return this._r = i._r, this._g = i._g, this._b = i._b, this.setAlpha(i._a), this;
            },
            lighten: function() {
                return this._applyModification(E, arguments);
            },
            brighten: function() {
                return this._applyModification(M, arguments);
            },
            darken: function() {
                return this._applyModification(q, arguments);
            },
            desaturate: function() {
                return this._applyModification(w, arguments);
            },
            saturate: function() {
                return this._applyModification(A, arguments);
            },
            greyscale: function() {
                return this._applyModification(x, arguments);
            },
            spin: function() {
                return this._applyModification(C, arguments);
            },
            _applyCombination: function(e, t) {
                return e.apply(null, [
                    this
                ].concat([].slice.call(t)));
            },
            analogous: function() {
                return this._applyCombination(O, arguments);
            },
            complement: function() {
                return this._applyCombination(T, arguments);
            },
            monochromatic: function() {
                return this._applyCombination(D, arguments);
            },
            splitcomplement: function() {
                return this._applyCombination(I, arguments);
            },
            triad: function() {
                return this._applyCombination(P, arguments);
            },
            tetrad: function() {
                return this._applyCombination(S, arguments);
            }
        }, c.fromRatio = function(e, t) {
            if ("object" == typeof e) {
                var i = {};
                for(var n in e)e.hasOwnProperty(n) && (i[n] = "a" === n ? e[n] : V(e[n]));
                e = i;
            }
            return c(e, t);
        }, (0, _chunkZRT45YCMJs.a)(u, "inputToRGB"), (0, _chunkZRT45YCMJs.a)(d, "rgbToRgb"), (0, _chunkZRT45YCMJs.a)(p, "rgbToHsl"), (0, _chunkZRT45YCMJs.a)(f, "hslToRgb"), (0, _chunkZRT45YCMJs.a)(m, "rgbToHsv"), (0, _chunkZRT45YCMJs.a)(g, "hsvToRgb"), (0, _chunkZRT45YCMJs.a)(v, "rgbToHex"), (0, _chunkZRT45YCMJs.a)(y, "rgbaToHex"), (0, _chunkZRT45YCMJs.a)(b, "rgbaToArgbHex"), c.equals = function(e, t) {
            return !(!e || !t) && c(e).toRgbString() == c(t).toRgbString();
        }, c.random = function() {
            return c.fromRatio({
                r: h(),
                g: h(),
                b: h()
            });
        }, (0, _chunkZRT45YCMJs.a)(w, "desaturate"), (0, _chunkZRT45YCMJs.a)(A, "saturate"), (0, _chunkZRT45YCMJs.a)(x, "greyscale"), (0, _chunkZRT45YCMJs.a)(E, "lighten"), (0, _chunkZRT45YCMJs.a)(M, "brighten"), (0, _chunkZRT45YCMJs.a)(q, "darken"), (0, _chunkZRT45YCMJs.a)(C, "spin"), (0, _chunkZRT45YCMJs.a)(T, "complement"), (0, _chunkZRT45YCMJs.a)(P, "triad"), (0, _chunkZRT45YCMJs.a)(S, "tetrad"), (0, _chunkZRT45YCMJs.a)(I, "splitcomplement"), (0, _chunkZRT45YCMJs.a)(O, "analogous"), (0, _chunkZRT45YCMJs.a)(D, "monochromatic"), c.mix = function(e, t, i) {
            i = 0 === i ? 0 : i || 50;
            var n = c(e).toRgb(), r = c(t).toRgb(), o = i / 100;
            return c({
                r: (r.r - n.r) * o + n.r,
                g: (r.g - n.g) * o + n.g,
                b: (r.b - n.b) * o + n.b,
                a: (r.a - n.a) * o + n.a
            });
        }, c.readability = function(t, i) {
            var n = c(t), r = c(i);
            return (e.max(n.getLuminance(), r.getLuminance()) + .05) / (e.min(n.getLuminance(), r.getLuminance()) + .05);
        }, c.isReadable = function(e, t, i) {
            var n, r, o = c.readability(e, t);
            switch(r = !1, (n = K(i)).level + n.size){
                case "AAsmall":
                case "AAAlarge":
                    r = o >= 4.5;
                    break;
                case "AAlarge":
                    r = o >= 3;
                    break;
                case "AAAsmall":
                    r = o >= 7;
            }
            return r;
        }, c.mostReadable = function(e, t, i) {
            var n, r, o, s, a = null, l = 0;
            r = (i = i || {}).includeFallbackColors, o = i.level, s = i.size;
            for(var h = 0; h < t.length; h++)(n = c.readability(e, t[h])) > l && (l = n, a = c(t[h]));
            return c.isReadable(e, a, {
                level: o,
                size: s
            }) || !r ? a : (i.includeFallbackColors = !1, c.mostReadable(e, [
                "#fff",
                "#000"
            ], i));
        };
        var _ = c.names = {
            aliceblue: "f0f8ff",
            antiquewhite: "faebd7",
            aqua: "0ff",
            aquamarine: "7fffd4",
            azure: "f0ffff",
            beige: "f5f5dc",
            bisque: "ffe4c4",
            black: "000",
            blanchedalmond: "ffebcd",
            blue: "00f",
            blueviolet: "8a2be2",
            brown: "a52a2a",
            burlywood: "deb887",
            burntsienna: "ea7e5d",
            cadetblue: "5f9ea0",
            chartreuse: "7fff00",
            chocolate: "d2691e",
            coral: "ff7f50",
            cornflowerblue: "6495ed",
            cornsilk: "fff8dc",
            crimson: "dc143c",
            cyan: "0ff",
            darkblue: "00008b",
            darkcyan: "008b8b",
            darkgoldenrod: "b8860b",
            darkgray: "a9a9a9",
            darkgreen: "006400",
            darkgrey: "a9a9a9",
            darkkhaki: "bdb76b",
            darkmagenta: "8b008b",
            darkolivegreen: "556b2f",
            darkorange: "ff8c00",
            darkorchid: "9932cc",
            darkred: "8b0000",
            darksalmon: "e9967a",
            darkseagreen: "8fbc8f",
            darkslateblue: "483d8b",
            darkslategray: "2f4f4f",
            darkslategrey: "2f4f4f",
            darkturquoise: "00ced1",
            darkviolet: "9400d3",
            deeppink: "ff1493",
            deepskyblue: "00bfff",
            dimgray: "696969",
            dimgrey: "696969",
            dodgerblue: "1e90ff",
            firebrick: "b22222",
            floralwhite: "fffaf0",
            forestgreen: "228b22",
            fuchsia: "f0f",
            gainsboro: "dcdcdc",
            ghostwhite: "f8f8ff",
            gold: "ffd700",
            goldenrod: "daa520",
            gray: "808080",
            green: "008000",
            greenyellow: "adff2f",
            grey: "808080",
            honeydew: "f0fff0",
            hotpink: "ff69b4",
            indianred: "cd5c5c",
            indigo: "4b0082",
            ivory: "fffff0",
            khaki: "f0e68c",
            lavender: "e6e6fa",
            lavenderblush: "fff0f5",
            lawngreen: "7cfc00",
            lemonchiffon: "fffacd",
            lightblue: "add8e6",
            lightcoral: "f08080",
            lightcyan: "e0ffff",
            lightgoldenrodyellow: "fafad2",
            lightgray: "d3d3d3",
            lightgreen: "90ee90",
            lightgrey: "d3d3d3",
            lightpink: "ffb6c1",
            lightsalmon: "ffa07a",
            lightseagreen: "20b2aa",
            lightskyblue: "87cefa",
            lightslategray: "789",
            lightslategrey: "789",
            lightsteelblue: "b0c4de",
            lightyellow: "ffffe0",
            lime: "0f0",
            limegreen: "32cd32",
            linen: "faf0e6",
            magenta: "f0f",
            maroon: "800000",
            mediumaquamarine: "66cdaa",
            mediumblue: "0000cd",
            mediumorchid: "ba55d3",
            mediumpurple: "9370db",
            mediumseagreen: "3cb371",
            mediumslateblue: "7b68ee",
            mediumspringgreen: "00fa9a",
            mediumturquoise: "48d1cc",
            mediumvioletred: "c71585",
            midnightblue: "191970",
            mintcream: "f5fffa",
            mistyrose: "ffe4e1",
            moccasin: "ffe4b5",
            navajowhite: "ffdead",
            navy: "000080",
            oldlace: "fdf5e6",
            olive: "808000",
            olivedrab: "6b8e23",
            orange: "ffa500",
            orangered: "ff4500",
            orchid: "da70d6",
            palegoldenrod: "eee8aa",
            palegreen: "98fb98",
            paleturquoise: "afeeee",
            palevioletred: "db7093",
            papayawhip: "ffefd5",
            peachpuff: "ffdab9",
            peru: "cd853f",
            pink: "ffc0cb",
            plum: "dda0dd",
            powderblue: "b0e0e6",
            purple: "800080",
            rebeccapurple: "663399",
            red: "f00",
            rosybrown: "bc8f8f",
            royalblue: "4169e1",
            saddlebrown: "8b4513",
            salmon: "fa8072",
            sandybrown: "f4a460",
            seagreen: "2e8b57",
            seashell: "fff5ee",
            sienna: "a0522d",
            silver: "c0c0c0",
            skyblue: "87ceeb",
            slateblue: "6a5acd",
            slategray: "708090",
            slategrey: "708090",
            snow: "fffafa",
            springgreen: "00ff7f",
            steelblue: "4682b4",
            tan: "d2b48c",
            teal: "008080",
            thistle: "d8bfd8",
            tomato: "ff6347",
            turquoise: "40e0d0",
            violet: "ee82ee",
            wheat: "f5deb3",
            white: "fff",
            whitesmoke: "f5f5f5",
            yellow: "ff0",
            yellowgreen: "9acd32"
        }, L = c.hexNames = B(_);
        function B(e) {
            var t = {};
            for(var i in e)e.hasOwnProperty(i) && (t[e[i]] = i);
            return t;
        }
        function R(e) {
            return e = parseFloat(e), (isNaN(e) || e < 0 || e > 1) && (e = 1), e;
        }
        function N(t, i) {
            z(t) && (t = "100%");
            var n = j(t);
            return t = s(i, a(0, parseFloat(t))), n && (t = parseInt(t * i, 10) / 100), e.abs(t - i) < 1e-6 ? 1 : t % i / parseFloat(i);
        }
        function k(e) {
            return s(1, a(0, e));
        }
        function F(e) {
            return parseInt(e, 16);
        }
        function z(e) {
            return "string" == typeof e && -1 != e.indexOf(".") && 1 === parseFloat(e);
        }
        function j(e) {
            return "string" == typeof e && -1 != e.indexOf("%");
        }
        function U(e) {
            return 1 == e.length ? "0" + e : "" + e;
        }
        function V(e) {
            return e <= 1 && (e = 100 * e + "%"), e;
        }
        function W(t) {
            return e.round(255 * parseFloat(t)).toString(16);
        }
        function G(e) {
            return F(e) / 255;
        }
        (0, _chunkZRT45YCMJs.a)(B, "flip"), (0, _chunkZRT45YCMJs.a)(R, "boundAlpha"), (0, _chunkZRT45YCMJs.a)(N, "bound01"), (0, _chunkZRT45YCMJs.a)(k, "clamp01"), (0, _chunkZRT45YCMJs.a)(F, "parseIntFromHex"), (0, _chunkZRT45YCMJs.a)(z, "isOnePointZero"), (0, _chunkZRT45YCMJs.a)(j, "isPercentage"), (0, _chunkZRT45YCMJs.a)(U, "pad2"), (0, _chunkZRT45YCMJs.a)(V, "convertToPercentage"), (0, _chunkZRT45YCMJs.a)(W, "convertDecimalToHex"), (0, _chunkZRT45YCMJs.a)(G, "convertHexToDecimal");
        var H, Y, X, Z = (Y = "[\\s|\\(]+(" + (H = "(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)") + ")[,|\\s]+(" + H + ")[,|\\s]+(" + H + ")\\s*\\)?", X = "[\\s|\\(]+(" + H + ")[,|\\s]+(" + H + ")[,|\\s]+(" + H + ")[,|\\s]+(" + H + ")\\s*\\)?", {
            CSS_UNIT: new RegExp(H),
            rgb: new RegExp("rgb" + Y),
            rgba: new RegExp("rgba" + X),
            hsl: new RegExp("hsl" + Y),
            hsla: new RegExp("hsla" + X),
            hsv: new RegExp("hsv" + Y),
            hsva: new RegExp("hsva" + X),
            hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
            hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
            hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
            hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
        });
        function Q(e) {
            return !!Z.CSS_UNIT.exec(e);
        }
        function J(e) {
            e = e.replace(i, "").replace(n, "").toLowerCase();
            var t, r = !1;
            if (_[e]) e = _[e], r = !0;
            else if ("transparent" == e) return {
                r: 0,
                g: 0,
                b: 0,
                a: 0,
                format: "name"
            };
            return (t = Z.rgb.exec(e)) ? {
                r: t[1],
                g: t[2],
                b: t[3]
            } : (t = Z.rgba.exec(e)) ? {
                r: t[1],
                g: t[2],
                b: t[3],
                a: t[4]
            } : (t = Z.hsl.exec(e)) ? {
                h: t[1],
                s: t[2],
                l: t[3]
            } : (t = Z.hsla.exec(e)) ? {
                h: t[1],
                s: t[2],
                l: t[3],
                a: t[4]
            } : (t = Z.hsv.exec(e)) ? {
                h: t[1],
                s: t[2],
                v: t[3]
            } : (t = Z.hsva.exec(e)) ? {
                h: t[1],
                s: t[2],
                v: t[3],
                a: t[4]
            } : (t = Z.hex8.exec(e)) ? {
                r: F(t[1]),
                g: F(t[2]),
                b: F(t[3]),
                a: G(t[4]),
                format: r ? "name" : "hex8"
            } : (t = Z.hex6.exec(e)) ? {
                r: F(t[1]),
                g: F(t[2]),
                b: F(t[3]),
                format: r ? "name" : "hex"
            } : (t = Z.hex4.exec(e)) ? {
                r: F(t[1] + "" + t[1]),
                g: F(t[2] + "" + t[2]),
                b: F(t[3] + "" + t[3]),
                a: G(t[4] + "" + t[4]),
                format: r ? "name" : "hex8"
            } : !!(t = Z.hex3.exec(e)) && {
                r: F(t[1] + "" + t[1]),
                g: F(t[2] + "" + t[2]),
                b: F(t[3] + "" + t[3]),
                format: r ? "name" : "hex"
            };
        }
        function K(e) {
            var t, i;
            return "AA" !== (t = ((e = e || {
                level: "AA",
                size: "small"
            }).level || "AA").toUpperCase()) && "AAA" !== t && (t = "AA"), "small" !== (i = (e.size || "small").toLowerCase()) && "large" !== i && (i = "small"), {
                level: t,
                size: i
            };
        }
        (0, _chunkZRT45YCMJs.a)(Q, "isValidCSSUnit"), (0, _chunkZRT45YCMJs.a)(J, "stringInputToObject"), (0, _chunkZRT45YCMJs.a)(K, "validateWCAG2Parms"), typeof t < "u" && t.exports ? t.exports = c : "function" == typeof define && define.amd ? define(function() {
            return c;
        }) : window.tinycolor = c;
    }(Math);
}), Rp = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)();
    var i = "__lodash_hash_undefined__", n = 9007199254740991, r = "[object Arguments]", o = "[object Function]", s = "[object Object]", a = /^\[object .+?Constructor\]$/, h = /^(?:0|[1-9]\d*)$/, c = {};
    c["[object Float32Array]"] = c["[object Float64Array]"] = c["[object Int8Array]"] = c["[object Int16Array]"] = c["[object Int32Array]"] = c["[object Uint8Array]"] = c["[object Uint8ClampedArray]"] = c["[object Uint16Array]"] = c["[object Uint32Array]"] = !0, c[r] = c["[object Array]"] = c["[object ArrayBuffer]"] = c["[object Boolean]"] = c["[object DataView]"] = c["[object Date]"] = c["[object Error]"] = c[o] = c["[object Map]"] = c["[object Number]"] = c[s] = c["[object RegExp]"] = c["[object Set]"] = c["[object String]"] = c["[object WeakMap]"] = !1;
    var u = "object" == typeof global && global && global.Object === Object && global, d = "object" == typeof self && self && self.Object === Object && self, p = u || d || Function("return this")(), f = "object" == typeof e && e && !e.nodeType && e, m = f && "object" == typeof t && t && !t.nodeType && t, g = m && m.exports === f, v = g && u.process, y = function() {
        try {
            return m && m.require && m.require("util").types || v && v.binding && v.binding("util");
        } catch  {}
    }(), w = y && y.isTypedArray;
    function A(e, t, i) {
        switch(i.length){
            case 0:
                return e.call(t);
            case 1:
                return e.call(t, i[0]);
            case 2:
                return e.call(t, i[0], i[1]);
            case 3:
                return e.call(t, i[0], i[1], i[2]);
        }
        return e.apply(t, i);
    }
    function x(e, t) {
        for(var i = -1, n = Array(e); ++i < e;)n[i] = t(i);
        return n;
    }
    function E(e) {
        return function(t) {
            return e(t);
        };
    }
    function M(e, t) {
        return null == e ? void 0 : e[t];
    }
    function q(e, t) {
        return function(i) {
            return e(t(i));
        };
    }
    (0, _chunkZRT45YCMJs.a)(A, "apply"), (0, _chunkZRT45YCMJs.a)(x, "baseTimes"), (0, _chunkZRT45YCMJs.a)(E, "baseUnary"), (0, _chunkZRT45YCMJs.a)(M, "getValue"), (0, _chunkZRT45YCMJs.a)(q, "overArg");
    var C, T = Array.prototype, P = Function.prototype, S = Object.prototype, I = p["__core-js_shared__"], O = P.toString, D = S.hasOwnProperty, _ = (C = /[^.]+$/.exec(I && I.keys && I.keys.IE_PROTO || "")) ? "Symbol(src)_1." + C : "", L = S.toString, B = O.call(Object), R = RegExp("^" + O.call(D).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), N = g ? p.Buffer : void 0, k = p.Symbol, F = p.Uint8Array, z = N ? N.allocUnsafe : void 0, j = q(Object.getPrototypeOf, Object), U = Object.create, V = S.propertyIsEnumerable, W = T.splice, G = k ? k.toStringTag : void 0, H = function() {
        try {
            var e = Ye(Object, "defineProperty");
            return e({}, "", {}), e;
        } catch  {}
    }(), Y = N ? N.isBuffer : void 0, X = Math.max, Z = Date.now, Q = Ye(p, "Map"), J = Ye(Object, "create"), K = function() {
        function e() {}
        return (0, _chunkZRT45YCMJs.a)(e, "object"), function(t) {
            if (!gt(t)) return {};
            if (U) return U(t);
            e.prototype = t;
            var i = new e;
            return e.prototype = void 0, i;
        };
    }();
    function $(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function ee() {
        this.__data__ = J ? J(null) : {}, this.size = 0;
    }
    function te(e) {
        var t = this.has(e) && delete this.__data__[e];
        return this.size -= t ? 1 : 0, t;
    }
    function ie(e) {
        var t = this.__data__;
        if (J) {
            var n = t[e];
            return n === i ? void 0 : n;
        }
        return D.call(t, e) ? t[e] : void 0;
    }
    function ne(e) {
        var t = this.__data__;
        return J ? void 0 !== t[e] : D.call(t, e);
    }
    function re(e, t) {
        var n = this.__data__;
        return this.size += this.has(e) ? 0 : 1, n[e] = J && void 0 === t ? i : t, this;
    }
    function oe(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function se() {
        this.__data__ = [], this.size = 0;
    }
    function ae(e) {
        var t = this.__data__, i = Ce(t, e);
        return !(i < 0) && (i == t.length - 1 ? t.pop() : W.call(t, i, 1), --this.size, !0);
    }
    function le(e) {
        var t = this.__data__, i = Ce(t, e);
        return i < 0 ? void 0 : t[i][1];
    }
    function he(e) {
        return Ce(this.__data__, e) > -1;
    }
    function ce(e, t) {
        var i = this.__data__, n = Ce(i, e);
        return n < 0 ? (++this.size, i.push([
            e,
            t
        ])) : i[n][1] = t, this;
    }
    function ue(e) {
        var t = -1, i = null == e ? 0 : e.length;
        for(this.clear(); ++t < i;){
            var n = e[t];
            this.set(n[0], n[1]);
        }
    }
    function de() {
        this.size = 0, this.__data__ = {
            hash: new $,
            map: new (Q || oe),
            string: new $
        };
    }
    function pe(e) {
        var t = He(this, e).delete(e);
        return this.size -= t ? 1 : 0, t;
    }
    function fe(e) {
        return He(this, e).get(e);
    }
    function me(e) {
        return He(this, e).has(e);
    }
    function ge(e, t) {
        var i = He(this, e), n = i.size;
        return i.set(e, t), this.size += i.size == n ? 0 : 1, this;
    }
    function ve(e) {
        var t = this.__data__ = new oe(e);
        this.size = t.size;
    }
    function ye() {
        this.__data__ = new oe, this.size = 0;
    }
    function be(e) {
        var t = this.__data__, i = t.delete(e);
        return this.size = t.size, i;
    }
    function we(e) {
        return this.__data__.get(e);
    }
    function Ae(e) {
        return this.__data__.has(e);
    }
    function xe(e, t) {
        var i = this.__data__;
        if (i instanceof oe) {
            var n = i.__data__;
            if (!Q || n.length < 199) return n.push([
                e,
                t
            ]), this.size = ++i.size, this;
            i = this.__data__ = new ue(n);
        }
        return i.set(e, t), this.size = i.size, this;
    }
    function Ee(e, t) {
        var i = ct(e), n = !i && ht(e), r = !i && !n && pt(e), o = !i && !n && !r && bt(e), s = i || n || r || o, a = s ? x(e.length, String) : [], l = a.length;
        for(var h in e)(t || D.call(e, h)) && (!s || !("length" == h || r && ("offset" == h || "parent" == h) || o && ("buffer" == h || "byteLength" == h || "byteOffset" == h) || Qe(h, l))) && a.push(h);
        return a;
    }
    function Me(e, t, i) {
        (void 0 !== i && !lt(e[t], i) || void 0 === i && !(t in e)) && Te(e, t, i);
    }
    function qe(e, t, i) {
        var n = e[t];
        (!D.call(e, t) || !lt(n, i) || void 0 === i && !(t in e)) && Te(e, t, i);
    }
    function Ce(e, t) {
        for(var i = e.length; i--;)if (lt(e[i][0], t)) return i;
        return -1;
    }
    function Te(e, t, i) {
        "__proto__" == t && H ? H(e, t, {
            configurable: !0,
            enumerable: !0,
            value: i,
            writable: !0
        }) : e[t] = i;
    }
    (0, _chunkZRT45YCMJs.a)($, "Hash"), (0, _chunkZRT45YCMJs.a)(ee, "hashClear"), (0, _chunkZRT45YCMJs.a)(te, "hashDelete"), (0, _chunkZRT45YCMJs.a)(ie, "hashGet"), (0, _chunkZRT45YCMJs.a)(ne, "hashHas"), (0, _chunkZRT45YCMJs.a)(re, "hashSet"), $.prototype.clear = ee, $.prototype.delete = te, $.prototype.get = ie, $.prototype.has = ne, $.prototype.set = re, (0, _chunkZRT45YCMJs.a)(oe, "ListCache"), (0, _chunkZRT45YCMJs.a)(se, "listCacheClear"), (0, _chunkZRT45YCMJs.a)(ae, "listCacheDelete"), (0, _chunkZRT45YCMJs.a)(le, "listCacheGet"), (0, _chunkZRT45YCMJs.a)(he, "listCacheHas"), (0, _chunkZRT45YCMJs.a)(ce, "listCacheSet"), oe.prototype.clear = se, oe.prototype.delete = ae, oe.prototype.get = le, oe.prototype.has = he, oe.prototype.set = ce, (0, _chunkZRT45YCMJs.a)(ue, "MapCache"), (0, _chunkZRT45YCMJs.a)(de, "mapCacheClear"), (0, _chunkZRT45YCMJs.a)(pe, "mapCacheDelete"), (0, _chunkZRT45YCMJs.a)(fe, "mapCacheGet"), (0, _chunkZRT45YCMJs.a)(me, "mapCacheHas"), (0, _chunkZRT45YCMJs.a)(ge, "mapCacheSet"), ue.prototype.clear = de, ue.prototype.delete = pe, ue.prototype.get = fe, ue.prototype.has = me, ue.prototype.set = ge, (0, _chunkZRT45YCMJs.a)(ve, "Stack"), (0, _chunkZRT45YCMJs.a)(ye, "stackClear"), (0, _chunkZRT45YCMJs.a)(be, "stackDelete"), (0, _chunkZRT45YCMJs.a)(we, "stackGet"), (0, _chunkZRT45YCMJs.a)(Ae, "stackHas"), (0, _chunkZRT45YCMJs.a)(xe, "stackSet"), ve.prototype.clear = ye, ve.prototype.delete = be, ve.prototype.get = we, ve.prototype.has = Ae, ve.prototype.set = xe, (0, _chunkZRT45YCMJs.a)(Ee, "arrayLikeKeys"), (0, _chunkZRT45YCMJs.a)(Me, "assignMergeValue"), (0, _chunkZRT45YCMJs.a)(qe, "assignValue"), (0, _chunkZRT45YCMJs.a)(Ce, "assocIndexOf"), (0, _chunkZRT45YCMJs.a)(Te, "baseAssignValue");
    var Pe = We();
    function Se(e) {
        return null == e ? void 0 === e ? "[object Undefined]" : "[object Null]" : G && G in Object(e) ? Xe(e) : it(e);
    }
    function Ie(e) {
        return vt(e) && Se(e) == r;
    }
    function Oe(e) {
        return !(!gt(e) || $e(e)) && (ft(e) ? R : a).test(at(e));
    }
    function De(e) {
        return vt(e) && mt(e.length) && !!c[Se(e)];
    }
    function _e(e) {
        if (!gt(e)) return tt(e);
        var t = et(e), i = [];
        for(var n in e)"constructor" == n && (t || !D.call(e, n)) || i.push(n);
        return i;
    }
    function Le(e, t, i, n, r) {
        e !== t && Pe(t, function(o, s) {
            if (r || (r = new ve), gt(o)) Be(e, t, s, i, Le, n, r);
            else {
                var a = n ? n(rt(e, s), o, s + "", e, t, r) : void 0;
                void 0 === a && (a = o), Me(e, s, a);
            }
        }, xt);
    }
    function Be(e, t, i, n, r, o, s) {
        var a = rt(e, i), l = rt(t, i), h = s.get(l);
        if (h) Me(e, i, h);
        else {
            var c = o ? o(a, l, i + "", e, t, s) : void 0, u = void 0 === c;
            if (u) {
                var d = ct(l), p = !d && pt(l), f = !d && !p && bt(l);
                c = l, d || p || f ? ct(a) ? c = a : dt(a) ? c = je(a) : p ? (u = !1, c = ke(l, !0)) : f ? (u = !1, c = ze(l, !0)) : c = [] : yt(l) || ht(l) ? (c = a, ht(a) ? c = wt(a) : (!gt(a) || ft(a)) && (c = Ze(l))) : u = !1;
            }
            u && (s.set(l, c), r(c, l, n, o, s), s.delete(l)), Me(e, i, c);
        }
    }
    function Re(e, t) {
        return ot(nt(e, t, qt), e + "");
    }
    (0, _chunkZRT45YCMJs.a)(Se, "baseGetTag"), (0, _chunkZRT45YCMJs.a)(Ie, "baseIsArguments"), (0, _chunkZRT45YCMJs.a)(Oe, "baseIsNative"), (0, _chunkZRT45YCMJs.a)(De, "baseIsTypedArray"), (0, _chunkZRT45YCMJs.a)(_e, "baseKeysIn"), (0, _chunkZRT45YCMJs.a)(Le, "baseMerge"), (0, _chunkZRT45YCMJs.a)(Be, "baseMergeDeep"), (0, _chunkZRT45YCMJs.a)(Re, "baseRest");
    var Ne = H ? function(e, t) {
        return H(e, "toString", {
            configurable: !0,
            enumerable: !1,
            value: Mt(t),
            writable: !0
        });
    } : qt;
    function ke(e, t) {
        if (t) return e.slice();
        var i = e.length, n = z ? z(i) : new e.constructor(i);
        return e.copy(n), n;
    }
    function Fe(e) {
        var t = new e.constructor(e.byteLength);
        return new F(t).set(new F(e)), t;
    }
    function ze(e, t) {
        var i = t ? Fe(e.buffer) : e.buffer;
        return new e.constructor(i, e.byteOffset, e.length);
    }
    function je(e, t) {
        var i = -1, n = e.length;
        for(t || (t = Array(n)); ++i < n;)t[i] = e[i];
        return t;
    }
    function Ue(e, t, i, n) {
        var r = !i;
        i || (i = {});
        for(var o = -1, s = t.length; ++o < s;){
            var a = t[o], l = n ? n(i[a], e[a], a, i, e) : void 0;
            void 0 === l && (l = e[a]), r ? Te(i, a, l) : qe(i, a, l);
        }
        return i;
    }
    function Ve(e) {
        return Re(function(t, i) {
            var n = -1, r = i.length, o = r > 1 ? i[r - 1] : void 0, s = r > 2 ? i[2] : void 0;
            for(o = e.length > 3 && "function" == typeof o ? (r--, o) : void 0, s && Je(i[0], i[1], s) && (o = r < 3 ? void 0 : o, r = 1), t = Object(t); ++n < r;){
                var a = i[n];
                a && e(t, a, n, o);
            }
            return t;
        });
    }
    function We(e) {
        return function(t, i, n) {
            for(var r = -1, o = Object(t), s = n(t), a = s.length; a--;){
                var l = s[e ? a : ++r];
                if (!1 === i(o[l], l, o)) break;
            }
            return t;
        };
    }
    function Ge(e, t, i, n, r, o) {
        return gt(e) && gt(t) && (o.set(t, e), Le(e, t, void 0, Ge, o), o.delete(t)), e;
    }
    function He(e, t) {
        var i = e.__data__;
        return Ke(t) ? i["string" == typeof t ? "string" : "hash"] : i.map;
    }
    function Ye(e, t) {
        var i = M(e, t);
        return Oe(i) ? i : void 0;
    }
    function Xe(e) {
        var t = D.call(e, G), i = e[G];
        try {
            e[G] = void 0;
            var n = !0;
        } catch  {}
        var r = L.call(e);
        return n && (t ? e[G] = i : delete e[G]), r;
    }
    function Ze(e) {
        return "function" != typeof e.constructor || et(e) ? {} : K(j(e));
    }
    function Qe(e, t) {
        var i = typeof e;
        return !!(t = null == t ? n : t) && ("number" == i || "symbol" != i && h.test(e)) && e > -1 && e % 1 == 0 && e < t;
    }
    function Je(e, t, i) {
        if (!gt(i)) return !1;
        var n = typeof t;
        return !!("number" == n ? ut(i) && Qe(t, i.length) : "string" == n && t in i) && lt(i[t], e);
    }
    function Ke(e) {
        var t = typeof e;
        return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e;
    }
    function $e(e) {
        return !!_ && _ in e;
    }
    function et(e) {
        var t = e && e.constructor;
        return e === ("function" == typeof t && t.prototype || S);
    }
    function tt(e) {
        var t = [];
        if (null != e) for(var i in Object(e))t.push(i);
        return t;
    }
    function it(e) {
        return L.call(e);
    }
    function nt(e, t, i) {
        return t = X(void 0 === t ? e.length - 1 : t, 0), function() {
            for(var n = arguments, r = -1, o = X(n.length - t, 0), s = Array(o); ++r < o;)s[r] = n[t + r];
            r = -1;
            for(var a = Array(t + 1); ++r < t;)a[r] = n[r];
            return a[t] = i(s), A(e, this, a);
        };
    }
    function rt(e, t) {
        if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t) return e[t];
    }
    (0, _chunkZRT45YCMJs.a)(ke, "cloneBuffer"), (0, _chunkZRT45YCMJs.a)(Fe, "cloneArrayBuffer"), (0, _chunkZRT45YCMJs.a)(ze, "cloneTypedArray"), (0, _chunkZRT45YCMJs.a)(je, "copyArray"), (0, _chunkZRT45YCMJs.a)(Ue, "copyObject"), (0, _chunkZRT45YCMJs.a)(Ve, "createAssigner"), (0, _chunkZRT45YCMJs.a)(We, "createBaseFor"), (0, _chunkZRT45YCMJs.a)(Ge, "customDefaultsMerge"), (0, _chunkZRT45YCMJs.a)(He, "getMapData"), (0, _chunkZRT45YCMJs.a)(Ye, "getNative"), (0, _chunkZRT45YCMJs.a)(Xe, "getRawTag"), (0, _chunkZRT45YCMJs.a)(Ze, "initCloneObject"), (0, _chunkZRT45YCMJs.a)(Qe, "isIndex"), (0, _chunkZRT45YCMJs.a)(Je, "isIterateeCall"), (0, _chunkZRT45YCMJs.a)(Ke, "isKeyable"), (0, _chunkZRT45YCMJs.a)($e, "isMasked"), (0, _chunkZRT45YCMJs.a)(et, "isPrototype"), (0, _chunkZRT45YCMJs.a)(tt, "nativeKeysIn"), (0, _chunkZRT45YCMJs.a)(it, "objectToString"), (0, _chunkZRT45YCMJs.a)(nt, "overRest"), (0, _chunkZRT45YCMJs.a)(rt, "safeGet");
    var ot = st(Ne);
    function st(e) {
        var t = 0, i = 0;
        return function() {
            var n = Z(), r = 16 - (n - i);
            if (i = n, r > 0) {
                if (++t >= 800) return arguments[0];
            } else t = 0;
            return e.apply(void 0, arguments);
        };
    }
    function at(e) {
        if (null != e) {
            try {
                return O.call(e);
            } catch  {}
            try {
                return e + "";
            } catch  {}
        }
        return "";
    }
    function lt(e, t) {
        return e === t || e != e && t != t;
    }
    (0, _chunkZRT45YCMJs.a)(st, "shortOut"), (0, _chunkZRT45YCMJs.a)(at, "toSource"), (0, _chunkZRT45YCMJs.a)(lt, "eq");
    var ht = Ie(function() {
        return arguments;
    }()) ? Ie : function(e) {
        return vt(e) && D.call(e, "callee") && !V.call(e, "callee");
    }, ct = Array.isArray;
    function ut(e) {
        return null != e && mt(e.length) && !ft(e);
    }
    function dt(e) {
        return vt(e) && ut(e);
    }
    (0, _chunkZRT45YCMJs.a)(ut, "isArrayLike"), (0, _chunkZRT45YCMJs.a)(dt, "isArrayLikeObject");
    var pt = Y || Ct;
    function ft(e) {
        if (!gt(e)) return !1;
        var t = Se(e);
        return t == o || "[object GeneratorFunction]" == t || "[object AsyncFunction]" == t || "[object Proxy]" == t;
    }
    function mt(e) {
        return "number" == typeof e && e > -1 && e % 1 == 0 && e <= n;
    }
    function gt(e) {
        var t = typeof e;
        return null != e && ("object" == t || "function" == t);
    }
    function vt(e) {
        return null != e && "object" == typeof e;
    }
    function yt(e) {
        if (!vt(e) || Se(e) != s) return !1;
        var t = j(e);
        if (null === t) return !0;
        var i = D.call(t, "constructor") && t.constructor;
        return "function" == typeof i && i instanceof i && O.call(i) == B;
    }
    (0, _chunkZRT45YCMJs.a)(ft, "isFunction"), (0, _chunkZRT45YCMJs.a)(mt, "isLength"), (0, _chunkZRT45YCMJs.a)(gt, "isObject"), (0, _chunkZRT45YCMJs.a)(vt, "isObjectLike"), (0, _chunkZRT45YCMJs.a)(yt, "isPlainObject");
    var bt = w ? E(w) : De;
    function wt(e) {
        return Ue(e, xt(e));
    }
    (0, _chunkZRT45YCMJs.a)(wt, "toPlainObject");
    var At = Re(function(e) {
        return e.push(void 0, Ge), A(Et, void 0, e);
    });
    function xt(e) {
        return ut(e) ? Ee(e, !0) : _e(e);
    }
    (0, _chunkZRT45YCMJs.a)(xt, "keysIn");
    var Et = Ve(function(e, t, i, n) {
        Le(e, t, i, n);
    });
    function Mt(e) {
        return function() {
            return e;
        };
    }
    function qt(e) {
        return e;
    }
    function Ct() {
        return !1;
    }
    (0, _chunkZRT45YCMJs.a)(Mt, "constant"), (0, _chunkZRT45YCMJs.a)(qt, "identity"), (0, _chunkZRT45YCMJs.a)(Ct, "stubFalse"), t.exports = At;
}), x8 = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)();
    var i = 9007199254740991, n = /^(?:0|[1-9]\d*)$/;
    function r(e, t, i) {
        switch(i.length){
            case 0:
                return e.call(t);
            case 1:
                return e.call(t, i[0]);
            case 2:
                return e.call(t, i[0], i[1]);
            case 3:
                return e.call(t, i[0], i[1], i[2]);
        }
        return e.apply(t, i);
    }
    function o(e, t) {
        for(var i = -1, n = Array(e); ++i < e;)n[i] = t(i);
        return n;
    }
    (0, _chunkZRT45YCMJs.a)(r, "apply"), (0, _chunkZRT45YCMJs.a)(o, "baseTimes");
    var s = Object.prototype, a = s.hasOwnProperty, h = s.toString, c = s.propertyIsEnumerable, u = Math.max;
    function d(e, t) {
        var i = C(e) || q(e) ? o(e.length, String) : [], n = i.length, r = !!n;
        for(var s in e)(t || a.call(e, s)) && (!r || "length" != s && !w(s, n)) && i.push(s);
        return i;
    }
    function p(e, t, i, n) {
        return void 0 === e || M(e, s[i]) && !a.call(n, i) ? t : e;
    }
    function f(e, t, i) {
        var n = e[t];
        (!a.call(e, t) || !M(n, i) || void 0 === i && !(t in e)) && (e[t] = i);
    }
    function m(e) {
        if (!O(e)) return E(e);
        var t = x(e), i = [];
        for(var n in e)"constructor" == n && (t || !a.call(e, n)) || i.push(n);
        return i;
    }
    function g(e, t) {
        return t = u(void 0 === t ? e.length - 1 : t, 0), function() {
            for(var i = arguments, n = -1, o = u(i.length - t, 0), s = Array(o); ++n < o;)s[n] = i[t + n];
            n = -1;
            for(var a = Array(t + 1); ++n < t;)a[n] = i[n];
            return a[t] = s, r(e, this, a);
        };
    }
    function v(e, t, i, n) {
        i || (i = {});
        for(var r = -1, o = t.length; ++r < o;){
            var s = t[r], a = n ? n(i[s], e[s], s, i, e) : void 0;
            f(i, s, void 0 === a ? e[s] : a);
        }
        return i;
    }
    function y(e) {
        return g(function(t, i) {
            var n = -1, r = i.length, o = r > 1 ? i[r - 1] : void 0, s = r > 2 ? i[2] : void 0;
            for(o = e.length > 3 && "function" == typeof o ? (r--, o) : void 0, s && A(i[0], i[1], s) && (o = r < 3 ? void 0 : o, r = 1), t = Object(t); ++n < r;){
                var a = i[n];
                a && e(t, a, n, o);
            }
            return t;
        });
    }
    function w(e, t) {
        return !!(t = null == t ? i : t) && ("number" == typeof e || n.test(e)) && e > -1 && e % 1 == 0 && e < t;
    }
    function A(e, t, i) {
        if (!O(i)) return !1;
        var n = typeof t;
        return !!("number" == n ? T(i) && w(t, i.length) : "string" == n && t in i) && M(i[t], e);
    }
    function x(e) {
        var t = e && e.constructor;
        return e === ("function" == typeof t && t.prototype || s);
    }
    function E(e) {
        var t = [];
        if (null != e) for(var i in Object(e))t.push(i);
        return t;
    }
    function M(e, t) {
        return e === t || e != e && t != t;
    }
    function q(e) {
        return P(e) && a.call(e, "callee") && (!c.call(e, "callee") || "[object Arguments]" == h.call(e));
    }
    (0, _chunkZRT45YCMJs.a)(d, "arrayLikeKeys"), (0, _chunkZRT45YCMJs.a)(p, "assignInDefaults"), (0, _chunkZRT45YCMJs.a)(f, "assignValue"), (0, _chunkZRT45YCMJs.a)(m, "baseKeysIn"), (0, _chunkZRT45YCMJs.a)(g, "baseRest"), (0, _chunkZRT45YCMJs.a)(v, "copyObject"), (0, _chunkZRT45YCMJs.a)(y, "createAssigner"), (0, _chunkZRT45YCMJs.a)(w, "isIndex"), (0, _chunkZRT45YCMJs.a)(A, "isIterateeCall"), (0, _chunkZRT45YCMJs.a)(x, "isPrototype"), (0, _chunkZRT45YCMJs.a)(E, "nativeKeysIn"), (0, _chunkZRT45YCMJs.a)(M, "eq"), (0, _chunkZRT45YCMJs.a)(q, "isArguments");
    var C = Array.isArray;
    function T(e) {
        return null != e && I(e.length) && !S(e);
    }
    function P(e) {
        return D(e) && T(e);
    }
    function S(e) {
        var t = O(e) ? h.call(e) : "";
        return "[object Function]" == t || "[object GeneratorFunction]" == t;
    }
    function I(e) {
        return "number" == typeof e && e > -1 && e % 1 == 0 && e <= i;
    }
    function O(e) {
        var t = typeof e;
        return !!e && ("object" == t || "function" == t);
    }
    function D(e) {
        return !!e && "object" == typeof e;
    }
    (0, _chunkZRT45YCMJs.a)(T, "isArrayLike"), (0, _chunkZRT45YCMJs.a)(P, "isArrayLikeObject"), (0, _chunkZRT45YCMJs.a)(S, "isFunction"), (0, _chunkZRT45YCMJs.a)(I, "isLength"), (0, _chunkZRT45YCMJs.a)(O, "isObject"), (0, _chunkZRT45YCMJs.a)(D, "isObjectLike");
    var _ = y(function(e, t, i, n) {
        v(t, B(t), e, n);
    }), L = g(function(e) {
        return e.push(void 0, p), r(_, void 0, e);
    });
    function B(e) {
        return T(e) ? d(e, !0) : m(e);
    }
    (0, _chunkZRT45YCMJs.a)(B, "keysIn"), t.exports = L;
}), _8 = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    "use strict";
    (0, _chunkA5C75TI6Js.a)();
    var i, n = {}, r = !1;
    typeof t < "u" && t.exports ? (t.exports = n, r = !0) : typeof document < "u" ? window.ClipperLib = n : self.ClipperLib = n, r ? (o = "chrome", i = "Netscape") : (o = navigator.userAgent.toString().toLowerCase(), i = navigator.appName);
    var o, s = {};
    -1 != o.indexOf("chrome") && -1 == o.indexOf("chromium") ? s.chrome = 1 : s.chrome = 0, -1 != o.indexOf("chromium") ? s.chromium = 1 : s.chromium = 0, -1 != o.indexOf("safari") && -1 == o.indexOf("chrome") && -1 == o.indexOf("chromium") ? s.safari = 1 : s.safari = 0, -1 != o.indexOf("firefox") ? s.firefox = 1 : s.firefox = 0, -1 != o.indexOf("firefox/17") ? s.firefox17 = 1 : s.firefox17 = 0, -1 != o.indexOf("firefox/15") ? s.firefox15 = 1 : s.firefox15 = 0, -1 != o.indexOf("firefox/3") ? s.firefox3 = 1 : s.firefox3 = 0, -1 != o.indexOf("opera") ? s.opera = 1 : s.opera = 0, -1 != o.indexOf("msie 10") ? s.msie10 = 1 : s.msie10 = 0, -1 != o.indexOf("msie 9") ? s.msie9 = 1 : s.msie9 = 0, -1 != o.indexOf("msie 8") ? s.msie8 = 1 : s.msie8 = 0, -1 != o.indexOf("msie 7") ? s.msie7 = 1 : s.msie7 = 0, -1 != o.indexOf("msie ") ? s.msie = 1 : s.msie = 0, n.biginteger_used = null;
    var a;
    function h(e, t, i) {
        n.biginteger_used = 1, null != e && ("number" == typeof e && typeof t > "u" ? this.fromInt(e) : "number" == typeof e ? this.fromNumber(e, t, i) : null == t && "string" != typeof e ? this.fromString(e, 256) : this.fromString(e, t));
    }
    function c() {
        return new h(null);
    }
    function u(e, t, i, n, r, o) {
        for(; --o >= 0;){
            var s = t * this[e++] + i[n] + r;
            r = Math.floor(s / 67108864), i[n++] = 67108863 & s;
        }
        return r;
    }
    function d(e, t, i, n, r, o) {
        for(var s = 32767 & t, a = t >> 15; --o >= 0;){
            var l = 32767 & this[e], h = this[e++] >> 15, c = a * l + h * s;
            r = ((l = s * l + ((32767 & c) << 15) + i[n] + (1073741823 & r)) >>> 30) + (c >>> 15) + a * h + (r >>> 30), i[n++] = 1073741823 & l;
        }
        return r;
    }
    function p(e, t, i, n, r, o) {
        for(var s = 16383 & t, a = t >> 14; --o >= 0;){
            var l = 16383 & this[e], h = this[e++] >> 14, c = a * l + h * s;
            r = ((l = s * l + ((16383 & c) << 14) + i[n] + r) >> 28) + (c >> 14) + a * h, i[n++] = 268435455 & l;
        }
        return r;
    }
    (0, _chunkZRT45YCMJs.a)(h, "BigInteger"), (0, _chunkZRT45YCMJs.a)(c, "nbi"), (0, _chunkZRT45YCMJs.a)(u, "am1"), (0, _chunkZRT45YCMJs.a)(d, "am2"), (0, _chunkZRT45YCMJs.a)(p, "am3"), "Microsoft Internet Explorer" == i ? (h.prototype.am = d, a = 30) : "Netscape" != i ? (h.prototype.am = u, a = 26) : (h.prototype.am = p, a = 28), h.prototype.DB = a, h.prototype.DM = (1 << a) - 1, h.prototype.DV = 1 << a;
    h.prototype.FV = Math.pow(2, 52), h.prototype.F1 = 52 - a, h.prototype.F2 = 2 * a - 52;
    var f, m, g = new Array;
    for(f = "0".charCodeAt(0), m = 0; m <= 9; ++m)g[f++] = m;
    for(f = "a".charCodeAt(0), m = 10; m < 36; ++m)g[f++] = m;
    for(f = "A".charCodeAt(0), m = 10; m < 36; ++m)g[f++] = m;
    function v(e) {
        return "0123456789abcdefghijklmnopqrstuvwxyz".charAt(e);
    }
    function y(e, t) {
        var i = g[e.charCodeAt(t)];
        return null == i ? -1 : i;
    }
    function w(e) {
        for(var t = this.t - 1; t >= 0; --t)e[t] = this[t];
        e.t = this.t, e.s = this.s;
    }
    function A(e) {
        this.t = 1, this.s = e < 0 ? -1 : 0, e > 0 ? this[0] = e : e < -1 ? this[0] = e + this.DV : this.t = 0;
    }
    function x(e) {
        var t = c();
        return t.fromInt(e), t;
    }
    function E(e, t) {
        var i;
        if (16 == t) i = 4;
        else if (8 == t) i = 3;
        else if (256 == t) i = 8;
        else if (2 == t) i = 1;
        else if (32 == t) i = 5;
        else {
            if (4 != t) return void this.fromRadix(e, t);
            i = 2;
        }
        this.t = 0, this.s = 0;
        for(var n = e.length, r = !1, o = 0; --n >= 0;){
            var s = 8 == i ? 255 & e[n] : y(e, n);
            s < 0 ? "-" == e.charAt(n) && (r = !0) : (r = !1, 0 == o ? this[this.t++] = s : o + i > this.DB ? (this[this.t - 1] |= (s & (1 << this.DB - o) - 1) << o, this[this.t++] = s >> this.DB - o) : this[this.t - 1] |= s << o, (o += i) >= this.DB && (o -= this.DB));
        }
        8 == i && 128 & e[0] && (this.s = -1, o > 0 && (this[this.t - 1] |= (1 << this.DB - o) - 1 << o)), this.clamp(), r && h.ZERO.subTo(this, this);
    }
    function M() {
        for(var e = this.s & this.DM; this.t > 0 && this[this.t - 1] == e;)--this.t;
    }
    function q(e) {
        if (this.s < 0) return "-" + this.negate().toString(e);
        var t;
        if (16 == e) t = 4;
        else if (8 == e) t = 3;
        else if (2 == e) t = 1;
        else if (32 == e) t = 5;
        else {
            if (4 != e) return this.toRadix(e);
            t = 2;
        }
        var i, n = (1 << t) - 1, r = !1, o = "", s = this.t, a = this.DB - s * this.DB % t;
        if (s-- > 0) for(a < this.DB && (i = this[s] >> a) > 0 && (r = !0, o = v(i)); s >= 0;)a < t ? (i = (this[s] & (1 << a) - 1) << t - a, i |= this[--s] >> (a += this.DB - t)) : (i = this[s] >> (a -= t) & n, a <= 0 && (a += this.DB, --s)), i > 0 && (r = !0), r && (o += v(i));
        return r ? o : "0";
    }
    function C() {
        var e = c();
        return h.ZERO.subTo(this, e), e;
    }
    function T() {
        return this.s < 0 ? this.negate() : this;
    }
    function P(e) {
        var t = this.s - e.s;
        if (0 != t) return t;
        var i = this.t;
        if (0 != (t = i - e.t)) return this.s < 0 ? -t : t;
        for(; --i >= 0;)if (0 != (t = this[i] - e[i])) return t;
        return 0;
    }
    function S(e) {
        var t, i = 1;
        return 0 != (t = e >>> 16) && (e = t, i += 16), 0 != (t = e >> 8) && (e = t, i += 8), 0 != (t = e >> 4) && (e = t, i += 4), 0 != (t = e >> 2) && (e = t, i += 2), 0 != (t = e >> 1) && (e = t, i += 1), i;
    }
    function I() {
        return this.t <= 0 ? 0 : this.DB * (this.t - 1) + S(this[this.t - 1] ^ this.s & this.DM);
    }
    function O(e, t) {
        var i;
        for(i = this.t - 1; i >= 0; --i)t[i + e] = this[i];
        for(i = e - 1; i >= 0; --i)t[i] = 0;
        t.t = this.t + e, t.s = this.s;
    }
    function D(e, t) {
        for(var i = e; i < this.t; ++i)t[i - e] = this[i];
        t.t = Math.max(this.t - e, 0), t.s = this.s;
    }
    function _(e, t) {
        var i, n = e % this.DB, r = this.DB - n, o = (1 << r) - 1, s = Math.floor(e / this.DB), a = this.s << n & this.DM;
        for(i = this.t - 1; i >= 0; --i)t[i + s + 1] = this[i] >> r | a, a = (this[i] & o) << n;
        for(i = s - 1; i >= 0; --i)t[i] = 0;
        t[s] = a, t.t = this.t + s + 1, t.s = this.s, t.clamp();
    }
    function L(e, t) {
        t.s = this.s;
        var i = Math.floor(e / this.DB);
        if (i >= this.t) t.t = 0;
        else {
            var n = e % this.DB, r = this.DB - n, o = (1 << n) - 1;
            t[0] = this[i] >> n;
            for(var s = i + 1; s < this.t; ++s)t[s - i - 1] |= (this[s] & o) << r, t[s - i] = this[s] >> n;
            n > 0 && (t[this.t - i - 1] |= (this.s & o) << r), t.t = this.t - i, t.clamp();
        }
    }
    function B(e, t) {
        for(var i = 0, n = 0, r = Math.min(e.t, this.t); i < r;)n += this[i] - e[i], t[i++] = n & this.DM, n >>= this.DB;
        if (e.t < this.t) {
            for(n -= e.s; i < this.t;)n += this[i], t[i++] = n & this.DM, n >>= this.DB;
            n += this.s;
        } else {
            for(n += this.s; i < e.t;)n -= e[i], t[i++] = n & this.DM, n >>= this.DB;
            n -= e.s;
        }
        t.s = n < 0 ? -1 : 0, n < -1 ? t[i++] = this.DV + n : n > 0 && (t[i++] = n), t.t = i, t.clamp();
    }
    function R(e, t) {
        var i = this.abs(), n = e.abs(), r = i.t;
        for(t.t = r + n.t; --r >= 0;)t[r] = 0;
        for(r = 0; r < n.t; ++r)t[r + i.t] = i.am(0, n[r], t, r, 0, i.t);
        t.s = 0, t.clamp(), this.s != e.s && h.ZERO.subTo(t, t);
    }
    function N(e) {
        for(var t = this.abs(), i = e.t = 2 * t.t; --i >= 0;)e[i] = 0;
        for(i = 0; i < t.t - 1; ++i){
            var n = t.am(i, t[i], e, 2 * i, 0, 1);
            (e[i + t.t] += t.am(i + 1, 2 * t[i], e, 2 * i + 1, n, t.t - i - 1)) >= t.DV && (e[i + t.t] -= t.DV, e[i + t.t + 1] = 1);
        }
        e.t > 0 && (e[e.t - 1] += t.am(i, t[i], e, 2 * i, 0, 1)), e.s = 0, e.clamp();
    }
    function k(e, t, i) {
        var n = e.abs();
        if (!(n.t <= 0)) {
            var r = this.abs();
            if (r.t < n.t) return null != t && t.fromInt(0), void (null != i && this.copyTo(i));
            null == i && (i = c());
            var o = c(), s = this.s, a = e.s, l = this.DB - S(n[n.t - 1]);
            l > 0 ? (n.lShiftTo(l, o), r.lShiftTo(l, i)) : (n.copyTo(o), r.copyTo(i));
            var u = o.t, d = o[u - 1];
            if (0 != d) {
                var p = d * (1 << this.F1) + (u > 1 ? o[u - 2] >> this.F2 : 0), f = this.FV / p, m = (1 << this.F1) / p, g = 1 << this.F2, v = i.t, y = v - u, b = null == t ? c() : t;
                for(o.dlShiftTo(y, b), i.compareTo(b) >= 0 && (i[i.t++] = 1, i.subTo(b, i)), h.ONE.dlShiftTo(u, b), b.subTo(o, o); o.t < u;)o[o.t++] = 0;
                for(; --y >= 0;){
                    var w = i[--v] == d ? this.DM : Math.floor(i[v] * f + (i[v - 1] + g) * m);
                    if ((i[v] += o.am(0, w, i, y, 0, u)) < w) for(o.dlShiftTo(y, b), i.subTo(b, i); i[v] < --w;)i.subTo(b, i);
                }
                null != t && (i.drShiftTo(u, t), s != a && h.ZERO.subTo(t, t)), i.t = u, i.clamp(), l > 0 && i.rShiftTo(l, i), s < 0 && h.ZERO.subTo(i, i);
            }
        }
    }
    function F(e) {
        var t = c();
        return this.abs().divRemTo(e, null, t), this.s < 0 && t.compareTo(h.ZERO) > 0 && e.subTo(t, t), t;
    }
    function z(e) {
        this.m = e;
    }
    function j(e) {
        return e.s < 0 || e.compareTo(this.m) >= 0 ? e.mod(this.m) : e;
    }
    function U(e) {
        return e;
    }
    function V(e) {
        e.divRemTo(this.m, null, e);
    }
    function W(e, t, i) {
        e.multiplyTo(t, i), this.reduce(i);
    }
    function G(e, t) {
        e.squareTo(t), this.reduce(t);
    }
    function H() {
        if (this.t < 1) return 0;
        var e = this[0];
        if (!(1 & e)) return 0;
        var t = 3 & e;
        return (t = (t = (t = (t = t * (2 - (15 & e) * t) & 15) * (2 - (255 & e) * t) & 255) * (2 - ((65535 & e) * t & 65535)) & 65535) * (2 - e * t % this.DV) % this.DV) > 0 ? this.DV - t : -t;
    }
    function Y(e) {
        this.m = e, this.mp = e.invDigit(), this.mpl = 32767 & this.mp, this.mph = this.mp >> 15, this.um = (1 << e.DB - 15) - 1, this.mt2 = 2 * e.t;
    }
    function X(e) {
        var t = c();
        return e.abs().dlShiftTo(this.m.t, t), t.divRemTo(this.m, null, t), e.s < 0 && t.compareTo(h.ZERO) > 0 && this.m.subTo(t, t), t;
    }
    function Z(e) {
        var t = c();
        return e.copyTo(t), this.reduce(t), t;
    }
    function Q(e) {
        for(; e.t <= this.mt2;)e[e.t++] = 0;
        for(var t = 0; t < this.m.t; ++t){
            var i = 32767 & e[t], n = i * this.mpl + ((i * this.mph + (e[t] >> 15) * this.mpl & this.um) << 15) & e.DM;
            for(e[i = t + this.m.t] += this.m.am(0, n, e, t, 0, this.m.t); e[i] >= e.DV;)e[i] -= e.DV, e[++i]++;
        }
        e.clamp(), e.drShiftTo(this.m.t, e), e.compareTo(this.m) >= 0 && e.subTo(this.m, e);
    }
    function J(e, t) {
        e.squareTo(t), this.reduce(t);
    }
    function K(e, t, i) {
        e.multiplyTo(t, i), this.reduce(i);
    }
    function $() {
        return 0 == (this.t > 0 ? 1 & this[0] : this.s);
    }
    function ee(e, t) {
        if (e > 4294967295 || e < 1) return h.ONE;
        var i = c(), n = c(), r = t.convert(this), o = S(e) - 1;
        for(r.copyTo(i); --o >= 0;)if (t.sqrTo(i, n), (e & 1 << o) > 0) t.mulTo(n, r, i);
        else {
            var s = i;
            i = n, n = s;
        }
        return t.revert(i);
    }
    function te(e, t) {
        var i;
        return i = e < 256 || t.isEven() ? new z(t) : new Y(t), this.exp(e, i);
    }
    function ie() {
        var e = c();
        return this.copyTo(e), e;
    }
    function ne() {
        if (this.s < 0) {
            if (1 == this.t) return this[0] - this.DV;
            if (0 == this.t) return -1;
        } else {
            if (1 == this.t) return this[0];
            if (0 == this.t) return 0;
        }
        return (this[1] & (1 << 32 - this.DB) - 1) << this.DB | this[0];
    }
    function re() {
        return 0 == this.t ? this.s : this[0] << 24 >> 24;
    }
    function oe() {
        return 0 == this.t ? this.s : this[0] << 16 >> 16;
    }
    function se(e) {
        return Math.floor(Math.LN2 * this.DB / Math.log(e));
    }
    function ae() {
        return this.s < 0 ? -1 : this.t <= 0 || 1 == this.t && this[0] <= 0 ? 0 : 1;
    }
    function le(e) {
        if (null == e && (e = 10), 0 == this.signum() || e < 2 || e > 36) return "0";
        var t = this.chunkSize(e), i = Math.pow(e, t), n = x(i), r = c(), o = c(), s = "";
        for(this.divRemTo(n, r, o); r.signum() > 0;)s = (i + o.intValue()).toString(e).substr(1) + s, r.divRemTo(n, r, o);
        return o.intValue().toString(e) + s;
    }
    function he(e, t) {
        this.fromInt(0), null == t && (t = 10);
        for(var i = this.chunkSize(t), n = Math.pow(t, i), r = !1, o = 0, s = 0, a = 0; a < e.length; ++a){
            var l = y(e, a);
            l < 0 ? "-" == e.charAt(a) && 0 == this.signum() && (r = !0) : (s = t * s + l, ++o >= i && (this.dMultiply(n), this.dAddOffset(s, 0), o = 0, s = 0));
        }
        o > 0 && (this.dMultiply(Math.pow(t, o)), this.dAddOffset(s, 0)), r && h.ZERO.subTo(this, this);
    }
    function ce(e, t, i) {
        if ("number" == typeof t) {
            if (e < 2) this.fromInt(1);
            else for(this.fromNumber(e, i), this.testBit(e - 1) || this.bitwiseTo(h.ONE.shiftLeft(e - 1), ye, this), this.isEven() && this.dAddOffset(1, 0); !this.isProbablePrime(t);)this.dAddOffset(2, 0), this.bitLength() > e && this.subTo(h.ONE.shiftLeft(e - 1), this);
        } else {
            var n = new Array, r = 7 & e;
            n.length = 1 + (e >> 3), t.nextBytes(n), r > 0 ? n[0] &= (1 << r) - 1 : n[0] = 0, this.fromString(n, 256);
        }
    }
    function ue() {
        var e = this.t, t = new Array;
        t[0] = this.s;
        var i, n = this.DB - e * this.DB % 8, r = 0;
        if (e-- > 0) for(n < this.DB && (i = this[e] >> n) != (this.s & this.DM) >> n && (t[r++] = i | this.s << this.DB - n); e >= 0;)n < 8 ? (i = (this[e] & (1 << n) - 1) << 8 - n, i |= this[--e] >> (n += this.DB - 8)) : (i = this[e] >> (n -= 8) & 255, n <= 0 && (n += this.DB, --e)), 128 & i && (i |= -256), 0 == r && (128 & this.s) != (128 & i) && ++r, (r > 0 || i != this.s) && (t[r++] = i);
        return t;
    }
    function de(e) {
        return 0 == this.compareTo(e);
    }
    function pe(e) {
        return this.compareTo(e) < 0 ? this : e;
    }
    function fe(e) {
        return this.compareTo(e) > 0 ? this : e;
    }
    function me(e, t, i) {
        var n, r, o = Math.min(e.t, this.t);
        for(n = 0; n < o; ++n)i[n] = t(this[n], e[n]);
        if (e.t < this.t) {
            for(r = e.s & this.DM, n = o; n < this.t; ++n)i[n] = t(this[n], r);
            i.t = this.t;
        } else {
            for(r = this.s & this.DM, n = o; n < e.t; ++n)i[n] = t(r, e[n]);
            i.t = e.t;
        }
        i.s = t(this.s, e.s), i.clamp();
    }
    function ge(e, t) {
        return e & t;
    }
    function ve(e) {
        var t = c();
        return this.bitwiseTo(e, ge, t), t;
    }
    function ye(e, t) {
        return e | t;
    }
    function be(e) {
        var t = c();
        return this.bitwiseTo(e, ye, t), t;
    }
    function we(e, t) {
        return e ^ t;
    }
    function Ae(e) {
        var t = c();
        return this.bitwiseTo(e, we, t), t;
    }
    function xe(e, t) {
        return e & ~t;
    }
    function Ee(e) {
        var t = c();
        return this.bitwiseTo(e, xe, t), t;
    }
    function Me() {
        for(var e = c(), t = 0; t < this.t; ++t)e[t] = this.DM & ~this[t];
        return e.t = this.t, e.s = ~this.s, e;
    }
    function qe(e) {
        var t = c();
        return e < 0 ? this.rShiftTo(-e, t) : this.lShiftTo(e, t), t;
    }
    function Ce(e) {
        var t = c();
        return e < 0 ? this.lShiftTo(-e, t) : this.rShiftTo(e, t), t;
    }
    function Te(e) {
        if (0 == e) return -1;
        var t = 0;
        return 65535 & e || (e >>= 16, t += 16), 255 & e || (e >>= 8, t += 8), 15 & e || (e >>= 4, t += 4), 3 & e || (e >>= 2, t += 2), 1 & e || ++t, t;
    }
    function Pe() {
        for(var e = 0; e < this.t; ++e)if (0 != this[e]) return e * this.DB + Te(this[e]);
        return this.s < 0 ? this.t * this.DB : -1;
    }
    function Se(e) {
        for(var t = 0; 0 != e;)e &= e - 1, ++t;
        return t;
    }
    function Ie() {
        for(var e = 0, t = this.s & this.DM, i = 0; i < this.t; ++i)e += Se(this[i] ^ t);
        return e;
    }
    function Oe(e) {
        var t = Math.floor(e / this.DB);
        return t >= this.t ? 0 != this.s : 0 != (this[t] & 1 << e % this.DB);
    }
    function De(e, t) {
        var i = h.ONE.shiftLeft(e);
        return this.bitwiseTo(i, t, i), i;
    }
    function _e(e) {
        return this.changeBit(e, ye);
    }
    function Le(e) {
        return this.changeBit(e, xe);
    }
    function Be(e) {
        return this.changeBit(e, we);
    }
    function Re(e, t) {
        for(var i = 0, n = 0, r = Math.min(e.t, this.t); i < r;)n += this[i] + e[i], t[i++] = n & this.DM, n >>= this.DB;
        if (e.t < this.t) {
            for(n += e.s; i < this.t;)n += this[i], t[i++] = n & this.DM, n >>= this.DB;
            n += this.s;
        } else {
            for(n += this.s; i < e.t;)n += e[i], t[i++] = n & this.DM, n >>= this.DB;
            n += e.s;
        }
        t.s = n < 0 ? -1 : 0, n > 0 ? t[i++] = n : n < -1 && (t[i++] = this.DV + n), t.t = i, t.clamp();
    }
    function Ne(e) {
        var t = c();
        return this.addTo(e, t), t;
    }
    function ke(e) {
        var t = c();
        return this.subTo(e, t), t;
    }
    function Fe(e) {
        var t = c();
        return this.multiplyTo(e, t), t;
    }
    function ze() {
        var e = c();
        return this.squareTo(e), e;
    }
    function je(e) {
        var t = c();
        return this.divRemTo(e, t, null), t;
    }
    function Ue(e) {
        var t = c();
        return this.divRemTo(e, null, t), t;
    }
    function Ve(e) {
        var t = c(), i = c();
        return this.divRemTo(e, t, i), new Array(t, i);
    }
    function We(e) {
        this[this.t] = this.am(0, e - 1, this, 0, 0, this.t), ++this.t, this.clamp();
    }
    function Ge(e, t) {
        if (0 != e) {
            for(; this.t <= t;)this[this.t++] = 0;
            for(this[t] += e; this[t] >= this.DV;)this[t] -= this.DV, ++t >= this.t && (this[this.t++] = 0), ++this[t];
        }
    }
    function He() {}
    function Ye(e) {
        return e;
    }
    function Xe(e, t, i) {
        e.multiplyTo(t, i);
    }
    function Ze(e, t) {
        e.squareTo(t);
    }
    function Qe(e) {
        return this.exp(e, new He);
    }
    function Je(e, t, i) {
        var n, r = Math.min(this.t + e.t, t);
        for(i.s = 0, i.t = r; r > 0;)i[--r] = 0;
        for(n = i.t - this.t; r < n; ++r)i[r + this.t] = this.am(0, e[r], i, r, 0, this.t);
        for(n = Math.min(e.t, t); r < n; ++r)this.am(0, e[r], i, r, 0, t - r);
        i.clamp();
    }
    function Ke(e, t, i) {
        --t;
        var n = i.t = this.t + e.t - t;
        for(i.s = 0; --n >= 0;)i[n] = 0;
        for(n = Math.max(t - this.t, 0); n < e.t; ++n)i[this.t + n - t] = this.am(t - n, e[n], i, 0, 0, this.t + n - t);
        i.clamp(), i.drShiftTo(1, i);
    }
    function $e(e) {
        this.r2 = c(), this.q3 = c(), h.ONE.dlShiftTo(2 * e.t, this.r2), this.mu = this.r2.divide(e), this.m = e;
    }
    function et(e) {
        if (e.s < 0 || e.t > 2 * this.m.t) return e.mod(this.m);
        if (e.compareTo(this.m) < 0) return e;
        var t = c();
        return e.copyTo(t), this.reduce(t), t;
    }
    function tt(e) {
        return e;
    }
    function it(e) {
        for(e.drShiftTo(this.m.t - 1, this.r2), e.t > this.m.t + 1 && (e.t = this.m.t + 1, e.clamp()), this.mu.multiplyUpperTo(this.r2, this.m.t + 1, this.q3), this.m.multiplyLowerTo(this.q3, this.m.t + 1, this.r2); e.compareTo(this.r2) < 0;)e.dAddOffset(1, this.m.t + 1);
        for(e.subTo(this.r2, e); e.compareTo(this.m) >= 0;)e.subTo(this.m, e);
    }
    function nt(e, t) {
        e.squareTo(t), this.reduce(t);
    }
    function rt(e, t, i) {
        e.multiplyTo(t, i), this.reduce(i);
    }
    function ot(e, t) {
        var i, n, r = e.bitLength(), o = x(1);
        if (r <= 0) return o;
        i = r < 18 ? 1 : r < 48 ? 3 : r < 144 ? 4 : r < 768 ? 5 : 6, n = r < 8 ? new z(t) : t.isEven() ? new $e(t) : new Y(t);
        var s = new Array, a = 3, l = i - 1, h = (1 << i) - 1;
        if (s[1] = n.convert(this), i > 1) {
            var u = c();
            for(n.sqrTo(s[1], u); a <= h;)s[a] = c(), n.mulTo(u, s[a - 2], s[a]), a += 2;
        }
        var d, p, f = e.t - 1, m = !0, g = c();
        for(r = S(e[f]) - 1; f >= 0;){
            for(r >= l ? d = e[f] >> r - l & h : (d = (e[f] & (1 << r + 1) - 1) << l - r, f > 0 && (d |= e[f - 1] >> this.DB + r - l)), a = i; !(1 & d);)d >>= 1, --a;
            if ((r -= a) < 0 && (r += this.DB, --f), m) s[d].copyTo(o), m = !1;
            else {
                for(; a > 1;)n.sqrTo(o, g), n.sqrTo(g, o), a -= 2;
                a > 0 ? n.sqrTo(o, g) : (p = o, o = g, g = p), n.mulTo(g, s[d], o);
            }
            for(; f >= 0 && !(e[f] & 1 << r);)n.sqrTo(o, g), p = o, o = g, g = p, --r < 0 && (r = this.DB - 1, --f);
        }
        return n.revert(o);
    }
    function st(e) {
        var t = this.s < 0 ? this.negate() : this.clone(), i = e.s < 0 ? e.negate() : e.clone();
        if (t.compareTo(i) < 0) {
            var n = t;
            t = i, i = n;
        }
        var r = t.getLowestSetBit(), o = i.getLowestSetBit();
        if (o < 0) return t;
        for(r < o && (o = r), o > 0 && (t.rShiftTo(o, t), i.rShiftTo(o, i)); t.signum() > 0;)(r = t.getLowestSetBit()) > 0 && t.rShiftTo(r, t), (r = i.getLowestSetBit()) > 0 && i.rShiftTo(r, i), t.compareTo(i) >= 0 ? (t.subTo(i, t), t.rShiftTo(1, t)) : (i.subTo(t, i), i.rShiftTo(1, i));
        return o > 0 && i.lShiftTo(o, i), i;
    }
    function at(e) {
        if (e <= 0) return 0;
        var t = this.DV % e, i = this.s < 0 ? e - 1 : 0;
        if (this.t > 0) {
            if (0 == t) i = this[0] % e;
            else for(var n = this.t - 1; n >= 0; --n)i = (t * i + this[n]) % e;
        }
        return i;
    }
    function lt(e) {
        var t = e.isEven();
        if (this.isEven() && t || 0 == e.signum()) return h.ZERO;
        for(var i = e.clone(), n = this.clone(), r = x(1), o = x(0), s = x(0), a = x(1); 0 != i.signum();){
            for(; i.isEven();)i.rShiftTo(1, i), t ? ((!r.isEven() || !o.isEven()) && (r.addTo(this, r), o.subTo(e, o)), r.rShiftTo(1, r)) : o.isEven() || o.subTo(e, o), o.rShiftTo(1, o);
            for(; n.isEven();)n.rShiftTo(1, n), t ? ((!s.isEven() || !a.isEven()) && (s.addTo(this, s), a.subTo(e, a)), s.rShiftTo(1, s)) : a.isEven() || a.subTo(e, a), a.rShiftTo(1, a);
            i.compareTo(n) >= 0 ? (i.subTo(n, i), t && r.subTo(s, r), o.subTo(a, o)) : (n.subTo(i, n), t && s.subTo(r, s), a.subTo(o, a));
        }
        return 0 != n.compareTo(h.ONE) ? h.ZERO : a.compareTo(e) >= 0 ? a.subtract(e) : a.signum() < 0 ? (a.addTo(e, a), a.signum() < 0 ? a.add(e) : a) : a;
    }
    (0, _chunkZRT45YCMJs.a)(v, "int2char"), (0, _chunkZRT45YCMJs.a)(y, "intAt"), (0, _chunkZRT45YCMJs.a)(w, "bnpCopyTo"), (0, _chunkZRT45YCMJs.a)(A, "bnpFromInt"), (0, _chunkZRT45YCMJs.a)(x, "nbv"), (0, _chunkZRT45YCMJs.a)(E, "bnpFromString"), (0, _chunkZRT45YCMJs.a)(M, "bnpClamp"), (0, _chunkZRT45YCMJs.a)(q, "bnToString"), (0, _chunkZRT45YCMJs.a)(C, "bnNegate"), (0, _chunkZRT45YCMJs.a)(T, "bnAbs"), (0, _chunkZRT45YCMJs.a)(P, "bnCompareTo"), (0, _chunkZRT45YCMJs.a)(S, "nbits"), (0, _chunkZRT45YCMJs.a)(I, "bnBitLength"), (0, _chunkZRT45YCMJs.a)(O, "bnpDLShiftTo"), (0, _chunkZRT45YCMJs.a)(D, "bnpDRShiftTo"), (0, _chunkZRT45YCMJs.a)(_, "bnpLShiftTo"), (0, _chunkZRT45YCMJs.a)(L, "bnpRShiftTo"), (0, _chunkZRT45YCMJs.a)(B, "bnpSubTo"), (0, _chunkZRT45YCMJs.a)(R, "bnpMultiplyTo"), (0, _chunkZRT45YCMJs.a)(N, "bnpSquareTo"), (0, _chunkZRT45YCMJs.a)(k, "bnpDivRemTo"), (0, _chunkZRT45YCMJs.a)(F, "bnMod"), (0, _chunkZRT45YCMJs.a)(z, "Classic"), (0, _chunkZRT45YCMJs.a)(j, "cConvert"), (0, _chunkZRT45YCMJs.a)(U, "cRevert"), (0, _chunkZRT45YCMJs.a)(V, "cReduce"), (0, _chunkZRT45YCMJs.a)(W, "cMulTo"), (0, _chunkZRT45YCMJs.a)(G, "cSqrTo"), z.prototype.convert = j, z.prototype.revert = U, z.prototype.reduce = V, z.prototype.mulTo = W, z.prototype.sqrTo = G, (0, _chunkZRT45YCMJs.a)(H, "bnpInvDigit"), (0, _chunkZRT45YCMJs.a)(Y, "Montgomery"), (0, _chunkZRT45YCMJs.a)(X, "montConvert"), (0, _chunkZRT45YCMJs.a)(Z, "montRevert"), (0, _chunkZRT45YCMJs.a)(Q, "montReduce"), (0, _chunkZRT45YCMJs.a)(J, "montSqrTo"), (0, _chunkZRT45YCMJs.a)(K, "montMulTo"), Y.prototype.convert = X, Y.prototype.revert = Z, Y.prototype.reduce = Q, Y.prototype.mulTo = K, Y.prototype.sqrTo = J, (0, _chunkZRT45YCMJs.a)($, "bnpIsEven"), (0, _chunkZRT45YCMJs.a)(ee, "bnpExp"), (0, _chunkZRT45YCMJs.a)(te, "bnModPowInt"), h.prototype.copyTo = w, h.prototype.fromInt = A, h.prototype.fromString = E, h.prototype.clamp = M, h.prototype.dlShiftTo = O, h.prototype.drShiftTo = D, h.prototype.lShiftTo = _, h.prototype.rShiftTo = L, h.prototype.subTo = B, h.prototype.multiplyTo = R, h.prototype.squareTo = N, h.prototype.divRemTo = k, h.prototype.invDigit = H, h.prototype.isEven = $, h.prototype.exp = ee, h.prototype.toString = q, h.prototype.negate = C, h.prototype.abs = T, h.prototype.compareTo = P, h.prototype.bitLength = I, h.prototype.mod = F, h.prototype.modPowInt = te, h.ZERO = x(0), h.ONE = x(1), (0, _chunkZRT45YCMJs.a)(ie, "bnClone"), (0, _chunkZRT45YCMJs.a)(ne, "bnIntValue"), (0, _chunkZRT45YCMJs.a)(re, "bnByteValue"), (0, _chunkZRT45YCMJs.a)(oe, "bnShortValue"), (0, _chunkZRT45YCMJs.a)(se, "bnpChunkSize"), (0, _chunkZRT45YCMJs.a)(ae, "bnSigNum"), (0, _chunkZRT45YCMJs.a)(le, "bnpToRadix"), (0, _chunkZRT45YCMJs.a)(he, "bnpFromRadix"), (0, _chunkZRT45YCMJs.a)(ce, "bnpFromNumber"), (0, _chunkZRT45YCMJs.a)(ue, "bnToByteArray"), (0, _chunkZRT45YCMJs.a)(de, "bnEquals"), (0, _chunkZRT45YCMJs.a)(pe, "bnMin"), (0, _chunkZRT45YCMJs.a)(fe, "bnMax"), (0, _chunkZRT45YCMJs.a)(me, "bnpBitwiseTo"), (0, _chunkZRT45YCMJs.a)(ge, "op_and"), (0, _chunkZRT45YCMJs.a)(ve, "bnAnd"), (0, _chunkZRT45YCMJs.a)(ye, "op_or"), (0, _chunkZRT45YCMJs.a)(be, "bnOr"), (0, _chunkZRT45YCMJs.a)(we, "op_xor"), (0, _chunkZRT45YCMJs.a)(Ae, "bnXor"), (0, _chunkZRT45YCMJs.a)(xe, "op_andnot"), (0, _chunkZRT45YCMJs.a)(Ee, "bnAndNot"), (0, _chunkZRT45YCMJs.a)(Me, "bnNot"), (0, _chunkZRT45YCMJs.a)(qe, "bnShiftLeft"), (0, _chunkZRT45YCMJs.a)(Ce, "bnShiftRight"), (0, _chunkZRT45YCMJs.a)(Te, "lbit"), (0, _chunkZRT45YCMJs.a)(Pe, "bnGetLowestSetBit"), (0, _chunkZRT45YCMJs.a)(Se, "cbit"), (0, _chunkZRT45YCMJs.a)(Ie, "bnBitCount"), (0, _chunkZRT45YCMJs.a)(Oe, "bnTestBit"), (0, _chunkZRT45YCMJs.a)(De, "bnpChangeBit"), (0, _chunkZRT45YCMJs.a)(_e, "bnSetBit"), (0, _chunkZRT45YCMJs.a)(Le, "bnClearBit"), (0, _chunkZRT45YCMJs.a)(Be, "bnFlipBit"), (0, _chunkZRT45YCMJs.a)(Re, "bnpAddTo"), (0, _chunkZRT45YCMJs.a)(Ne, "bnAdd"), (0, _chunkZRT45YCMJs.a)(ke, "bnSubtract"), (0, _chunkZRT45YCMJs.a)(Fe, "bnMultiply"), (0, _chunkZRT45YCMJs.a)(ze, "bnSquare"), (0, _chunkZRT45YCMJs.a)(je, "bnDivide"), (0, _chunkZRT45YCMJs.a)(Ue, "bnRemainder"), (0, _chunkZRT45YCMJs.a)(Ve, "bnDivideAndRemainder"), (0, _chunkZRT45YCMJs.a)(We, "bnpDMultiply"), (0, _chunkZRT45YCMJs.a)(Ge, "bnpDAddOffset"), (0, _chunkZRT45YCMJs.a)(He, "NullExp"), (0, _chunkZRT45YCMJs.a)(Ye, "nNop"), (0, _chunkZRT45YCMJs.a)(Xe, "nMulTo"), (0, _chunkZRT45YCMJs.a)(Ze, "nSqrTo"), He.prototype.convert = Ye, He.prototype.revert = Ye, He.prototype.mulTo = Xe, He.prototype.sqrTo = Ze, (0, _chunkZRT45YCMJs.a)(Qe, "bnPow"), (0, _chunkZRT45YCMJs.a)(Je, "bnpMultiplyLowerTo"), (0, _chunkZRT45YCMJs.a)(Ke, "bnpMultiplyUpperTo"), (0, _chunkZRT45YCMJs.a)($e, "Barrett"), (0, _chunkZRT45YCMJs.a)(et, "barrettConvert"), (0, _chunkZRT45YCMJs.a)(tt, "barrettRevert"), (0, _chunkZRT45YCMJs.a)(it, "barrettReduce"), (0, _chunkZRT45YCMJs.a)(nt, "barrettSqrTo"), (0, _chunkZRT45YCMJs.a)(rt, "barrettMulTo"), $e.prototype.convert = et, $e.prototype.revert = tt, $e.prototype.reduce = it, $e.prototype.mulTo = rt, $e.prototype.sqrTo = nt, (0, _chunkZRT45YCMJs.a)(ot, "bnModPow"), (0, _chunkZRT45YCMJs.a)(st, "bnGCD"), (0, _chunkZRT45YCMJs.a)(at, "bnpModInt"), (0, _chunkZRT45YCMJs.a)(lt, "bnModInverse");
    var ht = [
        2,
        3,
        5,
        7,
        11,
        13,
        17,
        19,
        23,
        29,
        31,
        37,
        41,
        43,
        47,
        53,
        59,
        61,
        67,
        71,
        73,
        79,
        83,
        89,
        97,
        101,
        103,
        107,
        109,
        113,
        127,
        131,
        137,
        139,
        149,
        151,
        157,
        163,
        167,
        173,
        179,
        181,
        191,
        193,
        197,
        199,
        211,
        223,
        227,
        229,
        233,
        239,
        241,
        251,
        257,
        263,
        269,
        271,
        277,
        281,
        283,
        293,
        307,
        311,
        313,
        317,
        331,
        337,
        347,
        349,
        353,
        359,
        367,
        373,
        379,
        383,
        389,
        397,
        401,
        409,
        419,
        421,
        431,
        433,
        439,
        443,
        449,
        457,
        461,
        463,
        467,
        479,
        487,
        491,
        499,
        503,
        509,
        521,
        523,
        541,
        547,
        557,
        563,
        569,
        571,
        577,
        587,
        593,
        599,
        601,
        607,
        613,
        617,
        619,
        631,
        641,
        643,
        647,
        653,
        659,
        661,
        673,
        677,
        683,
        691,
        701,
        709,
        719,
        727,
        733,
        739,
        743,
        751,
        757,
        761,
        769,
        773,
        787,
        797,
        809,
        811,
        821,
        823,
        827,
        829,
        839,
        853,
        857,
        859,
        863,
        877,
        881,
        883,
        887,
        907,
        911,
        919,
        929,
        937,
        941,
        947,
        953,
        967,
        971,
        977,
        983,
        991,
        997
    ], ct = 67108864 / ht[ht.length - 1];
    function ut(e) {
        var t, i = this.abs();
        if (1 == i.t && i[0] <= ht[ht.length - 1]) {
            for(t = 0; t < ht.length; ++t)if (i[0] == ht[t]) return !0;
            return !1;
        }
        if (i.isEven()) return !1;
        for(t = 1; t < ht.length;){
            for(var n = ht[t], r = t + 1; r < ht.length && n < ct;)n *= ht[r++];
            for(n = i.modInt(n); t < r;)if (n % ht[t++] == 0) return !1;
        }
        return i.millerRabin(e);
    }
    function dt(e) {
        var t = this.subtract(h.ONE), i = t.getLowestSetBit();
        if (i <= 0) return !1;
        var n = t.shiftRight(i);
        (e = e + 1 >> 1) > ht.length && (e = ht.length);
        for(var r = c(), o = 0; o < e; ++o){
            r.fromInt(ht[Math.floor(Math.random() * ht.length)]);
            var s = r.modPow(n, this);
            if (0 != s.compareTo(h.ONE) && 0 != s.compareTo(t)) {
                for(var a = 1; a++ < i && 0 != s.compareTo(t);)if (0 == (s = s.modPowInt(2, this)).compareTo(h.ONE)) return !1;
                if (0 != s.compareTo(t)) return !1;
            }
        }
        return !0;
    }
    (0, _chunkZRT45YCMJs.a)(ut, "bnIsProbablePrime"), (0, _chunkZRT45YCMJs.a)(dt, "bnpMillerRabin"), h.prototype.chunkSize = se, h.prototype.toRadix = le, h.prototype.fromRadix = he, h.prototype.fromNumber = ce, h.prototype.bitwiseTo = me, h.prototype.changeBit = De, h.prototype.addTo = Re, h.prototype.dMultiply = We, h.prototype.dAddOffset = Ge, h.prototype.multiplyLowerTo = Je, h.prototype.multiplyUpperTo = Ke, h.prototype.modInt = at, h.prototype.millerRabin = dt, h.prototype.clone = ie, h.prototype.intValue = ne, h.prototype.byteValue = re, h.prototype.shortValue = oe, h.prototype.signum = ae, h.prototype.toByteArray = ue, h.prototype.equals = de, h.prototype.min = pe, h.prototype.max = fe, h.prototype.and = ve, h.prototype.or = be, h.prototype.xor = Ae, h.prototype.andNot = Ee, h.prototype.not = Me, h.prototype.shiftLeft = qe, h.prototype.shiftRight = Ce, h.prototype.getLowestSetBit = Pe, h.prototype.bitCount = Ie, h.prototype.testBit = Oe, h.prototype.setBit = _e, h.prototype.clearBit = Le, h.prototype.flipBit = Be, h.prototype.add = Ne, h.prototype.subtract = ke, h.prototype.multiply = Fe, h.prototype.divide = je, h.prototype.remainder = Ue, h.prototype.divideAndRemainder = Ve, h.prototype.modPow = ot, h.prototype.modInverse = lt, h.prototype.pow = Qe, h.prototype.gcd = st, h.prototype.isProbablePrime = ut, h.prototype.square = ze;
    var pt, ft = h;
    ft.prototype.IsNegative = function() {
        return -1 == this.compareTo(ft.ZERO);
    }, ft.op_Equality = function(e, t) {
        return 0 == e.compareTo(t);
    }, ft.op_Inequality = function(e, t) {
        return 0 != e.compareTo(t);
    }, ft.op_GreaterThan = function(e, t) {
        return e.compareTo(t) > 0;
    }, ft.op_LessThan = function(e, t) {
        return e.compareTo(t) < 0;
    }, ft.op_Addition = function(e, t) {
        return new ft(e).add(new ft(t));
    }, ft.op_Subtraction = function(e, t) {
        return new ft(e).subtract(new ft(t));
    }, ft.Int128Mul = function(e, t) {
        return new ft(e).multiply(new ft(t));
    }, ft.op_Division = function(e, t) {
        return e.divide(t);
    }, ft.prototype.ToDouble = function() {
        return parseFloat(this.toString());
    }, typeof pt > "u" && (pt = (0, _chunkZRT45YCMJs.a)(function(e, t) {
        var i;
        if (typeof Object.getOwnPropertyNames > "u") {
            for(i in t.prototype)(typeof e.prototype[i] > "u" || e.prototype[i] == Object.prototype[i]) && (e.prototype[i] = t.prototype[i]);
            for(i in t)typeof e[i] > "u" && (e[i] = t[i]);
            e.$baseCtor = t;
        } else {
            for(var n = Object.getOwnPropertyNames(t.prototype), r = 0; r < n.length; r++)typeof Object.getOwnPropertyDescriptor(e.prototype, n[r]) > "u" && Object.defineProperty(e.prototype, n[r], Object.getOwnPropertyDescriptor(t.prototype, n[r]));
            for(i in t)typeof e[i] > "u" && (e[i] = t[i]);
            e.$baseCtor = t;
        }
    }, "Inherit")), n.Path = function() {
        return [];
    }, n.Paths = function() {
        return [];
    }, n.DoublePoint = function() {
        var e = arguments;
        this.X = 0, this.Y = 0, 1 == e.length ? (this.X = e[0].X, this.Y = e[0].Y) : 2 == e.length && (this.X = e[0], this.Y = e[1]);
    }, n.DoublePoint0 = function() {
        this.X = 0, this.Y = 0;
    }, n.DoublePoint1 = function(e) {
        this.X = e.X, this.Y = e.Y;
    }, n.DoublePoint2 = function(e, t) {
        this.X = e, this.Y = t;
    }, n.PolyNode = function() {
        this.m_Parent = null, this.m_polygon = new n.Path, this.m_Index = 0, this.m_jointype = 0, this.m_endtype = 0, this.m_Childs = [], this.IsOpen = !1;
    }, n.PolyNode.prototype.IsHoleNode = function() {
        for(var e = !0, t = this.m_Parent; null !== t;)e = !e, t = t.m_Parent;
        return e;
    }, n.PolyNode.prototype.ChildCount = function() {
        return this.m_Childs.length;
    }, n.PolyNode.prototype.Contour = function() {
        return this.m_polygon;
    }, n.PolyNode.prototype.AddChild = function(e) {
        var t = this.m_Childs.length;
        this.m_Childs.push(e), e.m_Parent = this, e.m_Index = t;
    }, n.PolyNode.prototype.GetNext = function() {
        return this.m_Childs.length > 0 ? this.m_Childs[0] : this.GetNextSiblingUp();
    }, n.PolyNode.prototype.GetNextSiblingUp = function() {
        return null === this.m_Parent ? null : this.m_Index == this.m_Parent.m_Childs.length - 1 ? this.m_Parent.GetNextSiblingUp() : this.m_Parent.m_Childs[this.m_Index + 1];
    }, n.PolyNode.prototype.Childs = function() {
        return this.m_Childs;
    }, n.PolyNode.prototype.Parent = function() {
        return this.m_Parent;
    }, n.PolyNode.prototype.IsHole = function() {
        return this.IsHoleNode();
    }, n.PolyTree = function() {
        this.m_AllPolys = [], n.PolyNode.call(this);
    }, n.PolyTree.prototype.Clear = function() {
        for(var e = 0, t = this.m_AllPolys.length; e < t; e++)this.m_AllPolys[e] = null;
        this.m_AllPolys.length = 0, this.m_Childs.length = 0;
    }, n.PolyTree.prototype.GetFirst = function() {
        return this.m_Childs.length > 0 ? this.m_Childs[0] : null;
    }, n.PolyTree.prototype.Total = function() {
        return this.m_AllPolys.length;
    }, pt(n.PolyTree, n.PolyNode), n.Math_Abs_Int64 = n.Math_Abs_Int32 = n.Math_Abs_Double = function(e) {
        return Math.abs(e);
    }, n.Math_Max_Int32_Int32 = function(e, t) {
        return Math.max(e, t);
    }, s.msie || s.opera || s.safari ? n.Cast_Int32 = function(e) {
        return 0 | e;
    } : n.Cast_Int32 = function(e) {
        return ~~e;
    }, s.chrome ? n.Cast_Int64 = function(e) {
        return e < -2147483648 || e > 2147483647 ? e < 0 ? Math.ceil(e) : Math.floor(e) : ~~e;
    } : s.firefox && "function" == typeof Number.toInteger ? n.Cast_Int64 = function(e) {
        return Number.toInteger(e);
    } : s.msie7 || s.msie8 ? n.Cast_Int64 = function(e) {
        return parseInt(e, 10);
    } : s.msie ? n.Cast_Int64 = function(e) {
        return e < -2147483648 || e > 2147483647 ? e < 0 ? Math.ceil(e) : Math.floor(e) : 0 | e;
    } : n.Cast_Int64 = function(e) {
        return e < 0 ? Math.ceil(e) : Math.floor(e);
    }, n.Clear = function(e) {
        e.length = 0;
    }, n.PI = 3.141592653589793, n.PI2 = 6.283185307179586, n.IntPoint = function() {
        var e = arguments, t = e.length;
        if (this.X = 0, this.Y = 0, 2 == t) this.X = e[0], this.Y = e[1];
        else if (1 == t) {
            if (e[0] instanceof n.DoublePoint) {
                var i = e[0];
                this.X = n.Clipper.Round(i.X), this.Y = n.Clipper.Round(i.Y);
            } else {
                var r = e[0];
                this.X = r.X, this.Y = r.Y;
            }
        } else this.X = 0, this.Y = 0;
    }, n.IntPoint.op_Equality = function(e, t) {
        return e.X == t.X && e.Y == t.Y;
    }, n.IntPoint.op_Inequality = function(e, t) {
        return e.X != t.X || e.Y != t.Y;
    }, n.IntPoint0 = function() {
        this.X = 0, this.Y = 0;
    }, n.IntPoint1 = function(e) {
        this.X = e.X, this.Y = e.Y;
    }, n.IntPoint1dp = function(e) {
        this.X = n.Clipper.Round(e.X), this.Y = n.Clipper.Round(e.Y);
    }, n.IntPoint2 = function(e, t) {
        this.X = e, this.Y = t;
    }, n.IntRect = function() {
        var e = arguments, t = e.length;
        4 == t ? (this.left = e[0], this.top = e[1], this.right = e[2], this.bottom = e[3]) : 1 == t ? (this.left = ir.left, this.top = ir.top, this.right = ir.right, this.bottom = ir.bottom) : (this.left = 0, this.top = 0, this.right = 0, this.bottom = 0);
    }, n.IntRect0 = function() {
        this.left = 0, this.top = 0, this.right = 0, this.bottom = 0;
    }, n.IntRect1 = function(e) {
        this.left = e.left, this.top = e.top, this.right = e.right, this.bottom = e.bottom;
    }, n.IntRect4 = function(e, t, i, n) {
        this.left = e, this.top = t, this.right = i, this.bottom = n;
    }, n.ClipType = {
        ctIntersection: 0,
        ctUnion: 1,
        ctDifference: 2,
        ctXor: 3
    }, n.PolyType = {
        ptSubject: 0,
        ptClip: 1
    }, n.PolyFillType = {
        pftEvenOdd: 0,
        pftNonZero: 1,
        pftPositive: 2,
        pftNegative: 3
    }, n.JoinType = {
        jtSquare: 0,
        jtRound: 1,
        jtMiter: 2
    }, n.EndType = {
        etOpenSquare: 0,
        etOpenRound: 1,
        etOpenButt: 2,
        etClosedLine: 3,
        etClosedPolygon: 4
    }, n.EdgeSide = {
        esLeft: 0,
        esRight: 1
    }, n.Direction = {
        dRightToLeft: 0,
        dLeftToRight: 1
    }, n.TEdge = function() {
        this.Bot = new n.IntPoint, this.Curr = new n.IntPoint, this.Top = new n.IntPoint, this.Delta = new n.IntPoint, this.Dx = 0, this.PolyTyp = n.PolyType.ptSubject, this.Side = n.EdgeSide.esLeft, this.WindDelta = 0, this.WindCnt = 0, this.WindCnt2 = 0, this.OutIdx = 0, this.Next = null, this.Prev = null, this.NextInLML = null, this.NextInAEL = null, this.PrevInAEL = null, this.NextInSEL = null, this.PrevInSEL = null;
    }, n.IntersectNode = function() {
        this.Edge1 = null, this.Edge2 = null, this.Pt = new n.IntPoint;
    }, n.MyIntersectNodeSort = function() {}, n.MyIntersectNodeSort.Compare = function(e, t) {
        return t.Pt.Y - e.Pt.Y;
    }, n.LocalMinima = function() {
        this.Y = 0, this.LeftBound = null, this.RightBound = null, this.Next = null;
    }, n.Scanbeam = function() {
        this.Y = 0, this.Next = null;
    }, n.OutRec = function() {
        this.Idx = 0, this.IsHole = !1, this.IsOpen = !1, this.FirstLeft = null, this.Pts = null, this.BottomPt = null, this.PolyNode = null;
    }, n.OutPt = function() {
        this.Idx = 0, this.Pt = new n.IntPoint, this.Next = null, this.Prev = null;
    }, n.Join = function() {
        this.OutPt1 = null, this.OutPt2 = null, this.OffPt = new n.IntPoint;
    }, n.ClipperBase = function() {
        this.m_MinimaList = null, this.m_CurrentLM = null, this.m_edges = new Array, this.m_UseFullRange = !1, this.m_HasOpenPaths = !1, this.PreserveCollinear = !1, this.m_MinimaList = null, this.m_CurrentLM = null, this.m_UseFullRange = !1, this.m_HasOpenPaths = !1;
    }, n.ClipperBase.horizontal = -9007199254740992, n.ClipperBase.Skip = -2, n.ClipperBase.Unassigned = -1, n.ClipperBase.tolerance = 1e-20, n.ClipperBase.loRange = 47453132, n.ClipperBase.hiRange = 0xfffffffffffff, n.ClipperBase.near_zero = function(e) {
        return e > -n.ClipperBase.tolerance && e < n.ClipperBase.tolerance;
    }, n.ClipperBase.IsHorizontal = function(e) {
        return 0 === e.Delta.Y;
    }, n.ClipperBase.prototype.PointIsVertex = function(e, t) {
        var i = t;
        do {
            if (n.IntPoint.op_Equality(i.Pt, e)) return !0;
            i = i.Next;
        }while (i != t);
        return !1;
    }, n.ClipperBase.prototype.PointOnLineSegment = function(e, t, i, n) {
        return n ? e.X == t.X && e.Y == t.Y || e.X == i.X && e.Y == i.Y || e.X > t.X == e.X < i.X && e.Y > t.Y == e.Y < i.Y && ft.op_Equality(ft.Int128Mul(e.X - t.X, i.Y - t.Y), ft.Int128Mul(i.X - t.X, e.Y - t.Y)) : e.X == t.X && e.Y == t.Y || e.X == i.X && e.Y == i.Y || e.X > t.X == e.X < i.X && e.Y > t.Y == e.Y < i.Y && (e.X - t.X) * (i.Y - t.Y) == (i.X - t.X) * (e.Y - t.Y);
    }, n.ClipperBase.prototype.PointOnPolygon = function(e, t, i) {
        for(var n = t;;){
            if (this.PointOnLineSegment(e, n.Pt, n.Next.Pt, i)) return !0;
            if ((n = n.Next) == t) break;
        }
        return !1;
    }, n.ClipperBase.prototype.SlopesEqual = n.ClipperBase.SlopesEqual = function() {
        var e, t, i, r, o, s, a = arguments, l = a.length;
        return 3 == l ? (e = a[0], t = a[1], a[2] ? ft.op_Equality(ft.Int128Mul(e.Delta.Y, t.Delta.X), ft.Int128Mul(e.Delta.X, t.Delta.Y)) : n.Cast_Int64(e.Delta.Y * t.Delta.X) == n.Cast_Int64(e.Delta.X * t.Delta.Y)) : 4 == l ? (i = a[0], r = a[1], o = a[2], a[3] ? ft.op_Equality(ft.Int128Mul(i.Y - r.Y, r.X - o.X), ft.Int128Mul(i.X - r.X, r.Y - o.Y)) : n.Cast_Int64((i.Y - r.Y) * (r.X - o.X)) - n.Cast_Int64((i.X - r.X) * (r.Y - o.Y)) == 0) : (i = a[0], r = a[1], o = a[2], s = a[3], a[4] ? ft.op_Equality(ft.Int128Mul(i.Y - r.Y, o.X - s.X), ft.Int128Mul(i.X - r.X, o.Y - s.Y)) : n.Cast_Int64((i.Y - r.Y) * (o.X - s.X)) - n.Cast_Int64((i.X - r.X) * (o.Y - s.Y)) == 0);
    }, n.ClipperBase.SlopesEqual3 = function(e, t, i) {
        return i ? ft.op_Equality(ft.Int128Mul(e.Delta.Y, t.Delta.X), ft.Int128Mul(e.Delta.X, t.Delta.Y)) : n.Cast_Int64(e.Delta.Y * t.Delta.X) == n.Cast_Int64(e.Delta.X * t.Delta.Y);
    }, n.ClipperBase.SlopesEqual4 = function(e, t, i, r) {
        return r ? ft.op_Equality(ft.Int128Mul(e.Y - t.Y, t.X - i.X), ft.Int128Mul(e.X - t.X, t.Y - i.Y)) : n.Cast_Int64((e.Y - t.Y) * (t.X - i.X)) - n.Cast_Int64((e.X - t.X) * (t.Y - i.Y)) == 0;
    }, n.ClipperBase.SlopesEqual5 = function(e, t, i, r, o) {
        return o ? ft.op_Equality(ft.Int128Mul(e.Y - t.Y, i.X - r.X), ft.Int128Mul(e.X - t.X, i.Y - r.Y)) : n.Cast_Int64((e.Y - t.Y) * (i.X - r.X)) - n.Cast_Int64((e.X - t.X) * (i.Y - r.Y)) == 0;
    }, n.ClipperBase.prototype.Clear = function() {
        this.DisposeLocalMinimaList();
        for(var e = 0, t = this.m_edges.length; e < t; ++e){
            for(var i = 0, r = this.m_edges[e].length; i < r; ++i)this.m_edges[e][i] = null;
            n.Clear(this.m_edges[e]);
        }
        n.Clear(this.m_edges), this.m_UseFullRange = !1, this.m_HasOpenPaths = !1;
    }, n.ClipperBase.prototype.DisposeLocalMinimaList = function() {
        for(; null !== this.m_MinimaList;){
            var e = this.m_MinimaList.Next;
            this.m_MinimaList = null, this.m_MinimaList = e;
        }
        this.m_CurrentLM = null;
    }, n.ClipperBase.prototype.RangeTest = function(e, t) {
        t.Value ? (e.X > n.ClipperBase.hiRange || e.Y > n.ClipperBase.hiRange || -e.X > n.ClipperBase.hiRange || -e.Y > n.ClipperBase.hiRange) && n.Error("Coordinate outside allowed range in RangeTest().") : (e.X > n.ClipperBase.loRange || e.Y > n.ClipperBase.loRange || -e.X > n.ClipperBase.loRange || -e.Y > n.ClipperBase.loRange) && (t.Value = !0, this.RangeTest(e, t));
    }, n.ClipperBase.prototype.InitEdge = function(e, t, i, n) {
        e.Next = t, e.Prev = i, e.Curr.X = n.X, e.Curr.Y = n.Y, e.OutIdx = -1;
    }, n.ClipperBase.prototype.InitEdge2 = function(e, t) {
        e.Curr.Y >= e.Next.Curr.Y ? (e.Bot.X = e.Curr.X, e.Bot.Y = e.Curr.Y, e.Top.X = e.Next.Curr.X, e.Top.Y = e.Next.Curr.Y) : (e.Top.X = e.Curr.X, e.Top.Y = e.Curr.Y, e.Bot.X = e.Next.Curr.X, e.Bot.Y = e.Next.Curr.Y), this.SetDx(e), e.PolyTyp = t;
    }, n.ClipperBase.prototype.FindNextLocMin = function(e) {
        for(var t;;){
            for(; n.IntPoint.op_Inequality(e.Bot, e.Prev.Bot) || n.IntPoint.op_Equality(e.Curr, e.Top);)e = e.Next;
            if (e.Dx != n.ClipperBase.horizontal && e.Prev.Dx != n.ClipperBase.horizontal) break;
            for(; e.Prev.Dx == n.ClipperBase.horizontal;)e = e.Prev;
            for(t = e; e.Dx == n.ClipperBase.horizontal;)e = e.Next;
            if (e.Top.Y != e.Prev.Bot.Y) {
                t.Prev.Bot.X < e.Bot.X && (e = t);
                break;
            }
        }
        return e;
    }, n.ClipperBase.prototype.ProcessBound = function(e, t) {
        var i, r, o = e, s = e;
        if (e.Dx == n.ClipperBase.horizontal && (r = t ? e.Prev.Bot.X : e.Next.Bot.X, e.Bot.X != r && this.ReverseHorizontal(e)), s.OutIdx != n.ClipperBase.Skip) {
            if (t) {
                for(; s.Top.Y == s.Next.Bot.Y && s.Next.OutIdx != n.ClipperBase.Skip;)s = s.Next;
                if (s.Dx == n.ClipperBase.horizontal && s.Next.OutIdx != n.ClipperBase.Skip) {
                    for(i = s; i.Prev.Dx == n.ClipperBase.horizontal;)i = i.Prev;
                    i.Prev.Top.X == s.Next.Top.X ? t || (s = i.Prev) : i.Prev.Top.X > s.Next.Top.X && (s = i.Prev);
                }
                for(; e != s;)e.NextInLML = e.Next, e.Dx == n.ClipperBase.horizontal && e != o && e.Bot.X != e.Prev.Top.X && this.ReverseHorizontal(e), e = e.Next;
                e.Dx == n.ClipperBase.horizontal && e != o && e.Bot.X != e.Prev.Top.X && this.ReverseHorizontal(e), s = s.Next;
            } else {
                for(; s.Top.Y == s.Prev.Bot.Y && s.Prev.OutIdx != n.ClipperBase.Skip;)s = s.Prev;
                if (s.Dx == n.ClipperBase.horizontal && s.Prev.OutIdx != n.ClipperBase.Skip) {
                    for(i = s; i.Next.Dx == n.ClipperBase.horizontal;)i = i.Next;
                    i.Next.Top.X == s.Prev.Top.X ? t || (s = i.Next) : i.Next.Top.X > s.Prev.Top.X && (s = i.Next);
                }
                for(; e != s;)e.NextInLML = e.Prev, e.Dx == n.ClipperBase.horizontal && e != o && e.Bot.X != e.Next.Top.X && this.ReverseHorizontal(e), e = e.Prev;
                e.Dx == n.ClipperBase.horizontal && e != o && e.Bot.X != e.Next.Top.X && this.ReverseHorizontal(e), s = s.Prev;
            }
        }
        if (s.OutIdx == n.ClipperBase.Skip) {
            if (e = s, t) {
                for(; e.Top.Y == e.Next.Bot.Y;)e = e.Next;
                for(; e != s && e.Dx == n.ClipperBase.horizontal;)e = e.Prev;
            } else {
                for(; e.Top.Y == e.Prev.Bot.Y;)e = e.Prev;
                for(; e != s && e.Dx == n.ClipperBase.horizontal;)e = e.Next;
            }
            if (e == s) s = t ? e.Next : e.Prev;
            else {
                e = t ? s.Next : s.Prev;
                var a = new n.LocalMinima;
                a.Next = null, a.Y = e.Bot.Y, a.LeftBound = null, a.RightBound = e, a.RightBound.WindDelta = 0, s = this.ProcessBound(a.RightBound, t), this.InsertLocalMinima(a);
            }
        }
        return s;
    }, n.ClipperBase.prototype.AddPath = function(e, t, i) {
        !i && t == n.PolyType.ptClip && n.Error("AddPath: Open paths must be subject.");
        var r = e.length - 1;
        if (i) for(; r > 0 && n.IntPoint.op_Equality(e[r], e[0]);)--r;
        for(; r > 0 && n.IntPoint.op_Equality(e[r], e[r - 1]);)--r;
        if (i && r < 2 || !i && r < 1) return !1;
        for(var o = new Array, s = 0; s <= r; s++)o.push(new n.TEdge);
        var a = !0;
        o[1].Curr.X = e[1].X, o[1].Curr.Y = e[1].Y;
        var l = {
            Value: this.m_UseFullRange
        };
        this.RangeTest(e[0], l), this.m_UseFullRange = l.Value, l.Value = this.m_UseFullRange, this.RangeTest(e[r], l), this.m_UseFullRange = l.Value, this.InitEdge(o[0], o[1], o[r], e[0]), this.InitEdge(o[r], o[0], o[r - 1], e[r]);
        for(s = r - 1; s >= 1; --s)l.Value = this.m_UseFullRange, this.RangeTest(e[s], l), this.m_UseFullRange = l.Value, this.InitEdge(o[s], o[s + 1], o[s - 1], e[s]);
        for(var h = o[0], c = h, u = h;;)if (n.IntPoint.op_Equality(c.Curr, c.Next.Curr)) {
            if (c == c.Next) break;
            c == h && (h = c.Next), u = c = this.RemoveEdge(c);
        } else {
            if (c.Prev == c.Next) break;
            if (!i || !n.ClipperBase.SlopesEqual(c.Prev.Curr, c.Curr, c.Next.Curr, this.m_UseFullRange) || this.PreserveCollinear && this.Pt2IsBetweenPt1AndPt3(c.Prev.Curr, c.Curr, c.Next.Curr)) {
                if ((c = c.Next) == u) break;
            } else c == h && (h = c.Next), u = c = (c = this.RemoveEdge(c)).Prev;
        }
        if (!i && c == c.Next || i && c.Prev == c.Next) return !1;
        i || (this.m_HasOpenPaths = !0, h.Prev.OutIdx = n.ClipperBase.Skip);
        c = h;
        do this.InitEdge2(c, t), c = c.Next, a && c.Curr.Y != h.Curr.Y && (a = !1);
        while (c != h);
        if (a) {
            if (i) return !1;
            for(c.Prev.OutIdx = n.ClipperBase.Skip, c.Prev.Bot.X < c.Prev.Top.X && this.ReverseHorizontal(c.Prev), (f = new n.LocalMinima).Next = null, f.Y = c.Bot.Y, f.LeftBound = null, f.RightBound = c, f.RightBound.Side = n.EdgeSide.esRight, f.RightBound.WindDelta = 0; c.Next.OutIdx != n.ClipperBase.Skip;)c.NextInLML = c.Next, c.Bot.X != c.Prev.Top.X && this.ReverseHorizontal(c), c = c.Next;
            return this.InsertLocalMinima(f), this.m_edges.push(o), !0;
        }
        this.m_edges.push(o);
        for(var d, p = null; (c = this.FindNextLocMin(c)) != p;){
            var f;
            null == p && (p = c), (f = new n.LocalMinima).Next = null, f.Y = c.Bot.Y, c.Dx < c.Prev.Dx ? (f.LeftBound = c.Prev, f.RightBound = c, d = !1) : (f.LeftBound = c, f.RightBound = c.Prev, d = !0), f.LeftBound.Side = n.EdgeSide.esLeft, f.RightBound.Side = n.EdgeSide.esRight, i ? f.LeftBound.Next == f.RightBound ? f.LeftBound.WindDelta = -1 : f.LeftBound.WindDelta = 1 : f.LeftBound.WindDelta = 0, f.RightBound.WindDelta = -f.LeftBound.WindDelta, c = this.ProcessBound(f.LeftBound, d);
            var m = this.ProcessBound(f.RightBound, !d);
            f.LeftBound.OutIdx == n.ClipperBase.Skip ? f.LeftBound = null : f.RightBound.OutIdx == n.ClipperBase.Skip && (f.RightBound = null), this.InsertLocalMinima(f), d || (c = m);
        }
        return !0;
    }, n.ClipperBase.prototype.AddPaths = function(e, t, i) {
        for(var n = !1, r = 0, o = e.length; r < o; ++r)this.AddPath(e[r], t, i) && (n = !0);
        return n;
    }, n.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3 = function(e, t, i) {
        return !(n.IntPoint.op_Equality(e, i) || n.IntPoint.op_Equality(e, t) || n.IntPoint.op_Equality(i, t)) && (e.X != i.X ? t.X > e.X == t.X < i.X : t.Y > e.Y == t.Y < i.Y);
    }, n.ClipperBase.prototype.RemoveEdge = function(e) {
        e.Prev.Next = e.Next, e.Next.Prev = e.Prev;
        var t = e.Next;
        return e.Prev = null, t;
    }, n.ClipperBase.prototype.SetDx = function(e) {
        e.Delta.X = e.Top.X - e.Bot.X, e.Delta.Y = e.Top.Y - e.Bot.Y, 0 === e.Delta.Y ? e.Dx = n.ClipperBase.horizontal : e.Dx = e.Delta.X / e.Delta.Y;
    }, n.ClipperBase.prototype.InsertLocalMinima = function(e) {
        if (null === this.m_MinimaList) this.m_MinimaList = e;
        else if (e.Y >= this.m_MinimaList.Y) e.Next = this.m_MinimaList, this.m_MinimaList = e;
        else {
            for(var t = this.m_MinimaList; null !== t.Next && e.Y < t.Next.Y;)t = t.Next;
            e.Next = t.Next, t.Next = e;
        }
    }, n.ClipperBase.prototype.PopLocalMinima = function() {
        null !== this.m_CurrentLM && (this.m_CurrentLM = this.m_CurrentLM.Next);
    }, n.ClipperBase.prototype.ReverseHorizontal = function(e) {
        var t = e.Top.X;
        e.Top.X = e.Bot.X, e.Bot.X = t;
    }, n.ClipperBase.prototype.Reset = function() {
        if (this.m_CurrentLM = this.m_MinimaList, null != this.m_CurrentLM) for(var e = this.m_MinimaList; null != e;){
            var t = e.LeftBound;
            null != t && (t.Curr.X = t.Bot.X, t.Curr.Y = t.Bot.Y, t.Side = n.EdgeSide.esLeft, t.OutIdx = n.ClipperBase.Unassigned), null != (t = e.RightBound) && (t.Curr.X = t.Bot.X, t.Curr.Y = t.Bot.Y, t.Side = n.EdgeSide.esRight, t.OutIdx = n.ClipperBase.Unassigned), e = e.Next;
        }
    }, n.Clipper = function(e) {
        typeof e > "u" && (e = 0), this.m_PolyOuts = null, this.m_ClipType = n.ClipType.ctIntersection, this.m_Scanbeam = null, this.m_ActiveEdges = null, this.m_SortedEdges = null, this.m_IntersectList = null, this.m_IntersectNodeComparer = null, this.m_ExecuteLocked = !1, this.m_ClipFillType = n.PolyFillType.pftEvenOdd, this.m_SubjFillType = n.PolyFillType.pftEvenOdd, this.m_Joins = null, this.m_GhostJoins = null, this.m_UsingPolyTree = !1, this.ReverseSolution = !1, this.StrictlySimple = !1, n.ClipperBase.call(this), this.m_Scanbeam = null, this.m_ActiveEdges = null, this.m_SortedEdges = null, this.m_IntersectList = new Array, this.m_IntersectNodeComparer = n.MyIntersectNodeSort.Compare, this.m_ExecuteLocked = !1, this.m_UsingPolyTree = !1, this.m_PolyOuts = new Array, this.m_Joins = new Array, this.m_GhostJoins = new Array, this.ReverseSolution = 0 != (1 & e), this.StrictlySimple = 0 != (2 & e), this.PreserveCollinear = 0 != (4 & e);
    }, n.Clipper.ioReverseSolution = 1, n.Clipper.ioStrictlySimple = 2, n.Clipper.ioPreserveCollinear = 4, n.Clipper.prototype.Clear = function() {
        0 !== this.m_edges.length && (this.DisposeAllPolyPts(), n.ClipperBase.prototype.Clear.call(this));
    }, n.Clipper.prototype.DisposeScanbeamList = function() {
        for(; null !== this.m_Scanbeam;){
            var e = this.m_Scanbeam.Next;
            this.m_Scanbeam = null, this.m_Scanbeam = e;
        }
    }, n.Clipper.prototype.Reset = function() {
        n.ClipperBase.prototype.Reset.call(this), this.m_Scanbeam = null, this.m_ActiveEdges = null, this.m_SortedEdges = null;
        for(var e = this.m_MinimaList; null !== e;)this.InsertScanbeam(e.Y), e = e.Next;
    }, n.Clipper.prototype.InsertScanbeam = function(e) {
        if (null === this.m_Scanbeam) this.m_Scanbeam = new n.Scanbeam, this.m_Scanbeam.Next = null, this.m_Scanbeam.Y = e;
        else if (e > this.m_Scanbeam.Y) (i = new n.Scanbeam).Y = e, i.Next = this.m_Scanbeam, this.m_Scanbeam = i;
        else {
            for(var t = this.m_Scanbeam; null !== t.Next && e <= t.Next.Y;)t = t.Next;
            if (e == t.Y) return;
            var i;
            (i = new n.Scanbeam).Y = e, i.Next = t.Next, t.Next = i;
        }
    }, n.Clipper.prototype.Execute = function() {
        var e = arguments, t = e.length, i = e[1] instanceof n.PolyTree;
        if (4 == t && !i) {
            var r = e[0], o = e[1], s = e[2], a = e[3];
            if (this.m_ExecuteLocked) return !1;
            this.m_HasOpenPaths && n.Error("Error: PolyTree struct is need for open path clipping."), this.m_ExecuteLocked = !0, n.Clear(o), this.m_SubjFillType = s, this.m_ClipFillType = a, this.m_ClipType = r, this.m_UsingPolyTree = !1;
            try {
                (h = this.ExecuteInternal()) && this.BuildResult(o);
            } finally{
                this.DisposeAllPolyPts(), this.m_ExecuteLocked = !1;
            }
            return h;
        }
        if (4 == t && i) {
            r = e[0];
            var l = e[1];
            s = e[2], a = e[3];
            if (this.m_ExecuteLocked) return !1;
            this.m_ExecuteLocked = !0, this.m_SubjFillType = s, this.m_ClipFillType = a, this.m_ClipType = r, this.m_UsingPolyTree = !0;
            try {
                var h;
                (h = this.ExecuteInternal()) && this.BuildResult2(l);
            } finally{
                this.DisposeAllPolyPts(), this.m_ExecuteLocked = !1;
            }
            return h;
        }
        if (2 == t && !i) {
            r = e[0], o = e[1];
            return this.Execute(r, o, n.PolyFillType.pftEvenOdd, n.PolyFillType.pftEvenOdd);
        }
        if (2 == t && i) {
            r = e[0], l = e[1];
            return this.Execute(r, l, n.PolyFillType.pftEvenOdd, n.PolyFillType.pftEvenOdd);
        }
    }, n.Clipper.prototype.FixHoleLinkage = function(e) {
        if (null !== e.FirstLeft && (e.IsHole == e.FirstLeft.IsHole || null === e.FirstLeft.Pts)) {
            for(var t = e.FirstLeft; null !== t && (t.IsHole == e.IsHole || null === t.Pts);)t = t.FirstLeft;
            e.FirstLeft = t;
        }
    }, n.Clipper.prototype.ExecuteInternal = function() {
        try {
            if (this.Reset(), null === this.m_CurrentLM) return !1;
            var e = this.PopScanbeam();
            do {
                if (this.InsertLocalMinimaIntoAEL(e), n.Clear(this.m_GhostJoins), this.ProcessHorizontals(!1), null === this.m_Scanbeam) break;
                var t = this.PopScanbeam();
                if (!this.ProcessIntersections(e, t)) return !1;
                this.ProcessEdgesAtTopOfScanbeam(t), e = t;
            }while (null !== this.m_Scanbeam || null !== this.m_CurrentLM);
            for(var i = 0, r = this.m_PolyOuts.length; i < r; i++)null === (o = this.m_PolyOuts[i]).Pts || o.IsOpen || (o.IsHole ^ this.ReverseSolution) == this.Area(o) > 0 && this.ReversePolyPtLinks(o.Pts);
            this.JoinCommonEdges();
            for(i = 0, r = this.m_PolyOuts.length; i < r; i++){
                var o;
                null !== (o = this.m_PolyOuts[i]).Pts && !o.IsOpen && this.FixupOutPolygon(o);
            }
            return this.StrictlySimple && this.DoSimplePolygons(), !0;
        } finally{
            n.Clear(this.m_Joins), n.Clear(this.m_GhostJoins);
        }
    }, n.Clipper.prototype.PopScanbeam = function() {
        var e = this.m_Scanbeam.Y;
        this.m_Scanbeam;
        return this.m_Scanbeam = this.m_Scanbeam.Next, e;
    }, n.Clipper.prototype.DisposeAllPolyPts = function() {
        for(var e = 0, t = this.m_PolyOuts.length; e < t; ++e)this.DisposeOutRec(e);
        n.Clear(this.m_PolyOuts);
    }, n.Clipper.prototype.DisposeOutRec = function(e) {
        var t = this.m_PolyOuts[e];
        null !== t.Pts && this.DisposeOutPts(t.Pts), t = null, this.m_PolyOuts[e] = null;
    }, n.Clipper.prototype.DisposeOutPts = function(e) {
        if (null !== e) for(e.Prev.Next = null; null !== e;)e, e = e.Next;
    }, n.Clipper.prototype.AddJoin = function(e, t, i) {
        var r = new n.Join;
        r.OutPt1 = e, r.OutPt2 = t, r.OffPt.X = i.X, r.OffPt.Y = i.Y, this.m_Joins.push(r);
    }, n.Clipper.prototype.AddGhostJoin = function(e, t) {
        var i = new n.Join;
        i.OutPt1 = e, i.OffPt.X = t.X, i.OffPt.Y = t.Y, this.m_GhostJoins.push(i);
    }, n.Clipper.prototype.InsertLocalMinimaIntoAEL = function(e) {
        for(; null !== this.m_CurrentLM && this.m_CurrentLM.Y == e;){
            var t = this.m_CurrentLM.LeftBound, i = this.m_CurrentLM.RightBound;
            this.PopLocalMinima();
            var r = null;
            if (null === t ? (this.InsertEdgeIntoAEL(i, null), this.SetWindingCount(i), this.IsContributing(i) && (r = this.AddOutPt(i, i.Bot))) : null == i ? (this.InsertEdgeIntoAEL(t, null), this.SetWindingCount(t), this.IsContributing(t) && (r = this.AddOutPt(t, t.Bot)), this.InsertScanbeam(t.Top.Y)) : (this.InsertEdgeIntoAEL(t, null), this.InsertEdgeIntoAEL(i, t), this.SetWindingCount(t), i.WindCnt = t.WindCnt, i.WindCnt2 = t.WindCnt2, this.IsContributing(t) && (r = this.AddLocalMinPoly(t, i, t.Bot)), this.InsertScanbeam(t.Top.Y)), null != i && (n.ClipperBase.IsHorizontal(i) ? this.AddEdgeToSEL(i) : this.InsertScanbeam(i.Top.Y)), null != t && null != i) {
                if (null !== r && n.ClipperBase.IsHorizontal(i) && this.m_GhostJoins.length > 0 && 0 !== i.WindDelta) for(var o = 0, s = this.m_GhostJoins.length; o < s; o++){
                    var a = this.m_GhostJoins[o];
                    this.HorzSegmentsOverlap(a.OutPt1.Pt, a.OffPt, i.Bot, i.Top) && this.AddJoin(a.OutPt1, r, a.OffPt);
                }
                if (t.OutIdx >= 0 && null !== t.PrevInAEL && t.PrevInAEL.Curr.X == t.Bot.X && t.PrevInAEL.OutIdx >= 0 && n.ClipperBase.SlopesEqual(t.PrevInAEL, t, this.m_UseFullRange) && 0 !== t.WindDelta && 0 !== t.PrevInAEL.WindDelta) {
                    var l = this.AddOutPt(t.PrevInAEL, t.Bot);
                    this.AddJoin(r, l, t.Top);
                }
                if (t.NextInAEL != i) {
                    if (i.OutIdx >= 0 && i.PrevInAEL.OutIdx >= 0 && n.ClipperBase.SlopesEqual(i.PrevInAEL, i, this.m_UseFullRange) && 0 !== i.WindDelta && 0 !== i.PrevInAEL.WindDelta) {
                        l = this.AddOutPt(i.PrevInAEL, i.Bot);
                        this.AddJoin(r, l, i.Top);
                    }
                    var h = t.NextInAEL;
                    if (null !== h) for(; h != i;)this.IntersectEdges(i, h, t.Curr, !1), h = h.NextInAEL;
                }
            }
        }
    }, n.Clipper.prototype.InsertEdgeIntoAEL = function(e, t) {
        if (null === this.m_ActiveEdges) e.PrevInAEL = null, e.NextInAEL = null, this.m_ActiveEdges = e;
        else if (null === t && this.E2InsertsBeforeE1(this.m_ActiveEdges, e)) e.PrevInAEL = null, e.NextInAEL = this.m_ActiveEdges, this.m_ActiveEdges.PrevInAEL = e, this.m_ActiveEdges = e;
        else {
            for(null === t && (t = this.m_ActiveEdges); null !== t.NextInAEL && !this.E2InsertsBeforeE1(t.NextInAEL, e);)t = t.NextInAEL;
            e.NextInAEL = t.NextInAEL, null !== t.NextInAEL && (t.NextInAEL.PrevInAEL = e), e.PrevInAEL = t, t.NextInAEL = e;
        }
    }, n.Clipper.prototype.E2InsertsBeforeE1 = function(e, t) {
        return t.Curr.X == e.Curr.X ? t.Top.Y > e.Top.Y ? t.Top.X < n.Clipper.TopX(e, t.Top.Y) : e.Top.X > n.Clipper.TopX(t, e.Top.Y) : t.Curr.X < e.Curr.X;
    }, n.Clipper.prototype.IsEvenOddFillType = function(e) {
        return e.PolyTyp == n.PolyType.ptSubject ? this.m_SubjFillType == n.PolyFillType.pftEvenOdd : this.m_ClipFillType == n.PolyFillType.pftEvenOdd;
    }, n.Clipper.prototype.IsEvenOddAltFillType = function(e) {
        return e.PolyTyp == n.PolyType.ptSubject ? this.m_ClipFillType == n.PolyFillType.pftEvenOdd : this.m_SubjFillType == n.PolyFillType.pftEvenOdd;
    }, n.Clipper.prototype.IsContributing = function(e) {
        var t, i;
        switch(e.PolyTyp == n.PolyType.ptSubject ? (t = this.m_SubjFillType, i = this.m_ClipFillType) : (t = this.m_ClipFillType, i = this.m_SubjFillType), t){
            case n.PolyFillType.pftEvenOdd:
                if (0 === e.WindDelta && 1 != e.WindCnt) return !1;
                break;
            case n.PolyFillType.pftNonZero:
                if (1 != Math.abs(e.WindCnt)) return !1;
                break;
            case n.PolyFillType.pftPositive:
                if (1 != e.WindCnt) return !1;
                break;
            default:
                if (-1 != e.WindCnt) return !1;
        }
        switch(this.m_ClipType){
            case n.ClipType.ctIntersection:
                switch(i){
                    case n.PolyFillType.pftEvenOdd:
                    case n.PolyFillType.pftNonZero:
                        return 0 !== e.WindCnt2;
                    case n.PolyFillType.pftPositive:
                        return e.WindCnt2 > 0;
                    default:
                        return e.WindCnt2 < 0;
                }
            case n.ClipType.ctUnion:
                switch(i){
                    case n.PolyFillType.pftEvenOdd:
                    case n.PolyFillType.pftNonZero:
                        return 0 === e.WindCnt2;
                    case n.PolyFillType.pftPositive:
                        return e.WindCnt2 <= 0;
                    default:
                        return e.WindCnt2 >= 0;
                }
            case n.ClipType.ctDifference:
                if (e.PolyTyp == n.PolyType.ptSubject) switch(i){
                    case n.PolyFillType.pftEvenOdd:
                    case n.PolyFillType.pftNonZero:
                        return 0 === e.WindCnt2;
                    case n.PolyFillType.pftPositive:
                        return e.WindCnt2 <= 0;
                    default:
                        return e.WindCnt2 >= 0;
                }
                else switch(i){
                    case n.PolyFillType.pftEvenOdd:
                    case n.PolyFillType.pftNonZero:
                        return 0 !== e.WindCnt2;
                    case n.PolyFillType.pftPositive:
                        return e.WindCnt2 > 0;
                    default:
                        return e.WindCnt2 < 0;
                }
            case n.ClipType.ctXor:
                if (0 !== e.WindDelta) return !0;
                switch(i){
                    case n.PolyFillType.pftEvenOdd:
                    case n.PolyFillType.pftNonZero:
                        return 0 === e.WindCnt2;
                    case n.PolyFillType.pftPositive:
                        return e.WindCnt2 <= 0;
                    default:
                        return e.WindCnt2 >= 0;
                }
        }
        return !0;
    }, n.Clipper.prototype.SetWindingCount = function(e) {
        for(var t = e.PrevInAEL; null !== t && (t.PolyTyp != e.PolyTyp || 0 === t.WindDelta);)t = t.PrevInAEL;
        if (null === t) e.WindCnt = 0 === e.WindDelta ? 1 : e.WindDelta, e.WindCnt2 = 0, t = this.m_ActiveEdges;
        else if (0 === e.WindDelta && this.m_ClipType != n.ClipType.ctUnion) e.WindCnt = 1, e.WindCnt2 = t.WindCnt2, t = t.NextInAEL;
        else if (this.IsEvenOddFillType(e)) {
            if (0 === e.WindDelta) {
                for(var i = !0, r = t.PrevInAEL; null !== r;)r.PolyTyp == t.PolyTyp && 0 !== r.WindDelta && (i = !i), r = r.PrevInAEL;
                e.WindCnt = i ? 0 : 1;
            } else e.WindCnt = e.WindDelta;
            e.WindCnt2 = t.WindCnt2, t = t.NextInAEL;
        } else t.WindCnt * t.WindDelta < 0 ? Math.abs(t.WindCnt) > 1 ? t.WindDelta * e.WindDelta < 0 ? e.WindCnt = t.WindCnt : e.WindCnt = t.WindCnt + e.WindDelta : e.WindCnt = 0 === e.WindDelta ? 1 : e.WindDelta : 0 === e.WindDelta ? e.WindCnt = t.WindCnt < 0 ? t.WindCnt - 1 : t.WindCnt + 1 : t.WindDelta * e.WindDelta < 0 ? e.WindCnt = t.WindCnt : e.WindCnt = t.WindCnt + e.WindDelta, e.WindCnt2 = t.WindCnt2, t = t.NextInAEL;
        if (this.IsEvenOddAltFillType(e)) for(; t != e;)0 !== t.WindDelta && (e.WindCnt2 = 0 === e.WindCnt2 ? 1 : 0), t = t.NextInAEL;
        else for(; t != e;)e.WindCnt2 += t.WindDelta, t = t.NextInAEL;
    }, n.Clipper.prototype.AddEdgeToSEL = function(e) {
        null === this.m_SortedEdges ? (this.m_SortedEdges = e, e.PrevInSEL = null, e.NextInSEL = null) : (e.NextInSEL = this.m_SortedEdges, e.PrevInSEL = null, this.m_SortedEdges.PrevInSEL = e, this.m_SortedEdges = e);
    }, n.Clipper.prototype.CopyAELToSEL = function() {
        var e = this.m_ActiveEdges;
        for(this.m_SortedEdges = e; null !== e;)e.PrevInSEL = e.PrevInAEL, e.NextInSEL = e.NextInAEL, e = e.NextInAEL;
    }, n.Clipper.prototype.SwapPositionsInAEL = function(e, t) {
        if (e.NextInAEL != e.PrevInAEL && t.NextInAEL != t.PrevInAEL) {
            if (e.NextInAEL == t) null !== (i = t.NextInAEL) && (i.PrevInAEL = e), null !== (n = e.PrevInAEL) && (n.NextInAEL = t), t.PrevInAEL = n, t.NextInAEL = e, e.PrevInAEL = t, e.NextInAEL = i;
            else if (t.NextInAEL == e) null !== (i = e.NextInAEL) && (i.PrevInAEL = t), null !== (n = t.PrevInAEL) && (n.NextInAEL = e), e.PrevInAEL = n, e.NextInAEL = t, t.PrevInAEL = e, t.NextInAEL = i;
            else {
                var i = e.NextInAEL, n = e.PrevInAEL;
                e.NextInAEL = t.NextInAEL, null !== e.NextInAEL && (e.NextInAEL.PrevInAEL = e), e.PrevInAEL = t.PrevInAEL, null !== e.PrevInAEL && (e.PrevInAEL.NextInAEL = e), t.NextInAEL = i, null !== t.NextInAEL && (t.NextInAEL.PrevInAEL = t), t.PrevInAEL = n, null !== t.PrevInAEL && (t.PrevInAEL.NextInAEL = t);
            }
            null === e.PrevInAEL ? this.m_ActiveEdges = e : null === t.PrevInAEL && (this.m_ActiveEdges = t);
        }
    }, n.Clipper.prototype.SwapPositionsInSEL = function(e, t) {
        if (!(null === e.NextInSEL && null === e.PrevInSEL || null === t.NextInSEL && null === t.PrevInSEL)) {
            if (e.NextInSEL == t) null !== (i = t.NextInSEL) && (i.PrevInSEL = e), null !== (n = e.PrevInSEL) && (n.NextInSEL = t), t.PrevInSEL = n, t.NextInSEL = e, e.PrevInSEL = t, e.NextInSEL = i;
            else if (t.NextInSEL == e) null !== (i = e.NextInSEL) && (i.PrevInSEL = t), null !== (n = t.PrevInSEL) && (n.NextInSEL = e), e.PrevInSEL = n, e.NextInSEL = t, t.PrevInSEL = e, t.NextInSEL = i;
            else {
                var i = e.NextInSEL, n = e.PrevInSEL;
                e.NextInSEL = t.NextInSEL, null !== e.NextInSEL && (e.NextInSEL.PrevInSEL = e), e.PrevInSEL = t.PrevInSEL, null !== e.PrevInSEL && (e.PrevInSEL.NextInSEL = e), t.NextInSEL = i, null !== t.NextInSEL && (t.NextInSEL.PrevInSEL = t), t.PrevInSEL = n, null !== t.PrevInSEL && (t.PrevInSEL.NextInSEL = t);
            }
            null === e.PrevInSEL ? this.m_SortedEdges = e : null === t.PrevInSEL && (this.m_SortedEdges = t);
        }
    }, n.Clipper.prototype.AddLocalMaxPoly = function(e, t, i) {
        this.AddOutPt(e, i), 0 == t.WindDelta && this.AddOutPt(t, i), e.OutIdx == t.OutIdx ? (e.OutIdx = -1, t.OutIdx = -1) : e.OutIdx < t.OutIdx ? this.AppendPolygon(e, t) : this.AppendPolygon(t, e);
    }, n.Clipper.prototype.AddLocalMinPoly = function(e, t, i) {
        var r, o, s;
        if (n.ClipperBase.IsHorizontal(t) || e.Dx > t.Dx ? (r = this.AddOutPt(e, i), t.OutIdx = e.OutIdx, e.Side = n.EdgeSide.esLeft, t.Side = n.EdgeSide.esRight, s = (o = e).PrevInAEL == t ? t.PrevInAEL : o.PrevInAEL) : (r = this.AddOutPt(t, i), e.OutIdx = t.OutIdx, e.Side = n.EdgeSide.esRight, t.Side = n.EdgeSide.esLeft, s = (o = t).PrevInAEL == e ? e.PrevInAEL : o.PrevInAEL), null !== s && s.OutIdx >= 0 && n.Clipper.TopX(s, i.Y) == n.Clipper.TopX(o, i.Y) && n.ClipperBase.SlopesEqual(o, s, this.m_UseFullRange) && 0 !== o.WindDelta && 0 !== s.WindDelta) {
            var a = this.AddOutPt(s, i);
            this.AddJoin(r, a, o.Top);
        }
        return r;
    }, n.Clipper.prototype.CreateOutRec = function() {
        var e = new n.OutRec;
        return e.Idx = -1, e.IsHole = !1, e.IsOpen = !1, e.FirstLeft = null, e.Pts = null, e.BottomPt = null, e.PolyNode = null, this.m_PolyOuts.push(e), e.Idx = this.m_PolyOuts.length - 1, e;
    }, n.Clipper.prototype.AddOutPt = function(e, t) {
        var i = e.Side == n.EdgeSide.esLeft;
        if (e.OutIdx < 0) {
            (o = this.CreateOutRec()).IsOpen = 0 === e.WindDelta;
            var r = new n.OutPt;
            return o.Pts = r, r.Idx = o.Idx, r.Pt.X = t.X, r.Pt.Y = t.Y, r.Next = r, r.Prev = r, o.IsOpen || this.SetHoleState(e, o), e.OutIdx = o.Idx, r;
        }
        var o, s = (o = this.m_PolyOuts[e.OutIdx]).Pts;
        return i && n.IntPoint.op_Equality(t, s.Pt) ? s : !i && n.IntPoint.op_Equality(t, s.Prev.Pt) ? s.Prev : ((r = new n.OutPt).Idx = o.Idx, r.Pt.X = t.X, r.Pt.Y = t.Y, r.Next = s, r.Prev = s.Prev, r.Prev.Next = r, s.Prev = r, i && (o.Pts = r), r);
    }, n.Clipper.prototype.SwapPoints = function(e, t) {
        var i = new n.IntPoint(e.Value);
        e.Value.X = t.Value.X, e.Value.Y = t.Value.Y, t.Value.X = i.X, t.Value.Y = i.Y;
    }, n.Clipper.prototype.HorzSegmentsOverlap = function(e, t, i, n) {
        return e.X > i.X == e.X < n.X || t.X > i.X == t.X < n.X || i.X > e.X == i.X < t.X || n.X > e.X == n.X < t.X || e.X == i.X && t.X == n.X || e.X == n.X && t.X == i.X;
    }, n.Clipper.prototype.InsertPolyPtBetween = function(e, t, i) {
        var r = new n.OutPt;
        return r.Pt.X = i.X, r.Pt.Y = i.Y, t == e.Next ? (e.Next = r, t.Prev = r, r.Next = t, r.Prev = e) : (t.Next = r, e.Prev = r, r.Next = e, r.Prev = t), r;
    }, n.Clipper.prototype.SetHoleState = function(e, t) {
        for(var i = !1, n = e.PrevInAEL; null !== n;)n.OutIdx >= 0 && 0 != n.WindDelta && (i = !i, null === t.FirstLeft && (t.FirstLeft = this.m_PolyOuts[n.OutIdx])), n = n.PrevInAEL;
        i && (t.IsHole = !0);
    }, n.Clipper.prototype.GetDx = function(e, t) {
        return e.Y == t.Y ? n.ClipperBase.horizontal : (t.X - e.X) / (t.Y - e.Y);
    }, n.Clipper.prototype.FirstIsBottomPt = function(e, t) {
        for(var i = e.Prev; n.IntPoint.op_Equality(i.Pt, e.Pt) && i != e;)i = i.Prev;
        var r = Math.abs(this.GetDx(e.Pt, i.Pt));
        for(i = e.Next; n.IntPoint.op_Equality(i.Pt, e.Pt) && i != e;)i = i.Next;
        var o = Math.abs(this.GetDx(e.Pt, i.Pt));
        for(i = t.Prev; n.IntPoint.op_Equality(i.Pt, t.Pt) && i != t;)i = i.Prev;
        var s = Math.abs(this.GetDx(t.Pt, i.Pt));
        for(i = t.Next; n.IntPoint.op_Equality(i.Pt, t.Pt) && i != t;)i = i.Next;
        var a = Math.abs(this.GetDx(t.Pt, i.Pt));
        return r >= s && r >= a || o >= s && o >= a;
    }, n.Clipper.prototype.GetBottomPt = function(e) {
        for(var t = null, i = e.Next; i != e;)i.Pt.Y > e.Pt.Y ? (e = i, t = null) : i.Pt.Y == e.Pt.Y && i.Pt.X <= e.Pt.X && (i.Pt.X < e.Pt.X ? (t = null, e = i) : i.Next != e && i.Prev != e && (t = i)), i = i.Next;
        if (null !== t) for(; t != i;)for(this.FirstIsBottomPt(i, t) || (e = t), t = t.Next; n.IntPoint.op_Inequality(t.Pt, e.Pt);)t = t.Next;
        return e;
    }, n.Clipper.prototype.GetLowermostRec = function(e, t) {
        null === e.BottomPt && (e.BottomPt = this.GetBottomPt(e.Pts)), null === t.BottomPt && (t.BottomPt = this.GetBottomPt(t.Pts));
        var i = e.BottomPt, n = t.BottomPt;
        return i.Pt.Y > n.Pt.Y ? e : i.Pt.Y < n.Pt.Y ? t : i.Pt.X < n.Pt.X ? e : i.Pt.X > n.Pt.X || i.Next == i ? t : n.Next == n || this.FirstIsBottomPt(i, n) ? e : t;
    }, n.Clipper.prototype.Param1RightOfParam2 = function(e, t) {
        do {
            if ((e = e.FirstLeft) == t) return !0;
        }while (null !== e);
        return !1;
    }, n.Clipper.prototype.GetOutRec = function(e) {
        for(var t = this.m_PolyOuts[e]; t != this.m_PolyOuts[t.Idx];)t = this.m_PolyOuts[t.Idx];
        return t;
    }, n.Clipper.prototype.AppendPolygon = function(e, t) {
        var i, r = this.m_PolyOuts[e.OutIdx], o = this.m_PolyOuts[t.OutIdx];
        i = this.Param1RightOfParam2(r, o) ? o : this.Param1RightOfParam2(o, r) ? r : this.GetLowermostRec(r, o);
        var s, a = r.Pts, l = a.Prev, h = o.Pts, c = h.Prev;
        e.Side == n.EdgeSide.esLeft ? (t.Side == n.EdgeSide.esLeft ? (this.ReversePolyPtLinks(h), h.Next = a, a.Prev = h, l.Next = c, c.Prev = l, r.Pts = c) : (c.Next = a, a.Prev = c, h.Prev = l, l.Next = h, r.Pts = h), s = n.EdgeSide.esLeft) : (t.Side == n.EdgeSide.esRight ? (this.ReversePolyPtLinks(h), l.Next = c, c.Prev = l, h.Next = a, a.Prev = h) : (l.Next = h, h.Prev = l, a.Prev = c, c.Next = a), s = n.EdgeSide.esRight), r.BottomPt = null, i == o && (o.FirstLeft != r && (r.FirstLeft = o.FirstLeft), r.IsHole = o.IsHole), o.Pts = null, o.BottomPt = null, o.FirstLeft = r;
        var u = e.OutIdx, d = t.OutIdx;
        e.OutIdx = -1, t.OutIdx = -1;
        for(var p = this.m_ActiveEdges; null !== p;){
            if (p.OutIdx == d) {
                p.OutIdx = u, p.Side = s;
                break;
            }
            p = p.NextInAEL;
        }
        o.Idx = r.Idx;
    }, n.Clipper.prototype.ReversePolyPtLinks = function(e) {
        if (null !== e) {
            var t, i;
            t = e;
            do i = t.Next, t.Next = t.Prev, t.Prev = i, t = i;
            while (t != e);
        }
    }, n.Clipper.SwapSides = function(e, t) {
        var i = e.Side;
        e.Side = t.Side, t.Side = i;
    }, n.Clipper.SwapPolyIndexes = function(e, t) {
        var i = e.OutIdx;
        e.OutIdx = t.OutIdx, t.OutIdx = i;
    }, n.Clipper.prototype.IntersectEdges = function(e, t, i, r) {
        var o, s, a, l, h, c, u = !r && null === e.NextInLML && e.Top.X == i.X && e.Top.Y == i.Y, d = !r && null === t.NextInLML && t.Top.X == i.X && t.Top.Y == i.Y, p = e.OutIdx >= 0, f = t.OutIdx >= 0;
        if (0 === e.WindDelta || 0 === t.WindDelta) return 0 === e.WindDelta && 0 === t.WindDelta ? (u || d) && p && f && this.AddLocalMaxPoly(e, t, i) : e.PolyTyp == t.PolyTyp && e.WindDelta != t.WindDelta && this.m_ClipType == n.ClipType.ctUnion ? 0 === e.WindDelta ? f && (this.AddOutPt(e, i), p && (e.OutIdx = -1)) : p && (this.AddOutPt(t, i), f && (t.OutIdx = -1)) : e.PolyTyp != t.PolyTyp && (0 !== e.WindDelta || 1 != Math.abs(t.WindCnt) || this.m_ClipType == n.ClipType.ctUnion && 0 !== t.WindCnt2 ? 0 === t.WindDelta && 1 == Math.abs(e.WindCnt) && (this.m_ClipType != n.ClipType.ctUnion || 0 === e.WindCnt2) && (this.AddOutPt(t, i), f && (t.OutIdx = -1)) : (this.AddOutPt(e, i), p && (e.OutIdx = -1))), u && (e.OutIdx < 0 ? this.DeleteFromAEL(e) : n.Error("Error intersecting polylines")), void (d && (t.OutIdx < 0 ? this.DeleteFromAEL(t) : n.Error("Error intersecting polylines")));
        if (e.PolyTyp == t.PolyTyp) {
            if (this.IsEvenOddFillType(e)) {
                var m = e.WindCnt;
                e.WindCnt = t.WindCnt, t.WindCnt = m;
            } else e.WindCnt + t.WindDelta === 0 ? e.WindCnt = -e.WindCnt : e.WindCnt += t.WindDelta, t.WindCnt - e.WindDelta == 0 ? t.WindCnt = -t.WindCnt : t.WindCnt -= e.WindDelta;
        } else this.IsEvenOddFillType(t) ? e.WindCnt2 = 0 === e.WindCnt2 ? 1 : 0 : e.WindCnt2 += t.WindDelta, this.IsEvenOddFillType(e) ? t.WindCnt2 = 0 === t.WindCnt2 ? 1 : 0 : t.WindCnt2 -= e.WindDelta;
        switch(e.PolyTyp == n.PolyType.ptSubject ? (o = this.m_SubjFillType, a = this.m_ClipFillType) : (o = this.m_ClipFillType, a = this.m_SubjFillType), t.PolyTyp == n.PolyType.ptSubject ? (s = this.m_SubjFillType, l = this.m_ClipFillType) : (s = this.m_ClipFillType, l = this.m_SubjFillType), o){
            case n.PolyFillType.pftPositive:
                h = e.WindCnt;
                break;
            case n.PolyFillType.pftNegative:
                h = -e.WindCnt;
                break;
            default:
                h = Math.abs(e.WindCnt);
        }
        switch(s){
            case n.PolyFillType.pftPositive:
                c = t.WindCnt;
                break;
            case n.PolyFillType.pftNegative:
                c = -t.WindCnt;
                break;
            default:
                c = Math.abs(t.WindCnt);
        }
        if (p && f) u || d || 0 !== h && 1 != h || 0 !== c && 1 != c || e.PolyTyp != t.PolyTyp && this.m_ClipType != n.ClipType.ctXor ? this.AddLocalMaxPoly(e, t, i) : (this.AddOutPt(e, i), this.AddOutPt(t, i), n.Clipper.SwapSides(e, t), n.Clipper.SwapPolyIndexes(e, t));
        else if (p) (0 === c || 1 == c) && (this.AddOutPt(e, i), n.Clipper.SwapSides(e, t), n.Clipper.SwapPolyIndexes(e, t));
        else if (f) (0 === h || 1 == h) && (this.AddOutPt(t, i), n.Clipper.SwapSides(e, t), n.Clipper.SwapPolyIndexes(e, t));
        else if (!(0 !== h && 1 != h || 0 !== c && 1 != c || u || d)) {
            var g, v;
            switch(a){
                case n.PolyFillType.pftPositive:
                    g = e.WindCnt2;
                    break;
                case n.PolyFillType.pftNegative:
                    g = -e.WindCnt2;
                    break;
                default:
                    g = Math.abs(e.WindCnt2);
            }
            switch(l){
                case n.PolyFillType.pftPositive:
                    v = t.WindCnt2;
                    break;
                case n.PolyFillType.pftNegative:
                    v = -t.WindCnt2;
                    break;
                default:
                    v = Math.abs(t.WindCnt2);
            }
            if (e.PolyTyp != t.PolyTyp) this.AddLocalMinPoly(e, t, i);
            else if (1 == h && 1 == c) switch(this.m_ClipType){
                case n.ClipType.ctIntersection:
                    g > 0 && v > 0 && this.AddLocalMinPoly(e, t, i);
                    break;
                case n.ClipType.ctUnion:
                    g <= 0 && v <= 0 && this.AddLocalMinPoly(e, t, i);
                    break;
                case n.ClipType.ctDifference:
                    (e.PolyTyp == n.PolyType.ptClip && g > 0 && v > 0 || e.PolyTyp == n.PolyType.ptSubject && g <= 0 && v <= 0) && this.AddLocalMinPoly(e, t, i);
                    break;
                case n.ClipType.ctXor:
                    this.AddLocalMinPoly(e, t, i);
            }
            else n.Clipper.SwapSides(e, t);
        }
        u != d && (u && e.OutIdx >= 0 || d && t.OutIdx >= 0) && (n.Clipper.SwapSides(e, t), n.Clipper.SwapPolyIndexes(e, t)), u && this.DeleteFromAEL(e), d && this.DeleteFromAEL(t);
    }, n.Clipper.prototype.DeleteFromAEL = function(e) {
        var t = e.PrevInAEL, i = e.NextInAEL;
        null === t && null === i && e != this.m_ActiveEdges || (null !== t ? t.NextInAEL = i : this.m_ActiveEdges = i, null !== i && (i.PrevInAEL = t), e.NextInAEL = null, e.PrevInAEL = null);
    }, n.Clipper.prototype.DeleteFromSEL = function(e) {
        var t = e.PrevInSEL, i = e.NextInSEL;
        null === t && null === i && e != this.m_SortedEdges || (null !== t ? t.NextInSEL = i : this.m_SortedEdges = i, null !== i && (i.PrevInSEL = t), e.NextInSEL = null, e.PrevInSEL = null);
    }, n.Clipper.prototype.UpdateEdgeIntoAEL = function(e) {
        null === e.NextInLML && n.Error("UpdateEdgeIntoAEL: invalid call");
        var t = e.PrevInAEL, i = e.NextInAEL;
        return e.NextInLML.OutIdx = e.OutIdx, null !== t ? t.NextInAEL = e.NextInLML : this.m_ActiveEdges = e.NextInLML, null !== i && (i.PrevInAEL = e.NextInLML), e.NextInLML.Side = e.Side, e.NextInLML.WindDelta = e.WindDelta, e.NextInLML.WindCnt = e.WindCnt, e.NextInLML.WindCnt2 = e.WindCnt2, (e = e.NextInLML).Curr.X = e.Bot.X, e.Curr.Y = e.Bot.Y, e.PrevInAEL = t, e.NextInAEL = i, n.ClipperBase.IsHorizontal(e) || this.InsertScanbeam(e.Top.Y), e;
    }, n.Clipper.prototype.ProcessHorizontals = function(e) {
        for(var t = this.m_SortedEdges; null !== t;)this.DeleteFromSEL(t), this.ProcessHorizontal(t, e), t = this.m_SortedEdges;
    }, n.Clipper.prototype.GetHorzDirection = function(e, t) {
        e.Bot.X < e.Top.X ? (t.Left = e.Bot.X, t.Right = e.Top.X, t.Dir = n.Direction.dLeftToRight) : (t.Left = e.Top.X, t.Right = e.Bot.X, t.Dir = n.Direction.dRightToLeft);
    }, n.Clipper.prototype.PrepareHorzJoins = function(e, t) {
        var i = this.m_PolyOuts[e.OutIdx].Pts;
        e.Side != n.EdgeSide.esLeft && (i = i.Prev), t && (n.IntPoint.op_Equality(i.Pt, e.Top) ? this.AddGhostJoin(i, e.Bot) : this.AddGhostJoin(i, e.Top));
    }, n.Clipper.prototype.ProcessHorizontal = function(e, t) {
        var i = {
            Dir: null,
            Left: null,
            Right: null
        };
        this.GetHorzDirection(e, i);
        for(var r = i.Dir, o = i.Left, s = i.Right, a = e, l = null; null !== a.NextInLML && n.ClipperBase.IsHorizontal(a.NextInLML);)a = a.NextInLML;
        for(null === a.NextInLML && (l = this.GetMaximaPair(a));;){
            for(var h = e == a, c = this.GetNextInAEL(e, r); null !== c && !(c.Curr.X == e.Top.X && null !== e.NextInLML && c.Dx < e.NextInLML.Dx);){
                var u = this.GetNextInAEL(c, r);
                if (r == n.Direction.dLeftToRight && c.Curr.X <= s || r == n.Direction.dRightToLeft && c.Curr.X >= o) {
                    if (e.OutIdx >= 0 && 0 != e.WindDelta && this.PrepareHorzJoins(e, t), c == l && h) return r == n.Direction.dLeftToRight ? this.IntersectEdges(e, c, c.Top, !1) : this.IntersectEdges(c, e, c.Top, !1), void (l.OutIdx >= 0 && n.Error("ProcessHorizontal error"));
                    if (r == n.Direction.dLeftToRight) {
                        var d = new n.IntPoint(c.Curr.X, e.Curr.Y);
                        this.IntersectEdges(e, c, d, !0);
                    } else {
                        d = new n.IntPoint(c.Curr.X, e.Curr.Y);
                        this.IntersectEdges(c, e, d, !0);
                    }
                    this.SwapPositionsInAEL(e, c);
                } else if (r == n.Direction.dLeftToRight && c.Curr.X >= s || r == n.Direction.dRightToLeft && c.Curr.X <= o) break;
                c = u;
            }
            if (e.OutIdx >= 0 && 0 !== e.WindDelta && this.PrepareHorzJoins(e, t), null === e.NextInLML || !n.ClipperBase.IsHorizontal(e.NextInLML)) break;
            (e = this.UpdateEdgeIntoAEL(e)).OutIdx >= 0 && this.AddOutPt(e, e.Bot);
            i = {
                Dir: r,
                Left: o,
                Right: s
            };
            this.GetHorzDirection(e, i), r = i.Dir, o = i.Left, s = i.Right;
        }
        if (null !== e.NextInLML) {
            if (e.OutIdx >= 0) {
                var p = this.AddOutPt(e, e.Top);
                if (0 === (e = this.UpdateEdgeIntoAEL(e)).WindDelta) return;
                var f = e.PrevInAEL;
                u = e.NextInAEL;
                if (null !== f && f.Curr.X == e.Bot.X && f.Curr.Y == e.Bot.Y && 0 !== f.WindDelta && f.OutIdx >= 0 && f.Curr.Y > f.Top.Y && n.ClipperBase.SlopesEqual(e, f, this.m_UseFullRange)) {
                    var m = this.AddOutPt(f, e.Bot);
                    this.AddJoin(p, m, e.Top);
                } else if (null !== u && u.Curr.X == e.Bot.X && u.Curr.Y == e.Bot.Y && 0 !== u.WindDelta && u.OutIdx >= 0 && u.Curr.Y > u.Top.Y && n.ClipperBase.SlopesEqual(e, u, this.m_UseFullRange)) {
                    m = this.AddOutPt(u, e.Bot);
                    this.AddJoin(p, m, e.Top);
                }
            } else e = this.UpdateEdgeIntoAEL(e);
        } else null !== l ? l.OutIdx >= 0 ? (r == n.Direction.dLeftToRight ? this.IntersectEdges(e, l, e.Top, !1) : this.IntersectEdges(l, e, e.Top, !1), l.OutIdx >= 0 && n.Error("ProcessHorizontal error")) : (this.DeleteFromAEL(e), this.DeleteFromAEL(l)) : (e.OutIdx >= 0 && this.AddOutPt(e, e.Top), this.DeleteFromAEL(e));
    }, n.Clipper.prototype.GetNextInAEL = function(e, t) {
        return t == n.Direction.dLeftToRight ? e.NextInAEL : e.PrevInAEL;
    }, n.Clipper.prototype.IsMinima = function(e) {
        return null !== e && e.Prev.NextInLML != e && e.Next.NextInLML != e;
    }, n.Clipper.prototype.IsMaxima = function(e, t) {
        return null !== e && e.Top.Y == t && null === e.NextInLML;
    }, n.Clipper.prototype.IsIntermediate = function(e, t) {
        return e.Top.Y == t && null !== e.NextInLML;
    }, n.Clipper.prototype.GetMaximaPair = function(e) {
        var t = null;
        return n.IntPoint.op_Equality(e.Next.Top, e.Top) && null === e.Next.NextInLML ? t = e.Next : n.IntPoint.op_Equality(e.Prev.Top, e.Top) && null === e.Prev.NextInLML && (t = e.Prev), null === t || -2 != t.OutIdx && (t.NextInAEL != t.PrevInAEL || n.ClipperBase.IsHorizontal(t)) ? t : null;
    }, n.Clipper.prototype.ProcessIntersections = function(e, t) {
        if (null == this.m_ActiveEdges) return !0;
        try {
            if (this.BuildIntersectList(e, t), 0 == this.m_IntersectList.length) return !0;
            if (1 != this.m_IntersectList.length && !this.FixupIntersectionOrder()) return !1;
            this.ProcessIntersectList();
        } catch  {
            this.m_SortedEdges = null, this.m_IntersectList.length = 0, n.Error("ProcessIntersections error");
        }
        return this.m_SortedEdges = null, !0;
    }, n.Clipper.prototype.BuildIntersectList = function(e, t) {
        if (null !== this.m_ActiveEdges) {
            var i = this.m_ActiveEdges;
            for(this.m_SortedEdges = i; null !== i;)i.PrevInSEL = i.PrevInAEL, i.NextInSEL = i.NextInAEL, i.Curr.X = n.Clipper.TopX(i, t), i = i.NextInAEL;
            for(var r = !0; r && null !== this.m_SortedEdges;){
                for(r = !1, i = this.m_SortedEdges; null !== i.NextInSEL;){
                    var o = i.NextInSEL, s = new n.IntPoint;
                    if (i.Curr.X > o.Curr.X) {
                        !this.IntersectPoint(i, o, s) && i.Curr.X > o.Curr.X + 1 && n.Error("Intersection error"), s.Y > e && (s.Y = e, Math.abs(i.Dx) > Math.abs(o.Dx) ? s.X = n.Clipper.TopX(o, e) : s.X = n.Clipper.TopX(i, e));
                        var a = new n.IntersectNode;
                        a.Edge1 = i, a.Edge2 = o, a.Pt.X = s.X, a.Pt.Y = s.Y, this.m_IntersectList.push(a), this.SwapPositionsInSEL(i, o), r = !0;
                    } else i = o;
                }
                if (null === i.PrevInSEL) break;
                i.PrevInSEL.NextInSEL = null;
            }
            this.m_SortedEdges = null;
        }
    }, n.Clipper.prototype.EdgesAdjacent = function(e) {
        return e.Edge1.NextInSEL == e.Edge2 || e.Edge1.PrevInSEL == e.Edge2;
    }, n.Clipper.IntersectNodeSort = function(e, t) {
        return t.Pt.Y - e.Pt.Y;
    }, n.Clipper.prototype.FixupIntersectionOrder = function() {
        this.m_IntersectList.sort(this.m_IntersectNodeComparer), this.CopyAELToSEL();
        for(var e = this.m_IntersectList.length, t = 0; t < e; t++){
            if (!this.EdgesAdjacent(this.m_IntersectList[t])) {
                for(var i = t + 1; i < e && !this.EdgesAdjacent(this.m_IntersectList[i]);)i++;
                if (i == e) return !1;
                var n = this.m_IntersectList[t];
                this.m_IntersectList[t] = this.m_IntersectList[i], this.m_IntersectList[i] = n;
            }
            this.SwapPositionsInSEL(this.m_IntersectList[t].Edge1, this.m_IntersectList[t].Edge2);
        }
        return !0;
    }, n.Clipper.prototype.ProcessIntersectList = function() {
        for(var e = 0, t = this.m_IntersectList.length; e < t; e++){
            var i = this.m_IntersectList[e];
            this.IntersectEdges(i.Edge1, i.Edge2, i.Pt, !0), this.SwapPositionsInAEL(i.Edge1, i.Edge2);
        }
        this.m_IntersectList.length = 0;
    };
    var mt = (0, _chunkZRT45YCMJs.a)(function(e) {
        return e < 0 ? Math.ceil(e - .5) : Math.round(e);
    }, "R1"), gt = (0, _chunkZRT45YCMJs.a)(function(e) {
        return e < 0 ? Math.ceil(e - .5) : Math.floor(e + .5);
    }, "R2"), vt = (0, _chunkZRT45YCMJs.a)(function(e) {
        return e < 0 ? -Math.round(Math.abs(e)) : Math.round(e);
    }, "R3"), yt = (0, _chunkZRT45YCMJs.a)(function(e) {
        return e < 0 ? (e -= .5) < -2147483648 ? Math.ceil(e) : 0 | e : (e += .5) > 2147483647 ? Math.floor(e) : 0 | e;
    }, "R4");
    s.msie ? n.Clipper.Round = mt : s.chromium ? n.Clipper.Round = vt : s.safari ? n.Clipper.Round = yt : n.Clipper.Round = gt, n.Clipper.TopX = function(e, t) {
        return t == e.Top.Y ? e.Top.X : e.Bot.X + n.Clipper.Round(e.Dx * (t - e.Bot.Y));
    }, n.Clipper.prototype.IntersectPoint = function(e, t, i) {
        var r, o;
        if (i.X = 0, i.Y = 0, n.ClipperBase.SlopesEqual(e, t, this.m_UseFullRange) || e.Dx == t.Dx) return t.Bot.Y > e.Bot.Y ? (i.X = t.Bot.X, i.Y = t.Bot.Y) : (i.X = e.Bot.X, i.Y = e.Bot.Y), !1;
        if (0 === e.Delta.X) i.X = e.Bot.X, n.ClipperBase.IsHorizontal(t) ? i.Y = t.Bot.Y : (o = t.Bot.Y - t.Bot.X / t.Dx, i.Y = n.Clipper.Round(i.X / t.Dx + o));
        else if (0 === t.Delta.X) i.X = t.Bot.X, n.ClipperBase.IsHorizontal(e) ? i.Y = e.Bot.Y : (r = e.Bot.Y - e.Bot.X / e.Dx, i.Y = n.Clipper.Round(i.X / e.Dx + r));
        else {
            r = e.Bot.X - e.Bot.Y * e.Dx;
            var s = ((o = t.Bot.X - t.Bot.Y * t.Dx) - r) / (e.Dx - t.Dx);
            i.Y = n.Clipper.Round(s), Math.abs(e.Dx) < Math.abs(t.Dx) ? i.X = n.Clipper.Round(e.Dx * s + r) : i.X = n.Clipper.Round(t.Dx * s + o);
        }
        if (i.Y < e.Top.Y || i.Y < t.Top.Y) {
            if (e.Top.Y > t.Top.Y) return i.Y = e.Top.Y, i.X = n.Clipper.TopX(t, e.Top.Y), i.X < e.Top.X;
            i.Y = t.Top.Y, Math.abs(e.Dx) < Math.abs(t.Dx) ? i.X = n.Clipper.TopX(e, i.Y) : i.X = n.Clipper.TopX(t, i.Y);
        }
        return !0;
    }, n.Clipper.prototype.ProcessEdgesAtTopOfScanbeam = function(e) {
        for(var t = this.m_ActiveEdges; null !== t;){
            var i = this.IsMaxima(t, e);
            if (i) {
                var r = this.GetMaximaPair(t);
                i = null === r || !n.ClipperBase.IsHorizontal(r);
            }
            if (i) {
                var o = t.PrevInAEL;
                this.DoMaxima(t), t = null === o ? this.m_ActiveEdges : o.NextInAEL;
            } else {
                if (this.IsIntermediate(t, e) && n.ClipperBase.IsHorizontal(t.NextInLML) ? ((t = this.UpdateEdgeIntoAEL(t)).OutIdx >= 0 && this.AddOutPt(t, t.Bot), this.AddEdgeToSEL(t)) : (t.Curr.X = n.Clipper.TopX(t, e), t.Curr.Y = e), this.StrictlySimple) {
                    o = t.PrevInAEL;
                    if (t.OutIdx >= 0 && 0 !== t.WindDelta && null !== o && o.OutIdx >= 0 && o.Curr.X == t.Curr.X && 0 !== o.WindDelta) {
                        var s = this.AddOutPt(o, t.Curr), a = this.AddOutPt(t, t.Curr);
                        this.AddJoin(s, a, t.Curr);
                    }
                }
                t = t.NextInAEL;
            }
        }
        for(this.ProcessHorizontals(!0), t = this.m_ActiveEdges; null !== t;){
            if (this.IsIntermediate(t, e)) {
                s = null;
                t.OutIdx >= 0 && (s = this.AddOutPt(t, t.Top));
                o = (t = this.UpdateEdgeIntoAEL(t)).PrevInAEL;
                var l = t.NextInAEL;
                if (null !== o && o.Curr.X == t.Bot.X && o.Curr.Y == t.Bot.Y && null !== s && o.OutIdx >= 0 && o.Curr.Y > o.Top.Y && n.ClipperBase.SlopesEqual(t, o, this.m_UseFullRange) && 0 !== t.WindDelta && 0 !== o.WindDelta) {
                    a = this.AddOutPt(o, t.Bot);
                    this.AddJoin(s, a, t.Top);
                } else if (null !== l && l.Curr.X == t.Bot.X && l.Curr.Y == t.Bot.Y && null !== s && l.OutIdx >= 0 && l.Curr.Y > l.Top.Y && n.ClipperBase.SlopesEqual(t, l, this.m_UseFullRange) && 0 !== t.WindDelta && 0 !== l.WindDelta) {
                    a = this.AddOutPt(l, t.Bot);
                    this.AddJoin(s, a, t.Top);
                }
            }
            t = t.NextInAEL;
        }
    }, n.Clipper.prototype.DoMaxima = function(e) {
        var t = this.GetMaximaPair(e);
        if (null === t) return e.OutIdx >= 0 && this.AddOutPt(e, e.Top), void this.DeleteFromAEL(e);
        for(var i = e.NextInAEL; null !== i && i != t;)this.IntersectEdges(e, i, e.Top, !0), this.SwapPositionsInAEL(e, i), i = e.NextInAEL;
        -1 == e.OutIdx && -1 == t.OutIdx ? (this.DeleteFromAEL(e), this.DeleteFromAEL(t)) : e.OutIdx >= 0 && t.OutIdx >= 0 ? this.IntersectEdges(e, t, e.Top, !1) : 0 === e.WindDelta ? (e.OutIdx >= 0 && (this.AddOutPt(e, e.Top), e.OutIdx = -1), this.DeleteFromAEL(e), t.OutIdx >= 0 && (this.AddOutPt(t, e.Top), t.OutIdx = -1), this.DeleteFromAEL(t)) : n.Error("DoMaxima error");
    }, n.Clipper.ReversePaths = function(e) {
        for(var t = 0, i = e.length; t < i; t++)e[t].reverse();
    }, n.Clipper.Orientation = function(e) {
        return n.Clipper.Area(e) >= 0;
    }, n.Clipper.prototype.PointCount = function(e) {
        if (null === e) return 0;
        var t = 0, i = e;
        do t++, i = i.Next;
        while (i != e);
        return t;
    }, n.Clipper.prototype.BuildResult = function(e) {
        n.Clear(e);
        for(var t = 0, i = this.m_PolyOuts.length; t < i; t++){
            var r = this.m_PolyOuts[t];
            if (null !== r.Pts) {
                var o = r.Pts.Prev, s = this.PointCount(o);
                if (!(s < 2)) {
                    for(var a = new Array(s), l = 0; l < s; l++)a[l] = o.Pt, o = o.Prev;
                    e.push(a);
                }
            }
        }
    }, n.Clipper.prototype.BuildResult2 = function(e) {
        e.Clear();
        for(var t = 0, i = this.m_PolyOuts.length; t < i; t++){
            var r = this.m_PolyOuts[t], o = this.PointCount(r.Pts);
            if (!(r.IsOpen && o < 2 || !r.IsOpen && o < 3)) {
                this.FixHoleLinkage(r);
                var s = new n.PolyNode;
                e.m_AllPolys.push(s), r.PolyNode = s, s.m_polygon.length = o;
                for(var a = r.Pts.Prev, l = 0; l < o; l++)s.m_polygon[l] = a.Pt, a = a.Prev;
            }
        }
        for(t = 0, i = this.m_PolyOuts.length; t < i; t++)null !== (r = this.m_PolyOuts[t]).PolyNode && (r.IsOpen ? (r.PolyNode.IsOpen = !0, e.AddChild(r.PolyNode)) : null !== r.FirstLeft && null != r.FirstLeft.PolyNode ? r.FirstLeft.PolyNode.AddChild(r.PolyNode) : e.AddChild(r.PolyNode));
    }, n.Clipper.prototype.FixupOutPolygon = function(e) {
        var t = null;
        e.BottomPt = null;
        for(var i = e.Pts;;){
            if (i.Prev == i || i.Prev == i.Next) return this.DisposeOutPts(i), void (e.Pts = null);
            if (n.IntPoint.op_Equality(i.Pt, i.Next.Pt) || n.IntPoint.op_Equality(i.Pt, i.Prev.Pt) || n.ClipperBase.SlopesEqual(i.Prev.Pt, i.Pt, i.Next.Pt, this.m_UseFullRange) && (!this.PreserveCollinear || !this.Pt2IsBetweenPt1AndPt3(i.Prev.Pt, i.Pt, i.Next.Pt))) {
                t = null;
                i.Prev.Next = i.Next, i.Next.Prev = i.Prev, i = i.Prev;
            } else {
                if (i == t) break;
                null === t && (t = i), i = i.Next;
            }
        }
        e.Pts = i;
    }, n.Clipper.prototype.DupOutPt = function(e, t) {
        var i = new n.OutPt;
        return i.Pt.X = e.Pt.X, i.Pt.Y = e.Pt.Y, i.Idx = e.Idx, t ? (i.Next = e.Next, i.Prev = e, e.Next.Prev = i, e.Next = i) : (i.Prev = e.Prev, i.Next = e, e.Prev.Next = i, e.Prev = i), i;
    }, n.Clipper.prototype.GetOverlap = function(e, t, i, n, r) {
        return e < t ? i < n ? (r.Left = Math.max(e, i), r.Right = Math.min(t, n)) : (r.Left = Math.max(e, n), r.Right = Math.min(t, i)) : i < n ? (r.Left = Math.max(t, i), r.Right = Math.min(e, n)) : (r.Left = Math.max(t, n), r.Right = Math.min(e, i)), r.Left < r.Right;
    }, n.Clipper.prototype.JoinHorz = function(e, t, i, r, o, s) {
        var a = e.Pt.X > t.Pt.X ? n.Direction.dRightToLeft : n.Direction.dLeftToRight, l = i.Pt.X > r.Pt.X ? n.Direction.dRightToLeft : n.Direction.dLeftToRight;
        if (a == l) return !1;
        if (a == n.Direction.dLeftToRight) {
            for(; e.Next.Pt.X <= o.X && e.Next.Pt.X >= e.Pt.X && e.Next.Pt.Y == o.Y;)e = e.Next;
            s && e.Pt.X != o.X && (e = e.Next), t = this.DupOutPt(e, !s), n.IntPoint.op_Inequality(t.Pt, o) && ((e = t).Pt.X = o.X, e.Pt.Y = o.Y, t = this.DupOutPt(e, !s));
        } else {
            for(; e.Next.Pt.X >= o.X && e.Next.Pt.X <= e.Pt.X && e.Next.Pt.Y == o.Y;)e = e.Next;
            !s && e.Pt.X != o.X && (e = e.Next), t = this.DupOutPt(e, s), n.IntPoint.op_Inequality(t.Pt, o) && ((e = t).Pt.X = o.X, e.Pt.Y = o.Y, t = this.DupOutPt(e, s));
        }
        if (l == n.Direction.dLeftToRight) {
            for(; i.Next.Pt.X <= o.X && i.Next.Pt.X >= i.Pt.X && i.Next.Pt.Y == o.Y;)i = i.Next;
            s && i.Pt.X != o.X && (i = i.Next), r = this.DupOutPt(i, !s), n.IntPoint.op_Inequality(r.Pt, o) && ((i = r).Pt.X = o.X, i.Pt.Y = o.Y, r = this.DupOutPt(i, !s));
        } else {
            for(; i.Next.Pt.X >= o.X && i.Next.Pt.X <= i.Pt.X && i.Next.Pt.Y == o.Y;)i = i.Next;
            !s && i.Pt.X != o.X && (i = i.Next), r = this.DupOutPt(i, s), n.IntPoint.op_Inequality(r.Pt, o) && ((i = r).Pt.X = o.X, i.Pt.Y = o.Y, r = this.DupOutPt(i, s));
        }
        return a == n.Direction.dLeftToRight == s ? (e.Prev = i, i.Next = e, t.Next = r, r.Prev = t) : (e.Next = i, i.Prev = e, t.Prev = r, r.Next = t), !0;
    }, n.Clipper.prototype.JoinPoints = function(e, t, i) {
        var r = e.OutPt1, o = new n.OutPt, s = e.OutPt2, a = new n.OutPt, l = e.OutPt1.Pt.Y == e.OffPt.Y;
        if (l && n.IntPoint.op_Equality(e.OffPt, e.OutPt1.Pt) && n.IntPoint.op_Equality(e.OffPt, e.OutPt2.Pt)) {
            for(o = e.OutPt1.Next; o != r && n.IntPoint.op_Equality(o.Pt, e.OffPt);)o = o.Next;
            var h = o.Pt.Y > e.OffPt.Y;
            for(a = e.OutPt2.Next; a != s && n.IntPoint.op_Equality(a.Pt, e.OffPt);)a = a.Next;
            return h != a.Pt.Y > e.OffPt.Y && (h ? (o = this.DupOutPt(r, !1), a = this.DupOutPt(s, !0), r.Prev = s, s.Next = r, o.Next = a, a.Prev = o, e.OutPt1 = r, e.OutPt2 = o, !0) : (o = this.DupOutPt(r, !0), a = this.DupOutPt(s, !1), r.Next = s, s.Prev = r, o.Prev = a, a.Next = o, e.OutPt1 = r, e.OutPt2 = o, !0));
        }
        if (l) {
            for(o = r; r.Prev.Pt.Y == r.Pt.Y && r.Prev != o && r.Prev != s;)r = r.Prev;
            for(; o.Next.Pt.Y == o.Pt.Y && o.Next != r && o.Next != s;)o = o.Next;
            if (o.Next == r || o.Next == s) return !1;
            for(a = s; s.Prev.Pt.Y == s.Pt.Y && s.Prev != a && s.Prev != o;)s = s.Prev;
            for(; a.Next.Pt.Y == a.Pt.Y && a.Next != s && a.Next != r;)a = a.Next;
            if (a.Next == s || a.Next == r) return !1;
            var c = {
                Left: null,
                Right: null
            };
            if (!this.GetOverlap(r.Pt.X, o.Pt.X, s.Pt.X, a.Pt.X, c)) return !1;
            var u, d = c.Left, p = c.Right, f = new n.IntPoint;
            return r.Pt.X >= d && r.Pt.X <= p ? (f.X = r.Pt.X, f.Y = r.Pt.Y, u = r.Pt.X > o.Pt.X) : s.Pt.X >= d && s.Pt.X <= p ? (f.X = s.Pt.X, f.Y = s.Pt.Y, u = s.Pt.X > a.Pt.X) : o.Pt.X >= d && o.Pt.X <= p ? (f.X = o.Pt.X, f.Y = o.Pt.Y, u = o.Pt.X > r.Pt.X) : (f.X = a.Pt.X, f.Y = a.Pt.Y, u = a.Pt.X > s.Pt.X), e.OutPt1 = r, e.OutPt2 = s, this.JoinHorz(r, o, s, a, f, u);
        }
        for(o = r.Next; n.IntPoint.op_Equality(o.Pt, r.Pt) && o != r;)o = o.Next;
        var m = o.Pt.Y > r.Pt.Y || !n.ClipperBase.SlopesEqual(r.Pt, o.Pt, e.OffPt, this.m_UseFullRange);
        if (m) {
            for(o = r.Prev; n.IntPoint.op_Equality(o.Pt, r.Pt) && o != r;)o = o.Prev;
            if (o.Pt.Y > r.Pt.Y || !n.ClipperBase.SlopesEqual(r.Pt, o.Pt, e.OffPt, this.m_UseFullRange)) return !1;
        }
        for(a = s.Next; n.IntPoint.op_Equality(a.Pt, s.Pt) && a != s;)a = a.Next;
        var g = a.Pt.Y > s.Pt.Y || !n.ClipperBase.SlopesEqual(s.Pt, a.Pt, e.OffPt, this.m_UseFullRange);
        if (g) {
            for(a = s.Prev; n.IntPoint.op_Equality(a.Pt, s.Pt) && a != s;)a = a.Prev;
            if (a.Pt.Y > s.Pt.Y || !n.ClipperBase.SlopesEqual(s.Pt, a.Pt, e.OffPt, this.m_UseFullRange)) return !1;
        }
        return o != r && a != s && o != a && (t != i || m != g) && (m ? (o = this.DupOutPt(r, !1), a = this.DupOutPt(s, !0), r.Prev = s, s.Next = r, o.Next = a, a.Prev = o, e.OutPt1 = r, e.OutPt2 = o, !0) : (o = this.DupOutPt(r, !0), a = this.DupOutPt(s, !1), r.Next = s, s.Prev = r, o.Prev = a, a.Next = o, e.OutPt1 = r, e.OutPt2 = o, !0));
    }, n.Clipper.GetBounds = function(e) {
        for(var t = 0, i = e.length; t < i && 0 == e[t].length;)t++;
        if (t == i) return new n.IntRect(0, 0, 0, 0);
        var r = new n.IntRect;
        for(r.left = e[t][0].X, r.right = r.left, r.top = e[t][0].Y, r.bottom = r.top; t < i; t++)for(var o = 0, s = e[t].length; o < s; o++)e[t][o].X < r.left ? r.left = e[t][o].X : e[t][o].X > r.right && (r.right = e[t][o].X), e[t][o].Y < r.top ? r.top = e[t][o].Y : e[t][o].Y > r.bottom && (r.bottom = e[t][o].Y);
        return r;
    }, n.Clipper.prototype.GetBounds2 = function(e) {
        var t = e, i = new n.IntRect;
        for(i.left = e.Pt.X, i.right = e.Pt.X, i.top = e.Pt.Y, i.bottom = e.Pt.Y, e = e.Next; e != t;)e.Pt.X < i.left && (i.left = e.Pt.X), e.Pt.X > i.right && (i.right = e.Pt.X), e.Pt.Y < i.top && (i.top = e.Pt.Y), e.Pt.Y > i.bottom && (i.bottom = e.Pt.Y), e = e.Next;
        return i;
    }, n.Clipper.PointInPolygon = function(e, t) {
        var i = 0, n = t.length;
        if (n < 3) return 0;
        for(var r = t[0], o = 1; o <= n; ++o){
            var s = o == n ? t[0] : t[o];
            if (s.Y == e.Y && (s.X == e.X || r.Y == e.Y && s.X > e.X == r.X < e.X)) return -1;
            if (r.Y < e.Y != s.Y < e.Y) {
                if (r.X >= e.X) {
                    if (s.X > e.X) i = 1 - i;
                    else {
                        if (0 == (a = (r.X - e.X) * (s.Y - e.Y) - (s.X - e.X) * (r.Y - e.Y))) return -1;
                        a > 0 == s.Y > r.Y && (i = 1 - i);
                    }
                } else if (s.X > e.X) {
                    var a;
                    if (0 == (a = (r.X - e.X) * (s.Y - e.Y) - (s.X - e.X) * (r.Y - e.Y))) return -1;
                    a > 0 == s.Y > r.Y && (i = 1 - i);
                }
            }
            r = s;
        }
        return i;
    }, n.Clipper.prototype.PointInPolygon = function(e, t) {
        for(var i = 0, n = t;;){
            var r = t.Pt.X, o = t.Pt.Y, s = t.Next.Pt.X, a = t.Next.Pt.Y;
            if (a == e.Y && (s == e.X || o == e.Y && s > e.X == r < e.X)) return -1;
            if (o < e.Y != a < e.Y) {
                if (r >= e.X) {
                    if (s > e.X) i = 1 - i;
                    else {
                        if (0 == (l = (r - e.X) * (a - e.Y) - (s - e.X) * (o - e.Y))) return -1;
                        l > 0 == a > o && (i = 1 - i);
                    }
                } else if (s > e.X) {
                    var l;
                    if (0 == (l = (r - e.X) * (a - e.Y) - (s - e.X) * (o - e.Y))) return -1;
                    l > 0 == a > o && (i = 1 - i);
                }
            }
            if (n == (t = t.Next)) break;
        }
        return i;
    }, n.Clipper.prototype.Poly2ContainsPoly1 = function(e, t) {
        var i = e;
        do {
            var n = this.PointInPolygon(i.Pt, t);
            if (n >= 0) return 0 != n;
            i = i.Next;
        }while (i != e);
        return !0;
    }, n.Clipper.prototype.FixupFirstLefts1 = function(e, t) {
        for(var i = 0, n = this.m_PolyOuts.length; i < n; i++){
            var r = this.m_PolyOuts[i];
            null !== r.Pts && r.FirstLeft == e && this.Poly2ContainsPoly1(r.Pts, t.Pts) && (r.FirstLeft = t);
        }
    }, n.Clipper.prototype.FixupFirstLefts2 = function(e, t) {
        for(var i = 0, n = this.m_PolyOuts, r = n.length, o = n[i]; i < r; o = n[++i])o.FirstLeft == e && (o.FirstLeft = t);
    }, n.Clipper.ParseFirstLeft = function(e) {
        for(; null != e && null == e.Pts;)e = e.FirstLeft;
        return e;
    }, n.Clipper.prototype.JoinCommonEdges = function() {
        for(var e = 0, t = this.m_Joins.length; e < t; e++){
            var i, r = this.m_Joins[e], o = this.GetOutRec(r.OutPt1.Idx), s = this.GetOutRec(r.OutPt2.Idx);
            if (null != o.Pts && null != s.Pts) {
                if (i = o == s ? o : this.Param1RightOfParam2(o, s) ? s : this.Param1RightOfParam2(s, o) ? o : this.GetLowermostRec(o, s), this.JoinPoints(r, o, s)) {
                    if (o == s) {
                        if (o.Pts = r.OutPt1, o.BottomPt = null, (s = this.CreateOutRec()).Pts = r.OutPt2, this.UpdateOutPtIdxs(s), this.m_UsingPolyTree) for(var a = 0, l = this.m_PolyOuts.length; a < l - 1; a++){
                            var h = this.m_PolyOuts[a];
                            null == h.Pts || n.Clipper.ParseFirstLeft(h.FirstLeft) != o || h.IsHole == o.IsHole || this.Poly2ContainsPoly1(h.Pts, r.OutPt2) && (h.FirstLeft = s);
                        }
                        this.Poly2ContainsPoly1(s.Pts, o.Pts) ? (s.IsHole = !o.IsHole, s.FirstLeft = o, this.m_UsingPolyTree && this.FixupFirstLefts2(s, o), (s.IsHole ^ this.ReverseSolution) == this.Area(s) > 0 && this.ReversePolyPtLinks(s.Pts)) : this.Poly2ContainsPoly1(o.Pts, s.Pts) ? (s.IsHole = o.IsHole, o.IsHole = !s.IsHole, s.FirstLeft = o.FirstLeft, o.FirstLeft = s, this.m_UsingPolyTree && this.FixupFirstLefts2(o, s), (o.IsHole ^ this.ReverseSolution) == this.Area(o) > 0 && this.ReversePolyPtLinks(o.Pts)) : (s.IsHole = o.IsHole, s.FirstLeft = o.FirstLeft, this.m_UsingPolyTree && this.FixupFirstLefts1(o, s));
                    } else s.Pts = null, s.BottomPt = null, s.Idx = o.Idx, o.IsHole = i.IsHole, i == s && (o.FirstLeft = s.FirstLeft), s.FirstLeft = o, this.m_UsingPolyTree && this.FixupFirstLefts2(s, o);
                }
            }
        }
    }, n.Clipper.prototype.UpdateOutPtIdxs = function(e) {
        var t = e.Pts;
        do t.Idx = e.Idx, t = t.Prev;
        while (t != e.Pts);
    }, n.Clipper.prototype.DoSimplePolygons = function() {
        for(var e = 0; e < this.m_PolyOuts.length;){
            var t = this.m_PolyOuts[e++], i = t.Pts;
            if (null !== i) do {
                for(var r = i.Next; r != t.Pts;){
                    if (n.IntPoint.op_Equality(i.Pt, r.Pt) && r.Next != i && r.Prev != i) {
                        var o = i.Prev, s = r.Prev;
                        i.Prev = s, s.Next = i, r.Prev = o, o.Next = r, t.Pts = i;
                        var a = this.CreateOutRec();
                        a.Pts = r, this.UpdateOutPtIdxs(a), this.Poly2ContainsPoly1(a.Pts, t.Pts) ? (a.IsHole = !t.IsHole, a.FirstLeft = t) : this.Poly2ContainsPoly1(t.Pts, a.Pts) ? (a.IsHole = t.IsHole, t.IsHole = !a.IsHole, a.FirstLeft = t.FirstLeft, t.FirstLeft = a) : (a.IsHole = t.IsHole, a.FirstLeft = t.FirstLeft), r = i;
                    }
                    r = r.Next;
                }
                i = i.Next;
            }while (i != t.Pts);
        }
    }, n.Clipper.Area = function(e) {
        var t = e.length;
        if (t < 3) return 0;
        for(var i = 0, n = 0, r = t - 1; n < t; ++n)i += (e[r].X + e[n].X) * (e[r].Y - e[n].Y), r = n;
        return .5 * -i;
    }, n.Clipper.prototype.Area = function(e) {
        var t = e.Pts;
        if (null == t) return 0;
        var i = 0;
        do i += (t.Prev.Pt.X + t.Pt.X) * (t.Prev.Pt.Y - t.Pt.Y), t = t.Next;
        while (t != e.Pts);
        return .5 * i;
    }, n.Clipper.SimplifyPolygon = function(e, t) {
        var i = new Array, r = new n.Clipper(0);
        return r.StrictlySimple = !0, r.AddPath(e, n.PolyType.ptSubject, !0), r.Execute(n.ClipType.ctUnion, i, t, t), i;
    }, n.Clipper.SimplifyPolygons = function(e, t) {
        typeof t > "u" && (t = n.PolyFillType.pftEvenOdd);
        var i = new Array, r = new n.Clipper(0);
        return r.StrictlySimple = !0, r.AddPaths(e, n.PolyType.ptSubject, !0), r.Execute(n.ClipType.ctUnion, i, t, t), i;
    }, n.Clipper.DistanceSqrd = function(e, t) {
        var i = e.X - t.X, n = e.Y - t.Y;
        return i * i + n * n;
    }, n.Clipper.DistanceFromLineSqrd = function(e, t, i) {
        var n = t.Y - i.Y, r = i.X - t.X, o = n * t.X + r * t.Y;
        return (o = n * e.X + r * e.Y - o) * o / (n * n + r * r);
    }, n.Clipper.SlopesNearCollinear = function(e, t, i, r) {
        return n.Clipper.DistanceFromLineSqrd(t, e, i) < r;
    }, n.Clipper.PointsAreClose = function(e, t, i) {
        var n = e.X - t.X, r = e.Y - t.Y;
        return n * n + r * r <= i;
    }, n.Clipper.ExcludeOp = function(e) {
        var t = e.Prev;
        return t.Next = e.Next, e.Next.Prev = t, t.Idx = 0, t;
    }, n.Clipper.CleanPolygon = function(e, t) {
        typeof t > "u" && (t = 1.415);
        var i = e.length;
        if (0 == i) return new Array;
        for(var r = new Array(i), o = 0; o < i; ++o)r[o] = new n.OutPt;
        for(o = 0; o < i; ++o)r[o].Pt = e[o], r[o].Next = r[(o + 1) % i], r[o].Next.Prev = r[o], r[o].Idx = 0;
        for(var s = t * t, a = r[0]; 0 == a.Idx && a.Next != a.Prev;)n.Clipper.PointsAreClose(a.Pt, a.Prev.Pt, s) ? (a = n.Clipper.ExcludeOp(a), i--) : n.Clipper.PointsAreClose(a.Prev.Pt, a.Next.Pt, s) ? (n.Clipper.ExcludeOp(a.Next), a = n.Clipper.ExcludeOp(a), i -= 2) : n.Clipper.SlopesNearCollinear(a.Prev.Pt, a.Pt, a.Next.Pt, s) ? (a = n.Clipper.ExcludeOp(a), i--) : (a.Idx = 1, a = a.Next);
        i < 3 && (i = 0);
        var l = new Array(i);
        for(o = 0; o < i; ++o)l[o] = new n.IntPoint(a.Pt), a = a.Next;
        return r = null, l;
    }, n.Clipper.CleanPolygons = function(e, t) {
        for(var i = new Array(e.length), r = 0, o = e.length; r < o; r++)i[r] = n.Clipper.CleanPolygon(e[r], t);
        return i;
    }, n.Clipper.Minkowski = function(e, t, i, r) {
        var o = r ? 1 : 0, s = e.length, a = t.length, l = new Array;
        if (i) for(var h = 0; h < a; h++){
            for(var c = new Array(s), u = 0, d = e.length, p = e[u]; u < d; p = e[++u])c[u] = new n.IntPoint(t[h].X + p.X, t[h].Y + p.Y);
            l.push(c);
        }
        else for(h = 0; h < a; h++){
            for(c = new Array(s), u = 0, d = e.length, p = e[u]; u < d; p = e[++u])c[u] = new n.IntPoint(t[h].X - p.X, t[h].Y - p.Y);
            l.push(c);
        }
        var f = new Array;
        for(h = 0; h < a - 1 + o; h++)for(u = 0; u < s; u++){
            var m = new Array;
            m.push(l[h % a][u % s]), m.push(l[(h + 1) % a][u % s]), m.push(l[(h + 1) % a][(u + 1) % s]), m.push(l[h % a][(u + 1) % s]), n.Clipper.Orientation(m) || m.reverse(), f.push(m);
        }
        var g = new n.Clipper(0);
        return g.AddPaths(f, n.PolyType.ptSubject, !0), g.Execute(n.ClipType.ctUnion, l, n.PolyFillType.pftNonZero, n.PolyFillType.pftNonZero), l;
    }, n.Clipper.MinkowskiSum = function() {
        var e = arguments, t = e.length;
        if (3 == t) {
            var i = e[0], r = e[1], o = e[2];
            return n.Clipper.Minkowski(i, r, !0, o);
        }
        if (4 == t) {
            i = e[0];
            for(var s = e[1], a = e[2], l = (o = e[3], new n.Clipper), h = 0, c = s.length; h < c; ++h){
                var u = n.Clipper.Minkowski(i, s[h], !0, o);
                l.AddPaths(u, n.PolyType.ptSubject, !0);
            }
            o && l.AddPaths(s, n.PolyType.ptClip, !0);
            var d = new n.Paths;
            return l.Execute(n.ClipType.ctUnion, d, a, a), d;
        }
    }, n.Clipper.MinkowskiDiff = function(e, t, i) {
        return n.Clipper.Minkowski(e, t, !1, i);
    }, n.Clipper.PolyTreeToPaths = function(e) {
        var t = new Array;
        return n.Clipper.AddPolyNodeToPaths(e, n.Clipper.NodeType.ntAny, t), t;
    }, n.Clipper.AddPolyNodeToPaths = function(e, t, i) {
        var r = !0;
        switch(t){
            case n.Clipper.NodeType.ntOpen:
                return;
            case n.Clipper.NodeType.ntClosed:
                r = !e.IsOpen;
        }
        e.m_polygon.length > 0 && r && i.push(e.m_polygon);
        for(var o = 0, s = e.Childs(), a = s.length, l = s[o]; o < a; l = s[++o])n.Clipper.AddPolyNodeToPaths(l, t, i);
    }, n.Clipper.OpenPathsFromPolyTree = function(e) {
        for(var t = new n.Paths, i = 0, r = e.ChildCount(); i < r; i++)e.Childs()[i].IsOpen && t.push(e.Childs()[i].m_polygon);
        return t;
    }, n.Clipper.ClosedPathsFromPolyTree = function(e) {
        var t = new n.Paths;
        return n.Clipper.AddPolyNodeToPaths(e, n.Clipper.NodeType.ntClosed, t), t;
    }, pt(n.Clipper, n.ClipperBase), n.Clipper.NodeType = {
        ntAny: 0,
        ntOpen: 1,
        ntClosed: 2
    }, n.ClipperOffset = function(e, t) {
        typeof e > "u" && (e = 2), typeof t > "u" && (t = n.ClipperOffset.def_arc_tolerance), this.m_destPolys = new n.Paths, this.m_srcPoly = new n.Path, this.m_destPoly = new n.Path, this.m_normals = new Array, this.m_delta = 0, this.m_sinA = 0, this.m_sin = 0, this.m_cos = 0, this.m_miterLim = 0, this.m_StepsPerRad = 0, this.m_lowest = new n.IntPoint, this.m_polyNodes = new n.PolyNode, this.MiterLimit = e, this.ArcTolerance = t, this.m_lowest.X = -1;
    }, n.ClipperOffset.two_pi = 6.28318530717959, n.ClipperOffset.def_arc_tolerance = .25, n.ClipperOffset.prototype.Clear = function() {
        n.Clear(this.m_polyNodes.Childs()), this.m_lowest.X = -1;
    }, n.ClipperOffset.Round = n.Clipper.Round, n.ClipperOffset.prototype.AddPath = function(e, t, i) {
        var r = e.length - 1;
        if (!(r < 0)) {
            var o = new n.PolyNode;
            if (o.m_jointype = t, o.m_endtype = i, i == n.EndType.etClosedLine || i == n.EndType.etClosedPolygon) for(; r > 0 && n.IntPoint.op_Equality(e[0], e[r]);)r--;
            o.m_polygon.push(e[0]);
            for(var s = 0, a = 0, l = 1; l <= r; l++)n.IntPoint.op_Inequality(o.m_polygon[s], e[l]) && (s++, o.m_polygon.push(e[l]), (e[l].Y > o.m_polygon[a].Y || e[l].Y == o.m_polygon[a].Y && e[l].X < o.m_polygon[a].X) && (a = s));
            if (!(i == n.EndType.etClosedPolygon && s < 2 || i != n.EndType.etClosedPolygon && s < 0) && (this.m_polyNodes.AddChild(o), i == n.EndType.etClosedPolygon)) {
                if (this.m_lowest.X < 0) this.m_lowest = new n.IntPoint(0, a);
                else {
                    var h = this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];
                    (o.m_polygon[a].Y > h.Y || o.m_polygon[a].Y == h.Y && o.m_polygon[a].X < h.X) && (this.m_lowest = new n.IntPoint(this.m_polyNodes.ChildCount() - 1, a));
                }
            }
        }
    }, n.ClipperOffset.prototype.AddPaths = function(e, t, i) {
        for(var n = 0, r = e.length; n < r; n++)this.AddPath(e[n], t, i);
    }, n.ClipperOffset.prototype.FixOrientations = function() {
        if (this.m_lowest.X >= 0 && !n.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon)) for(var e = 0; e < this.m_polyNodes.ChildCount(); e++)((t = this.m_polyNodes.Childs()[e]).m_endtype == n.EndType.etClosedPolygon || t.m_endtype == n.EndType.etClosedLine && n.Clipper.Orientation(t.m_polygon)) && t.m_polygon.reverse();
        else for(e = 0; e < this.m_polyNodes.ChildCount(); e++){
            var t;
            (t = this.m_polyNodes.Childs()[e]).m_endtype == n.EndType.etClosedLine && !n.Clipper.Orientation(t.m_polygon) && t.m_polygon.reverse();
        }
    }, n.ClipperOffset.GetUnitNormal = function(e, t) {
        var i = t.X - e.X, r = t.Y - e.Y;
        if (0 == i && 0 == r) return new n.DoublePoint(0, 0);
        var o = 1 / Math.sqrt(i * i + r * r);
        return i *= o, r *= o, new n.DoublePoint(r, -i);
    }, n.ClipperOffset.prototype.DoOffset = function(e) {
        if (this.m_destPolys = new Array, this.m_delta = e, n.ClipperBase.near_zero(e)) for(var t = 0; t < this.m_polyNodes.ChildCount(); t++)(o = this.m_polyNodes.Childs()[t]).m_endtype == n.EndType.etClosedPolygon && this.m_destPolys.push(o.m_polygon);
        else {
            var i;
            this.MiterLimit > 2 ? this.m_miterLim = 2 / (this.MiterLimit * this.MiterLimit) : this.m_miterLim = .5, i = this.ArcTolerance <= 0 ? n.ClipperOffset.def_arc_tolerance : this.ArcTolerance > Math.abs(e) * n.ClipperOffset.def_arc_tolerance ? Math.abs(e) * n.ClipperOffset.def_arc_tolerance : this.ArcTolerance;
            var r = 3.14159265358979 / Math.acos(1 - i / Math.abs(e));
            this.m_sin = Math.sin(n.ClipperOffset.two_pi / r), this.m_cos = Math.cos(n.ClipperOffset.two_pi / r), this.m_StepsPerRad = r / n.ClipperOffset.two_pi, e < 0 && (this.m_sin = -this.m_sin);
            for(t = 0; t < this.m_polyNodes.ChildCount(); t++){
                var o = this.m_polyNodes.Childs()[t];
                this.m_srcPoly = o.m_polygon;
                var s = this.m_srcPoly.length;
                if (!(0 == s || e <= 0 && (s < 3 || o.m_endtype != n.EndType.etClosedPolygon))) {
                    if (this.m_destPoly = new Array, 1 == s) {
                        if (o.m_jointype == n.JoinType.jtRound) for(var a = 1, l = 0, h = 1; h <= r; h++){
                            this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X + a * e), n.ClipperOffset.Round(this.m_srcPoly[0].Y + l * e)));
                            var c = a;
                            a = a * this.m_cos - this.m_sin * l, l = c * this.m_sin + l * this.m_cos;
                        }
                        else for(a = -1, l = -1, h = 0; h < 4; ++h)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X + a * e), n.ClipperOffset.Round(this.m_srcPoly[0].Y + l * e))), a < 0 ? a = 1 : l < 0 ? l = 1 : a = -1;
                        this.m_destPolys.push(this.m_destPoly);
                        continue;
                    }
                    this.m_normals.length = 0;
                    for(h = 0; h < s - 1; h++)this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[h], this.m_srcPoly[h + 1]));
                    if (o.m_endtype == n.EndType.etClosedLine || o.m_endtype == n.EndType.etClosedPolygon ? this.m_normals.push(n.ClipperOffset.GetUnitNormal(this.m_srcPoly[s - 1], this.m_srcPoly[0])) : this.m_normals.push(new n.DoublePoint(this.m_normals[s - 2])), o.m_endtype == n.EndType.etClosedPolygon) {
                        var u = s - 1;
                        for(h = 0; h < s; h++)u = this.OffsetPoint(h, u, o.m_jointype);
                        this.m_destPolys.push(this.m_destPoly);
                    } else if (o.m_endtype == n.EndType.etClosedLine) {
                        for(u = s - 1, h = 0; h < s; h++)u = this.OffsetPoint(h, u, o.m_jointype);
                        this.m_destPolys.push(this.m_destPoly), this.m_destPoly = new Array;
                        var d = this.m_normals[s - 1];
                        for(h = s - 1; h > 0; h--)this.m_normals[h] = new n.DoublePoint(-this.m_normals[h - 1].X, -this.m_normals[h - 1].Y);
                        this.m_normals[0] = new n.DoublePoint(-d.X, -d.Y), u = 0;
                        for(h = s - 1; h >= 0; h--)u = this.OffsetPoint(h, u, o.m_jointype);
                        this.m_destPolys.push(this.m_destPoly);
                    } else {
                        for(u = 0, h = 1; h < s - 1; ++h)u = this.OffsetPoint(h, u, o.m_jointype);
                        var p;
                        if (o.m_endtype == n.EndType.etOpenButt) {
                            h = s - 1;
                            p = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[h].X + this.m_normals[h].X * e), n.ClipperOffset.Round(this.m_srcPoly[h].Y + this.m_normals[h].Y * e)), this.m_destPoly.push(p), p = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[h].X - this.m_normals[h].X * e), n.ClipperOffset.Round(this.m_srcPoly[h].Y - this.m_normals[h].Y * e)), this.m_destPoly.push(p);
                        } else {
                            h = s - 1;
                            u = s - 2, this.m_sinA = 0, this.m_normals[h] = new n.DoublePoint(-this.m_normals[h].X, -this.m_normals[h].Y), o.m_endtype == n.EndType.etOpenSquare ? this.DoSquare(h, u) : this.DoRound(h, u);
                        }
                        for(h = s - 1; h > 0; h--)this.m_normals[h] = new n.DoublePoint(-this.m_normals[h - 1].X, -this.m_normals[h - 1].Y);
                        this.m_normals[0] = new n.DoublePoint(-this.m_normals[1].X, -this.m_normals[1].Y);
                        for(h = (u = s - 1) - 1; h > 0; --h)u = this.OffsetPoint(h, u, o.m_jointype);
                        o.m_endtype == n.EndType.etOpenButt ? (p = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X - this.m_normals[0].X * e), n.ClipperOffset.Round(this.m_srcPoly[0].Y - this.m_normals[0].Y * e)), this.m_destPoly.push(p), p = new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[0].X + this.m_normals[0].X * e), n.ClipperOffset.Round(this.m_srcPoly[0].Y + this.m_normals[0].Y * e)), this.m_destPoly.push(p)) : (u = 1, this.m_sinA = 0, o.m_endtype == n.EndType.etOpenSquare ? this.DoSquare(0, 1) : this.DoRound(0, 1)), this.m_destPolys.push(this.m_destPoly);
                    }
                }
            }
        }
    }, n.ClipperOffset.prototype.Execute = function() {
        var e = arguments, t = e[0] instanceof n.PolyTree;
        if (t) {
            var i = e[0], r = e[1];
            if (i.Clear(), this.FixOrientations(), this.DoOffset(r), (l = new n.Clipper(0)).AddPaths(this.m_destPolys, n.PolyType.ptSubject, !0), r > 0) l.Execute(n.ClipType.ctUnion, i, n.PolyFillType.pftPositive, n.PolyFillType.pftPositive);
            else {
                var o = n.Clipper.GetBounds(this.m_destPolys);
                if ((h = new n.Path).push(new n.IntPoint(o.left - 10, o.bottom + 10)), h.push(new n.IntPoint(o.right + 10, o.bottom + 10)), h.push(new n.IntPoint(o.right + 10, o.top - 10)), h.push(new n.IntPoint(o.left - 10, o.top - 10)), l.AddPath(h, n.PolyType.ptSubject, !0), l.ReverseSolution = !0, l.Execute(n.ClipType.ctUnion, i, n.PolyFillType.pftNegative, n.PolyFillType.pftNegative), 1 == i.ChildCount() && i.Childs()[0].ChildCount() > 0) {
                    var s = i.Childs()[0];
                    i.Childs()[0] = s.Childs()[0];
                    for(var a = 1; a < s.ChildCount(); a++)i.AddChild(s.Childs()[a]);
                } else i.Clear();
            }
        } else {
            var l;
            i = e[0], r = e[1];
            if (n.Clear(i), this.FixOrientations(), this.DoOffset(r), (l = new n.Clipper(0)).AddPaths(this.m_destPolys, n.PolyType.ptSubject, !0), r > 0) l.Execute(n.ClipType.ctUnion, i, n.PolyFillType.pftPositive, n.PolyFillType.pftPositive);
            else {
                var h;
                o = n.Clipper.GetBounds(this.m_destPolys);
                (h = new n.Path).push(new n.IntPoint(o.left - 10, o.bottom + 10)), h.push(new n.IntPoint(o.right + 10, o.bottom + 10)), h.push(new n.IntPoint(o.right + 10, o.top - 10)), h.push(new n.IntPoint(o.left - 10, o.top - 10)), l.AddPath(h, n.PolyType.ptSubject, !0), l.ReverseSolution = !0, l.Execute(n.ClipType.ctUnion, i, n.PolyFillType.pftNegative, n.PolyFillType.pftNegative), i.length > 0 && i.splice(0, 1);
            }
        }
    }, n.ClipperOffset.prototype.OffsetPoint = function(e, t, i) {
        if (this.m_sinA = this.m_normals[t].X * this.m_normals[e].Y - this.m_normals[e].X * this.m_normals[t].Y, this.m_sinA < 5e-5 && this.m_sinA > -0.00005) return t;
        if (this.m_sinA > 1 ? this.m_sinA = 1 : this.m_sinA < -1 && (this.m_sinA = -1), this.m_sinA * this.m_delta < 0) this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[e].X + this.m_normals[t].X * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[e].Y + this.m_normals[t].Y * this.m_delta))), this.m_destPoly.push(new n.IntPoint(this.m_srcPoly[e])), this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[e].X + this.m_normals[e].X * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[e].Y + this.m_normals[e].Y * this.m_delta)));
        else switch(i){
            case n.JoinType.jtMiter:
                var r = this.m_normals[e].X * this.m_normals[t].X + this.m_normals[e].Y * this.m_normals[t].Y + 1;
                r >= this.m_miterLim ? this.DoMiter(e, t, r) : this.DoSquare(e, t);
                break;
            case n.JoinType.jtSquare:
                this.DoSquare(e, t);
                break;
            case n.JoinType.jtRound:
                this.DoRound(e, t);
        }
        return t = e;
    }, n.ClipperOffset.prototype.DoSquare = function(e, t) {
        var i = Math.tan(Math.atan2(this.m_sinA, this.m_normals[t].X * this.m_normals[e].X + this.m_normals[t].Y * this.m_normals[e].Y) / 4);
        this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[e].X + this.m_delta * (this.m_normals[t].X - this.m_normals[t].Y * i)), n.ClipperOffset.Round(this.m_srcPoly[e].Y + this.m_delta * (this.m_normals[t].Y + this.m_normals[t].X * i)))), this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[e].X + this.m_delta * (this.m_normals[e].X + this.m_normals[e].Y * i)), n.ClipperOffset.Round(this.m_srcPoly[e].Y + this.m_delta * (this.m_normals[e].Y - this.m_normals[e].X * i))));
    }, n.ClipperOffset.prototype.DoMiter = function(e, t, i) {
        var r = this.m_delta / i;
        this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[e].X + (this.m_normals[t].X + this.m_normals[e].X) * r), n.ClipperOffset.Round(this.m_srcPoly[e].Y + (this.m_normals[t].Y + this.m_normals[e].Y) * r)));
    }, n.ClipperOffset.prototype.DoRound = function(e, t) {
        for(var i, r = Math.atan2(this.m_sinA, this.m_normals[t].X * this.m_normals[e].X + this.m_normals[t].Y * this.m_normals[e].Y), o = n.Cast_Int32(n.ClipperOffset.Round(this.m_StepsPerRad * Math.abs(r))), s = this.m_normals[t].X, a = this.m_normals[t].Y, l = 0; l < o; ++l)this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[e].X + s * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[e].Y + a * this.m_delta))), i = s, s = s * this.m_cos - this.m_sin * a, a = i * this.m_sin + a * this.m_cos;
        this.m_destPoly.push(new n.IntPoint(n.ClipperOffset.Round(this.m_srcPoly[e].X + this.m_normals[e].X * this.m_delta), n.ClipperOffset.Round(this.m_srcPoly[e].Y + this.m_normals[e].Y * this.m_delta)));
    }, n.Error = function(e) {
        try {
            throw new Error(e);
        } catch (e) {
            alert(e.message);
        }
    }, n.JS = {}, n.JS.AreaOfPolygon = function(e, t) {
        return t || (t = 1), n.Clipper.Area(e) / (t * t);
    }, n.JS.AreaOfPolygons = function(e, t) {
        t || (t = 1);
        for(var i = 0, r = 0; r < e.length; r++)i += n.Clipper.Area(e[r]);
        return i / (t * t);
    }, n.JS.BoundsOfPath = function(e, t) {
        return n.JS.BoundsOfPaths([
            e
        ], t);
    }, n.JS.BoundsOfPaths = function(e, t) {
        t || (t = 1);
        var i = n.Clipper.GetBounds(e);
        return i.left /= t, i.bottom /= t, i.right /= t, i.top /= t, i;
    }, n.JS.Clean = function(e, t) {
        if (!(e instanceof Array)) return [];
        var i = e[0] instanceof Array;
        e = n.JS.Clone(e);
        if ("number" != typeof t || null === t) return n.Error("Delta is not a number in Clean()."), e;
        if (0 === e.length || 1 == e.length && 0 === e[0].length || t < 0) return e;
        i || (e = [
            e
        ]);
        for(var r, o, s, a, l, h, c, u = e.length, d = [], p = 0; p < u; p++)if (0 !== (r = (o = e[p]).length)) {
            if (r < 3) {
                s = o, d.push(s);
                continue;
            }
            for(s = o, a = t * t, l = o[0], h = 1, c = 1; c < r; c++)(o[c].X - l.X) * (o[c].X - l.X) + (o[c].Y - l.Y) * (o[c].Y - l.Y) <= a || (s[h] = o[c], l = o[c], h++);
            l = o[h - 1], (o[0].X - l.X) * (o[0].X - l.X) + (o[0].Y - l.Y) * (o[0].Y - l.Y) <= a && h--, h < r && s.splice(h, r - h), s.length && d.push(s);
        }
        return !i && d.length ? d = d[0] : i || 0 !== d.length ? i && 0 === d.length && (d = [
            []
        ]) : d = [], d;
    }, n.JS.Clone = function(e) {
        if (!(e instanceof Array)) return [];
        if (0 === e.length) return [];
        if (1 == e.length && 0 === e[0].length) return [
            []
        ];
        var t = e[0] instanceof Array;
        t || (e = [
            e
        ]);
        var i, n, r, o, s = e.length, a = new Array(s);
        for(n = 0; n < s; n++){
            for(i = e[n].length, o = new Array(i), r = 0; r < i; r++)o[r] = {
                X: e[n][r].X,
                Y: e[n][r].Y
            };
            a[n] = o;
        }
        return t || (a = a[0]), a;
    }, n.JS.Lighten = function(e, t) {
        if (!(e instanceof Array)) return [];
        if ("number" != typeof t || null === t) return n.Error("Tolerance is not a number in Lighten()."), n.JS.Clone(e);
        if (0 === e.length || 1 == e.length && 0 === e[0].length || t < 0) return n.JS.Clone(e);
        e[0] instanceof Array || (e = [
            e
        ]);
        var i, r, o, s, a, l, h, c, u, d, p, f, m, g, v, y, b = e.length, w = t * t, A = [];
        for(i = 0; i < b; i++)if (0 != (l = (o = e[i]).length)) {
            for(s = 0; s < 1e6; s++){
                for(a = [], o[(l = o.length) - 1].X != o[0].X || o[l - 1].Y != o[0].Y ? (p = 1, o.push({
                    X: o[0].X,
                    Y: o[0].Y
                }), l = o.length) : p = 0, d = [], r = 0; r < l - 2; r++)h = o[r], u = o[r + 1], c = o[r + 2], v = h.X, y = h.Y, f = c.X - v, m = c.Y - y, (0 !== f || 0 !== m) && ((g = ((u.X - v) * f + (u.Y - y) * m) / (f * f + m * m)) > 1 ? (v = c.X, y = c.Y) : g > 0 && (v += f * g, y += m * g)), (f = u.X - v) * f + (m = u.Y - y) * m <= w && (d[r + 1] = 1, r++);
                for(a.push({
                    X: o[0].X,
                    Y: o[0].Y
                }), r = 1; r < l - 1; r++)d[r] || a.push({
                    X: o[r].X,
                    Y: o[r].Y
                });
                if (a.push({
                    X: o[l - 1].X,
                    Y: o[l - 1].Y
                }), p && o.pop(), !d.length) break;
                o = a;
            }
            a[(l = a.length) - 1].X == a[0].X && a[l - 1].Y == a[0].Y && a.pop(), a.length > 2 && A.push(a);
        }
        return !e[0] instanceof Array && (A = A[0]), typeof A > "u" && (A = [
            []
        ]), A;
    }, n.JS.PerimeterOfPath = function(e, t, i) {
        if (typeof e > "u") return 0;
        var n, r, o = Math.sqrt, s = 0, a = 0, l = 0, h = 0, c = 0, u = e.length;
        if (u < 2) return 0;
        for(t && (e[u] = e[0], u++); --u;)a = (n = e[u]).X, l = n.Y, s += o((a - (h = (r = e[u - 1]).X)) * (a - h) + (l - (c = r.Y)) * (l - c));
        return t && e.pop(), s / i;
    }, n.JS.PerimeterOfPaths = function(e, t, i) {
        i || (i = 1);
        for(var r = 0, o = 0; o < e.length; o++)r += n.JS.PerimeterOfPath(e[o], t, i);
        return r;
    }, n.JS.ScaleDownPath = function(e, t) {
        var i, n;
        for(t || (t = 1), i = e.length; i--;)(n = e[i]).X = n.X / t, n.Y = n.Y / t;
    }, n.JS.ScaleDownPaths = function(e, t) {
        var i, n, r;
        Math.round;
        for(t || (t = 1), i = e.length; i--;)for(n = e[i].length; n--;)(r = e[i][n]).X = r.X / t, r.Y = r.Y / t;
    }, n.JS.ScaleUpPath = function(e, t) {
        var i, n, r = Math.round;
        for(t || (t = 1), i = e.length; i--;)(n = e[i]).X = r(n.X * t), n.Y = r(n.Y * t);
    }, n.JS.ScaleUpPaths = function(e, t) {
        var i, n, r, o = Math.round;
        for(t || (t = 1), i = e.length; i--;)for(n = e[i].length; n--;)(r = e[i][n]).X = o(r.X * t), r.Y = o(r.Y * t);
    }, n.ExPolygons = function() {
        return [];
    }, n.ExPolygon = function() {
        this.outer = null, this.holes = null;
    }, n.JS.AddOuterPolyNodeToExPolygons = function(e, t) {
        var i = new n.ExPolygon;
        i.outer = e.Contour();
        var r, o, s, a, l, h, c = e.Childs(), u = c.length;
        for(i.holes = new Array(u), s = 0; s < u; s++)for(r = c[s], i.holes[s] = r.Contour(), a = 0, h = (l = r.Childs()).length; a < h; a++)o = l[a], n.JS.AddOuterPolyNodeToExPolygons(o, t);
        t.push(i);
    }, n.JS.ExPolygonsToPaths = function(e) {
        var t, i, r, o, s = new n.Paths;
        for(t = 0, r = e.length; t < r; t++)for(s.push(e[t].outer), i = 0, o = e[t].holes.length; i < o; i++)s.push(e[t].holes[i]);
        return s;
    }, n.JS.PolyTreeToExPolygons = function(e) {
        var t, i, r, o, s = new n.ExPolygons;
        for(i = 0, o = (r = e.Childs()).length; i < o; i++)t = r[i], n.JS.AddOuterPolyNodeToExPolygons(t, s);
        return s;
    }, t.exports = n;
}), V9 = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    "use strict";
    function i(e, t) {
        if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
    }
    function n(e, t) {
        for(var i = 0; i < t.length; i++){
            var n = t[i];
            n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
        }
    }
    function r(e, t, i) {
        return t && n(e.prototype, t), i && n(e, i), e;
    }
    (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(i, "_classCallCheck"), (0, _chunkZRT45YCMJs.a)(n, "_defineProperties"), (0, _chunkZRT45YCMJs.a)(r, "_createClass");
    var o = function() {
        function e() {
            var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.R, r = void 0 === n ? 1 : n, o = t.Q, s = void 0 === o ? 1 : o, a = t.A, l = void 0 === a ? 1 : a, h = t.B, c = void 0 === h ? 0 : h, u = t.C, d = void 0 === u ? 1 : u;
            i(this, e), this.R = r, this.Q = s, this.A = l, this.C = d, this.B = c, this.cov = NaN, this.x = NaN;
        }
        return (0, _chunkZRT45YCMJs.a)(e, "KalmanFilter"), r(e, [
            {
                key: "filter",
                value: (0, _chunkZRT45YCMJs.a)(function(e) {
                    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                    if (isNaN(this.x)) this.x = 1 / this.C * e, this.cov = 1 / this.C * this.Q * (1 / this.C);
                    else {
                        var i = this.predict(t), n = this.uncertainty(), r = n * this.C * (1 / (this.C * n * this.C + this.Q));
                        this.x = i + r * (e - this.C * i), this.cov = n - r * this.C * n;
                    }
                    return this.x;
                }, "filter")
            },
            {
                key: "predict",
                value: (0, _chunkZRT45YCMJs.a)(function() {
                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                    return this.A * this.x + this.B * e;
                }, "predict")
            },
            {
                key: "uncertainty",
                value: (0, _chunkZRT45YCMJs.a)(function() {
                    return this.A * this.cov * this.A + this.R;
                }, "uncertainty")
            },
            {
                key: "lastMeasurement",
                value: (0, _chunkZRT45YCMJs.a)(function() {
                    return this.x;
                }, "lastMeasurement")
            },
            {
                key: "setMeasurementNoise",
                value: (0, _chunkZRT45YCMJs.a)(function(e) {
                    this.Q = e;
                }, "setMeasurementNoise")
            },
            {
                key: "setProcessNoise",
                value: (0, _chunkZRT45YCMJs.a)(function(e) {
                    this.R = e;
                }, "setProcessNoise")
            }
        ]), e;
    }();
    t.exports = o;
}), e_ = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    var i, n;
    (0, _chunkA5C75TI6Js.a)(), i = e, n = function() {
        "use strict";
        let { entries: e, setPrototypeOf: t, isFrozen: i, getPrototypeOf: n, getOwnPropertyDescriptor: r } = Object, { freeze: o, seal: s, create: a } = Object, { apply: h, construct: c } = typeof Reflect < "u" && Reflect;
        o || (o = (0, _chunkZRT45YCMJs.a)(function(e) {
            return e;
        }, "freeze")), s || (s = (0, _chunkZRT45YCMJs.a)(function(e) {
            return e;
        }, "seal")), h || (h = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
            return e.apply(t, i);
        }, "apply")), c || (c = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            return new e(...t);
        }, "construct"));
        let u = x(Array.prototype.forEach), d = x(Array.prototype.pop), p = x(Array.prototype.push), f = x(String.prototype.toLowerCase), m = x(String.prototype.toString), g = x(String.prototype.match), v = x(String.prototype.replace), y = x(String.prototype.indexOf), b = x(String.prototype.trim), w = x(RegExp.prototype.test), A = E(TypeError);
        function x(e) {
            return function(t) {
                for(var i = arguments.length, n = new Array(i > 1 ? i - 1 : 0), r = 1; r < i; r++)n[r - 1] = arguments[r];
                return h(e, t, n);
            };
        }
        function E(e) {
            return function() {
                for(var t = arguments.length, i = new Array(t), n = 0; n < t; n++)i[n] = arguments[n];
                return c(e, i);
            };
        }
        function M(e, n) {
            let r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : f;
            t && t(e, null);
            let o = n.length;
            for(; o--;){
                let t = n[o];
                if ("string" == typeof t) {
                    let e = r(t);
                    e !== t && (i(n) || (n[o] = e), t = e);
                }
                e[t] = !0;
            }
            return e;
        }
        function q(t) {
            let i = a(null);
            for (let [n, o] of e(t))void 0 !== r(t, n) && (i[n] = o);
            return i;
        }
        function C(e, t) {
            for(; null !== e;){
                let i = r(e, t);
                if (i) {
                    if (i.get) return x(i.get);
                    if ("function" == typeof i.value) return x(i.value);
                }
                e = n(e);
            }
            function i(e) {
                return console.warn("fallback value for", e), null;
            }
            return (0, _chunkZRT45YCMJs.a)(i, "fallbackValue"), i;
        }
        (0, _chunkZRT45YCMJs.a)(x, "unapply"), (0, _chunkZRT45YCMJs.a)(E, "unconstruct"), (0, _chunkZRT45YCMJs.a)(M, "addToSet"), (0, _chunkZRT45YCMJs.a)(q, "clone"), (0, _chunkZRT45YCMJs.a)(C, "lookupGetter");
        let T = o([
            "a",
            "abbr",
            "acronym",
            "address",
            "area",
            "article",
            "aside",
            "audio",
            "b",
            "bdi",
            "bdo",
            "big",
            "blink",
            "blockquote",
            "body",
            "br",
            "button",
            "canvas",
            "caption",
            "center",
            "cite",
            "code",
            "col",
            "colgroup",
            "content",
            "data",
            "datalist",
            "dd",
            "decorator",
            "del",
            "details",
            "dfn",
            "dialog",
            "dir",
            "div",
            "dl",
            "dt",
            "element",
            "em",
            "fieldset",
            "figcaption",
            "figure",
            "font",
            "footer",
            "form",
            "h1",
            "h2",
            "h3",
            "h4",
            "h5",
            "h6",
            "head",
            "header",
            "hgroup",
            "hr",
            "html",
            "i",
            "img",
            "input",
            "ins",
            "kbd",
            "label",
            "legend",
            "li",
            "main",
            "map",
            "mark",
            "marquee",
            "menu",
            "menuitem",
            "meter",
            "nav",
            "nobr",
            "ol",
            "optgroup",
            "option",
            "output",
            "p",
            "picture",
            "pre",
            "progress",
            "q",
            "rp",
            "rt",
            "ruby",
            "s",
            "samp",
            "section",
            "select",
            "shadow",
            "small",
            "source",
            "spacer",
            "span",
            "strike",
            "strong",
            "style",
            "sub",
            "summary",
            "sup",
            "table",
            "tbody",
            "td",
            "template",
            "textarea",
            "tfoot",
            "th",
            "thead",
            "time",
            "tr",
            "track",
            "tt",
            "u",
            "ul",
            "var",
            "video",
            "wbr"
        ]), P = o([
            "svg",
            "a",
            "altglyph",
            "altglyphdef",
            "altglyphitem",
            "animatecolor",
            "animatemotion",
            "animatetransform",
            "circle",
            "clippath",
            "defs",
            "desc",
            "ellipse",
            "filter",
            "font",
            "g",
            "glyph",
            "glyphref",
            "hkern",
            "image",
            "line",
            "lineargradient",
            "marker",
            "mask",
            "metadata",
            "mpath",
            "path",
            "pattern",
            "polygon",
            "polyline",
            "radialgradient",
            "rect",
            "stop",
            "style",
            "switch",
            "symbol",
            "text",
            "textpath",
            "title",
            "tref",
            "tspan",
            "view",
            "vkern"
        ]), S = o([
            "feBlend",
            "feColorMatrix",
            "feComponentTransfer",
            "feComposite",
            "feConvolveMatrix",
            "feDiffuseLighting",
            "feDisplacementMap",
            "feDistantLight",
            "feDropShadow",
            "feFlood",
            "feFuncA",
            "feFuncB",
            "feFuncG",
            "feFuncR",
            "feGaussianBlur",
            "feImage",
            "feMerge",
            "feMergeNode",
            "feMorphology",
            "feOffset",
            "fePointLight",
            "feSpecularLighting",
            "feSpotLight",
            "feTile",
            "feTurbulence"
        ]), I = o([
            "animate",
            "color-profile",
            "cursor",
            "discard",
            "font-face",
            "font-face-format",
            "font-face-name",
            "font-face-src",
            "font-face-uri",
            "foreignobject",
            "hatch",
            "hatchpath",
            "mesh",
            "meshgradient",
            "meshpatch",
            "meshrow",
            "missing-glyph",
            "script",
            "set",
            "solidcolor",
            "unknown",
            "use"
        ]), O = o([
            "math",
            "menclose",
            "merror",
            "mfenced",
            "mfrac",
            "mglyph",
            "mi",
            "mlabeledtr",
            "mmultiscripts",
            "mn",
            "mo",
            "mover",
            "mpadded",
            "mphantom",
            "mroot",
            "mrow",
            "ms",
            "mspace",
            "msqrt",
            "mstyle",
            "msub",
            "msup",
            "msubsup",
            "mtable",
            "mtd",
            "mtext",
            "mtr",
            "munder",
            "munderover",
            "mprescripts"
        ]), D = o([
            "maction",
            "maligngroup",
            "malignmark",
            "mlongdiv",
            "mscarries",
            "mscarry",
            "msgroup",
            "mstack",
            "msline",
            "msrow",
            "semantics",
            "annotation",
            "annotation-xml",
            "mprescripts",
            "none"
        ]), _ = o([
            "#text"
        ]), L = o([
            "accept",
            "action",
            "align",
            "alt",
            "autocapitalize",
            "autocomplete",
            "autopictureinpicture",
            "autoplay",
            "background",
            "bgcolor",
            "border",
            "capture",
            "cellpadding",
            "cellspacing",
            "checked",
            "cite",
            "class",
            "clear",
            "color",
            "cols",
            "colspan",
            "controls",
            "controlslist",
            "coords",
            "crossorigin",
            "datetime",
            "decoding",
            "default",
            "dir",
            "disabled",
            "disablepictureinpicture",
            "disableremoteplayback",
            "download",
            "draggable",
            "enctype",
            "enterkeyhint",
            "face",
            "for",
            "headers",
            "height",
            "hidden",
            "high",
            "href",
            "hreflang",
            "id",
            "inputmode",
            "integrity",
            "ismap",
            "kind",
            "label",
            "lang",
            "list",
            "loading",
            "loop",
            "low",
            "max",
            "maxlength",
            "media",
            "method",
            "min",
            "minlength",
            "multiple",
            "muted",
            "name",
            "nonce",
            "noshade",
            "novalidate",
            "nowrap",
            "open",
            "optimum",
            "pattern",
            "placeholder",
            "playsinline",
            "poster",
            "preload",
            "pubdate",
            "radiogroup",
            "readonly",
            "rel",
            "required",
            "rev",
            "reversed",
            "role",
            "rows",
            "rowspan",
            "spellcheck",
            "scope",
            "selected",
            "shape",
            "size",
            "sizes",
            "span",
            "srclang",
            "start",
            "src",
            "srcset",
            "step",
            "style",
            "summary",
            "tabindex",
            "title",
            "translate",
            "type",
            "usemap",
            "valign",
            "value",
            "width",
            "xmlns",
            "slot"
        ]), B = o([
            "accent-height",
            "accumulate",
            "additive",
            "alignment-baseline",
            "ascent",
            "attributename",
            "attributetype",
            "azimuth",
            "basefrequency",
            "baseline-shift",
            "begin",
            "bias",
            "by",
            "class",
            "clip",
            "clippathunits",
            "clip-path",
            "clip-rule",
            "color",
            "color-interpolation",
            "color-interpolation-filters",
            "color-profile",
            "color-rendering",
            "cx",
            "cy",
            "d",
            "dx",
            "dy",
            "diffuseconstant",
            "direction",
            "display",
            "divisor",
            "dur",
            "edgemode",
            "elevation",
            "end",
            "fill",
            "fill-opacity",
            "fill-rule",
            "filter",
            "filterunits",
            "flood-color",
            "flood-opacity",
            "font-family",
            "font-size",
            "font-size-adjust",
            "font-stretch",
            "font-style",
            "font-variant",
            "font-weight",
            "fx",
            "fy",
            "g1",
            "g2",
            "glyph-name",
            "glyphref",
            "gradientunits",
            "gradienttransform",
            "height",
            "href",
            "id",
            "image-rendering",
            "in",
            "in2",
            "k",
            "k1",
            "k2",
            "k3",
            "k4",
            "kerning",
            "keypoints",
            "keysplines",
            "keytimes",
            "lang",
            "lengthadjust",
            "letter-spacing",
            "kernelmatrix",
            "kernelunitlength",
            "lighting-color",
            "local",
            "marker-end",
            "marker-mid",
            "marker-start",
            "markerheight",
            "markerunits",
            "markerwidth",
            "maskcontentunits",
            "maskunits",
            "max",
            "mask",
            "media",
            "method",
            "mode",
            "min",
            "name",
            "numoctaves",
            "offset",
            "operator",
            "opacity",
            "order",
            "orient",
            "orientation",
            "origin",
            "overflow",
            "paint-order",
            "path",
            "pathlength",
            "patterncontentunits",
            "patterntransform",
            "patternunits",
            "points",
            "preservealpha",
            "preserveaspectratio",
            "primitiveunits",
            "r",
            "rx",
            "ry",
            "radius",
            "refx",
            "refy",
            "repeatcount",
            "repeatdur",
            "restart",
            "result",
            "rotate",
            "scale",
            "seed",
            "shape-rendering",
            "specularconstant",
            "specularexponent",
            "spreadmethod",
            "startoffset",
            "stddeviation",
            "stitchtiles",
            "stop-color",
            "stop-opacity",
            "stroke-dasharray",
            "stroke-dashoffset",
            "stroke-linecap",
            "stroke-linejoin",
            "stroke-miterlimit",
            "stroke-opacity",
            "stroke",
            "stroke-width",
            "style",
            "surfacescale",
            "systemlanguage",
            "tabindex",
            "targetx",
            "targety",
            "transform",
            "transform-origin",
            "text-anchor",
            "text-decoration",
            "text-rendering",
            "textlength",
            "type",
            "u1",
            "u2",
            "unicode",
            "values",
            "viewbox",
            "visibility",
            "version",
            "vert-adv-y",
            "vert-origin-x",
            "vert-origin-y",
            "width",
            "word-spacing",
            "wrap",
            "writing-mode",
            "xchannelselector",
            "ychannelselector",
            "x",
            "x1",
            "x2",
            "xmlns",
            "y",
            "y1",
            "y2",
            "z",
            "zoomandpan"
        ]), R = o([
            "accent",
            "accentunder",
            "align",
            "bevelled",
            "close",
            "columnsalign",
            "columnlines",
            "columnspan",
            "denomalign",
            "depth",
            "dir",
            "display",
            "displaystyle",
            "encoding",
            "fence",
            "frame",
            "height",
            "href",
            "id",
            "largeop",
            "length",
            "linethickness",
            "lspace",
            "lquote",
            "mathbackground",
            "mathcolor",
            "mathsize",
            "mathvariant",
            "maxsize",
            "minsize",
            "movablelimits",
            "notation",
            "numalign",
            "open",
            "rowalign",
            "rowlines",
            "rowspacing",
            "rowspan",
            "rspace",
            "rquote",
            "scriptlevel",
            "scriptminsize",
            "scriptsizemultiplier",
            "selection",
            "separator",
            "separators",
            "stretchy",
            "subscriptshift",
            "supscriptshift",
            "symmetric",
            "voffset",
            "width",
            "xmlns"
        ]), N = o([
            "xlink:href",
            "xml:id",
            "xlink:title",
            "xml:space",
            "xmlns:xlink"
        ]), k = s(/\{\{[\w\W]*|[\w\W]*\}\}/gm), F = s(/<%[\w\W]*|[\w\W]*%>/gm), z = s(/\${[\w\W]*}/gm), j = s(/^data-[\-\w.\u00B7-\uFFFF]/), U = s(/^aria-[\-\w]+$/), V = s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i), W = s(/^(?:\w+script|data):/i), G = s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g), H = s(/^html$/i);
        var Y = Object.freeze({
            __proto__: null,
            MUSTACHE_EXPR: k,
            ERB_EXPR: F,
            TMPLIT_EXPR: z,
            DATA_ATTR: j,
            ARIA_ATTR: U,
            IS_ALLOWED_URI: V,
            IS_SCRIPT_OR_DATA: W,
            ATTR_WHITESPACE: G,
            DOCTYPE_NAME: H
        });
        let X = (0, _chunkZRT45YCMJs.a)(function() {
            return typeof window > "u" ? null : window;
        }, "getGlobal"), Z = (0, _chunkZRT45YCMJs.a)(function(e, t) {
            if ("object" != typeof e || "function" != typeof e.createPolicy) return null;
            let i = null, n = "data-tt-policy-suffix";
            t && t.hasAttribute(n) && (i = t.getAttribute(n));
            let r = "dompurify" + (i ? "#" + i : "");
            try {
                return e.createPolicy(r, {
                    createHTML: (e)=>e,
                    createScriptURL: (e)=>e
                });
            } catch  {
                return console.warn("TrustedTypes policy " + r + " could not be created."), null;
            }
        }, "_createTrustedTypesPolicy");
        function Q() {
            let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : X(), i = (0, _chunkZRT45YCMJs.a)((e)=>Q(e), "DOMPurify");
            if (i.version = "3.0.6", i.removed = [], !t || !t.document || 9 !== t.document.nodeType) return i.isSupported = !1, i;
            let { document: n } = t, r = n, s = r.currentScript, { DocumentFragment: h, HTMLTemplateElement: c, Node: x, Element: E, NodeFilter: k, NamedNodeMap: F = t.NamedNodeMap || t.MozNamedAttrMap, HTMLFormElement: z, DOMParser: j, trustedTypes: U } = t, W = E.prototype, G = C(W, "cloneNode"), J = C(W, "nextSibling"), K = C(W, "childNodes"), $ = C(W, "parentNode");
            if ("function" == typeof c) {
                let e = n.createElement("template");
                e.content && e.content.ownerDocument && (n = e.content.ownerDocument);
            }
            let ee, te = "", { implementation: ie, createNodeIterator: ne, createDocumentFragment: re, getElementsByTagName: oe } = n, { importNode: se } = r, ae = {};
            i.isSupported = "function" == typeof e && "function" == typeof $ && ie && void 0 !== ie.createHTMLDocument;
            let { MUSTACHE_EXPR: le, ERB_EXPR: he, TMPLIT_EXPR: ce, DATA_ATTR: ue, ARIA_ATTR: de, IS_SCRIPT_OR_DATA: pe, ATTR_WHITESPACE: fe } = Y, { IS_ALLOWED_URI: me } = Y, ge = null, ve = M({}, [
                ...T,
                ...P,
                ...S,
                ...O,
                ..._
            ]), ye = null, be = M({}, [
                ...L,
                ...B,
                ...R,
                ...N
            ]), we = Object.seal(a(null, {
                tagNameCheck: {
                    writable: !0,
                    configurable: !1,
                    enumerable: !0,
                    value: null
                },
                attributeNameCheck: {
                    writable: !0,
                    configurable: !1,
                    enumerable: !0,
                    value: null
                },
                allowCustomizedBuiltInElements: {
                    writable: !0,
                    configurable: !1,
                    enumerable: !0,
                    value: !1
                }
            })), Ae = null, xe = null, Ee = !0, Me = !0, qe = !1, Ce = !0, Te = !1, Pe = !1, Se = !1, Ie = !1, Oe = !1, De = !1, _e = !1, Le = !0, Be = !1, Re = "user-content-", Ne = !0, ke = !1, Fe = {}, ze = null, je = M({}, [
                "annotation-xml",
                "audio",
                "colgroup",
                "desc",
                "foreignobject",
                "head",
                "iframe",
                "math",
                "mi",
                "mn",
                "mo",
                "ms",
                "mtext",
                "noembed",
                "noframes",
                "noscript",
                "plaintext",
                "script",
                "style",
                "svg",
                "template",
                "thead",
                "title",
                "video",
                "xmp"
            ]), Ue = null, Ve = M({}, [
                "audio",
                "video",
                "img",
                "source",
                "image",
                "track"
            ]), We = null, Ge = M({}, [
                "alt",
                "class",
                "for",
                "id",
                "label",
                "name",
                "pattern",
                "placeholder",
                "role",
                "summary",
                "title",
                "value",
                "style",
                "xmlns"
            ]), He = "http://www.w3.org/1998/Math/MathML", Ye = "http://www.w3.org/2000/svg", Xe = "http://www.w3.org/1999/xhtml", Ze = Xe, Qe = !1, Je = null, Ke = M({}, [
                He,
                Ye,
                Xe
            ], m), $e = null, et = [
                "application/xhtml+xml",
                "text/html"
            ], tt = "text/html", it = null, nt = null, rt = n.createElement("form"), ot = (0, _chunkZRT45YCMJs.a)(function(e) {
                return e instanceof RegExp || e instanceof Function;
            }, "isRegexOrFunction"), st = (0, _chunkZRT45YCMJs.a)(function() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                if (!nt || nt !== e) {
                    if ((!e || "object" != typeof e) && (e = {}), e = q(e), $e = $e = -1 === et.indexOf(e.PARSER_MEDIA_TYPE) ? tt : e.PARSER_MEDIA_TYPE, it = "application/xhtml+xml" === $e ? m : f, ge = "ALLOWED_TAGS" in e ? M({}, e.ALLOWED_TAGS, it) : ve, ye = "ALLOWED_ATTR" in e ? M({}, e.ALLOWED_ATTR, it) : be, Je = "ALLOWED_NAMESPACES" in e ? M({}, e.ALLOWED_NAMESPACES, m) : Ke, We = "ADD_URI_SAFE_ATTR" in e ? M(q(Ge), e.ADD_URI_SAFE_ATTR, it) : Ge, Ue = "ADD_DATA_URI_TAGS" in e ? M(q(Ve), e.ADD_DATA_URI_TAGS, it) : Ve, ze = "FORBID_CONTENTS" in e ? M({}, e.FORBID_CONTENTS, it) : je, Ae = "FORBID_TAGS" in e ? M({}, e.FORBID_TAGS, it) : {}, xe = "FORBID_ATTR" in e ? M({}, e.FORBID_ATTR, it) : {}, Fe = "USE_PROFILES" in e && e.USE_PROFILES, Ee = !1 !== e.ALLOW_ARIA_ATTR, Me = !1 !== e.ALLOW_DATA_ATTR, qe = e.ALLOW_UNKNOWN_PROTOCOLS || !1, Ce = !1 !== e.ALLOW_SELF_CLOSE_IN_ATTR, Te = e.SAFE_FOR_TEMPLATES || !1, Pe = e.WHOLE_DOCUMENT || !1, Oe = e.RETURN_DOM || !1, De = e.RETURN_DOM_FRAGMENT || !1, _e = e.RETURN_TRUSTED_TYPE || !1, Ie = e.FORCE_BODY || !1, Le = !1 !== e.SANITIZE_DOM, Be = e.SANITIZE_NAMED_PROPS || !1, Ne = !1 !== e.KEEP_CONTENT, ke = e.IN_PLACE || !1, me = e.ALLOWED_URI_REGEXP || V, Ze = e.NAMESPACE || Xe, we = e.CUSTOM_ELEMENT_HANDLING || {}, e.CUSTOM_ELEMENT_HANDLING && ot(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck) && (we.tagNameCheck = e.CUSTOM_ELEMENT_HANDLING.tagNameCheck), e.CUSTOM_ELEMENT_HANDLING && ot(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck) && (we.attributeNameCheck = e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck), e.CUSTOM_ELEMENT_HANDLING && "boolean" == typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (we.allowCustomizedBuiltInElements = e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements), Te && (Me = !1), De && (Oe = !0), Fe && (ge = M({}, [
                        ..._
                    ]), ye = [], !0 === Fe.html && (M(ge, T), M(ye, L)), !0 === Fe.svg && (M(ge, P), M(ye, B), M(ye, N)), !0 === Fe.svgFilters && (M(ge, S), M(ye, B), M(ye, N)), !0 === Fe.mathMl && (M(ge, O), M(ye, R), M(ye, N))), e.ADD_TAGS && (ge === ve && (ge = q(ge)), M(ge, e.ADD_TAGS, it)), e.ADD_ATTR && (ye === be && (ye = q(ye)), M(ye, e.ADD_ATTR, it)), e.ADD_URI_SAFE_ATTR && M(We, e.ADD_URI_SAFE_ATTR, it), e.FORBID_CONTENTS && (ze === je && (ze = q(ze)), M(ze, e.FORBID_CONTENTS, it)), Ne && (ge["#text"] = !0), Pe && M(ge, [
                        "html",
                        "head",
                        "body"
                    ]), ge.table && (M(ge, [
                        "tbody"
                    ]), delete Ae.tbody), e.TRUSTED_TYPES_POLICY) {
                        if ("function" != typeof e.TRUSTED_TYPES_POLICY.createHTML) throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');
                        if ("function" != typeof e.TRUSTED_TYPES_POLICY.createScriptURL) throw A('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');
                        ee = e.TRUSTED_TYPES_POLICY, te = ee.createHTML("");
                    } else void 0 === ee && (ee = Z(U, s)), null !== ee && "string" == typeof te && (te = ee.createHTML(""));
                    o && o(e), nt = e;
                }
            }, "_parseConfig"), at = M({}, [
                "mi",
                "mo",
                "mn",
                "ms",
                "mtext"
            ]), lt = M({}, [
                "foreignobject",
                "desc",
                "title",
                "annotation-xml"
            ]), ht = M({}, [
                "title",
                "style",
                "font",
                "a",
                "script"
            ]), ct = M({}, P);
            M(ct, S), M(ct, I);
            let ut = M({}, O);
            M(ut, D);
            let dt = (0, _chunkZRT45YCMJs.a)(function(e) {
                let t = $(e);
                (!t || !t.tagName) && (t = {
                    namespaceURI: Ze,
                    tagName: "template"
                });
                let i = f(e.tagName), n = f(t.tagName);
                return !!Je[e.namespaceURI] && (e.namespaceURI === Ye ? t.namespaceURI === Xe ? "svg" === i : t.namespaceURI === He ? "svg" === i && ("annotation-xml" === n || at[n]) : !!ct[i] : e.namespaceURI === He ? t.namespaceURI === Xe ? "math" === i : t.namespaceURI === Ye ? "math" === i && lt[n] : !!ut[i] : e.namespaceURI === Xe ? !(t.namespaceURI === Ye && !lt[n] || t.namespaceURI === He && !at[n]) && !ut[i] && (ht[i] || !ct[i]) : !("application/xhtml+xml" !== $e || !Je[e.namespaceURI]));
            }, "_checkValidNamespace"), pt = (0, _chunkZRT45YCMJs.a)(function(e) {
                p(i.removed, {
                    element: e
                });
                try {
                    e.parentNode.removeChild(e);
                } catch  {
                    e.remove();
                }
            }, "_forceRemove"), ft = (0, _chunkZRT45YCMJs.a)(function(e, t) {
                try {
                    p(i.removed, {
                        attribute: t.getAttributeNode(e),
                        from: t
                    });
                } catch  {
                    p(i.removed, {
                        attribute: null,
                        from: t
                    });
                }
                if (t.removeAttribute(e), "is" === e && !ye[e]) {
                    if (Oe || De) try {
                        pt(t);
                    } catch  {}
                    else try {
                        t.setAttribute(e, "");
                    } catch  {}
                }
            }, "_removeAttribute"), mt = (0, _chunkZRT45YCMJs.a)(function(e) {
                let t = null, i = null;
                if (Ie) e = "<remove></remove>" + e;
                else {
                    let t = g(e, /^[\r\n\t ]+/);
                    i = t && t[0];
                }
                "application/xhtml+xml" === $e && Ze === Xe && (e = '<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>' + e + "</body></html>");
                let r = ee ? ee.createHTML(e) : e;
                if (Ze === Xe) try {
                    t = (new j).parseFromString(r, $e);
                } catch  {}
                if (!t || !t.documentElement) {
                    t = ie.createDocument(Ze, "template", null);
                    try {
                        t.documentElement.innerHTML = Qe ? te : r;
                    } catch  {}
                }
                let o = t.body || t.documentElement;
                return e && i && o.insertBefore(n.createTextNode(i), o.childNodes[0] || null), Ze === Xe ? oe.call(t, Pe ? "html" : "body")[0] : Pe ? t.documentElement : o;
            }, "_initDocument"), gt = (0, _chunkZRT45YCMJs.a)(function(e) {
                return ne.call(e.ownerDocument || e, e, k.SHOW_ELEMENT | k.SHOW_COMMENT | k.SHOW_TEXT, null);
            }, "_createNodeIterator"), vt = (0, _chunkZRT45YCMJs.a)(function(e) {
                return e instanceof z && ("string" != typeof e.nodeName || "string" != typeof e.textContent || "function" != typeof e.removeChild || !(e.attributes instanceof F) || "function" != typeof e.removeAttribute || "function" != typeof e.setAttribute || "string" != typeof e.namespaceURI || "function" != typeof e.insertBefore || "function" != typeof e.hasChildNodes);
            }, "_isClobbered"), yt = (0, _chunkZRT45YCMJs.a)(function(e) {
                return "function" == typeof x && e instanceof x;
            }, "_isNode"), bt = (0, _chunkZRT45YCMJs.a)(function(e, t, n) {
                ae[e] && u(ae[e], (e)=>{
                    e.call(i, t, n, nt);
                });
            }, "_executeHook"), wt = (0, _chunkZRT45YCMJs.a)(function(e) {
                let t = null;
                if (bt("beforeSanitizeElements", e, null), vt(e)) return pt(e), !0;
                let n = it(e.nodeName);
                if (bt("uponSanitizeElement", e, {
                    tagName: n,
                    allowedTags: ge
                }), e.hasChildNodes() && !yt(e.firstElementChild) && w(/<[/\w]/g, e.innerHTML) && w(/<[/\w]/g, e.textContent)) return pt(e), !0;
                if (!ge[n] || Ae[n]) {
                    if (!Ae[n] && xt(n) && (we.tagNameCheck instanceof RegExp && w(we.tagNameCheck, n) || we.tagNameCheck instanceof Function && we.tagNameCheck(n))) return !1;
                    if (Ne && !ze[n]) {
                        let t = $(e) || e.parentNode, i = K(e) || e.childNodes;
                        if (i && t) for(let n = i.length - 1; n >= 0; --n)t.insertBefore(G(i[n], !0), J(e));
                    }
                    return pt(e), !0;
                }
                return e instanceof E && !dt(e) || ("noscript" === n || "noembed" === n || "noframes" === n) && w(/<\/no(script|embed|frames)/i, e.innerHTML) ? (pt(e), !0) : (Te && 3 === e.nodeType && (t = e.textContent, u([
                    le,
                    he,
                    ce
                ], (e)=>{
                    t = v(t, e, " ");
                }), e.textContent !== t && (p(i.removed, {
                    element: e.cloneNode()
                }), e.textContent = t)), bt("afterSanitizeElements", e, null), !1);
            }, "_sanitizeElements"), At = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
                if (Le && ("id" === t || "name" === t) && (i in n || i in rt)) return !1;
                if ((!Me || xe[t] || !w(ue, t)) && (!Ee || !w(de, t))) {
                    if (!ye[t] || xe[t]) {
                        if (!(xt(e) && (we.tagNameCheck instanceof RegExp && w(we.tagNameCheck, e) || we.tagNameCheck instanceof Function && we.tagNameCheck(e)) && (we.attributeNameCheck instanceof RegExp && w(we.attributeNameCheck, t) || we.attributeNameCheck instanceof Function && we.attributeNameCheck(t)) || "is" === t && we.allowCustomizedBuiltInElements && (we.tagNameCheck instanceof RegExp && w(we.tagNameCheck, i) || we.tagNameCheck instanceof Function && we.tagNameCheck(i)))) return !1;
                    } else if (!We[t] && !w(me, v(i, fe, "")) && ("src" !== t && "xlink:href" !== t && "href" !== t || "script" === e || 0 !== y(i, "data:") || !Ue[e]) && (!qe || w(pe, v(i, fe, ""))) && i) return !1;
                }
                return !0;
            }, "_isValidAttribute"), xt = (0, _chunkZRT45YCMJs.a)(function(e) {
                return e.indexOf("-") > 0;
            }, "_isBasicCustomElement"), Et = (0, _chunkZRT45YCMJs.a)(function(e) {
                bt("beforeSanitizeAttributes", e, null);
                let { attributes: t } = e;
                if (!t) return;
                let n = {
                    attrName: "",
                    attrValue: "",
                    keepAttr: !0,
                    allowedAttributes: ye
                }, r = t.length;
                for(; r--;){
                    let o = t[r], { name: s, namespaceURI: a, value: l } = o, h = it(s), c = "value" === s ? l : b(l);
                    if (n.attrName = h, n.attrValue = c, n.keepAttr = !0, n.forceKeepAttr = void 0, bt("uponSanitizeAttribute", e, n), c = n.attrValue, n.forceKeepAttr || (ft(s, e), !n.keepAttr)) continue;
                    if (!Ce && w(/\/>/i, c)) {
                        ft(s, e);
                        continue;
                    }
                    Te && u([
                        le,
                        he,
                        ce
                    ], (e)=>{
                        c = v(c, e, " ");
                    });
                    let p = it(e.nodeName);
                    if (At(p, h, c)) {
                        if (Be && ("id" === h || "name" === h) && (ft(s, e), c = Re + c), ee && "object" == typeof U && "function" == typeof U.getAttributeType && !a) switch(U.getAttributeType(p, h)){
                            case "TrustedHTML":
                                c = ee.createHTML(c);
                                break;
                            case "TrustedScriptURL":
                                c = ee.createScriptURL(c);
                        }
                        try {
                            a ? e.setAttributeNS(a, s, c) : e.setAttribute(s, c), d(i.removed);
                        } catch  {}
                    }
                }
                bt("afterSanitizeAttributes", e, null);
            }, "_sanitizeAttributes"), Mt = (0, _chunkZRT45YCMJs.a)(function e(t) {
                let i = null, n = gt(t);
                for(bt("beforeSanitizeShadowDOM", t, null); i = n.nextNode();)bt("uponSanitizeShadowNode", i, null), !wt(i) && (i.content instanceof h && e(i.content), Et(i));
                bt("afterSanitizeShadowDOM", t, null);
            }, "_sanitizeShadowDOM");
            return i.sanitize = function(e) {
                let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = null, o = null, s = null, a = null;
                if (Qe = !e, Qe && (e = "<!-->"), "string" != typeof e && !yt(e)) {
                    if ("function" != typeof e.toString) throw A("toString is not a function");
                    if ("string" != typeof (e = e.toString())) throw A("dirty is not a string, aborting");
                }
                if (!i.isSupported) return e;
                if (Se || st(t), i.removed = [], "string" == typeof e && (ke = !1), ke) {
                    if (e.nodeName) {
                        let t = it(e.nodeName);
                        if (!ge[t] || Ae[t]) throw A("root node is forbidden and cannot be sanitized in-place");
                    }
                } else if (e instanceof x) n = mt("<!---->"), o = n.ownerDocument.importNode(e, !0), 1 === o.nodeType && "BODY" === o.nodeName || "HTML" === o.nodeName ? n = o : n.appendChild(o);
                else {
                    if (!Oe && !Te && !Pe && -1 === e.indexOf("<")) return ee && _e ? ee.createHTML(e) : e;
                    if (n = mt(e), !n) return Oe ? null : _e ? te : "";
                }
                n && Ie && pt(n.firstChild);
                let l = gt(ke ? e : n);
                for(; s = l.nextNode();)wt(s) || (s.content instanceof h && Mt(s.content), Et(s));
                if (ke) return e;
                if (Oe) {
                    if (De) for(a = re.call(n.ownerDocument); n.firstChild;)a.appendChild(n.firstChild);
                    else a = n;
                    return (ye.shadowroot || ye.shadowrootmode) && (a = se.call(r, a, !0)), a;
                }
                let c = Pe ? n.outerHTML : n.innerHTML;
                return Pe && ge["!doctype"] && n.ownerDocument && n.ownerDocument.doctype && n.ownerDocument.doctype.name && w(H, n.ownerDocument.doctype.name) && (c = "<!DOCTYPE " + n.ownerDocument.doctype.name + ">\n" + c), Te && u([
                    le,
                    he,
                    ce
                ], (e)=>{
                    c = v(c, e, " ");
                }), ee && _e ? ee.createHTML(c) : c;
            }, i.setConfig = function() {
                let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                st(e), Se = !0;
            }, i.clearConfig = function() {
                nt = null, Se = !1;
            }, i.isValidAttribute = function(e, t, i) {
                nt || st({});
                let n = it(e), r = it(t);
                return At(n, r, i);
            }, i.addHook = function(e, t) {
                "function" == typeof t && (ae[e] = ae[e] || [], p(ae[e], t));
            }, i.removeHook = function(e) {
                if (ae[e]) return d(ae[e]);
            }, i.removeHooks = function(e) {
                ae[e] && (ae[e] = []);
            }, i.removeAllHooks = function() {
                ae = {};
            }, i;
        }
        return (0, _chunkZRT45YCMJs.a)(Q, "createDOMPurify"), Q();
    }, "object" == typeof e && typeof t < "u" ? t.exports = n() : "function" == typeof define && define.amd ? define(n) : (i = typeof globalThis < "u" ? globalThis : i || self).DOMPurify = n();
}), t_ = (0, _chunkZRT45YCMJs.c)((e, t)=>{
    (0, _chunkA5C75TI6Js.a)(), function() {
        "use strict";
        function e(e, t) {
            var i = e.x - t.x, n = e.y - t.y;
            return i * i + n * n;
        }
        function i(e, t, i) {
            var n = t.x, r = t.y, o = i.x - n, s = i.y - r;
            if (0 !== o || 0 !== s) {
                var a = ((e.x - n) * o + (e.y - r) * s) / (o * o + s * s);
                a > 1 ? (n = i.x, r = i.y) : a > 0 && (n += o * a, r += s * a);
            }
            return (o = e.x - n) * o + (s = e.y - r) * s;
        }
        function n(t, i) {
            for(var n, r = t[0], o = [
                r
            ], s = 1, a = t.length; s < a; s++)e(n = t[s], r) > i && (o.push(n), r = n);
            return r !== n && o.push(n), o;
        }
        function r(e, t, n, o, s) {
            for(var a, l = o, h = t + 1; h < n; h++){
                var c = i(e[h], e[t], e[n]);
                c > l && (a = h, l = c);
            }
            l > o && (a - t > 1 && r(e, t, a, o, s), s.push(e[a]), n - a > 1 && r(e, a, n, o, s));
        }
        function o(e, t) {
            var i = e.length - 1, n = [
                e[0]
            ];
            return r(e, 0, i, t, n), n.push(e[i]), n;
        }
        function s(e, t, i) {
            if (e.length <= 2) return e;
            var r = void 0 !== t ? t * t : 1;
            return e = o(e = i ? e : n(e, r), r);
        }
        (0, _chunkZRT45YCMJs.a)(e, "getSqDist"), (0, _chunkZRT45YCMJs.a)(i, "getSqSegDist"), (0, _chunkZRT45YCMJs.a)(n, "simplifyRadialDist"), (0, _chunkZRT45YCMJs.a)(r, "simplifyDPStep"), (0, _chunkZRT45YCMJs.a)(o, "simplifyDouglasPeucker"), (0, _chunkZRT45YCMJs.a)(s, "simplify"), "function" == typeof define && define.amd ? define(function() {
            return s;
        }) : typeof t < "u" ? (t.exports = s, t.exports.default = s) : typeof self < "u" ? self.simplify = s : window.simplify = s;
    }();
});
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var Pr, qc, _2, Nc, O2, Vm, Yw, D2 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, qc), (0, _chunkZRT45YCMJs.h)(this, Nc), (0, _chunkZRT45YCMJs.h)(this, Vm), (0, _chunkZRT45YCMJs.h)(this, Pr, void 0), (0, _chunkZRT45YCMJs.i)(this, Pr, e);
    }
    directionsTo(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, Pr).analytics;
        return e instanceof on ? 0 === e.destinations.length ? [] : (i.getDirections(this, e.destinations[e.destinations.length - 1]), (0, _chunkZRT45YCMJs.k)(this, Vm, Yw).call(this, e, t)) : (i.getDirections(this, e), (0, _chunkZRT45YCMJs.k)(this, Nc, O2).call(this, e, t));
    }
    distanceTo(e, t) {
        let i = (0, _chunkZRT45YCMJs.k)(this, Nc, O2).call(this, e, t);
        return (null == i ? void 0 : i.distance) || 0;
    }
};
Pr = new WeakMap, qc = new WeakSet, _2 = (0, _chunkZRT45YCMJs.a)(function() {
    var e;
    return null != (e = (0, _chunkZRT45YCMJs.g)(this, Pr).venue.renderOptions) && e.simplifyDirections ? {
        enabled: !0
    } : void 0;
}, "#venueHasSimplifyRenderOption"), Nc = new WeakSet, O2 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    let i = Lc(this), n = Lc(e), r = (0, _chunkZRT45YCMJs.g)(this, Pr).navigator.getDirections({
        originIds: i,
        destinationNodeIds: n,
        accessible: (null == t ? void 0 : t.accessible) || !1,
        includedVortexIds: null != t && t.includedVortexIds ? new Set(t.includedVortexIds) : void 0,
        excludedVortexIds: null != t && t.excludedVortexIds ? new Set(t.excludedVortexIds) : void 0,
        excludedNodeIds: null != t && t.excludedNodeIds ? new Set(t.excludedNodeIds) : void 0,
        simplify: (null == t ? void 0 : t.simplify) || (0, _chunkZRT45YCMJs.g)(this, qc, _2)
    });
    return new ua((0, _chunkZRT45YCMJs.g)(this, Pr), r);
}, "#directionsToSingleDestination"), Vm = new WeakSet, Yw = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    let i, n = [], r = Lc(this);
    for(let o = 0; o < e.destinations.length; o++){
        i = Lc(e.destinations[o]);
        let s = (0, _chunkZRT45YCMJs.g)(this, Pr).navigator.getDirections({
            originIds: r,
            destinationNodeIds: i,
            includedVortexIds: null != t && t.includedVortexIds ? new Set(t.includedVortexIds) : void 0,
            excludedVortexIds: null != t && t.excludedVortexIds ? new Set(t.excludedVortexIds) : void 0,
            accessible: (null == t ? void 0 : t.accessible) || !1,
            simplify: (null == t ? void 0 : t.simplify) || (0, _chunkZRT45YCMJs.g)(this, qc, _2)
        }), a = new ua((0, _chunkZRT45YCMJs.g)(this, Pr), s);
        n.push(a), r = 0 === a.path.length ? i : [
            a.path[a.path.length - 1].id
        ];
    }
    return n;
}, "#directionsToDestinationSet"), (0, _chunkZRT45YCMJs.a)(D2, "MappedinNavigatable");
var Dn = D2;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var Ww = "mi-debug", L2 = ((e)=>(e[e.LOG = 0] = "LOG", e[e.WARN = 1] = "WARN", e[e.ERROR = 2] = "ERROR", e[e.SILENT = 3] = "SILENT", e))(L2 || {});
function Xw(e) {
    0 <= e && e <= 3 && (Zw.logState = e);
}
(0, _chunkZRT45YCMJs.a)(Xw, "setLoggerLevel");
var Zw = {
    logState: 0,
    log (...e) {
        this.logState <= 0 && console.log("[MappedInJS]", ...e);
    },
    warn (...e) {
        this.logState <= 1 && console.warn("[MappedInJS]", ...e);
    },
    error (...e) {
        this.logState <= 2 && console.error("[MappedInJS]", ...e);
    },
    assert (...e) {
        console.assert(...e);
    },
    time (e) {
        console.time(e);
    },
    timeEnd (e) {
        console.timeEnd(e);
    }
}, R = Zw;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var q2 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return (q2 = Object.setPrototypeOf || ({
        __proto__: []
    }) instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for(var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
    })(e, t);
}, "extendStatics");
function us(e, t) {
    if ("function" != typeof t && null !== t) throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
    function i() {
        this.constructor = e;
    }
    q2(e, t), (0, _chunkZRT45YCMJs.a)(i, "__"), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i);
}
(0, _chunkZRT45YCMJs.a)(us, "__extends");
var rt = (0, _chunkZRT45YCMJs.a)(function() {
    return rt = Object.assign || (0, _chunkZRT45YCMJs.a)(function(e) {
        for(var t, i = 1, n = arguments.length; i < n; i++)for(var r in t = arguments[i])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
    }, "__assign"), rt.apply(this, arguments);
}, "__assign");
function It(e, t, i, n) {
    function r(e) {
        return e instanceof i ? e : new i(function(t) {
            t(e);
        });
    }
    return (0, _chunkZRT45YCMJs.a)(r, "adopt"), new (i || (i = Promise))(function(i, o) {
        function s(e) {
            try {
                h(n.next(e));
            } catch (e) {
                o(e);
            }
        }
        function a(e) {
            try {
                h(n.throw(e));
            } catch (e) {
                o(e);
            }
        }
        function h(e) {
            e.done ? i(e.value) : r(e.value).then(s, a);
        }
        (0, _chunkZRT45YCMJs.a)(s, "fulfilled"), (0, _chunkZRT45YCMJs.a)(a, "rejected"), (0, _chunkZRT45YCMJs.a)(h, "step"), h((n = n.apply(e, t || [])).next());
    });
}
function _t(e, t) {
    var i, n, r, o, s = {
        label: 0,
        sent: function() {
            if (1 & r[0]) throw r[1];
            return r[1];
        },
        trys: [],
        ops: []
    };
    return o = {
        next: a(0),
        throw: a(1),
        return: a(2)
    }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
        return this;
    }), o;
    function a(a) {
        return function(l) {
            return function(a) {
                if (i) throw new TypeError("Generator is already executing.");
                for(; o && (o = 0, a[0] && (s = 0)), s;)try {
                    if (i = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, a[1])).done) return r;
                    switch(n = 0, r && (a = [
                        2 & a[0],
                        r.value
                    ]), a[0]){
                        case 0:
                        case 1:
                            r = a;
                            break;
                        case 4:
                            return s.label++, {
                                value: a[1],
                                done: !1
                            };
                        case 5:
                            s.label++, n = a[1], a = [
                                0
                            ];
                            continue;
                        case 7:
                            a = s.ops.pop(), s.trys.pop();
                            continue;
                        default:
                            if (!(r = (r = s.trys).length > 0 && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                s = 0;
                                continue;
                            }
                            if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
                                s.label = a[1];
                                break;
                            }
                            if (6 === a[0] && s.label < r[1]) {
                                s.label = r[1], r = a;
                                break;
                            }
                            if (r && s.label < r[2]) {
                                s.label = r[2], s.ops.push(a);
                                break;
                            }
                            r[2] && s.ops.pop(), s.trys.pop();
                            continue;
                    }
                    a = t.call(e, s);
                } catch (e) {
                    a = [
                        6,
                        e
                    ], n = 0;
                } finally{
                    i = r = 0;
                }
                if (5 & a[0]) throw a[1];
                return {
                    value: a[0] ? a[1] : void 0,
                    done: !0
                };
            }([
                a,
                l
            ]);
        };
    }
}
function Qw(e) {
    var t = "function" == typeof Symbol && Symbol.iterator, i = t && e[t], n = 0;
    if (i) return i.call(e);
    if (e && "number" == typeof e.length) return {
        next: function() {
            return e && n >= e.length && (e = void 0), {
                value: e && e[n++],
                done: !e
            };
        }
    };
    throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function Kw(e, t) {
    var i = "function" == typeof Symbol && e[Symbol.iterator];
    if (!i) return e;
    var n, r, o = i.call(e), s = [];
    try {
        for(; (void 0 === t || t-- > 0) && !(n = o.next()).done;)s.push(n.value);
    } catch (e) {
        r = {
            error: e
        };
    } finally{
        try {
            n && !n.done && (i = o.return) && i.call(o);
        } finally{
            if (r) throw r.error;
        }
    }
    return s;
}
(0, _chunkZRT45YCMJs.a)(It, "__awaiter"), (0, _chunkZRT45YCMJs.a)(_t, "__generator"), (0, _chunkZRT45YCMJs.a)(Qw, "__values"), (0, _chunkZRT45YCMJs.a)(Kw, "__read"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var cs, hi, ca, hs, Ri, ln, Lt, Rl, Ot = (0, _chunkZRT45YCMJs.a)(function() {
    return Ot = Object.assign || (0, _chunkZRT45YCMJs.a)(function(e) {
        for(var t, i = 1, n = arguments.length; i < n; i++)for(var r in t = arguments[i])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
    }, "__assign"), Ot.apply(this, arguments);
}, "__assign");
function Jw(e, t) {
    var i = {};
    for(var n in e)Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (i[n] = e[n]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
        var r = 0;
        for(n = Object.getOwnPropertySymbols(e); r < n.length; r++)t.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[r]) && (i[n[r]] = e[n[r]]);
    }
    return i;
}
function Rt(e, t, i, n) {
    function r(e) {
        return e instanceof i ? e : new i(function(t) {
            t(e);
        });
    }
    return (0, _chunkZRT45YCMJs.a)(r, "adopt"), new (i || (i = Promise))(function(i, o) {
        function s(e) {
            try {
                h(n.next(e));
            } catch (e) {
                o(e);
            }
        }
        function a(e) {
            try {
                h(n.throw(e));
            } catch (e) {
                o(e);
            }
        }
        function h(e) {
            e.done ? i(e.value) : r(e.value).then(s, a);
        }
        (0, _chunkZRT45YCMJs.a)(s, "fulfilled"), (0, _chunkZRT45YCMJs.a)(a, "rejected"), (0, _chunkZRT45YCMJs.a)(h, "step"), h((n = n.apply(e, t || [])).next());
    });
}
function kt(e, t) {
    var i, n, r, o, s = {
        label: 0,
        sent: function() {
            if (1 & r[0]) throw r[1];
            return r[1];
        },
        trys: [],
        ops: []
    };
    return o = {
        next: a(0),
        throw: a(1),
        return: a(2)
    }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
        return this;
    }), o;
    function a(a) {
        return function(l) {
            return function(a) {
                if (i) throw new TypeError("Generator is already executing.");
                for(; o && (o = 0, a[0] && (s = 0)), s;)try {
                    if (i = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, a[1])).done) return r;
                    switch(n = 0, r && (a = [
                        2 & a[0],
                        r.value
                    ]), a[0]){
                        case 0:
                        case 1:
                            r = a;
                            break;
                        case 4:
                            return s.label++, {
                                value: a[1],
                                done: !1
                            };
                        case 5:
                            s.label++, n = a[1], a = [
                                0
                            ];
                            continue;
                        case 7:
                            a = s.ops.pop(), s.trys.pop();
                            continue;
                        default:
                            if (!(r = (r = s.trys).length > 0 && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                s = 0;
                                continue;
                            }
                            if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
                                s.label = a[1];
                                break;
                            }
                            if (6 === a[0] && s.label < r[1]) {
                                s.label = r[1], r = a;
                                break;
                            }
                            if (r && s.label < r[2]) {
                                s.label = r[2], s.ops.push(a);
                                break;
                            }
                            r[2] && s.ops.pop(), s.trys.pop();
                            continue;
                    }
                    a = t.call(e, s);
                } catch (e) {
                    a = [
                        6,
                        e
                    ], n = 0;
                } finally{
                    i = r = 0;
                }
                if (5 & a[0]) throw a[1];
                return {
                    value: a[0] ? a[1] : void 0,
                    done: !0
                };
            }([
                a,
                l
            ]);
        };
    }
}
function Sr(e) {
    var t = "function" == typeof Symbol && Symbol.iterator, i = t && e[t], n = 0;
    if (i) return i.call(e);
    if (e && "number" == typeof e.length) return {
        next: function() {
            return e && n >= e.length && (e = void 0), {
                value: e && e[n++],
                done: !e
            };
        }
    };
    throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function Ni(e, t) {
    var i = "function" == typeof Symbol && e[Symbol.iterator];
    if (!i) return e;
    var n, r, o = i.call(e), s = [];
    try {
        for(; (void 0 === t || t-- > 0) && !(n = o.next()).done;)s.push(n.value);
    } catch (e) {
        r = {
            error: e
        };
    } finally{
        try {
            n && !n.done && (i = o.return) && i.call(o);
        } finally{
            if (r) throw r.error;
        }
    }
    return s;
}
function tr(e, t, i) {
    if (i || 2 === arguments.length) for(var n, r = 0, o = t.length; r < o; r++)(n || !(r in t)) && (n || (n = Array.prototype.slice.call(t, 0, r)), n[r] = t[r]);
    return e.concat(n || Array.prototype.slice.call(t));
}
(0, _chunkZRT45YCMJs.a)(Jw, "__rest"), (0, _chunkZRT45YCMJs.a)(Rt, "__awaiter"), (0, _chunkZRT45YCMJs.a)(kt, "__generator"), (0, _chunkZRT45YCMJs.a)(Sr, "__values"), (0, _chunkZRT45YCMJs.a)(Ni, "__read"), (0, _chunkZRT45YCMJs.a)(tr, "__spreadArray"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), function(e) {
    e.US = "US", e.EU = "EU";
}(cs || (cs = {})), (0, _chunkA5C75TI6Js.a)(), function(e) {
    e.SET = "$set", e.SET_ONCE = "$setOnce", e.ADD = "$add", e.APPEND = "$append", e.PREPEND = "$prepend", e.REMOVE = "$remove", e.PREINSERT = "$preInsert", e.POSTINSERT = "$postInsert", e.UNSET = "$unset", e.CLEAR_ALL = "$clearAll";
}(hi || (hi = {})), function(e) {
    e.REVENUE_PRODUCT_ID = "$productId", e.REVENUE_QUANTITY = "$quantity", e.REVENUE_PRICE = "$price", e.REVENUE_TYPE = "$revenueType", e.REVENUE = "$revenue";
}(ca || (ca = {})), function(e) {
    e.IDENTIFY = "$identify", e.GROUP_IDENTIFY = "$groupidentify", e.REVENUE = "revenue_amount";
}(hs || (hs = {})), (0, _chunkA5C75TI6Js.a)(), function(e) {
    e[e.None = 0] = "None", e[e.Error = 1] = "Error", e[e.Warn = 2] = "Warn", e[e.Verbose = 3] = "Verbose", e[e.Debug = 4] = "Debug";
}(Ri || (Ri = {})), (0, _chunkA5C75TI6Js.a)(), function(e) {
    e.BEFORE = "before", e.ENRICHMENT = "enrichment", e.DESTINATION = "destination";
}(ln || (ln = {})), (0, _chunkA5C75TI6Js.a)(), function(e) {
    e.Unknown = "unknown", e.Skipped = "skipped", e.Success = "success", e.RateLimit = "rate_limit", e.PayloadTooLarge = "payload_too_large", e.Invalid = "invalid", e.Failed = "failed", e.Timeout = "Timeout", e.SystemError = "SystemError";
}(Lt || (Lt = {})), (0, _chunkA5C75TI6Js.a)(), function(e) {
    e.XHR = "xhr", e.SendBeacon = "beacon", e.Fetch = "fetch";
}(Rl || (Rl = {})), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var N2 = "-", Rc = "AMP", $w = "".concat(Rc, "_unsent"), R2 = "https://api2.amplitude.com/2/httpapi", eA = "https://api.eu.amplitude.com/2/httpapi", tA = "https://api2.amplitude.com/batch", iA = "https://api.eu.amplitude.com/batch";
(0, _chunkA5C75TI6Js.a)();
var v_ = 1e3, Gm = (0, _chunkZRT45YCMJs.a)(function(e) {
    if (Object.keys(e).length > v_) return !1;
    for(var t in e){
        var i = e[t];
        if (!k2(t, i)) return !1;
    }
    return !0;
}, "isValidObject"), k2 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i, n;
    if ("string" != typeof e) return !1;
    if (Array.isArray(t)) {
        var r = !0;
        try {
            for(var o = Sr(t), s = o.next(); !s.done; s = o.next()){
                var a = s.value;
                if (Array.isArray(a)) return !1;
                if ("object" == typeof a) r = r && Gm(a);
                else if (![
                    "number",
                    "string"
                ].includes(typeof a)) return !1;
                if (!r) return !1;
            }
        } catch (e) {
            i = {
                error: e
            };
        } finally{
            try {
                s && !s.done && (n = o.return) && n.call(o);
            } finally{
                if (i) throw i.error;
            }
        }
    } else {
        if (null == t) return !1;
        if ("object" == typeof t) return Gm(t);
        if (![
            "number",
            "string",
            "boolean"
        ].includes(typeof t)) return !1;
    }
    return !0;
}, "isValidProperties"), nr = function() {
    function e() {
        this._propertySet = new Set, this._properties = {};
    }
    return (0, _chunkZRT45YCMJs.a)(e, "Identify"), e.prototype.getUserProperties = function() {
        return Ot({}, this._properties);
    }, e.prototype.set = function(e, t) {
        return this._safeSet(hi.SET, e, t), this;
    }, e.prototype.setOnce = function(e, t) {
        return this._safeSet(hi.SET_ONCE, e, t), this;
    }, e.prototype.append = function(e, t) {
        return this._safeSet(hi.APPEND, e, t), this;
    }, e.prototype.prepend = function(e, t) {
        return this._safeSet(hi.PREPEND, e, t), this;
    }, e.prototype.postInsert = function(e, t) {
        return this._safeSet(hi.POSTINSERT, e, t), this;
    }, e.prototype.preInsert = function(e, t) {
        return this._safeSet(hi.PREINSERT, e, t), this;
    }, e.prototype.remove = function(e, t) {
        return this._safeSet(hi.REMOVE, e, t), this;
    }, e.prototype.add = function(e, t) {
        return this._safeSet(hi.ADD, e, t), this;
    }, e.prototype.unset = function(e) {
        return this._safeSet(hi.UNSET, e, N2), this;
    }, e.prototype.clearAll = function() {
        return this._properties = {}, this._properties[hi.CLEAR_ALL] = N2, this;
    }, e.prototype._safeSet = function(e, t, i) {
        if (this._validate(e, t, i)) {
            var n = this._properties[e];
            return void 0 === n && (n = {}, this._properties[e] = n), n[t] = i, this._propertySet.add(t), !0;
        }
        return !1;
    }, e.prototype._validate = function(e, t, i) {
        return void 0 === this._properties[hi.CLEAR_ALL] && !this._propertySet.has(t) && (e === hi.ADD ? "number" == typeof i : e === hi.UNSET || e === hi.REMOVE || k2(t, i));
    }, e;
}(), nA = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    return Ot(Ot(Ot({}, "string" == typeof e ? {
        event_type: e
    } : e), i), t && {
        event_properties: t
    });
}, "createTrackEvent"), kc = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return Ot(Ot({}, t), {
        event_type: hs.IDENTIFY,
        user_properties: e.getUserProperties()
    });
}, "createIdentifyEvent"), rA = (0, _chunkZRT45YCMJs.a)(function(e, t, i, n) {
    var r;
    return Ot(Ot({}, n), {
        event_type: hs.GROUP_IDENTIFY,
        group_properties: i.getUserProperties(),
        groups: (r = {}, r[e] = t, r)
    });
}, "createGroupIdentifyEvent"), aA = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    var n, r = new nr;
    return r.set(e, t), Ot(Ot({}, i), {
        event_type: hs.IDENTIFY,
        user_properties: r.getUserProperties(),
        groups: (n = {}, n[e] = t, n)
    });
}, "createGroupEvent"), sA = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return Ot(Ot({}, t), {
        event_type: hs.REVENUE,
        event_properties: e.getEventProperties()
    });
}, "createRevenueEvent");
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var ds = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    return void 0 === t && (t = 0), void 0 === i && (i = Lt.Unknown), {
        event: e,
        code: t,
        message: i
    };
}, "buildResult"), oA = function() {
    function e() {
        this.queue = [], this.applying = !1, this.plugins = [];
    }
    return (0, _chunkZRT45YCMJs.a)(e, "Timeline"), e.prototype.register = function(e, t) {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(i) {
                switch(i.label){
                    case 0:
                        return [
                            4,
                            e.setup(t)
                        ];
                    case 1:
                        return i.sent(), this.plugins.push(e), [
                            2
                        ];
                }
            });
        });
    }, e.prototype.deregister = function(e) {
        return this.plugins.splice(this.plugins.findIndex(function(t) {
            return t.name === e;
        }), 1), Promise.resolve();
    }, e.prototype.reset = function() {
        this.applying = !1, this.plugins = [];
    }, e.prototype.push = function(e) {
        var t = this;
        return new Promise(function(i) {
            t.queue.push([
                e,
                i
            ]), t.scheduleApply(0);
        });
    }, e.prototype.scheduleApply = function(e) {
        var t = this;
        this.applying || (this.applying = !0, setTimeout(function() {
            t.apply(t.queue.shift()).then(function() {
                t.applying = !1, t.queue.length > 0 && t.scheduleApply(0);
            });
        }, e));
    }, e.prototype.apply = function(e) {
        return Rt(this, void 0, void 0, function() {
            var t, i, n, r, o, s, a, l, h, c, u, d, p, f, m, g, v, y;
            return kt(this, function(b) {
                switch(b.label){
                    case 0:
                        if (!e) return [
                            2
                        ];
                        t = Ni(e, 1), i = t[0], n = Ni(e, 2), r = n[1], o = this.plugins.filter(function(e) {
                            return e.type === ln.BEFORE;
                        }), b.label = 1;
                    case 1:
                        b.trys.push([
                            1,
                            6,
                            7,
                            8
                        ]), s = Sr(o), a = s.next(), b.label = 2;
                    case 2:
                        return a.done ? [
                            3,
                            5
                        ] : [
                            4,
                            a.value.execute(Ot({}, i))
                        ];
                    case 3:
                        i = b.sent(), b.label = 4;
                    case 4:
                        return a = s.next(), [
                            3,
                            2
                        ];
                    case 5:
                        return [
                            3,
                            8
                        ];
                    case 6:
                        return l = b.sent(), m = {
                            error: l
                        }, [
                            3,
                            8
                        ];
                    case 7:
                        try {
                            a && !a.done && (g = s.return) && g.call(s);
                        } finally{
                            if (m) throw m.error;
                        }
                        return [
                            7
                        ];
                    case 8:
                        h = this.plugins.filter(function(e) {
                            return e.type === ln.ENRICHMENT;
                        }), b.label = 9;
                    case 9:
                        b.trys.push([
                            9,
                            14,
                            15,
                            16
                        ]), c = Sr(h), u = c.next(), b.label = 10;
                    case 10:
                        return u.done ? [
                            3,
                            13
                        ] : [
                            4,
                            u.value.execute(Ot({}, i))
                        ];
                    case 11:
                        i = b.sent(), b.label = 12;
                    case 12:
                        return u = c.next(), [
                            3,
                            10
                        ];
                    case 13:
                        return [
                            3,
                            16
                        ];
                    case 14:
                        return d = b.sent(), v = {
                            error: d
                        }, [
                            3,
                            16
                        ];
                    case 15:
                        try {
                            u && !u.done && (y = c.return) && y.call(c);
                        } finally{
                            if (v) throw v.error;
                        }
                        return [
                            7
                        ];
                    case 16:
                        return p = this.plugins.filter(function(e) {
                            return e.type === ln.DESTINATION;
                        }), f = p.map(function(e) {
                            var t = Ot({}, i);
                            return e.execute(t).catch(function(e) {
                                return ds(t, 0, String(e));
                            });
                        }), Promise.all(f).then(function(e) {
                            var t = Ni(e, 1)[0];
                            r(t);
                        }), [
                            2
                        ];
                }
            });
        });
    }, e.prototype.flush = function() {
        return Rt(this, void 0, void 0, function() {
            var e, t, i, n = this;
            return kt(this, function(r) {
                switch(r.label){
                    case 0:
                        return e = this.queue, this.queue = [], [
                            4,
                            Promise.all(e.map(function(e) {
                                return n.apply(e);
                            }))
                        ];
                    case 1:
                        return r.sent(), t = this.plugins.filter(function(e) {
                            return e.type === ln.DESTINATION;
                        }), i = t.map(function(e) {
                            return e.flush && e.flush();
                        }), [
                            4,
                            Promise.all(i)
                        ];
                    case 2:
                        return r.sent(), [
                            2
                        ];
                }
            });
        });
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var lA = "Event tracked successfully", uA = "Unexpected error occurred", cA = "Event rejected due to exceeded retry count", hA = "Event skipped due to optOut config", dA = "Event rejected due to missing API key", pA = "Invalid API key", fA = "Client not initialized", B2 = function() {
    function e(e) {
        void 0 === e && (e = "$default"), this.initializing = !1, this.q = [], this.dispatchQ = [], this.logEvent = this.track.bind(this), this.timeline = new oA, this.name = e;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "AmplitudeCore"), e.prototype._init = function(e) {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(t) {
                switch(t.label){
                    case 0:
                        return this.config = e, this.timeline.reset(), [
                            4,
                            this.runQueuedFunctions("q")
                        ];
                    case 1:
                        return t.sent(), [
                            2
                        ];
                }
            });
        });
    }, e.prototype.runQueuedFunctions = function(e) {
        return Rt(this, void 0, void 0, function() {
            var t, i, n, r, o, s;
            return kt(this, function(a) {
                switch(a.label){
                    case 0:
                        t = this[e], this[e] = [], a.label = 1;
                    case 1:
                        a.trys.push([
                            1,
                            6,
                            7,
                            8
                        ]), i = Sr(t), n = i.next(), a.label = 2;
                    case 2:
                        return n.done ? [
                            3,
                            5
                        ] : [
                            4,
                            (0, n.value)()
                        ];
                    case 3:
                        a.sent(), a.label = 4;
                    case 4:
                        return n = i.next(), [
                            3,
                            2
                        ];
                    case 5:
                        return [
                            3,
                            8
                        ];
                    case 6:
                        return r = a.sent(), o = {
                            error: r
                        }, [
                            3,
                            8
                        ];
                    case 7:
                        try {
                            n && !n.done && (s = i.return) && s.call(i);
                        } finally{
                            if (o) throw o.error;
                        }
                        return [
                            7
                        ];
                    case 8:
                        return [
                            2
                        ];
                }
            });
        });
    }, e.prototype.track = function(e, t, i) {
        var n = nA(e, t, i);
        return this.dispatch(n);
    }, e.prototype.identify = function(e, t) {
        var i = kc(e, t);
        return this.dispatch(i);
    }, e.prototype.groupIdentify = function(e, t, i, n) {
        var r = rA(e, t, i, n);
        return this.dispatch(r);
    }, e.prototype.setGroup = function(e, t, i) {
        var n = aA(e, t, i);
        return this.dispatch(n);
    }, e.prototype.revenue = function(e, t) {
        var i = sA(e, t);
        return this.dispatch(i);
    }, e.prototype.add = function(e) {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(t) {
                return this.config ? [
                    2,
                    this.timeline.register(e, this.config)
                ] : (this.q.push(this.add.bind(this, e)), [
                    2
                ]);
            });
        });
    }, e.prototype.remove = function(e) {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(t) {
                return this.config ? [
                    2,
                    this.timeline.deregister(e)
                ] : (this.q.push(this.remove.bind(this, e)), [
                    2
                ]);
            });
        });
    }, e.prototype.dispatchWithCallback = function(e, t) {
        if (!this.config) return t(ds(e, 0, fA));
        this.process(e).then(t);
    }, e.prototype.dispatch = function(e) {
        return Rt(this, void 0, void 0, function() {
            var t = this;
            return kt(this, function(i) {
                return this.config ? [
                    2,
                    this.process(e)
                ] : [
                    2,
                    new Promise(function(i) {
                        t.dispatchQ.push(t.dispatchWithCallback.bind(t, e, i));
                    })
                ];
            });
        });
    }, e.prototype.process = function(e) {
        return Rt(this, void 0, void 0, function() {
            var t, i, n;
            return kt(this, function(r) {
                switch(r.label){
                    case 0:
                        return r.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]), this.config.optOut ? [
                            2,
                            ds(e, 0, hA)
                        ] : [
                            4,
                            this.timeline.push(e)
                        ];
                    case 1:
                        return 200 === (n = r.sent()).code ? this.config.loggerProvider.log(n.message) : this.config.loggerProvider.error(n.message), [
                            2,
                            n
                        ];
                    case 2:
                        return t = r.sent(), i = String(t), this.config.loggerProvider.error(i), [
                            2,
                            n = ds(e, 0, i)
                        ];
                    case 3:
                        return [
                            2
                        ];
                }
            });
        });
    }, e.prototype.setOptOut = function(e) {
        this.config ? this.config.optOut = !!e : this.q.push(this.setOptOut.bind(this, !!e));
    }, e.prototype.flush = function() {
        return this.timeline.flush();
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var jm = function() {
    function e() {
        this.productId = "", this.quantity = 1, this.price = 0;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "Revenue"), e.prototype.setProductId = function(e) {
        return this.productId = e, this;
    }, e.prototype.setQuantity = function(e) {
        return e > 0 && (this.quantity = e), this;
    }, e.prototype.setPrice = function(e) {
        return this.price = e, this;
    }, e.prototype.setRevenueType = function(e) {
        return this.revenueType = e, this;
    }, e.prototype.setRevenue = function(e) {
        return this.revenue = e, this;
    }, e.prototype.setEventProperties = function(e) {
        return Gm(e) && (this.properties = e), this;
    }, e.prototype.getEventProperties = function() {
        var e = this.properties ? Ot({}, this.properties) : {};
        return e[ca.REVENUE_PRODUCT_ID] = this.productId, e[ca.REVENUE_QUANTITY] = this.quantity, e[ca.REVENUE_PRICE] = this.price, e[ca.REVENUE_TYPE] = this.revenueType, e[ca.REVENUE] = this.revenue, e;
    }, e;
}();
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var mA = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i = Math.max(t, 1);
    return e.reduce(function(e, t, n) {
        var r = Math.floor(n / i);
        return e[r] || (e[r] = []), e[r].push(t), e;
    }, []);
}, "chunk");
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var Hm = "Amplitude Logger ", gA = function() {
    function e() {
        this.logLevel = Ri.None;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "Logger"), e.prototype.disable = function() {
        this.logLevel = Ri.None;
    }, e.prototype.enable = function(e) {
        void 0 === e && (e = Ri.Warn), this.logLevel = e;
    }, e.prototype.log = function() {
        for(var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t];
        this.logLevel < Ri.Verbose || console.log("".concat(Hm, "[Log]: ").concat(e.join(" ")));
    }, e.prototype.warn = function() {
        for(var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t];
        this.logLevel < Ri.Warn || console.warn("".concat(Hm, "[Warn]: ").concat(e.join(" ")));
    }, e.prototype.error = function() {
        for(var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t];
        this.logLevel < Ri.Error || console.error("".concat(Hm, "[Error]: ").concat(e.join(" ")));
    }, e.prototype.debug = function() {
        for(var e = [], t = 0; t < arguments.length; t++)e[t] = arguments[t];
        this.logLevel < Ri.Debug || console.log("".concat(Hm, "[Debug]: ").concat(e.join(" ")));
    }, e;
}(), Ym = (0, _chunkZRT45YCMJs.a)(function() {
    return {
        flushMaxRetries: 12,
        flushQueueSize: 200,
        flushIntervalMillis: 1e4,
        logLevel: Ri.Warn,
        loggerProvider: new gA,
        optOut: !1,
        serverUrl: R2,
        serverZone: cs.US,
        useBatch: !1
    };
}, "getDefaultConfig"), F2 = function() {
    function e(e) {
        var t, i, n;
        this._optOut = !1;
        var r = Ym();
        this.apiKey = e.apiKey, this.flushIntervalMillis = e.flushIntervalMillis || r.flushIntervalMillis, this.flushMaxRetries = e.flushMaxRetries || r.flushMaxRetries, this.flushQueueSize = e.flushQueueSize || r.flushQueueSize, this.loggerProvider = e.loggerProvider || r.loggerProvider, this.logLevel = null !== (t = e.logLevel) && void 0 !== t ? t : r.logLevel, this.minIdLength = e.minIdLength, this.plan = e.plan, this.ingestionMetadata = e.ingestionMetadata, this.optOut = null !== (i = e.optOut) && void 0 !== i ? i : r.optOut, this.serverUrl = e.serverUrl, this.serverZone = e.serverZone || r.serverZone, this.storageProvider = e.storageProvider, this.transportProvider = e.transportProvider, this.useBatch = null !== (n = e.useBatch) && void 0 !== n ? n : r.useBatch, this.loggerProvider.enable(this.logLevel);
        var o = U2(e.serverUrl, e.serverZone, e.useBatch);
        this.serverZone = o.serverZone, this.serverUrl = o.serverUrl;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "Config"), Object.defineProperty(e.prototype, "optOut", {
        get: function() {
            return this._optOut;
        },
        set: function(e) {
            this._optOut = e;
        },
        enumerable: !1,
        configurable: !0
    }), e;
}(), y_ = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return e === cs.EU ? t ? iA : eA : t ? tA : R2;
}, "getServerUrl"), U2 = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    if (void 0 === e && (e = ""), void 0 === t && (t = Ym().serverZone), void 0 === i && (i = Ym().useBatch), e) return {
        serverUrl: e,
        serverZone: void 0
    };
    var n = [
        cs.US,
        cs.EU
    ].includes(t) ? t : Ym().serverZone;
    return {
        serverZone: n,
        serverUrl: y_(n, i)
    };
}, "createServerConfig"), z2 = function() {
    function e() {
        this.name = "amplitude", this.type = ln.DESTINATION, this.retryTimeout = 1e3, this.throttleTimeout = 3e4, this.storageKey = "", this.scheduled = null, this.queue = [];
    }
    return (0, _chunkZRT45YCMJs.a)(e, "Destination"), e.prototype.setup = function(e) {
        var t;
        return Rt(this, void 0, void 0, function() {
            var i, n = this;
            return kt(this, function(r) {
                switch(r.label){
                    case 0:
                        return this.config = e, this.storageKey = "".concat($w, "_").concat(this.config.apiKey.substring(0, 10)), [
                            4,
                            null === (t = this.config.storageProvider) || void 0 === t ? void 0 : t.get(this.storageKey)
                        ];
                    case 1:
                        return i = r.sent(), this.saveEvents(), i && i.length > 0 && Promise.all(i.map(function(e) {
                            return n.execute(e);
                        })).catch(), [
                            2,
                            Promise.resolve(void 0)
                        ];
                }
            });
        });
    }, e.prototype.execute = function(e) {
        var t = this;
        return new Promise(function(i) {
            var n = {
                event: e,
                attempts: 0,
                callback: function(e) {
                    return i(e);
                },
                timeout: 0
            };
            t.addToQueue(n);
        });
    }, e.prototype.addToQueue = function() {
        for(var e = this, t = [], i = 0; i < arguments.length; i++)t[i] = arguments[i];
        var n = t.filter(function(t) {
            return t.attempts < e.config.flushMaxRetries ? (t.attempts += 1, !0) : (e.fulfillRequest([
                t
            ], 500, cA), !1);
        });
        n.forEach(function(t) {
            e.queue = e.queue.concat(t), 0 !== t.timeout ? setTimeout(function() {
                t.timeout = 0, e.schedule(0);
            }, t.timeout) : e.schedule(e.config.flushIntervalMillis);
        }), this.saveEvents();
    }, e.prototype.schedule = function(e) {
        var t = this;
        this.scheduled || (this.scheduled = setTimeout(function() {
            t.flush(!0).then(function() {
                t.queue.length > 0 && t.schedule(e);
            });
        }, e));
    }, e.prototype.flush = function(e) {
        return void 0 === e && (e = !1), Rt(this, void 0, void 0, function() {
            var t, i, n, r = this;
            return kt(this, function(o) {
                switch(o.label){
                    case 0:
                        return t = [], i = [], this.queue.forEach(function(e) {
                            return 0 === e.timeout ? t.push(e) : i.push(e);
                        }), this.queue = i, this.scheduled && (clearTimeout(this.scheduled), this.scheduled = null), n = mA(t, this.config.flushQueueSize), [
                            4,
                            Promise.all(n.map(function(t) {
                                return r.send(t, e);
                            }))
                        ];
                    case 1:
                        return o.sent(), [
                            2
                        ];
                }
            });
        });
    }, e.prototype.send = function(e, t) {
        return void 0 === t && (t = !0), Rt(this, void 0, void 0, function() {
            var i, n, r, o, s;
            return kt(this, function(a) {
                switch(a.label){
                    case 0:
                        if (!this.config.apiKey) return [
                            2,
                            this.fulfillRequest(e, 400, dA)
                        ];
                        i = {
                            api_key: this.config.apiKey,
                            events: e.map(function(e) {
                                var t = e.event;
                                t.extra;
                                return Jw(t, [
                                    "extra"
                                ]);
                            }),
                            options: {
                                min_id_length: this.config.minIdLength
                            }
                        }, a.label = 1;
                    case 1:
                        return a.trys.push([
                            1,
                            3,
                            ,
                            4
                        ]), n = U2(this.config.serverUrl, this.config.serverZone, this.config.useBatch).serverUrl, [
                            4,
                            this.config.transportProvider.send(n, i)
                        ];
                    case 2:
                        if (null === (r = a.sent())) return this.fulfillRequest(e, 0, uA), [
                            2
                        ];
                        if (!t) {
                            if ("body" in r) {
                                o = "";
                                try {
                                    o = JSON.stringify(r.body, null, 2);
                                } catch  {}
                                this.fulfillRequest(e, r.statusCode, "".concat(r.status, ": ").concat(o));
                            } else this.fulfillRequest(e, r.statusCode, r.status);
                            return [
                                2
                            ];
                        }
                        return this.handleReponse(r, e), [
                            3,
                            4
                        ];
                    case 3:
                        return s = a.sent(), this.fulfillRequest(e, 0, String(s)), [
                            3,
                            4
                        ];
                    case 4:
                        return [
                            2
                        ];
                }
            });
        });
    }, e.prototype.handleReponse = function(e, t) {
        switch(e.status){
            case Lt.Success:
                this.handleSuccessResponse(e, t);
                break;
            case Lt.Invalid:
                this.handleInvalidResponse(e, t);
                break;
            case Lt.PayloadTooLarge:
                this.handlePayloadTooLargeResponse(e, t);
                break;
            case Lt.RateLimit:
                this.handleRateLimitResponse(e, t);
                break;
            default:
                this.handleOtherReponse(t);
        }
    }, e.prototype.handleSuccessResponse = function(e, t) {
        this.fulfillRequest(t, e.statusCode, lA);
    }, e.prototype.handleInvalidResponse = function(e, t) {
        var i = this;
        if (e.body.missingField || e.body.error.startsWith(pA)) this.fulfillRequest(t, e.statusCode, e.body.error);
        else {
            var n = tr(tr(tr(tr([], Ni(Object.values(e.body.eventsWithInvalidFields)), !1), Ni(Object.values(e.body.eventsWithMissingFields)), !1), Ni(Object.values(e.body.eventsWithInvalidIdLengths)), !1), Ni(e.body.silencedEvents), !1).flat(), r = new Set(n), o = t.filter(function(t, n) {
                if (!r.has(n)) return !0;
                i.fulfillRequest([
                    t
                ], e.statusCode, e.body.error);
            });
            this.addToQueue.apply(this, tr([], Ni(o), !1));
        }
    }, e.prototype.handlePayloadTooLargeResponse = function(e, t) {
        1 !== t.length ? (this.config.flushQueueSize /= 2, this.addToQueue.apply(this, tr([], Ni(t), !1))) : this.fulfillRequest(t, e.statusCode, e.body.error);
    }, e.prototype.handleRateLimitResponse = function(e, t) {
        var i = this, n = Object.keys(e.body.exceededDailyQuotaUsers), r = Object.keys(e.body.exceededDailyQuotaDevices), o = e.body.throttledEvents, s = new Set(n), a = new Set(r), l = new Set(o), h = t.filter(function(t, n) {
            if (!(t.event.user_id && s.has(t.event.user_id) || t.event.device_id && a.has(t.event.device_id))) return l.has(n) && (t.timeout = i.throttleTimeout), !0;
            i.fulfillRequest([
                t
            ], e.statusCode, e.body.error);
        });
        this.addToQueue.apply(this, tr([], Ni(h), !1));
    }, e.prototype.handleOtherReponse = function(e) {
        var t = this;
        this.addToQueue.apply(this, tr([], Ni(e.map(function(e) {
            return e.timeout = e.attempts * t.retryTimeout, e;
        })), !1));
    }, e.prototype.fulfillRequest = function(e, t, i) {
        this.saveEvents(), e.forEach(function(e) {
            return e.callback(ds(e.event, t, i));
        });
    }, e.prototype.saveEvents = function() {
        if (this.config.storageProvider) {
            var e = Array.from(this.queue.map(function(e) {
                return e.event;
            }));
            this.config.storageProvider.set(this.storageKey, e);
        }
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var Ln = (0, _chunkZRT45YCMJs.a)(function(e) {
    return function() {
        for(var t = [], i = 0; i < arguments.length; i++)t[i] = arguments[i];
        return {
            promise: e.apply(void 0, tr([], Ni(t), !1))
        };
    };
}, "returnWrapper");
(0, _chunkA5C75TI6Js.a)();
var b_ = (0, _chunkZRT45YCMJs.a)(function(e) {
    return void 0 === e && (e = 0), ((new Error).stack || "").split("\n").slice(2 + e).map(function(e) {
        return e.trim();
    });
}, "getStacktrace"), Yt = (0, _chunkZRT45YCMJs.a)(function(e) {
    return function() {
        var t = Ot({}, e.config);
        return {
            logger: t.loggerProvider,
            logLevel: t.logLevel
        };
    };
}, "getClientLogConfig"), x_ = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i, n;
    t = (t = t.replace(/\[(\w+)\]/g, ".$1")).replace(/^\./, "");
    try {
        for(var r = Sr(t.split(".")), o = r.next(); !o.done; o = r.next()){
            var s = o.value;
            if (!(s in e)) return;
            e = e[s];
        }
    } catch (e) {
        i = {
            error: e
        };
    } finally{
        try {
            o && !o.done && (n = r.return) && n.call(r);
        } finally{
            if (i) throw i.error;
        }
    }
    return e;
}, "getValueByStringPath"), Wt = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return function() {
        var i, n, r = {};
        try {
            for(var o = Sr(t), s = o.next(); !s.done; s = o.next()){
                var a = s.value;
                r[a] = x_(e, a);
            }
        } catch (e) {
            i = {
                error: e
            };
        } finally{
            try {
                s && !s.done && (n = o.return) && n.call(o);
            } finally{
                if (i) throw i.error;
            }
        }
        return r;
    };
}, "getClientStates"), Xt = (0, _chunkZRT45YCMJs.a)(function(e, t, i, n, r) {
    return void 0 === r && (r = null), function() {
        for(var o = [], s = 0; s < arguments.length; s++)o[s] = arguments[s];
        var a = i(), l = a.logger, h = a.logLevel;
        if (h && h < Ri.Debug || !h || !l) return e.apply(r, o);
        var c = {
            type: "invoke public method",
            name: t,
            args: o,
            stacktrace: b_(1),
            time: {
                start: (new Date).toISOString()
            },
            states: {}
        };
        n && c.states && (c.states.before = n());
        var u = e.apply(r, o);
        return u && u.promise ? u.promise.then(function() {
            n && c.states && (c.states.after = n()), c.time && (c.time.end = (new Date).toISOString()), l.debug(JSON.stringify(c, null, 2));
        }) : (n && c.states && (c.states.after = n()), c.time && (c.time.end = (new Date).toISOString()), l.debug(JSON.stringify(c, null, 2))), u;
    };
}, "debugWrapper");
(0, _chunkA5C75TI6Js.a)();
var ps = (0, _chunkZRT45YCMJs.a)(function(e) {
    return e ? (e ^ 16 * Math.random() >> e / 4).toString(16) : (String(1e7) + String(-1000) + String(-4000) + String(-8000) + String(-100000000000)).replace(/[018]/g, ps);
}, "UUID");
(0, _chunkA5C75TI6Js.a)();
var Bc = function() {
    function e() {
        this.memoryStorage = new Map;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "MemoryStorage"), e.prototype.isEnabled = function() {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(e) {
                return [
                    2,
                    !0
                ];
            });
        });
    }, e.prototype.get = function(e) {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(t) {
                return [
                    2,
                    this.memoryStorage.get(e)
                ];
            });
        });
    }, e.prototype.getRaw = function(e) {
        return Rt(this, void 0, void 0, function() {
            var t;
            return kt(this, function(i) {
                switch(i.label){
                    case 0:
                        return [
                            4,
                            this.get(e)
                        ];
                    case 1:
                        return [
                            2,
                            (t = i.sent()) ? JSON.stringify(t) : void 0
                        ];
                }
            });
        });
    }, e.prototype.set = function(e, t) {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(i) {
                return this.memoryStorage.set(e, t), [
                    2
                ];
            });
        });
    }, e.prototype.remove = function(e) {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(t) {
                return this.memoryStorage.delete(e), [
                    2
                ];
            });
        });
    }, e.prototype.reset = function() {
        return Rt(this, void 0, void 0, function() {
            return kt(this, function(e) {
                return this.memoryStorage.clear(), [
                    2
                ];
            });
        });
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var go = function() {
    function e() {}
    return (0, _chunkZRT45YCMJs.a)(e, "BaseTransport"), e.prototype.send = function(e, t) {
        return Promise.resolve(null);
    }, e.prototype.buildResponse = function(e) {
        var t, i, n, r, o, s, a, l, h, c, u, d, p, f, m, g, v, y, b, w, A, x;
        if ("object" != typeof e) return null;
        var E = e.code || 0, M = this.buildStatus(E);
        switch(M){
            case Lt.Success:
                return {
                    status: M,
                    statusCode: E,
                    body: {
                        eventsIngested: null !== (t = e.events_ingested) && void 0 !== t ? t : 0,
                        payloadSizeBytes: null !== (i = e.payload_size_bytes) && void 0 !== i ? i : 0,
                        serverUploadTime: null !== (n = e.server_upload_time) && void 0 !== n ? n : 0
                    }
                };
            case Lt.Invalid:
                return {
                    status: M,
                    statusCode: E,
                    body: {
                        error: null !== (r = e.error) && void 0 !== r ? r : "",
                        missingField: null !== (o = e.missing_field) && void 0 !== o ? o : "",
                        eventsWithInvalidFields: null !== (s = e.events_with_invalid_fields) && void 0 !== s ? s : {},
                        eventsWithMissingFields: null !== (a = e.events_with_missing_fields) && void 0 !== a ? a : {},
                        eventsWithInvalidIdLengths: null !== (l = e.events_with_invalid_id_lengths) && void 0 !== l ? l : {},
                        epsThreshold: null !== (h = e.eps_threshold) && void 0 !== h ? h : 0,
                        exceededDailyQuotaDevices: null !== (c = e.exceeded_daily_quota_devices) && void 0 !== c ? c : {},
                        silencedDevices: null !== (u = e.silenced_devices) && void 0 !== u ? u : [],
                        silencedEvents: null !== (d = e.silenced_events) && void 0 !== d ? d : [],
                        throttledDevices: null !== (p = e.throttled_devices) && void 0 !== p ? p : {},
                        throttledEvents: null !== (f = e.throttled_events) && void 0 !== f ? f : []
                    }
                };
            case Lt.PayloadTooLarge:
                return {
                    status: M,
                    statusCode: E,
                    body: {
                        error: null !== (m = e.error) && void 0 !== m ? m : ""
                    }
                };
            case Lt.RateLimit:
                return {
                    status: M,
                    statusCode: E,
                    body: {
                        error: null !== (g = e.error) && void 0 !== g ? g : "",
                        epsThreshold: null !== (v = e.eps_threshold) && void 0 !== v ? v : 0,
                        throttledDevices: null !== (y = e.throttled_devices) && void 0 !== y ? y : {},
                        throttledUsers: null !== (b = e.throttled_users) && void 0 !== b ? b : {},
                        exceededDailyQuotaDevices: null !== (w = e.exceeded_daily_quota_devices) && void 0 !== w ? w : {},
                        exceededDailyQuotaUsers: null !== (A = e.exceeded_daily_quota_users) && void 0 !== A ? A : {},
                        throttledEvents: null !== (x = e.throttled_events) && void 0 !== x ? x : []
                    }
                };
            case Lt.Timeout:
            default:
                return {
                    status: M,
                    statusCode: E
                };
        }
    }, e.prototype.buildStatus = function(e) {
        return e >= 200 && e < 300 ? Lt.Success : 429 === e ? Lt.RateLimit : 413 === e ? Lt.PayloadTooLarge : 408 === e ? Lt.Timeout : e >= 400 && e < 500 ? Lt.Invalid : e >= 500 ? Lt.Failed : Lt.Unknown;
    }, e;
}();
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var V2 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return (V2 = Object.setPrototypeOf || ({
        __proto__: []
    }) instanceof Array && function(e, t) {
        e.__proto__ = t;
    } || function(e, t) {
        for(var i in t)Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
    })(e, t);
}, "extendStatics");
function vA(e, t) {
    if ("function" != typeof t && null !== t) throw new TypeError("Class extends value " + String(t) + " is not a constructor or null");
    function i() {
        this.constructor = e;
    }
    V2(e, t), (0, _chunkZRT45YCMJs.a)(i, "__"), e.prototype = null === t ? Object.create(t) : (i.prototype = t.prototype, new i);
}
(0, _chunkZRT45YCMJs.a)(vA, "__extends");
var bi = (0, _chunkZRT45YCMJs.a)(function() {
    return bi = Object.assign || (0, _chunkZRT45YCMJs.a)(function(e) {
        for(var t, i = 1, n = arguments.length; i < n; i++)for(var r in t = arguments[i])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
    }, "__assign"), bi.apply(this, arguments);
}, "__assign");
function G2(e, t) {
    var i = {};
    for(var n in e)Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (i[n] = e[n]);
    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
        var r = 0;
        for(n = Object.getOwnPropertySymbols(e); r < n.length; r++)t.indexOf(n[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, n[r]) && (i[n[r]] = e[n[r]]);
    }
    return i;
}
function ni(e, t, i, n) {
    function r(e) {
        return e instanceof i ? e : new i(function(t) {
            t(e);
        });
    }
    return (0, _chunkZRT45YCMJs.a)(r, "adopt"), new (i || (i = Promise))(function(i, o) {
        function s(e) {
            try {
                h(n.next(e));
            } catch (e) {
                o(e);
            }
        }
        function a(e) {
            try {
                h(n.throw(e));
            } catch (e) {
                o(e);
            }
        }
        function h(e) {
            e.done ? i(e.value) : r(e.value).then(s, a);
        }
        (0, _chunkZRT45YCMJs.a)(s, "fulfilled"), (0, _chunkZRT45YCMJs.a)(a, "rejected"), (0, _chunkZRT45YCMJs.a)(h, "step"), h((n = n.apply(e, t || [])).next());
    });
}
function ri(e, t) {
    var i, n, r, o, s = {
        label: 0,
        sent: function() {
            if (1 & r[0]) throw r[1];
            return r[1];
        },
        trys: [],
        ops: []
    };
    return o = {
        next: a(0),
        throw: a(1),
        return: a(2)
    }, "function" == typeof Symbol && (o[Symbol.iterator] = function() {
        return this;
    }), o;
    function a(a) {
        return function(l) {
            return function(a) {
                if (i) throw new TypeError("Generator is already executing.");
                for(; o && (o = 0, a[0] && (s = 0)), s;)try {
                    if (i = 1, n && (r = 2 & a[0] ? n.return : a[0] ? n.throw || ((r = n.return) && r.call(n), 0) : n.next) && !(r = r.call(n, a[1])).done) return r;
                    switch(n = 0, r && (a = [
                        2 & a[0],
                        r.value
                    ]), a[0]){
                        case 0:
                        case 1:
                            r = a;
                            break;
                        case 4:
                            return s.label++, {
                                value: a[1],
                                done: !1
                            };
                        case 5:
                            s.label++, n = a[1], a = [
                                0
                            ];
                            continue;
                        case 7:
                            a = s.ops.pop(), s.trys.pop();
                            continue;
                        default:
                            if (!(r = (r = s.trys).length > 0 && r[r.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                s = 0;
                                continue;
                            }
                            if (3 === a[0] && (!r || a[1] > r[0] && a[1] < r[3])) {
                                s.label = a[1];
                                break;
                            }
                            if (6 === a[0] && s.label < r[1]) {
                                s.label = r[1], r = a;
                                break;
                            }
                            if (r && s.label < r[2]) {
                                s.label = r[2], s.ops.push(a);
                                break;
                            }
                            r[2] && s.ops.pop(), s.trys.pop();
                            continue;
                    }
                    a = t.call(e, s);
                } catch (e) {
                    a = [
                        6,
                        e
                    ], n = 0;
                } finally{
                    i = r = 0;
                }
                if (5 & a[0]) throw a[1];
                return {
                    value: a[0] ? a[1] : void 0,
                    done: !0
                };
            }([
                a,
                l
            ]);
        };
    }
}
function yA(e, t) {
    var i = "function" == typeof Symbol && e[Symbol.iterator];
    if (!i) return e;
    var n, r, o = i.call(e), s = [];
    try {
        for(; (void 0 === t || t-- > 0) && !(n = o.next()).done;)s.push(n.value);
    } catch (e) {
        r = {
            error: e
        };
    } finally{
        try {
            n && !n.done && (i = o.return) && i.call(o);
        } finally{
            if (r) throw r.error;
        }
    }
    return s;
}
(0, _chunkZRT45YCMJs.a)(G2, "__rest"), (0, _chunkZRT45YCMJs.a)(ni, "__awaiter"), (0, _chunkZRT45YCMJs.a)(ri, "__generator"), (0, _chunkZRT45YCMJs.a)(yA, "__read"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var ki = (0, _chunkZRT45YCMJs.a)(function() {
    return typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof self < "u" ? self : typeof global < "u" ? global : void 0;
}, "getGlobalScope"), kl = (0, _chunkZRT45YCMJs.a)(function() {
    var e, t = ki();
    return null !== (e = null == t ? void 0 : t.location) && void 0 !== e && e.search ? t.location.search.substring(1).split("&").filter(Boolean).reduce(function(e, t) {
        var i = t.split("=", 2), n = bA(i[0]), r = bA(i[1]);
        return r && (e[n] = r), e;
    }, {}) : {};
}, "getQueryParams"), bA = (0, _chunkZRT45YCMJs.a)(function(e) {
    void 0 === e && (e = "");
    try {
        return decodeURIComponent(e);
    } catch  {
        return "";
    }
}, "tryDecodeURIComponent");
(0, _chunkA5C75TI6Js.a)();
var xA = "utm_campaign", TA = "utm_content", EA = "utm_id", MA = "utm_medium", wA = "utm_source", AA = "utm_term", j2 = "dclid", H2 = "fbclid", Y2 = "gbraid", W2 = "gclid", X2 = "ko_click_id", Z2 = "msclkid", Q2 = "ttclid", K2 = "twclid", J2 = "wbraid", CA = "EMPTY", Wm = {
    utm_campaign: void 0,
    utm_content: void 0,
    utm_id: void 0,
    utm_medium: void 0,
    utm_source: void 0,
    utm_term: void 0,
    referrer: void 0,
    referring_domain: void 0,
    dclid: void 0,
    gbraid: void 0,
    gclid: void 0,
    fbclid: void 0,
    ko_click_id: void 0,
    msclkid: void 0,
    ttclid: void 0,
    twclid: void 0,
    wbraid: void 0
}, PA = "MKTG", SA = function() {
    function e() {}
    return (0, _chunkZRT45YCMJs.a)(e, "CampaignParser"), e.prototype.parse = function() {
        return ni(this, void 0, void 0, function() {
            return ri(this, function(e) {
                return [
                    2,
                    bi(bi(bi(bi({}, Wm), this.getUtmParam()), this.getReferrer()), this.getClickIds())
                ];
            });
        });
    }, e.prototype.getUtmParam = function() {
        var e = kl();
        return {
            utm_campaign: e[xA],
            utm_content: e[TA],
            utm_id: e[EA],
            utm_medium: e[MA],
            utm_source: e[wA],
            utm_term: e[AA]
        };
    }, e.prototype.getReferrer = function() {
        var e, t, i = {
            referrer: void 0,
            referring_domain: void 0
        };
        try {
            i.referrer = document.referrer || void 0, i.referring_domain = null !== (t = null === (e = i.referrer) || void 0 === e ? void 0 : e.split("/")[2]) && void 0 !== t ? t : void 0;
        } catch  {}
        return i;
    }, e.prototype.getClickIds = function() {
        var e, t = kl();
        return (e = {})[j2] = t[j2], e[H2] = t[H2], e[Y2] = t[Y2], e[W2] = t[W2], e[X2] = t[X2], e[Z2] = t[Z2], e[Q2] = t[Q2], e[K2] = t[K2], e[J2] = t[J2], e;
    }, e;
}();
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var vo = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    return void 0 === t && (t = ""), void 0 === i && (i = 10), [
        Rc,
        t,
        e.substring(0, i)
    ].filter(Boolean).join("_");
}, "getCookieName"), $2 = (0, _chunkZRT45YCMJs.a)(function(e) {
    return "".concat(Rc.toLowerCase(), "_").concat(e.substring(0, 6));
}, "getOldCookieName"), ey = function() {
    function e(e, t) {
        var i, n;
        this.storage = t.storage, this.storageKey = vo(e, PA), this.parser = new SA, this.track = t.track, this.onNewCampaign = t.onNewCampaign, this.disabled = !!t.disabled, this.trackNewCampaigns = !!t.trackNewCampaigns, this.trackPageViews = !!t.trackPageViews, this.excludeReferrers = null !== (i = t.excludeReferrers) && void 0 !== i ? i : [], typeof location < "u" && this.excludeReferrers.unshift(location.hostname), this.initialEmptyValue = null !== (n = t.initialEmptyValue) && void 0 !== n ? n : CA;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "CampaignTracker"), e.prototype.isNewCampaign = function(e, t, i) {
        void 0 === i && (i = !1);
        e.referrer;
        var n = e.referring_domain, r = G2(e, [
            "referrer",
            "referring_domain"
        ]), o = t || {}, s = (o.referrer, o.referring_domain), a = G2(o, [
            "referrer",
            "referring_domain"
        ]);
        if (e.referring_domain && this.excludeReferrers.includes(e.referring_domain)) return !1;
        var l = JSON.stringify(r) !== JSON.stringify(a), h = i ? IA(n || "") !== IA(s || "") : n !== s;
        return !t || l || h;
    }, e.prototype.saveCampaignToStorage = function(e) {
        return ni(this, void 0, void 0, function() {
            return ri(this, function(t) {
                switch(t.label){
                    case 0:
                        return [
                            4,
                            this.storage.set(this.storageKey, e)
                        ];
                    case 1:
                        return t.sent(), [
                            2
                        ];
                }
            });
        });
    }, e.prototype.getCampaignFromStorage = function() {
        return ni(this, void 0, void 0, function() {
            return ri(this, function(e) {
                switch(e.label){
                    case 0:
                        return [
                            4,
                            this.storage.get(this.storageKey)
                        ];
                    case 1:
                        return [
                            2,
                            e.sent()
                        ];
                }
            });
        });
    }, e.prototype.createCampaignEvent = function(e) {
        var t = this, i = bi(bi({}, Wm), e), n = Object.entries(i).reduce(function(e, i) {
            var n = yA(i, 2), r = n[0], o = n[1];
            return e.setOnce("initial_".concat(r), o || t.initialEmptyValue), o ? e.set(r, o) : e.unset(r);
        }, new nr), r = {
            event_type: "Page View",
            event_properties: {
                page_title: typeof document < "u" && document.title || "",
                page_location: typeof location < "u" && location.href || "",
                page_path: typeof location < "u" && location.pathname || ""
            }
        };
        return bi(bi({}, kc(n)), this.trackPageViews && r);
    }, e.prototype.send = function(e) {
        return ni(this, void 0, void 0, function() {
            var t, i;
            return ri(this, function(n) {
                switch(n.label){
                    case 0:
                        return this.disabled ? [
                            2
                        ] : [
                            4,
                            this.parser.parse()
                        ];
                    case 1:
                        return t = n.sent(), [
                            4,
                            this.getCampaignFromStorage()
                        ];
                    case 2:
                        if (i = n.sent(), !e) {
                            if (!this.trackNewCampaigns || !this.isNewCampaign(t, i)) return [
                                2
                            ];
                            this.onNewCampaign(t);
                        }
                        return [
                            4,
                            this.track(this.createCampaignEvent(t))
                        ];
                    case 3:
                        return n.sent(), [
                            4,
                            this.saveCampaignToStorage(t)
                        ];
                    case 4:
                        return n.sent(), [
                            2
                        ];
                }
            });
        });
    }, e;
}(), IA = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t = e.split(".");
    return t.length <= 2 ? e : t.slice(t.length - 2, t.length).join(".");
}, "domainWithoutSubdomain");
(0, _chunkA5C75TI6Js.a)();
var yo = function() {
    function e(e) {
        this.options = bi({}, e);
    }
    return (0, _chunkZRT45YCMJs.a)(e, "CookieStorage"), e.prototype.isEnabled = function() {
        return ni(this, void 0, void 0, function() {
            var t, i, n;
            return ri(this, function(r) {
                switch(r.label){
                    case 0:
                        if (!ki()) return [
                            2,
                            !1
                        ];
                        t = String(Date.now()), i = new e(this.options), n = "AMP_TEST", r.label = 1;
                    case 1:
                        return r.trys.push([
                            1,
                            4,
                            5,
                            7
                        ]), [
                            4,
                            i.set(n, t)
                        ];
                    case 2:
                        return r.sent(), [
                            4,
                            i.get(n)
                        ];
                    case 3:
                        return [
                            2,
                            r.sent() === t
                        ];
                    case 4:
                        return r.sent(), [
                            2,
                            !1
                        ];
                    case 5:
                        return [
                            4,
                            i.remove(n)
                        ];
                    case 6:
                        return r.sent(), [
                            7
                        ];
                    case 7:
                        return [
                            2
                        ];
                }
            });
        });
    }, e.prototype.get = function(e) {
        return ni(this, void 0, void 0, function() {
            var t;
            return ri(this, function(i) {
                switch(i.label){
                    case 0:
                        return [
                            4,
                            this.getRaw(e)
                        ];
                    case 1:
                        if (!(t = i.sent())) return [
                            2,
                            void 0
                        ];
                        try {
                            try {
                                t = decodeURIComponent(atob(t));
                            } catch  {}
                            return [
                                2,
                                JSON.parse(t)
                            ];
                        } catch  {
                            return [
                                2,
                                void 0
                            ];
                        }
                        return [
                            2
                        ];
                }
            });
        });
    }, e.prototype.getRaw = function(e) {
        var t;
        return ni(this, void 0, void 0, function() {
            var i, n, r;
            return ri(this, function(o) {
                return i = ki(), n = null !== (t = null == i ? void 0 : i.document.cookie.split("; ")) && void 0 !== t ? t : [], (r = n.find(function(t) {
                    return 0 === t.indexOf(e + "=");
                })) ? [
                    2,
                    r.substring(e.length + 1)
                ] : [
                    2,
                    void 0
                ];
            });
        });
    }, e.prototype.set = function(e, t) {
        var i;
        return ni(this, void 0, void 0, function() {
            var n, r, o, s, a, l;
            return ri(this, function(h) {
                try {
                    n = null !== (i = this.options.expirationDays) && void 0 !== i ? i : 0, o = void 0, (r = null !== t ? n : -1) && ((s = new Date).setTime(s.getTime() + 24 * r * 3600000), o = s), a = "".concat(e, "=").concat(btoa(encodeURIComponent(JSON.stringify(t)))), o && (a += "; expires=".concat(o.toUTCString())), a += "; path=/", this.options.domain && (a += "; domain=".concat(this.options.domain)), this.options.secure && (a += "; Secure"), this.options.sameSite && (a += "; SameSite=".concat(this.options.sameSite)), (l = ki()) && (l.document.cookie = a);
                } catch  {}
                return [
                    2
                ];
            });
        });
    }, e.prototype.remove = function(e) {
        return ni(this, void 0, void 0, function() {
            return ri(this, function(t) {
                switch(t.label){
                    case 0:
                        return [
                            4,
                            this.set(e, null)
                        ];
                    case 1:
                        return t.sent(), [
                            2
                        ];
                }
            });
        });
    }, e.prototype.reset = function() {
        return ni(this, void 0, void 0, function() {
            return ri(this, function(e) {
                return [
                    2
                ];
            });
        });
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var Xm = function() {
    function e(e, t) {
        this.storage = e, this.storageKey = vo(t), this.cache = {
            optOut: !1
        };
    }
    return (0, _chunkZRT45YCMJs.a)(e, "SessionManager"), e.prototype.load = function() {
        var e;
        return ni(this, void 0, void 0, function() {
            var t;
            return ri(this, function(i) {
                switch(i.label){
                    case 0:
                        return t = this, [
                            4,
                            this.storage.get(this.storageKey)
                        ];
                    case 1:
                        return t.cache = null !== (e = i.sent()) && void 0 !== e ? e : {
                            optOut: !1
                        }, [
                            2,
                            this
                        ];
                }
            });
        });
    }, e.prototype.setSession = function(e) {
        this.cache = bi(bi({}, this.cache), e), this.storage.set(this.storageKey, this.cache);
    }, e.prototype.getSessionId = function() {
        return this.cache.sessionId;
    }, e.prototype.setSessionId = function(e) {
        this.setSession({
            sessionId: e
        });
    }, e.prototype.getDeviceId = function() {
        return this.cache.deviceId;
    }, e.prototype.setDeviceId = function(e) {
        this.setSession({
            deviceId: e
        });
    }, e.prototype.getUserId = function() {
        return this.cache.userId;
    }, e.prototype.setUserId = function(e) {
        this.setSession({
            userId: e
        });
    }, e.prototype.getLastEventTime = function() {
        return this.cache.lastEventTime;
    }, e.prototype.setLastEventTime = function(e) {
        this.setSession({
            lastEventTime: e
        });
    }, e.prototype.getOptOut = function() {
        return this.cache.optOut;
    }, e.prototype.setOptOut = function(e) {
        this.setSession({
            optOut: e
        });
    }, e.prototype.getLastEventId = function() {
        return this.cache.lastEventId;
    }, e.prototype.setLastEventId = function(e) {
        this.setSession({
            lastEventId: e
        });
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var ty = function(e) {
    function t() {
        return null !== e && e.apply(this, arguments) || this;
    }
    return vA(t, e), (0, _chunkZRT45YCMJs.a)(t, "FetchTransport"), t.prototype.send = function(e, t) {
        return ni(this, void 0, void 0, function() {
            var i, n;
            return ri(this, function(r) {
                switch(r.label){
                    case 0:
                        if (typeof fetch > "u") throw new Error("FetchTransport is not supported");
                        return i = {
                            headers: {
                                "Content-Type": "application/json",
                                Accept: "*/*"
                            },
                            body: JSON.stringify(t),
                            method: "POST"
                        }, [
                            4,
                            fetch(e, i)
                        ];
                    case 1:
                        return [
                            4,
                            r.sent().json()
                        ];
                    case 2:
                        return n = r.sent(), [
                            2,
                            this.buildResponse(n)
                        ];
                }
            });
        });
    }, t;
}(go);
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var _A = (0, _chunkZRT45YCMJs.e)(Qm()), T_ = function() {
    function e() {
        this.ua = new _A.UAParser(typeof navigator < "u" ? navigator.userAgent : null).getResult();
    }
    return (0, _chunkZRT45YCMJs.a)(e, "ApplicationContextProviderImpl"), e.prototype.getApplicationContext = function() {
        return {
            versionName: this.versionName,
            language: w_(),
            platform: "Web",
            os: E_(this.ua),
            deviceModel: M_(this.ua)
        };
    }, e;
}(), E_ = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t, i;
    return [
        null === (t = e.browser) || void 0 === t ? void 0 : t.name,
        null === (i = e.browser) || void 0 === i ? void 0 : i.major
    ].filter(function(e) {
        return null != e;
    }).join(" ");
}, "getOs"), M_ = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t;
    return null === (t = e.os) || void 0 === t ? void 0 : t.name;
}, "getDeviceModel"), w_ = (0, _chunkZRT45YCMJs.a)(function() {
    return typeof navigator < "u" && (navigator.languages && navigator.languages[0] || navigator.language) || "";
}, "getLanguage"), A_ = function() {
    function e() {
        this.queue = [];
    }
    return (0, _chunkZRT45YCMJs.a)(e, "EventBridgeImpl"), e.prototype.logEvent = function(e) {
        this.receiver ? this.receiver(e) : this.queue.length < 512 && this.queue.push(e);
    }, e.prototype.setEventReceiver = function(e) {
        this.receiver = e, this.queue.length > 0 && (this.queue.forEach(function(t) {
            e(t);
        }), this.queue = []);
    }, e;
}(), fs = (0, _chunkZRT45YCMJs.a)(function() {
    return fs = Object.assign || (0, _chunkZRT45YCMJs.a)(function(e) {
        for(var t, i = 1, n = arguments.length; i < n; i++)for(var r in t = arguments[i])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
    }, "__assign"), fs.apply(this, arguments);
}, "__assign"), Km = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i = typeof e;
    if (i !== typeof t) return !1;
    for(var n = 0, r = [
        "string",
        "number",
        "boolean",
        "undefined"
    ]; n < r.length; n++){
        if (r[n] === i) return e === t;
    }
    if (null == e && null == t) return !0;
    if (null == e || null == t || e.length !== t.length) return !1;
    var o = Array.isArray(e), s = Array.isArray(t);
    if (o !== s) return !1;
    if (!o || !s) {
        var a = Object.keys(e).sort(), l = Object.keys(t).sort();
        if (!Km(a, l)) return !1;
        var h = !0;
        return Object.keys(e).forEach(function(i) {
            Km(e[i], t[i]) || (h = !1);
        }), h;
    }
    for(var c = 0; c < e.length; c++)if (!Km(e[c], t[c])) return !1;
    return !0;
}, "isEqual"), C_ = "$set", P_ = "$unset", S_ = "$clearAll";
Object.entries || (Object.entries = function(e) {
    for(var t = Object.keys(e), i = t.length, n = new Array(i); i--;)n[i] = [
        t[i],
        e[t[i]]
    ];
    return n;
});
var I_ = function() {
    function e() {
        this.identity = {
            userProperties: {}
        }, this.listeners = new Set;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "IdentityStoreImpl"), e.prototype.editIdentity = function() {
        var e = this, t = fs({}, this.identity.userProperties), i = fs(fs({}, this.identity), {
            userProperties: t
        });
        return {
            setUserId: function(e) {
                return i.userId = e, this;
            },
            setDeviceId: function(e) {
                return i.deviceId = e, this;
            },
            setUserProperties: function(e) {
                return i.userProperties = e, this;
            },
            updateUserProperties: function(e) {
                for(var t = i.userProperties || {}, n = 0, r = Object.entries(e); n < r.length; n++){
                    var o = r[n], s = o[0], a = o[1];
                    switch(s){
                        case C_:
                            for(var l = 0, h = Object.entries(a); l < h.length; l++){
                                var c = h[l], u = c[0], d = c[1];
                                t[u] = d;
                            }
                            break;
                        case P_:
                            for(var p = 0, f = Object.keys(a); p < f.length; p++)delete t[u = f[p]];
                            break;
                        case S_:
                            t = {};
                    }
                }
                return i.userProperties = t, this;
            },
            commit: function() {
                return e.setIdentity(i), this;
            }
        };
    }, e.prototype.getIdentity = function() {
        return fs({}, this.identity);
    }, e.prototype.setIdentity = function(e) {
        var t = fs({}, this.identity);
        this.identity = fs({}, e), Km(t, this.identity) || this.listeners.forEach(function(t) {
            t(e);
        });
    }, e.prototype.addIdentityListener = function(e) {
        this.listeners.add(e);
    }, e.prototype.removeIdentityListener = function(e) {
        this.listeners.delete(e);
    }, e;
}(), Uc = typeof globalThis < "u" ? globalThis : typeof global < "u" ? global : self, OA = function() {
    function e() {
        this.identityStore = new I_, this.eventBridge = new A_, this.applicationContextProvider = new T_;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "AnalyticsConnector"), e.getInstance = function(t) {
        return Uc.analyticsConnectorInstances || (Uc.analyticsConnectorInstances = {}), Uc.analyticsConnectorInstances[t] || (Uc.analyticsConnectorInstances[t] = new e), Uc.analyticsConnectorInstances[t];
    }, e;
}(), zc = (0, _chunkZRT45YCMJs.a)(function() {
    return OA.getInstance("$default_instance");
}, "getAnalyticsConnector");
(0, _chunkA5C75TI6Js.a)();
var iy = function() {
    function e() {
        this.name = "identity", this.type = ln.BEFORE, this.identityStore = zc().identityStore;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "IdentityEventSender"), e.prototype.execute = function(e) {
        return ni(this, void 0, void 0, function() {
            var t;
            return ri(this, function(i) {
                return (t = e.user_properties) && this.identityStore.editIdentity().updateUserProperties(t).commit(), [
                    2,
                    e
                ];
            });
        });
    }, e.prototype.setup = function(e) {
        return Promise.resolve(void 0);
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var ny = (0, _chunkZRT45YCMJs.a)(function() {
    var e, t, i, n;
    if (typeof navigator > "u") return "";
    var r = navigator.userLanguage;
    return null !== (n = null !== (i = null !== (t = null === (e = navigator.languages) || void 0 === e ? void 0 : e[0]) && void 0 !== t ? t : navigator.language) && void 0 !== i ? i : r) && void 0 !== n ? n : "";
}, "getLanguage");
(0, _chunkA5C75TI6Js.a)();
var Jm = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    for(var i = 0; i < t.length; i++){
        var n = t[i], r = n.name, o = n.args, s = n.resolve, a = e && e[r];
        if ("function" == typeof a) {
            var l = a.apply(e, o);
            "function" == typeof s && s(null == l ? void 0 : l.promise);
        }
    }
    return e;
}, "convertProxyObjectToRealObject"), $m = (0, _chunkZRT45YCMJs.a)(function(e) {
    return e && void 0 !== e._q;
}, "isInstanceProxy");
(0, _chunkA5C75TI6Js.a)();
var LA = (0, _chunkZRT45YCMJs.e)(Qm());
(0, _chunkA5C75TI6Js.a)();
var DA = "1.6.8", __ = "Web", O_ = "$remote", qA = function() {
    function e() {
        var e;
        this.name = "context", this.type = ln.BEFORE, this.eventId = 0, this.library = "amplitude-ts/".concat(DA), typeof navigator < "u" && (e = navigator.userAgent), this.uaResult = new LA.default(e).getResult();
    }
    return (0, _chunkZRT45YCMJs.a)(e, "Context"), e.prototype.setup = function(e) {
        return this.config = e, Promise.resolve(void 0);
    }, e.prototype.execute = function(e) {
        return It(this, void 0, void 0, function() {
            var t, i, n, r, o;
            return _t(this, function(s) {
                return this.isSessionValid() || (this.config.sessionId = Date.now()), this.config.lastEventTime = Date.now(), t = (new Date).getTime(), i = this.uaResult.browser.name, n = this.uaResult.browser.version, r = this.uaResult.device.model || this.uaResult.os.name, o = this.uaResult.device.vendor, [
                    2,
                    rt(rt(rt(rt(rt(rt(rt(rt(rt(rt(rt(rt({
                        user_id: this.config.userId,
                        device_id: this.config.deviceId,
                        session_id: this.config.sessionId,
                        time: t
                    }, this.config.appVersion && {
                        app_version: this.config.appVersion
                    }), this.config.trackingOptions.platform && {
                        platform: __
                    }), this.config.trackingOptions.osName && {
                        os_name: i
                    }), this.config.trackingOptions.osVersion && {
                        os_version: n
                    }), this.config.trackingOptions.deviceManufacturer && {
                        device_manufacturer: o
                    }), this.config.trackingOptions.deviceModel && {
                        device_model: r
                    }), this.config.trackingOptions.language && {
                        language: ny()
                    }), this.config.trackingOptions.ipAddress && {
                        ip: O_
                    }), {
                        insert_id: ps(),
                        partner_id: this.config.partnerId,
                        plan: this.config.plan
                    }), this.config.ingestionMetadata && {
                        ingestion_metadata: {
                            source_name: this.config.ingestionMetadata.sourceName,
                            source_version: this.config.ingestionMetadata.sourceVersion
                        }
                    }), e), {
                        event_id: this.eventId++,
                        library: this.library
                    })
                ];
            });
        });
    }, e.prototype.isSessionValid = function() {
        var e = this.config.lastEventTime || Date.now();
        return Date.now() - e < this.config.sessionTimeout;
    }, e;
}();
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var Vc = function() {
    function e() {}
    return (0, _chunkZRT45YCMJs.a)(e, "LocalStorage"), e.prototype.isEnabled = function() {
        return It(this, void 0, void 0, function() {
            var t, i, n;
            return _t(this, function(r) {
                switch(r.label){
                    case 0:
                        if (!ki()) return [
                            2,
                            !1
                        ];
                        t = String(Date.now()), i = new e, n = "AMP_TEST", r.label = 1;
                    case 1:
                        return r.trys.push([
                            1,
                            4,
                            5,
                            7
                        ]), [
                            4,
                            i.set(n, t)
                        ];
                    case 2:
                        return r.sent(), [
                            4,
                            i.get(n)
                        ];
                    case 3:
                        return [
                            2,
                            r.sent() === t
                        ];
                    case 4:
                        return r.sent(), [
                            2,
                            !1
                        ];
                    case 5:
                        return [
                            4,
                            i.remove(n)
                        ];
                    case 6:
                        return r.sent(), [
                            7
                        ];
                    case 7:
                        return [
                            2
                        ];
                }
            });
        });
    }, e.prototype.get = function(e) {
        return It(this, void 0, void 0, function() {
            var t;
            return _t(this, function(i) {
                switch(i.label){
                    case 0:
                        return i.trys.push([
                            0,
                            2,
                            ,
                            3
                        ]), [
                            4,
                            this.getRaw(e)
                        ];
                    case 1:
                        return (t = i.sent()) ? [
                            2,
                            JSON.parse(t)
                        ] : [
                            2,
                            void 0
                        ];
                    case 2:
                        return i.sent(), [
                            2,
                            void 0
                        ];
                    case 3:
                        return [
                            2
                        ];
                }
            });
        });
    }, e.prototype.getRaw = function(e) {
        var t;
        return It(this, void 0, void 0, function() {
            return _t(this, function(i) {
                return [
                    2,
                    (null === (t = ki()) || void 0 === t ? void 0 : t.localStorage.getItem(e)) || void 0
                ];
            });
        });
    }, e.prototype.set = function(e, t) {
        var i;
        return It(this, void 0, void 0, function() {
            return _t(this, function(n) {
                try {
                    null === (i = ki()) || void 0 === i || i.localStorage.setItem(e, JSON.stringify(t));
                } catch  {}
                return [
                    2
                ];
            });
        });
    }, e.prototype.remove = function(e) {
        var t;
        return It(this, void 0, void 0, function() {
            return _t(this, function(i) {
                try {
                    null === (t = ki()) || void 0 === t || t.localStorage.removeItem(e);
                } catch  {}
                return [
                    2
                ];
            });
        });
    }, e.prototype.reset = function() {
        var e;
        return It(this, void 0, void 0, function() {
            return _t(this, function(t) {
                try {
                    null === (e = ki()) || void 0 === e || e.localStorage.clear();
                } catch  {}
                return [
                    2
                ];
            });
        });
    }, e;
}();
(0, _chunkA5C75TI6Js.a)();
var NA = function(e) {
    function t() {
        var t = null !== e && e.apply(this, arguments) || this;
        return t.state = {
            done: 4
        }, t;
    }
    return us(t, e), (0, _chunkZRT45YCMJs.a)(t, "XHRTransport"), t.prototype.send = function(e, t) {
        return It(this, void 0, void 0, function() {
            var i = this;
            return _t(this, function(n) {
                return [
                    2,
                    new Promise(function(n, r) {
                        typeof XMLHttpRequest > "u" && r(new Error("XHRTransport is not supported."));
                        var o = new XMLHttpRequest;
                        o.open("POST", e, !0), o.onreadystatechange = function() {
                            if (o.readyState === i.state.done) try {
                                var e = o.responseText, t = JSON.parse(e), s = i.buildResponse(t);
                                n(s);
                            } catch (e) {
                                r(e);
                            }
                        }, o.setRequestHeader("Content-Type", "application/json"), o.setRequestHeader("Accept", "*/*"), o.send(JSON.stringify(t));
                    })
                ];
            });
        });
    }, t;
}(go);
(0, _chunkA5C75TI6Js.a)();
var RA = function(e) {
    function t() {
        return null !== e && e.apply(this, arguments) || this;
    }
    return us(t, e), (0, _chunkZRT45YCMJs.a)(t, "SendBeaconTransport"), t.prototype.send = function(e, t) {
        return It(this, void 0, void 0, function() {
            var i = this;
            return _t(this, function(n) {
                return [
                    2,
                    new Promise(function(n, r) {
                        var o = ki();
                        if (null == o || !o.navigator.sendBeacon) throw new Error("SendBeaconTransport is not supported");
                        try {
                            var s = JSON.stringify(t);
                            return n(o.navigator.sendBeacon(e, JSON.stringify(t)) ? i.buildResponse({
                                code: 200,
                                events_ingested: t.events.length,
                                payload_size_bytes: s.length,
                                server_upload_time: Date.now()
                            }) : i.buildResponse({
                                code: 500
                            }));
                        } catch (e) {
                            r(e);
                        }
                    })
                ];
            });
        });
    }, t;
}(go), eg = (0, _chunkZRT45YCMJs.a)(function() {
    var e = new Bc;
    return {
        cookieExpiration: 365,
        cookieSameSite: "Lax",
        cookieSecure: !1,
        cookieStorage: e,
        disableCookies: !1,
        domain: "",
        sessionManager: new Xm(e, ""),
        sessionTimeout: 18e5,
        storageProvider: new Bc,
        trackingOptions: {
            deviceManufacturer: !0,
            deviceModel: !0,
            ipAddress: !0,
            language: !0,
            osName: !0,
            osVersion: !0,
            platform: !0
        },
        transportProvider: new ty
    };
}, "getDefaultConfig"), kA = function(e) {
    function t(t, i, n) {
        var r, o, s, a, l, h, c, u, d, p, f, m, g = this, v = eg();
        return (g = e.call(this, rt(rt({
            flushIntervalMillis: 1e3,
            flushMaxRetries: 5,
            flushQueueSize: 30
        }, n), {
            apiKey: t,
            storageProvider: null !== (r = null == n ? void 0 : n.storageProvider) && void 0 !== r ? r : v.storageProvider,
            transportProvider: null !== (o = null == n ? void 0 : n.transportProvider) && void 0 !== o ? o : v.transportProvider
        })) || this).cookieStorage = null !== (s = null == n ? void 0 : n.cookieStorage) && void 0 !== s ? s : v.cookieStorage, g.sessionManager = null !== (a = null == n ? void 0 : n.sessionManager) && void 0 !== a ? a : v.sessionManager, g.sessionTimeout = null !== (l = null == n ? void 0 : n.sessionTimeout) && void 0 !== l ? l : v.sessionTimeout, g.appVersion = null == n ? void 0 : n.appVersion, g.attribution = null == n ? void 0 : n.attribution, g.cookieExpiration = null !== (h = null == n ? void 0 : n.cookieExpiration) && void 0 !== h ? h : v.cookieExpiration, g.cookieSameSite = null !== (c = null == n ? void 0 : n.cookieSameSite) && void 0 !== c ? c : v.cookieSameSite, g.cookieSecure = null !== (u = null == n ? void 0 : n.cookieSecure) && void 0 !== u ? u : v.cookieSecure, g.deviceId = null == n ? void 0 : n.deviceId, g.disableCookies = null !== (d = null == n ? void 0 : n.disableCookies) && void 0 !== d ? d : v.disableCookies, g.domain = null !== (p = null == n ? void 0 : n.domain) && void 0 !== p ? p : v.domain, g.lastEventTime = null !== (f = g.lastEventTime) && void 0 !== f ? f : null == n ? void 0 : n.lastEventTime, g.optOut = !(null == n || !n.optOut), g.partnerId = null == n ? void 0 : n.partnerId, g.sessionId = null == n ? void 0 : n.sessionId, g.trackingOptions = null !== (m = null == n ? void 0 : n.trackingOptions) && void 0 !== m ? m : v.trackingOptions, g.userId = i, g;
    }
    return us(t, e), (0, _chunkZRT45YCMJs.a)(t, "BrowserConfig"), Object.defineProperty(t.prototype, "deviceId", {
        get: function() {
            return this.sessionManager.getDeviceId();
        },
        set: function(e) {
            this.sessionManager.setDeviceId(e);
        },
        enumerable: !1,
        configurable: !0
    }), Object.defineProperty(t.prototype, "userId", {
        get: function() {
            return this.sessionManager.getUserId();
        },
        set: function(e) {
            this.sessionManager.setUserId(e);
        },
        enumerable: !1,
        configurable: !0
    }), Object.defineProperty(t.prototype, "sessionId", {
        get: function() {
            return this.sessionManager.getSessionId();
        },
        set: function(e) {
            this.sessionManager.setSessionId(e);
        },
        enumerable: !1,
        configurable: !0
    }), Object.defineProperty(t.prototype, "optOut", {
        get: function() {
            return this.sessionManager.getOptOut();
        },
        set: function(e) {
            var t;
            null === (t = this.sessionManager) || void 0 === t || t.setOptOut(!!e);
        },
        enumerable: !1,
        configurable: !0
    }), Object.defineProperty(t.prototype, "lastEventTime", {
        get: function() {
            return this.sessionManager.getLastEventTime();
        },
        set: function(e) {
            this.sessionManager.setLastEventTime(e);
        },
        enumerable: !1,
        configurable: !0
    }), t;
}(F2), BA = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    return It(void 0, void 0, void 0, function() {
        var n, r, o, s, a, l, h, c, u, d, p, f, m, g, v, y, b;
        return _t(this, function(w) {
            switch(w.label){
                case 0:
                    return n = eg(), null !== (m = null == i ? void 0 : i.domain) && void 0 !== m ? (o = m, [
                        3,
                        3
                    ]) : [
                        3,
                        1
                    ];
                case 1:
                    return [
                        4,
                        N_()
                    ];
                case 2:
                    o = w.sent(), w.label = 3;
                case 3:
                    return r = o, [
                        4,
                        D_(rt(rt({}, i), {
                            domain: r
                        }))
                    ];
                case 4:
                    return s = w.sent(), a = vo(e), [
                        4,
                        s.get(a)
                    ];
                case 5:
                    return l = w.sent(), h = kl(), [
                        4,
                        new Xm(s, e).load()
                    ];
                case 6:
                    return c = w.sent(), u = kA.bind, d = [
                        void 0,
                        e,
                        null != t ? t : null == l ? void 0 : l.userId
                    ], p = [
                        rt({}, i)
                    ], f = {
                        cookieStorage: s,
                        sessionManager: c,
                        deviceId: q_(null == l ? void 0 : l.deviceId, null == i ? void 0 : i.deviceId, h.deviceId),
                        domain: r,
                        optOut: null !== (g = null == i ? void 0 : i.optOut) && void 0 !== g ? g : !(null == l || !l.optOut)
                    }, [
                        4,
                        s.get(a)
                    ];
                case 7:
                    return f.sessionId = null !== (y = null === (v = w.sent()) || void 0 === v ? void 0 : v.sessionId) && void 0 !== y ? y : null == i ? void 0 : i.sessionId, [
                        4,
                        L_(i)
                    ];
                case 8:
                    return [
                        2,
                        new (u.apply(kA, d.concat([
                            rt.apply(void 0, p.concat([
                                (f.storageProvider = w.sent(), f.trackingOptions = rt(rt({}, n.trackingOptions), null == i ? void 0 : i.trackingOptions), f.transportProvider = null !== (b = null == i ? void 0 : i.transportProvider) && void 0 !== b ? b : ay(null == i ? void 0 : i.transport), f)
                            ]))
                        ])))
                    ];
            }
        });
    });
}, "useBrowserConfig"), D_ = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return void 0 === t && (t = eg()), It(void 0, void 0, void 0, function() {
        var i, n, r;
        return _t(this, function(o) {
            switch(o.label){
                case 0:
                    return i = rt(rt({}, t), e), n = null == e ? void 0 : e.cookieStorage, (r = !n) ? [
                        3,
                        2
                    ] : [
                        4,
                        n.isEnabled()
                    ];
                case 1:
                    r = !o.sent(), o.label = 2;
                case 2:
                    return r ? [
                        2,
                        ry(i)
                    ] : [
                        2,
                        n
                    ];
            }
        });
    });
}, "createCookieStorage"), ry = (0, _chunkZRT45YCMJs.a)(function(e) {
    return It(void 0, void 0, void 0, function() {
        var t, i;
        return _t(this, function(n) {
            switch(n.label){
                case 0:
                    return t = new yo({
                        domain: e.domain,
                        expirationDays: e.cookieExpiration,
                        sameSite: e.cookieSameSite,
                        secure: e.cookieSecure
                    }), (i = e.disableCookies) ? [
                        3,
                        2
                    ] : [
                        4,
                        t.isEnabled()
                    ];
                case 1:
                    i = !n.sent(), n.label = 2;
                case 2:
                    return i ? [
                        4,
                        (t = new Vc).isEnabled()
                    ] : [
                        3,
                        4
                    ];
                case 3:
                    n.sent() || (t = new Bc), n.label = 4;
                case 4:
                    return [
                        2,
                        t
                    ];
            }
        });
    });
}, "createFlexibleStorage"), L_ = (0, _chunkZRT45YCMJs.a)(function(e) {
    return It(void 0, void 0, void 0, function() {
        var t, i, n, r, o, s, a;
        return _t(this, function(l) {
            switch(l.label){
                case 0:
                    if (e && Object.prototype.hasOwnProperty.call(e, "storageProvider") && !e.storageProvider) return [
                        3,
                        9
                    ];
                    l.label = 1;
                case 1:
                    l.trys.push([
                        1,
                        7,
                        8,
                        9
                    ]), t = Qw([
                        null == e ? void 0 : e.storageProvider,
                        new Vc
                    ]), i = t.next(), l.label = 2;
                case 2:
                    return i.done ? [
                        3,
                        6
                    ] : (n = i.value, (r = n) ? [
                        4,
                        n.isEnabled()
                    ] : [
                        3,
                        4
                    ]);
                case 3:
                    r = l.sent(), l.label = 4;
                case 4:
                    if (r) return [
                        2,
                        n
                    ];
                    l.label = 5;
                case 5:
                    return i = t.next(), [
                        3,
                        2
                    ];
                case 6:
                    return [
                        3,
                        9
                    ];
                case 7:
                    return o = l.sent(), s = {
                        error: o
                    }, [
                        3,
                        9
                    ];
                case 8:
                    try {
                        i && !i.done && (a = t.return) && a.call(t);
                    } finally{
                        if (s) throw s.error;
                    }
                    return [
                        7
                    ];
                case 9:
                    return [
                        2,
                        void 0
                    ];
            }
        });
    });
}, "createEventsStorage"), q_ = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    return t || i || e || ps();
}, "createDeviceId"), ay = (0, _chunkZRT45YCMJs.a)(function(e) {
    return e === Rl.XHR ? new NA : e === Rl.SendBeacon ? new RA : eg().transportProvider;
}, "createTransport"), N_ = (0, _chunkZRT45YCMJs.a)(function(e) {
    return It(void 0, void 0, void 0, function() {
        var t, i, n, r, o, s, a;
        return _t(this, function(l) {
            switch(l.label){
                case 0:
                    return [
                        4,
                        (new yo).isEnabled()
                    ];
                case 1:
                    if (!l.sent() || !e && typeof location > "u") return [
                        2,
                        ""
                    ];
                    for(t = null != e ? e : location.hostname, i = t.split("."), n = [], r = "AMP_TLDTEST", o = i.length - 2; o >= 0; --o)n.push(i.slice(o).join("."));
                    o = 0, l.label = 2;
                case 2:
                    return o < n.length ? (s = n[o], [
                        4,
                        (a = new yo({
                            domain: "." + s
                        })).set(r, 1)
                    ]) : [
                        3,
                        7
                    ];
                case 3:
                    return l.sent(), [
                        4,
                        a.get(r)
                    ];
                case 4:
                    return l.sent() ? [
                        4,
                        a.remove(r)
                    ] : [
                        3,
                        6
                    ];
                case 5:
                    return l.sent(), [
                        2,
                        "." + s
                    ];
                case 6:
                    return o++, [
                        3,
                        2
                    ];
                case 7:
                    return [
                        2,
                        ""
                    ];
            }
        });
    });
}, "getTopLevelDomain");
(0, _chunkA5C75TI6Js.a)();
var UA = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return It(void 0, void 0, void 0, function() {
        var i, n, r, o, s, a, l, h, c;
        return _t(this, function(u) {
            switch(u.label){
                case 0:
                    return [
                        4,
                        (i = new yo).isEnabled()
                    ];
                case 1:
                    return (!u.sent() || null != t && t.disableCookies) && (i = new Vc), [
                        4,
                        i.isEnabled()
                    ];
                case 2:
                    return u.sent() ? (n = $2(e), [
                        4,
                        i.getRaw(n)
                    ]) : [
                        2,
                        {
                            optOut: !1
                        }
                    ];
                case 3:
                    return (r = u.sent()) ? [
                        4,
                        i.remove(n)
                    ] : [
                        2,
                        {
                            optOut: !1
                        }
                    ];
                case 4:
                    return u.sent(), o = Kw(r.split("."), 5), s = o[0], a = o[1], l = o[2], h = o[3], c = o[4], [
                        2,
                        {
                            deviceId: s,
                            userId: R_(a),
                            sessionId: FA(h),
                            lastEventTime: FA(c),
                            optOut: !!l
                        }
                    ];
            }
        });
    });
}, "parseOldCookies"), FA = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t = parseInt(e, 32);
    if (!isNaN(t)) return t;
}, "parseTime"), R_ = (0, _chunkZRT45YCMJs.a)(function(e) {
    if (atob && escape && e) try {
        return decodeURIComponent(escape(atob(e)));
    } catch  {
        return;
    }
}, "decode"), k_ = function(e) {
    function t() {
        return null !== e && e.apply(this, arguments) || this;
    }
    return us(t, e), (0, _chunkZRT45YCMJs.a)(t, "AmplitudeBrowser"), t.prototype.init = function(t, i, n) {
        var r, o, s;
        return void 0 === t && (t = ""), It(this, void 0, void 0, function() {
            var a, l, h, c, u = this;
            return _t(this, function(d) {
                switch(d.label){
                    case 0:
                        return this.initializing ? [
                            2
                        ] : (this.initializing = !0, [
                            4,
                            UA(t, n)
                        ]);
                    case 1:
                        return a = d.sent(), [
                            4,
                            BA(t, i || a.userId, rt(rt({}, n), {
                                deviceId: null !== (r = a.deviceId) && void 0 !== r ? r : null == n ? void 0 : n.deviceId,
                                sessionId: null !== (o = a.sessionId) && void 0 !== o ? o : null == n ? void 0 : n.sessionId,
                                optOut: null !== (s = null == n ? void 0 : n.optOut) && void 0 !== s ? s : a.optOut,
                                lastEventTime: a.lastEventTime
                            }))
                        ];
                    case 2:
                        return l = d.sent(), [
                            4,
                            e.prototype._init.call(this, l)
                        ];
                    case 3:
                        return d.sent(), h = !this.config.lastEventTime, (!this.config.sessionId || this.config.lastEventTime && Date.now() - this.config.lastEventTime > this.config.sessionTimeout) && (this.setSessionId(Date.now()), h = !0), (c = zc()).eventBridge.setEventReceiver(function(e) {
                            u.track(e.eventType, e.eventProperties);
                        }), c.identityStore.setIdentity({
                            userId: this.config.userId,
                            deviceId: this.config.deviceId
                        }), [
                            4,
                            this.add(new qA)
                        ];
                    case 4:
                        return d.sent(), [
                            4,
                            this.add(new iy)
                        ];
                    case 5:
                        return d.sent(), [
                            4,
                            this.add(new z2)
                        ];
                    case 6:
                        return d.sent(), this.initializing = !1, [
                            4,
                            this.runAttributionStrategy(l.attribution, h)
                        ];
                    case 7:
                        return d.sent(), [
                            4,
                            this.runQueuedFunctions("dispatchQ")
                        ];
                    case 8:
                        return d.sent(), [
                            2
                        ];
                }
            });
        });
    }, t.prototype.runAttributionStrategy = function(e, t) {
        return void 0 === t && (t = !1), It(this, void 0, void 0, function() {
            var i, n, r;
            return _t(this, function(o) {
                switch(o.label){
                    case 0:
                        return i = this.track.bind(this), n = this.setSessionId.bind(this, Date.now()), [
                            4,
                            ry(this.config)
                        ];
                    case 1:
                        return r = o.sent(), [
                            4,
                            new ey(this.config.apiKey, rt(rt({}, e), {
                                storage: r,
                                track: i,
                                onNewCampaign: n
                            })).send(t)
                        ];
                    case 2:
                        return o.sent(), [
                            2
                        ];
                }
            });
        });
    }, t.prototype.getUserId = function() {
        var e;
        return null === (e = this.config) || void 0 === e ? void 0 : e.userId;
    }, t.prototype.setUserId = function(e) {
        this.config ? this.config.userId = e : this.q.push(this.setUserId.bind(this, e));
    }, t.prototype.getDeviceId = function() {
        var e;
        return null === (e = this.config) || void 0 === e ? void 0 : e.deviceId;
    }, t.prototype.setDeviceId = function(e) {
        this.config ? this.config.deviceId = e : this.q.push(this.setDeviceId.bind(this, e));
    }, t.prototype.reset = function() {
        this.setUserId(void 0), this.setDeviceId(ps());
    }, t.prototype.getSessionId = function() {
        var e;
        return null === (e = this.config) || void 0 === e ? void 0 : e.sessionId;
    }, t.prototype.setSessionId = function(e) {
        this.config ? (this.config.sessionId = e, this.config.lastEventTime = void 0) : this.q.push(this.setSessionId.bind(this, e));
    }, t.prototype.setTransport = function(e) {
        this.config ? this.config.transportProvider = ay(e) : this.q.push(this.setTransport.bind(this, e));
    }, t.prototype.identify = function(t, i) {
        if ($m(t)) {
            var n = t._q;
            t._q = [], t = Jm(new nr, n);
        }
        return null != i && i.user_id && this.setUserId(i.user_id), null != i && i.device_id && this.setDeviceId(i.device_id), e.prototype.identify.call(this, t, i);
    }, t.prototype.groupIdentify = function(t, i, n, r) {
        if ($m(n)) {
            var o = n._q;
            n._q = [], n = Jm(new nr, o);
        }
        return e.prototype.groupIdentify.call(this, t, i, n, r);
    }, t.prototype.revenue = function(t, i) {
        if ($m(t)) {
            var n = t._q;
            t._q = [], t = Jm(new jm, n);
        }
        return e.prototype.revenue.call(this, t, i);
    }, t;
}(B2), tg = (0, _chunkZRT45YCMJs.a)(function() {
    var e = new k_;
    return {
        init: Xt(Ln(e.init.bind(e)), "init", Yt(e), Wt(e, [
            "config"
        ])),
        add: Xt(Ln(e.add.bind(e)), "add", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.plugins"
        ])),
        remove: Xt(Ln(e.remove.bind(e)), "remove", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.plugins"
        ])),
        track: Xt(Ln(e.track.bind(e)), "track", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.queue.length"
        ])),
        logEvent: Xt(Ln(e.logEvent.bind(e)), "logEvent", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.queue.length"
        ])),
        identify: Xt(Ln(e.identify.bind(e)), "identify", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.queue.length"
        ])),
        groupIdentify: Xt(Ln(e.groupIdentify.bind(e)), "groupIdentify", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.queue.length"
        ])),
        setGroup: Xt(Ln(e.setGroup.bind(e)), "setGroup", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.queue.length"
        ])),
        revenue: Xt(Ln(e.revenue.bind(e)), "revenue", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.queue.length"
        ])),
        flush: Xt(Ln(e.flush.bind(e)), "flush", Yt(e), Wt(e, [
            "config.apiKey",
            "timeline.queue.length"
        ])),
        getUserId: Xt(e.getUserId.bind(e), "getUserId", Yt(e), Wt(e, [
            "config",
            "config.userId"
        ])),
        setUserId: Xt(e.setUserId.bind(e), "setUserId", Yt(e), Wt(e, [
            "config",
            "config.userId"
        ])),
        getDeviceId: Xt(e.getDeviceId.bind(e), "getDeviceId", Yt(e), Wt(e, [
            "config",
            "config.deviceId"
        ])),
        setDeviceId: Xt(e.setDeviceId.bind(e), "setDeviceId", Yt(e), Wt(e, [
            "config",
            "config.deviceId"
        ])),
        reset: Xt(e.reset.bind(e), "reset", Yt(e), Wt(e, [
            "config",
            "config.userId",
            "config.deviceId"
        ])),
        getSessionId: Xt(e.getSessionId.bind(e), "getSessionId", Yt(e), Wt(e, [
            "config"
        ])),
        setSessionId: Xt(e.setSessionId.bind(e), "setSessionId", Yt(e), Wt(e, [
            "config"
        ])),
        setOptOut: Xt(e.setOptOut.bind(e), "setOptOut", Yt(e), Wt(e, [
            "config"
        ])),
        setTransport: Xt(e.setTransport.bind(e), "setTransport", Yt(e), Wt(e, [
            "config"
        ]))
    };
}, "createInstance"), ti = tg(), q$ = ti.add, N$ = ti.flush, R$ = ti.getDeviceId, k$ = ti.getSessionId, B$ = ti.getUserId, F$ = ti.groupIdentify, U$ = ti.identify, z$ = ti.init, V$ = ti.logEvent, G$ = ti.remove, j$ = ti.reset, H$ = ti.revenue, Y$ = ti.setDeviceId, W$ = ti.setGroup, X$ = ti.setOptOut, Z$ = ti.setSessionId, Q$ = ti.setTransport, K$ = ti.setUserId, J$ = ti.track, vy = {
    production: "40ead723d18886045e302513245edb27",
    development: ""
}, Bl = {
    plan: {
        version: "22",
        branch: "main",
        source: "websdk",
        versionId: "197467d1-8926-452d-a088-b3817cbac89f"
    },
    ingestionMetadata: {
        sourceName: "browser-typescript-ampli",
        sourceVersion: "2.0.0"
    }
}, yy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Analytics:categorySelected-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(yy, "AnalyticsCategorySelectedCall");
var Gc = yy, by = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Analytics:locationSelected-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(by, "AnalyticsLocationSelectedCall");
var jc = by, xy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "BlueDot:disable-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(xy, "BlueDotDisableCall");
var Hc = xy, Ty = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "BlueDot:enable-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ty, "BlueDotEnableCall");
var Yc = Ty, Ey = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "BlueDot:off-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ey, "BlueDotOffCall");
var Wc = Ey, My = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "BlueDot:on-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(My, "BlueDotOnCall");
var Xc = My, wy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:animate-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(wy, "CameraAnimateCall");
var Zc = wy, Ay = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:cancelAnimation-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ay, "CameraCancelAnimationCall");
var Qc = Ay, Cy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:focusOn-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Cy, "CameraFocusOnCall");
var Kc = Cy, Py = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:getSafeAreaInsets-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Py, "CameraGetSafeAreaInsetsCall");
var Jc = Py, Sy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:interaction.disable-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Sy, "CameraInteractionDisableCall");
var $c = Sy, Iy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:interaction.enable-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Iy, "CameraInteractionEnableCall");
var eh = Iy, _y = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:set-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(_y, "CameraSetCall");
var th = _y, Oy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:setSafeAreaInsets-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Oy, "CameraSetSafeAreaInsetsCall");
var ih = Oy, Dy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Camera:translate-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Dy, "CameraTranslateCall");
var nh = Dy, Ly = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FlatLabels:add-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ly, "FlatLabelsAddCall");
var rh = Ly, qy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FlatLabels:labelAllLocations-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(qy, "FlatLabelsLabelAllLocationsCall");
var ah = qy, Ny = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FlatLabels:remove-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ny, "FlatLabelsRemoveCall");
var sh = Ny, Ry = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FlatLabels:removeAll-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ry, "FlatLabelsRemoveAllCall");
var sy = Ry, ky = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FlatLabels:setAppearance-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(ky, "FlatLabelsSetAppearanceCall");
var oh = ky, By = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FloatingLabels:add-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(By, "FloatingLabelsAddCall");
var lh = By, Fy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FloatingLabels:labelAllLocations-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Fy, "FloatingLabelsLabelAllLocationsCall");
var uh = Fy, Uy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FloatingLabels:remove-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Uy, "FloatingLabelsRemoveCall");
var ch = Uy, zy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FloatingLabels:removeAll-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(zy, "FloatingLabelsRemoveAllCall");
var oy = zy, Vy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FloatingLabels:resetPriority-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Vy, "FloatingLabelsResetPriorityCall");
var hh = Vy, Gy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FloatingLabels:setAppearance-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Gy, "FloatingLabelsSetAppearanceCall");
var dh = Gy, jy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "FloatingLabels:setPriority-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(jy, "FloatingLabelsSetPriorityCall");
var ph = jy, Hy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "global:getVenue-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Hy, "GlobalGetVenueCall");
var fh = Hy, Yy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "global:getVenueMVF-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Yy, "GlobalGetVenueMvfCall");
var mh = Yy, Wy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "global:showVenue-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Wy, "GlobalShowVenueCall");
var gh = Wy, Xy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Journey:clear-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Xy, "JourneyClearCall");
var vh = Xy, Zy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Journey:draw-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Zy, "JourneyDrawCall");
var yh = Zy, Qy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Journey:setStep-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Qy, "JourneySetStepCall");
var bh = Qy, Ky = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "Mappedin:getCollectionItemById-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ky, "MappedinGetCollectionItemByIdCall");
var ly = Ky, Jy = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinCoordinate:absoluteDistanceTo-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Jy, "MappedinCoordinateAbsoluteDistanceToCall");
var uy = Jy, $y = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinCoordinate:nearestNode-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)($y, "MappedinCoordinateNearestNodeCall");
var cy = $y, eb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinLocation:clone-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(eb, "MappedinLocationCloneCall");
var xh = eb, tb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinLocation:directionsTo-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(tb, "MappedinLocationDirectionsToCall");
var Th = tb, ib = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinLocation:distanceTo-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(ib, "MappedinLocationDistanceToCall");
var Eh = ib, nb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinMap:createCoordinate-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(nb, "MappedinMapCreateCoordinateCall");
var hy = nb, rb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinMap:createCoordinateByXY-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(rb, "MappedinMapCreateCoordinateByXyCall");
var dy = rb, ab = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinMap:getNorth-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(ab, "MappedinMapGetNorthCall");
var py = ab, sb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinNode:directionsTo-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(sb, "MappedinNodeDirectionsToCall");
var Mh = sb, ob = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinNode:distanceTo-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(ob, "MappedinNodeDistanceToCall");
var wh = ob, lb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinPolygon:directionsTo-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(lb, "MappedinPolygonDirectionsToCall");
var Ah = lb, ub = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinPolygon:distanceTo-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(ub, "MappedinPolygonDistanceToCall");
var Ch = ub, cb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MappedinVenue:metadata-read"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(cb, "MappedinVenueMetadataRead");
var Ph = cb, hb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:addInteractivePolygon-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(hb, "MapViewAddInteractivePolygonCall");
var Sh = hb, db = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:addInteractivePolygonsForAllLocations-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(db, "MapViewAddInteractivePolygonsForAllLocationsCall");
var Ih = db, pb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:clearPolygonColor-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(pb, "MapViewClearPolygonColorCall");
var _h = pb, fb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:createCustomTooltip-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(fb, "MapViewCreateCustomTooltipCall");
var Oh = fb, mb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:createMarker-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(mb, "MapViewCreateMarkerCall");
var fy = mb, gb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:createTooltip-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(gb, "MapViewCreateTooltipCall");
var Dh = gb, vb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:destroy-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(vb, "MapViewDestroyCall");
var Lh = vb, yb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:disableImageFlippingForAllPolygons-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(yb, "MapViewDisableImageFlippingForAllPolygonsCall");
var qh = yb, bb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:drawPath-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(bb, "MapViewDrawPathCall");
var Nh = bb, xb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:enableImageFlippingForAllLocations-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(xb, "MapViewEnableImageFlippingForAllLocationsCall");
var Rh = xb, Tb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:enableImageFlippingForPolygon-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Tb, "MapViewEnableImageFlippingForPolygonCall");
var kh = Tb, Eb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:getNearestNodeByScreenCoordinates-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Eb, "MapViewGetNearestNodeByScreenCoordinatesCall");
var Bh = Eb, Mb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:getPolygonAtCoordinate-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Mb, "MapViewGetPolygonAtCoordinateCall");
var Fh = Mb, wb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:getPrimaryLocationForPolygon-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(wb, "MapViewGetPrimaryLocationForPolygonCall");
var Uh = wb, Ab = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:labelAllLocations-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ab, "MapViewLabelAllLocationsCall");
var zh = Ab, Cb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removeAllInteractivePolygons-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Cb, "MapViewRemoveAllInteractivePolygonsCall");
var Vh = Cb, Pb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removeAllMarkers-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Pb, "MapViewRemoveAllMarkersCall");
var Gh = Pb, Sb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removeAllPaths-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Sb, "MapViewRemoveAllPathsCall");
var jh = Sb, Ib = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removeAllTooltips-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ib, "MapViewRemoveAllTooltipsCall");
var Hh = Ib, _b = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removeInteractivePolygon-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(_b, "MapViewRemoveInteractivePolygonCall");
var Yh = _b, Ob = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removeMarker-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ob, "MapViewRemoveMarkerCall");
var my = Ob, Db = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removePath-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Db, "MapViewRemovePathCall");
var Wh = Db, Lb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:removeTooltip-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Lb, "MapViewRemoveTooltipCall");
var Xh = Lb, qb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:setBackgroundColor-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(qb, "MapViewSetBackgroundColorCall");
var Zh = qb, Nb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:setHoverColor-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Nb, "MapViewSetHoverColorCall");
var Qh = Nb, Rb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:setMap-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Rb, "MapViewSetMapCall");
var Kh = Rb, kb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:setPolygonColor-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(kb, "MapViewSetPolygonColorCall");
var Jh = kb, Bb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "MapView:setState-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Bb, "MapViewSetStateCall");
var $h = Bb, Fb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "metrics:mapLoad-event"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Fb, "MetricsMapLoadEvent");
var ed = Fb, Ub = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "OfflineSearch:addQuery-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Ub, "OfflineSearchAddQueryCall");
var td = Ub, zb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "OfflineSearch:constructor-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(zb, "OfflineSearchConstructorCall");
var id = zb, Vb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "OfflineSearch:search-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Vb, "OfflineSearchSearchCall");
var nd = Vb, Gb = class {
    constructor(e){
        this.event_properties = e, (0, _chunkZRT45YCMJs.f)(this, "event_type", "OfflineSearch:suggest-call"), this.event_properties = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Gb, "OfflineSearchSuggestCall");
var rd = Gb, ig = (0, _chunkZRT45YCMJs.a)(()=>({
        promise: Promise.resolve()
    }), "getVoidPromiseResult"), jb = class {
    constructor(){
        (0, _chunkZRT45YCMJs.f)(this, "disabled", !1), (0, _chunkZRT45YCMJs.f)(this, "amplitude");
    }
    get client() {
        return this.isInitializedAndEnabled(), this.amplitude;
    }
    get isLoaded() {
        return null != this.amplitude;
    }
    isInitializedAndEnabled() {
        return this.amplitude ? !this.disabled : (console.error("ERROR: Ampli is not yet initialized. Have you called ampli.load() on app start?"), !1);
    }
    load(e) {
        var t, i;
        if (this.disabled = null != (t = e.disabled) && t, this.amplitude) return console.warn("WARNING: Ampli is already intialized. Ampli.load() should be called once at application startup."), ig();
        let n = null;
        if (e.client && "apiKey" in e.client ? n = e.client.apiKey : "environment" in e && (n = vy[e.environment]), e.client && "instance" in e.client) this.amplitude = e.client.instance;
        else {
            if (n) return this.amplitude = tg(), this.amplitude.init(n, void 0, {
                ...Bl,
                ...null != (null == e ? void 0 : e.client) && "configuration" in e.client ? null == (i = e.client) ? void 0 : i.configuration : {}
            });
            console.error("ERROR: ampli.load() requires 'environment', 'client.apiKey', or 'client.instance'");
        }
        return ig();
    }
    identify(e, t, i) {
        if (!this.isInitializedAndEnabled()) return ig();
        e && (i = {
            ...i,
            user_id: e
        });
        let n = new nr, r = t;
        if (null != r) for (let [e, t] of Object.entries(r))n.set(e, t);
        return this.amplitude.identify(n, i);
    }
    track(e, t) {
        return this.isInitializedAndEnabled() ? this.amplitude.track(e, void 0, t) : ig();
    }
    analyticsCategorySelectedCall(e, t) {
        return this.track(new Gc(e), t);
    }
    analyticsLocationSelectedCall(e, t) {
        return this.track(new jc(e), t);
    }
    blueDotDisableCall(e, t) {
        return this.track(new Hc(e), t);
    }
    blueDotEnableCall(e, t) {
        return this.track(new Yc(e), t);
    }
    blueDotOffCall(e, t) {
        return this.track(new Wc(e), t);
    }
    blueDotOnCall(e, t) {
        return this.track(new Xc(e), t);
    }
    cameraAnimateCall(e, t) {
        return this.track(new Zc(e), t);
    }
    cameraCancelAnimationCall(e, t) {
        return this.track(new Qc(e), t);
    }
    cameraFocusOnCall(e, t) {
        return this.track(new Kc(e), t);
    }
    cameraGetSafeAreaInsetsCall(e, t) {
        return this.track(new Jc(e), t);
    }
    cameraInteractionDisableCall(e, t) {
        return this.track(new $c(e), t);
    }
    cameraInteractionEnableCall(e, t) {
        return this.track(new eh(e), t);
    }
    cameraSetCall(e, t) {
        return this.track(new th(e), t);
    }
    cameraSetSafeAreaInsetsCall(e, t) {
        return this.track(new ih(e), t);
    }
    cameraTranslateCall(e, t) {
        return this.track(new nh(e), t);
    }
    flatLabelsAddCall(e, t) {
        return this.track(new rh(e), t);
    }
    flatLabelsLabelAllLocationsCall(e, t) {
        return this.track(new ah(e), t);
    }
    flatLabelsRemoveCall(e, t) {
        return this.track(new sh(e), t);
    }
    flatLabelsRemoveAllCall(e, t) {
        return this.track(new sy(e), t);
    }
    flatLabelsSetAppearanceCall(e, t) {
        return this.track(new oh(e), t);
    }
    floatingLabelsAddCall(e, t) {
        return this.track(new lh(e), t);
    }
    floatingLabelsLabelAllLocationsCall(e, t) {
        return this.track(new uh(e), t);
    }
    floatingLabelsRemoveCall(e, t) {
        return this.track(new ch(e), t);
    }
    floatingLabelsRemoveAllCall(e, t) {
        return this.track(new oy(e), t);
    }
    floatingLabelsResetPriorityCall(e, t) {
        return this.track(new hh(e), t);
    }
    floatingLabelsSetAppearanceCall(e, t) {
        return this.track(new dh(e), t);
    }
    floatingLabelsSetPriorityCall(e, t) {
        return this.track(new ph(e), t);
    }
    globalGetVenueCall(e, t) {
        return this.track(new fh(e), t);
    }
    globalGetVenueMvfCall(e, t) {
        return this.track(new mh(e), t);
    }
    globalShowVenueCall(e, t) {
        return this.track(new gh(e), t);
    }
    journeyClearCall(e, t) {
        return this.track(new vh(e), t);
    }
    journeyDrawCall(e, t) {
        return this.track(new yh(e), t);
    }
    journeySetStepCall(e, t) {
        return this.track(new bh(e), t);
    }
    mappedinGetCollectionItemByIdCall(e, t) {
        return this.track(new ly(e), t);
    }
    mappedinCoordinateAbsoluteDistanceToCall(e, t) {
        return this.track(new uy(e), t);
    }
    mappedinCoordinateNearestNodeCall(e, t) {
        return this.track(new cy(e), t);
    }
    mappedinLocationCloneCall(e, t) {
        return this.track(new xh(e), t);
    }
    mappedinLocationDirectionsToCall(e, t) {
        return this.track(new Th(e), t);
    }
    mappedinLocationDistanceToCall(e, t) {
        return this.track(new Eh(e), t);
    }
    mappedinMapCreateCoordinateCall(e, t) {
        return this.track(new hy(e), t);
    }
    mappedinMapCreateCoordinateByXyCall(e, t) {
        return this.track(new dy(e), t);
    }
    mappedinMapGetNorthCall(e, t) {
        return this.track(new py(e), t);
    }
    mappedinNodeDirectionsToCall(e, t) {
        return this.track(new Mh(e), t);
    }
    mappedinNodeDistanceToCall(e, t) {
        return this.track(new wh(e), t);
    }
    mappedinPolygonDirectionsToCall(e, t) {
        return this.track(new Ah(e), t);
    }
    mappedinPolygonDistanceToCall(e, t) {
        return this.track(new Ch(e), t);
    }
    mappedinVenueMetadataRead(e, t) {
        return this.track(new Ph(e), t);
    }
    mapViewAddInteractivePolygonCall(e, t) {
        return this.track(new Sh(e), t);
    }
    mapViewAddInteractivePolygonsForAllLocationsCall(e, t) {
        return this.track(new Ih(e), t);
    }
    mapViewClearPolygonColorCall(e, t) {
        return this.track(new _h(e), t);
    }
    mapViewCreateCustomTooltipCall(e, t) {
        return this.track(new Oh(e), t);
    }
    mapViewCreateMarkerCall(e, t) {
        return this.track(new fy(e), t);
    }
    mapViewCreateTooltipCall(e, t) {
        return this.track(new Dh(e), t);
    }
    mapViewDestroyCall(e, t) {
        return this.track(new Lh(e), t);
    }
    mapViewDisableImageFlippingForAllPolygonsCall(e, t) {
        return this.track(new qh(e), t);
    }
    mapViewDrawPathCall(e, t) {
        return this.track(new Nh(e), t);
    }
    mapViewEnableImageFlippingForAllLocationsCall(e, t) {
        return this.track(new Rh(e), t);
    }
    mapViewEnableImageFlippingForPolygonCall(e, t) {
        return this.track(new kh(e), t);
    }
    mapViewGetNearestNodeByScreenCoordinatesCall(e, t) {
        return this.track(new Bh(e), t);
    }
    mapViewGetPolygonAtCoordinateCall(e, t) {
        return this.track(new Fh(e), t);
    }
    mapViewGetPrimaryLocationForPolygonCall(e, t) {
        return this.track(new Uh(e), t);
    }
    mapViewLabelAllLocationsCall(e, t) {
        return this.track(new zh(e), t);
    }
    mapViewRemoveAllInteractivePolygonsCall(e, t) {
        return this.track(new Vh(e), t);
    }
    mapViewRemoveAllMarkersCall(e, t) {
        return this.track(new Gh(e), t);
    }
    mapViewRemoveAllPathsCall(e, t) {
        return this.track(new jh(e), t);
    }
    mapViewRemoveAllTooltipsCall(e, t) {
        return this.track(new Hh(e), t);
    }
    mapViewRemoveInteractivePolygonCall(e, t) {
        return this.track(new Yh(e), t);
    }
    mapViewRemoveMarkerCall(e, t) {
        return this.track(new my(e), t);
    }
    mapViewRemovePathCall(e, t) {
        return this.track(new Wh(e), t);
    }
    mapViewRemoveTooltipCall(e, t) {
        return this.track(new Xh(e), t);
    }
    mapViewSetBackgroundColorCall(e, t) {
        return this.track(new Zh(e), t);
    }
    mapViewSetHoverColorCall(e, t) {
        return this.track(new Qh(e), t);
    }
    mapViewSetMapCall(e, t) {
        return this.track(new Kh(e), t);
    }
    mapViewSetPolygonColorCall(e, t) {
        return this.track(new Jh(e), t);
    }
    mapViewSetStateCall(e, t) {
        return this.track(new $h(e), t);
    }
    metricsMapLoadEvent(e, t) {
        return this.track(new ed(e), t);
    }
    offlineSearchAddQueryCall(e, t) {
        return this.track(new td(e), t);
    }
    offlineSearchConstructorCall(e, t) {
        return this.track(new id(e), t);
    }
    offlineSearchSearchCall(e, t) {
        return this.track(new nd(e), t);
    }
    offlineSearchSuggestCall(e, t) {
        return this.track(new rd(e), t);
    }
};
(0, _chunkZRT45YCMJs.a)(jb, "Ampli");
var gy = jb, ad = new gy;
(0, _chunkA5C75TI6Js.a)();
var mS = (0, _chunkZRT45YCMJs.e)(T6()), gS = (0, _chunkZRT45YCMJs.e)(dx());
(0, _chunkA5C75TI6Js.a)();
var oS = (0, _chunkZRT45YCMJs.e)(Q6());
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var JC = (0, _chunkZRT45YCMJs.e)(KC());
(0, _chunkA5C75TI6Js.a)();
var kx = class {
    constructor({ origin: e, destination: t, vortex: i, elevationDelta: n = 0, distance: r = 0, angle: o = 0, pathWeight: s = 0 }){
        let a, l;
        if ((0, _chunkZRT45YCMJs.f)(this, "origin"), (0, _chunkZRT45YCMJs.f)(this, "destination"), (0, _chunkZRT45YCMJs.f)(this, "vortex"), (0, _chunkZRT45YCMJs.f)(this, "distance"), (0, _chunkZRT45YCMJs.f)(this, "angle"), (0, _chunkZRT45YCMJs.f)(this, "weight"), this.origin = e, this.destination = t, this.vortex = i, this.distance = r, this.angle = o, i) this.distance = 0, this.angle = 0, a = void 0 !== i.weight && i.weight > 0 ? i.weight : "elevator" === i.type ? 2e3 : 1e3, l = i.multiplier && i.multiplier >= 1 ? i.multiplier : 1, this.weight = n * l + a;
        else {
            let e = s || t.weight;
            a = e && e >= 0 ? e : 0, l = t.multiplier && t.multiplier >= 1 ? t.multiplier : 1, this.weight = this.distance * l + a;
        }
        if (isNaN(this.angle)) throw new Error("nan angle");
    }
};
(0, _chunkZRT45YCMJs.a)(kx, "Edge");
var Rx = kx, Po = Rx;
function Bk(e) {
    if (e.scale || e.x_scale) return 1 / (e.scale || e.x_scale || 1);
    try {
        if (!e.georeference) throw new Error("map ".concat(e.name || e.shortName || e.id, " does not have a georeference field"));
        if (e.georeference.length < 3) throw new Error("map ".concat(e.name || e.shortName || e.id, " has less than 3 georeference points, we require at least 3 for proper map scaling"));
        let t = e.georeference[0], i = e.georeference[2], n = (0, JC.getDistance)({
            latitude: t.target.x,
            longitude: t.target.y
        }, {
            latitude: i.target.x,
            longitude: i.target.y
        }), r = t.control.x - i.control.x, o = t.control.y - i.control.y;
        return Math.sqrt(r * r + o * o) / n;
    } catch (e) {
        return R.error(e), 1;
    }
}
function E0(e, t) {
    let i = e.x - t.x, n = e.y - t.y;
    return (Math.atan2(n, i) + 2.5 * Math.PI) % (2 * Math.PI);
}
(0, _chunkZRT45YCMJs.a)(Bk, "getMapScale"), (0, _chunkZRT45YCMJs.a)(E0, "getAngle");
var Ux = class {
    constructor({ nodes: e, vortexes: t, maps: i, showVortexNames: n = !1 }){
        (0, _chunkZRT45YCMJs.f)(this, "edges"), (0, _chunkZRT45YCMJs.f)(this, "nodesById"), (0, _chunkZRT45YCMJs.f)(this, "mapsById"), this.edges = {}, this.mapsById = i.map((e)=>({
                ...e,
                _scale: Bk(e)
            })).reduce((e, t)=>(e[t.id] = t, e), {});
        let r = e.filter((e)=>!!this.mapsById[e.map]).map((e)=>({
                ...e,
                paths: e.paths ? e.paths.filter(({ map: t })=>t === e.map) : []
            }));
        this.nodesById = r.reduce((e, t)=>(e[t.id] = t, e), {});
        for(let e in this.nodesById)this.nodesById.hasOwnProperty(e) && (this.nodesById[e].paths = this.nodesById[e].paths.filter(({ node: e })=>!!this.nodesById[e]));
        let o = t.map((e)=>({
                ...e,
                name: n ? e.name : e.type,
                nodes: e.nodes ? e.nodes.filter((e)=>!!this.nodesById[e]) : []
            }));
        r.forEach((e)=>{
            this.edges[e.id] = e.paths.map(({ node: t, weight: i })=>{
                let n = this.nodesById[t];
                return new Po({
                    angle: E0(e, n),
                    destination: n,
                    distance: this.getDistance(e, n),
                    origin: e,
                    pathWeight: i
                });
            });
        }), o.forEach((e)=>{
            if (null == e.nodes || 0 === e.nodes.length) return;
            let t = 0;
            for(; t < e.nodes.length - 1;){
                let i = this.nodesById[e.nodes[t]];
                if (t++, null == i) continue;
                let n = t;
                for(; n < e.nodes.length;){
                    let t = this.nodesById[e.nodes[n]];
                    if (n++, null == t) continue;
                    let r = this.mapsById[i.map].elevation || 0, o = this.mapsById[t.map].elevation || 0, s = Math.abs(r - o);
                    this.edges[i.id].push(new Po({
                        destination: t,
                        elevationDelta: s,
                        origin: i,
                        vortex: e
                    })), this.edges[t.id].push(new Po({
                        destination: i,
                        elevationDelta: s,
                        origin: t,
                        vortex: e
                    }));
                }
            }
        });
    }
    aStar({ originIds: e, destinationNodeIds: t, accessible: i, includedVortexIds: n, excludedVortexIds: r, excludedNodeIds: o }) {
        let s = e.map((e)=>this.nodesById[e]).filter((e)=>e && (!o || !o.has(e.id))), a = t.map((e)=>this.nodesById[e]).filter((e)=>e && (!o || !o.has(e.id)));
        if (0 === s.length || 0 === a.length) return [];
        let l = [], h = {}, c = {};
        for(s.forEach((e)=>{
            let t = this.getShortestEuclideanDistance(e, a);
            l.push({
                origin: e,
                priority: t
            }), h[e.id] = null, c[e.id] = 0;
        }), l.sort((e, t)=>e.priority - t.priority); l.length > 0;){
            let e = l[0];
            if (a.includes(e.origin)) {
                let t = [], i = h[e.origin.id];
                for(; null != i;){
                    t.push(i);
                    let e = h[i.origin.id];
                    i = null != e ? e : null;
                }
                return t.reverse();
            }
            for (let t of this.edges[e.origin.id]){
                let s = t.vortex && !1 === t.vortex.accessible || !1 === t.origin.accessible || !1 === t.destination.accessible, u = t.vortex && (n && !n.has(t.vortex.id) || r && r.has(t.vortex.id)), d = o && o.has(t.destination.id);
                if (i && s || u || d) continue;
                let p = c[e.origin.id] + t.weight;
                if (null == c[t.destination.id] || p < c[t.destination.id]) {
                    c[t.destination.id] = p;
                    let e = p + this.getShortestEuclideanDistance(t.destination, a);
                    l.push({
                        origin: t.destination,
                        priority: e
                    }), h[t.destination.id] = t;
                }
            }
            l.splice(0, 1), l.sort((e, t)=>e.priority - t.priority);
        }
        return [];
    }
    getDistance(e, t) {
        let i, n = e.x - t.x, r = e.y - t.y, o = n * n + r * r;
        return i = null == this.mapsById[e.map] ? 1 : this.mapsById[e.map]._scale, Math.sqrt(o) / i;
    }
    getShortestEuclideanDistance(e, t) {
        return t.reduce((t, i)=>{
            let n = this.getDistance(e, i);
            return Math.min(t, n);
        }, Number.MAX_VALUE);
    }
};
(0, _chunkZRT45YCMJs.a)(Ux, "NavigationGraph");
var Bx = Ux, Fx = Bx;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var So = ((e)=>(e.DEPARTURE = "Departure", e.TAKEVORTEX = "TakeVortex", e.EXITVORTEX = "ExitVortex", e.TURN = "Turn", e.ARRIVAL = "Arrival", e))(So || {}), Md = ((e)=>(e.STRAIGHT = "Straight", e.RIGHT = "Right", e.SLIGHTRIGHT = "SlightRight", e.LEFT = "Left", e.SLIGHTLEFT = "SlightLeft", e))(Md || {});
function Fk(e) {
    switch(e){
        case "down":
        case "up":
            return "".concat(e, " ");
        default:
            return "";
    }
}
(0, _chunkZRT45YCMJs.a)(Fk, "vortexDirectionTest");
var Vx = class {
    constructor({ origin: e, action: t, distance: i, atLocation: n, instruction: r }){
        (0, _chunkZRT45YCMJs.f)(this, "node"), (0, _chunkZRT45YCMJs.f)(this, "instruction"), (0, _chunkZRT45YCMJs.f)(this, "action"), (0, _chunkZRT45YCMJs.f)(this, "atLocation"), (0, _chunkZRT45YCMJs.f)(this, "type"), (0, _chunkZRT45YCMJs.f)(this, "distance", 0), this.node = e, this.action = t, this.distance = i || 0, this.atLocation = n, this.instruction = "", r ? this.instruction = r : (null != t && "Departure" === t.type ? this.instruction = null != n ? "Depart from ".concat(n.name) : "Depart from current location" : null != t && "Arrival" === t.type ? this.instruction = null != n ? "Arrive at ".concat(n.name) : "Arrive at destination" : null != t && "TakeVortex" === t.type ? this.instruction = "Take ".concat(n && n.name, " ").concat(Fk(t.direction), "to ").concat(t.toMap.name) : null != t && "ExitVortex" === t.type ? this.instruction = "Exit ".concat(n && n.name, " at ").concat(t.toMap.name) : null != t && "bearing" in t && "Right" === t.bearing ? this.instruction = "Turn right" : null != t && "bearing" in t && "SlightRight" === t.bearing ? this.instruction = "Turn slightly right" : null != t && "bearing" in t && "Straight" === t.bearing ? this.instruction = "Head straight" : null != t && "bearing" in t && "SlightLeft" === t.bearing ? this.instruction = "Turn slightly left" : null != t && "bearing" in t && "Left" === t.bearing && (this.instruction = "Turn left"), null != t && "Turn" === t.type && n && (this.instruction += " at ".concat(n.name)));
    }
};
(0, _chunkZRT45YCMJs.a)(Vx, "Directive");
var zx = Vx, ys = zx;
function Gx(e, t, i, n) {
    if (!(e && t && i && n)) return null;
    let r = e.x, o = e.y, s = t.x, a = t.y, l = i.x, h = i.y, c = n.x, u = n.y;
    if (r === s && o === a || l === c && h === u) return null;
    let d = (u - h) * (s - r) - (c - l) * (a - o);
    if (0 === d) return null;
    let p = ((c - l) * (o - h) - (u - h) * (r - l)) / d, f = ((s - r) * (o - h) - (a - o) * (r - l)) / d;
    return p < 0 || p > 1 || f < 0 || f > 1 ? null : {
        x: r + p * (s - r),
        y: o + p * (a - o)
    };
}
function $C(e, t, i) {
    if (e.x === t.x) return [
        {
            x: e.x + i,
            y: e.y
        },
        {
            x: t.x + i,
            y: t.y
        }
    ];
    if (e.y === t.y) return [
        {
            x: e.x,
            y: e.y + i
        },
        {
            x: t.x,
            y: t.y + i
        }
    ];
    let n = -1 / ((t.y - e.y) / (t.x - e.x)), r = i * Math.sqrt(1 / (1 + n * n)), o = n * r;
    return [
        {
            x: e.x + r,
            y: e.y + o
        },
        {
            x: t.x + r,
            y: t.y + o
        }
    ];
}
function eP(e, t, i = [], n = 0) {
    let r = !0;
    return i.forEach((i)=>{
        if (n > 0) {
            let o = $C(e, t, -n), s = $C(e, t, n);
            if (Gx(o[0], o[1], i[0], i[1]) || Gx(s[0], s[1], i[0], i[1])) return void (r = !1);
        } else if (Gx(e, t, i[0], i[1])) return void (r = !1);
    }), r;
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(Gx, "getLineIntersection"), (0, _chunkZRT45YCMJs.a)($C, "getOffsetLine"), (0, _chunkZRT45YCMJs.a)(eP, "hasLineOfSight");
var M0 = .1 * Math.PI;
function w0(e, t) {
    return ((t - e + Math.PI) % (2 * Math.PI) + 2 * Math.PI) % (2 * Math.PI) - Math.PI;
}
(0, _chunkZRT45YCMJs.a)(w0, "differenceBetweenAngles");
var Yx = class {
    constructor({ locations: e, nodes: t, vortexes: i, maps: n, polygons: r, showVortexNames: o }){
        (0, _chunkZRT45YCMJs.f)(this, "graph"), (0, _chunkZRT45YCMJs.f)(this, "locationsByNodeId"), (0, _chunkZRT45YCMJs.f)(this, "geometryEdgesByMapId", new Map), this.graph = new Fx({
            maps: n,
            nodes: t,
            showVortexNames: o,
            vortexes: i
        }), this.locationsByNodeId = e.reduce((e, t)=>(t.nodes && t.nodes.forEach((i)=>{
                e[i.node] = t;
            }), t.polygons && t.polygons.forEach((i)=>{
                i.entrances && i.entrances.forEach((i)=>{
                    e[i] = t;
                });
            }), e), {}), r && r.forEach((e)=>{
            if (this.geometryEdgesByMapId.has(e.map) || this.geometryEdgesByMapId.set(e.map, []), !0 === e.isLineStringSegment) for (let t of e.vertexes)for(let i = 0; i < t.length; i++)t[i + 1] && this.geometryEdgesByMapId.get(e.map).push([
                t[i],
                t[i + 1]
            ]);
            else e.vertexes.forEach((t, i)=>{
                e.vertexes[i + 1] ? this.geometryEdgesByMapId.get(e.map).push([
                    t,
                    e.vertexes[i + 1]
                ]) : this.geometryEdgesByMapId.get(e.map).push([
                    t,
                    e.vertexes[0]
                ]);
            });
        });
    }
    getClosestLocationInRay(e, t = .5 * Math.PI, i = 10) {
        let n = 0, r = 0, o = e;
        for(; Math.abs(n) < t && r < i;){
            let e = this.graph.edges[o.destination.id], s = null, a = 0;
            for (let t of e)if (t.distance > 0) {
                if (null != s) {
                    let e = -w0(o.angle, t.angle);
                    Math.abs(e) < Math.abs(a) && (s = t, a = e);
                } else s = t, a = -w0(o.angle, t.angle);
            }
            if (null == s) return null;
            {
                if (Math.abs(a) >= t || (n += a, r += s.distance, Math.abs(n) >= t || r > i)) return null;
                let e = this.locationsByNodeId[s.destination.id];
                if (null != e) return e;
                o = s;
            }
        }
        return null;
    }
    getDirections({ originIds: e, destinationNodeIds: t, accessible: i, departFrom: n, arriveAt: r, includedVortexIds: o, excludedVortexIds: s, excludedNodeIds: a, simplify: l }) {
        var h, c, u;
        let d = this.graph.aStar({
            originIds: e,
            destinationNodeIds: t,
            accessible: i,
            includedVortexIds: o,
            excludedVortexIds: s,
            excludedNodeIds: a
        });
        if (0 === d.length) return {
            distance: 0,
            instructions: [
                new ys({
                    distance: 0,
                    instruction: "No Valid Path Available"
                })
            ],
            path: []
        };
        let p = 0, f = [], m = [];
        if (null != l && l.enabled) {
            let e = null != (h = null == l ? void 0 : l.bufferRadius) ? h : 1.8, t = [
                d[0]
            ];
            for(let i = 1; i < d.length; i++){
                if (d[i].origin.map !== d[i - 1].origin.map) {
                    let n = null != (c = this.geometryEdgesByMapId.get(d[i - 1].origin.map)) ? c : [];
                    m.push(...this.simplifySteps(t, n, e)), t = [
                        d[i]
                    ];
                }
                t.push(d[i]);
            }
            let i = d[d.length - 1], n = null != (u = this.geometryEdgesByMapId.get(i.origin.map)) ? u : [];
            m.push(...this.simplifySteps(t, n, e)), d = m;
        }
        for(let e = 0; e < d.length; e++)f.push(d[e].origin);
        f.push(d[d.length - 1].destination);
        let g = [], v = null, y = null, b = 0, w = 0;
        for(let e = 0; e < d.length; e++){
            let t = d[e], i = t.origin, o = t.destination;
            if (p += t.distance, b += (null == y ? void 0 : y.distance) || 0, 0 === e && g.push(new ys({
                action: {
                    type: "Departure"
                },
                atLocation: n,
                distance: 0,
                origin: i
            })), null != t.vortex) {
                let e = this.graph.mapsById[i.map], n = this.graph.mapsById[o.map], r = "none";
                if (null != e.elevation && null != n.elevation) {
                    let t = e.elevation - n.elevation;
                    t > 0 ? r = "down" : t < 0 && (r = "up");
                }
                g.push(new ys({
                    action: {
                        direction: r,
                        fromMap: e,
                        toMap: n,
                        type: "TakeVortex"
                    },
                    atLocation: t.vortex,
                    distance: b,
                    origin: i
                })), w += b, b = 0;
            } else if (null != v && null != y) {
                if (null != y.vortex) {
                    let e = this.graph.mapsById[v.map], t = this.graph.mapsById[y.destination.map];
                    g.push(new ys({
                        action: {
                            fromMap: e,
                            toMap: t,
                            type: "ExitVortex"
                        },
                        atLocation: y.vortex,
                        distance: b,
                        origin: i
                    })), w += b, b = 0;
                } else {
                    let e = this.graph.edges[i.id].filter((e)=>e.destination !== v && e.destination !== t.destination);
                    if (e.length > 0) {
                        let n = -w0(y.angle, t.angle), r = e.reduce((e, i)=>{
                            let n = -w0(t.angle, i.angle);
                            return Math.min(e, Math.abs(n));
                        }, Math.PI);
                        if (Math.abs(n) >= M0 || Math.abs(r) <= M0) {
                            let e;
                            e = n <= -Math.PI / 4 ? "Right" : n <= -M0 ? "SlightRight" : n <= M0 ? "Straight" : n <= Math.PI / 4 ? "SlightLeft" : "Left";
                            let t = this.locationsByNodeId[i.id];
                            if (t || (t = this.getClosestLocationInRay(y, .5 * Math.PI, 10)), null != t) {
                                let n = new ys({
                                    action: {
                                        bearing: e,
                                        referencePosition: "At",
                                        type: "Turn"
                                    },
                                    atLocation: t,
                                    distance: b,
                                    origin: i
                                });
                                n.type = e, g.push(n);
                            } else g.push(new ys({
                                action: {
                                    bearing: e,
                                    referencePosition: "At",
                                    type: "Turn"
                                },
                                distance: b,
                                origin: i
                            }));
                            w += b, b = 0;
                        }
                    }
                }
            }
            e === d.length - 1 && (g.push(new ys({
                action: {
                    type: "Arrival"
                },
                atLocation: r,
                distance: p - w < 0 ? 0 : p - w,
                origin: t.destination
            })), w += b, b = 0), v = i, y = t;
        }
        let A = [], x = null;
        for(let e = g.length - 1; e >= 0; e--){
            let t = g[e], { action: i } = t;
            i && "TakeVortex" === i.type ? (x = t.node, A.unshift(t)) : i && "Turn" === i.type && null != x ? this.graph.getDistance(t.node, x) > 5 ? A.unshift(t) : A[0].distance += t.distance : A.unshift(t);
        }
        return {
            distance: p,
            instructions: A,
            path: f
        };
    }
    simplifySteps(e, t, i) {
        if (e.length < 3) return e;
        let n = [
            e[0]
        ], r = 1;
        for(let o = r + 2; o < e.length; o++)if (!eP(e[r].origin, e[o].origin, t, i)) {
            let t = o - 1;
            n.push(new Po({
                ...e[r],
                destination: e[t].origin,
                distance: this.graph.getDistance(e[r].origin, e[t].origin),
                angle: E0(e[r].origin, e[t].origin)
            })), r = t;
        }
        return n.push(new Po({
            ...e[r],
            destination: e[e.length - 1].origin,
            distance: this.graph.getDistance(e[r].origin, e[e.length - 1].origin),
            angle: E0(e[r].origin, e[e.length - 1].origin)
        }), e[e.length - 1]), n;
    }
};
(0, _chunkZRT45YCMJs.a)(Yx, "Navigator");
var jx = Yx, Hx = jx;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var Bi = 6371008.8, tP = {
    centimeters: 100 * Bi,
    centimetres: 100 * Bi,
    degrees: Bi / 111325,
    feet: 3.28084 * Bi,
    inches: 39.37 * Bi,
    kilometers: Bi / 1e3,
    kilometres: Bi / 1e3,
    meters: Bi,
    metres: Bi,
    miles: Bi / 1609.344,
    millimeters: 1e3 * Bi,
    millimetres: 1e3 * Bi,
    nauticalmiles: Bi / 1852,
    radians: 1,
    yards: 1.0936 * Bi
}, ane = {
    centimeters: 100,
    centimetres: 100,
    degrees: 1 / 111325,
    feet: 3.28084,
    inches: 39.37,
    kilometers: .001,
    kilometres: .001,
    meters: 1,
    metres: 1,
    miles: 1 / 1609.344,
    millimeters: 1e3,
    millimetres: 1e3,
    nauticalmiles: 1 / 1852,
    radians: 1 / Bi,
    yards: 1.0936133
};
function bs(e, t, i) {
    void 0 === i && (i = {});
    var n = {
        type: "Feature"
    };
    return (0 === i.id || i.id) && (n.id = i.id), i.bbox && (n.bbox = i.bbox), n.properties = t || {}, n.geometry = e, n;
}
function Fi(e, t, i) {
    if (void 0 === i && (i = {}), !e) throw new Error("coordinates is required");
    if (!Array.isArray(e)) throw new Error("coordinates must be an Array");
    if (e.length < 2) throw new Error("coordinates must be at least 2 numbers long");
    if (!Wx(e[0]) || !Wx(e[1])) throw new Error("coordinates must contain numbers");
    return bs({
        type: "Point",
        coordinates: e
    }, t, i);
}
function ga(e, t, i) {
    if (void 0 === i && (i = {}), e.length < 2) throw new Error("coordinates must be an array of two or more positions");
    return bs({
        type: "LineString",
        coordinates: e
    }, t, i);
}
function Io(e, t) {
    void 0 === t && (t = {});
    var i = {
        type: "FeatureCollection"
    };
    return t.id && (i.id = t.id), t.bbox && (i.bbox = t.bbox), i.features = e, i;
}
function iP(e, t) {
    void 0 === t && (t = "kilometers");
    var i = tP[t];
    if (!i) throw new Error(t + " units is invalid");
    return e * i;
}
function nP(e, t) {
    void 0 === t && (t = "kilometers");
    var i = tP[t];
    if (!i) throw new Error(t + " units is invalid");
    return e / i;
}
function wd(e) {
    return 180 * (e % (2 * Math.PI)) / Math.PI;
}
function un(e) {
    return e % 360 * Math.PI / 180;
}
function Wx(e) {
    return !isNaN(e) && null !== e && !Array.isArray(e);
}
function A0(e, t, i) {
    if (null !== e) for(var n, r, o, s, a, l, h, c, u = 0, d = 0, p = e.type, f = "FeatureCollection" === p, m = "Feature" === p, g = f ? e.features.length : 1, v = 0; v < g; v++){
        a = (c = !!(h = f ? e.features[v].geometry : m ? e.geometry : e) && "GeometryCollection" === h.type) ? h.geometries.length : 1;
        for(var y = 0; y < a; y++){
            var b = 0, w = 0;
            if (null !== (s = c ? h.geometries[y] : h)) {
                l = s.coordinates;
                var A = s.type;
                switch(u = !i || "Polygon" !== A && "MultiPolygon" !== A ? 0 : 1, A){
                    case null:
                        break;
                    case "Point":
                        if (!1 === t(l, d, v, b, w)) return !1;
                        d++, b++;
                        break;
                    case "LineString":
                    case "MultiPoint":
                        for(n = 0; n < l.length; n++){
                            if (!1 === t(l[n], d, v, b, w)) return !1;
                            d++, "MultiPoint" === A && b++;
                        }
                        "LineString" === A && b++;
                        break;
                    case "Polygon":
                    case "MultiLineString":
                        for(n = 0; n < l.length; n++){
                            for(r = 0; r < l[n].length - u; r++){
                                if (!1 === t(l[n][r], d, v, b, w)) return !1;
                                d++;
                            }
                            "MultiLineString" === A && b++, "Polygon" === A && w++;
                        }
                        "Polygon" === A && b++;
                        break;
                    case "MultiPolygon":
                        for(n = 0; n < l.length; n++){
                            for(w = 0, r = 0; r < l[n].length; r++){
                                for(o = 0; o < l[n][r].length - u; o++){
                                    if (!1 === t(l[n][r][o], d, v, b, w)) return !1;
                                    d++;
                                }
                                w++;
                            }
                            b++;
                        }
                        break;
                    case "GeometryCollection":
                        for(n = 0; n < s.geometries.length; n++)if (!1 === A0(s.geometries[n], t, i)) return !1;
                        break;
                    default:
                        throw new Error("Unknown Geometry Type");
                }
            }
        }
    }
}
function Xx(e, t) {
    if ("Feature" === e.type) t(e, 0);
    else if ("FeatureCollection" === e.type) for(var i = 0; i < e.features.length && !1 !== t(e.features[i], i); i++);
}
function Uk(e, t) {
    var i, n, r, o, s, a, l, h, c, u, d = 0, p = "FeatureCollection" === e.type, f = "Feature" === e.type, m = p ? e.features.length : 1;
    for(i = 0; i < m; i++){
        for(a = p ? e.features[i].geometry : f ? e.geometry : e, h = p ? e.features[i].properties : f ? e.properties : {}, c = p ? e.features[i].bbox : f ? e.bbox : void 0, u = p ? e.features[i].id : f ? e.id : void 0, s = (l = !!a && "GeometryCollection" === a.type) ? a.geometries.length : 1, r = 0; r < s; r++)if (null !== (o = l ? a.geometries[r] : a)) switch(o.type){
            case "Point":
            case "LineString":
            case "MultiPoint":
            case "Polygon":
            case "MultiLineString":
            case "MultiPolygon":
                if (!1 === t(o, d, h, c, u)) return !1;
                break;
            case "GeometryCollection":
                for(n = 0; n < o.geometries.length; n++)if (!1 === t(o.geometries[n], d, h, c, u)) return !1;
                break;
            default:
                throw new Error("Unknown Geometry Type");
        }
        else if (!1 === t(null, d, h, c, u)) return !1;
        d++;
    }
}
function Ad(e, t) {
    Uk(e, function(e, i, n, r, o) {
        var s, a = null === e ? null : e.type;
        switch(a){
            case null:
            case "Point":
            case "LineString":
            case "Polygon":
                return !1 !== t(bs(e, n, {
                    bbox: r,
                    id: o
                }), i, 0) && void 0;
        }
        switch(a){
            case "MultiPoint":
                s = "Point";
                break;
            case "MultiLineString":
                s = "LineString";
                break;
            case "MultiPolygon":
                s = "Polygon";
        }
        for(var l = 0; l < e.coordinates.length; l++){
            var h = e.coordinates[l];
            if (!1 === t(bs({
                type: s,
                coordinates: h
            }, n), i, l)) return !1;
        }
    });
}
function zk(e, t) {
    Ad(e, function(e, i, n) {
        var r = 0;
        if (e.geometry) {
            var o = e.geometry.type;
            if ("Point" !== o && "MultiPoint" !== o) {
                var s, a = 0, l = 0, h = 0;
                if (!1 === A0(e, function(o, c, u, d, p) {
                    if (void 0 === s || i > a || d > l || p > h) return s = o, a = i, l = d, h = p, void (r = 0);
                    var f = ga([
                        s,
                        o
                    ], e.properties);
                    if (!1 === t(f, i, n, p, r)) return !1;
                    r++, s = o;
                })) return !1;
            }
        }
    });
}
function rP(e, t, i) {
    var n = i, r = !1;
    return zk(e, function(e, o, s, a, l) {
        n = !1 === r && void 0 === i ? e : t(n, e, o, s, a, l), r = !0;
    }), n;
}
function Zx(e) {
    var t = [
        1 / 0,
        1 / 0,
        -1 / 0,
        -1 / 0
    ];
    return A0(e, function(e) {
        t[0] > e[0] && (t[0] = e[0]), t[1] > e[1] && (t[1] = e[1]), t[2] < e[0] && (t[2] = e[0]), t[3] < e[1] && (t[3] = e[1]);
    }), t;
}
(0, _chunkZRT45YCMJs.a)(bs, "feature"), (0, _chunkZRT45YCMJs.a)(Fi, "point"), (0, _chunkZRT45YCMJs.a)(ga, "lineString"), (0, _chunkZRT45YCMJs.a)(Io, "featureCollection"), (0, _chunkZRT45YCMJs.a)(iP, "radiansToLength"), (0, _chunkZRT45YCMJs.a)(nP, "lengthToRadians"), (0, _chunkZRT45YCMJs.a)(wd, "radiansToDegrees"), (0, _chunkZRT45YCMJs.a)(un, "degreesToRadians"), (0, _chunkZRT45YCMJs.a)(Wx, "isNumber"), (0, _chunkZRT45YCMJs.a)(A0, "coordEach"), (0, _chunkZRT45YCMJs.a)(Xx, "featureEach"), (0, _chunkZRT45YCMJs.a)(Uk, "geomEach"), (0, _chunkZRT45YCMJs.a)(Ad, "flattenEach"), (0, _chunkZRT45YCMJs.a)(zk, "segmentEach"), (0, _chunkZRT45YCMJs.a)(rP, "segmentReduce"), (0, _chunkZRT45YCMJs.a)(Zx, "bbox"), Zx.default = Zx;
var C0 = Zx;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var aP = "\u202F", Ui = class e {
    static get separator() {
        return aP;
    }
    static set separator(e) {
        aP = e;
    }
    static parse(e) {
        if (!isNaN(parseFloat(e)) && isFinite(e)) return Number(e);
        let t = String(e).trim().replace(/^-/, "").replace(/[NSEW]$/i, "").split(/[^0-9.,]+/);
        if ("" == t[t.length - 1] && t.splice(t.length - 1), "" == t) return NaN;
        let i = null;
        switch(t.length){
            case 3:
                i = t[0] / 1 + t[1] / 60 + t[2] / 3600;
                break;
            case 2:
                i = t[0] / 1 + t[1] / 60;
                break;
            case 1:
                i = t[0];
                break;
            default:
                return NaN;
        }
        return /^-|[WS]$/i.test(e.trim()) && (i = -i), Number(i);
    }
    static toDms(t, i = "d", n) {
        if (isNaN(t) || "string" == typeof t && "" == t.trim() || "boolean" == typeof t || t == 1 / 0 || null == t) return null;
        if (void 0 === n) switch(i){
            case "d":
            case "deg":
                n = 4;
                break;
            case "dm":
            case "deg+min":
                n = 2;
                break;
            case "dms":
            case "deg+min+sec":
                n = 0;
                break;
            default:
                i = "d", n = 4;
        }
        t = Math.abs(t);
        let r = null, o = null, s = null, a = null;
        switch(i){
            default:
            case "d":
            case "deg":
                o = t.toFixed(n), o < 100 && (o = "0" + o), o < 10 && (o = "0" + o), r = o + "\xb0";
                break;
            case "dm":
            case "deg+min":
                o = Math.floor(t), s = (60 * t % 60).toFixed(n), 60 == s && (s = 0..toFixed(n), o++), o = ("000" + o).slice(-3), s < 10 && (s = "0" + s), r = o + "\xb0" + e.separator + s + "\u2032";
                break;
            case "dms":
            case "deg+min+sec":
                o = Math.floor(t), s = Math.floor(3600 * t / 60) % 60, a = (3600 * t % 60).toFixed(n), 60 == a && (a = 0..toFixed(n), s++), 60 == s && (s = 0, o++), o = ("000" + o).slice(-3), s = ("00" + s).slice(-2), a < 10 && (a = "0" + a), r = o + "\xb0" + e.separator + s + "\u2032" + e.separator + a + "\u2033";
        }
        return r;
    }
    static toLat(t, i, n) {
        let r = e.toDms(e.wrap90(t), i, n);
        return null === r ? "\u2013" : r.slice(1) + e.separator + (t < 0 ? "S" : "N");
    }
    static toLon(t, i, n) {
        let r = e.toDms(e.wrap180(t), i, n);
        return null === r ? "\u2013" : r + e.separator + (t < 0 ? "W" : "E");
    }
    static toBrng(t, i, n) {
        let r = e.toDms(e.wrap360(t), i, n);
        return null === r ? "\u2013" : r.replace("360", "0");
    }
    static fromLocale(e) {
        let t = 123456.789.toLocaleString(), i = {
            thousands: t.slice(3, 4),
            decimal: t.slice(7, 8)
        };
        return e.replace(i.thousands, "\u205C").replace(i.decimal, ".").replace("\u205C", ",");
    }
    static toLocale(e) {
        let t = 123456.789.toLocaleString(), i = {
            thousands: t.slice(3, 4),
            decimal: t.slice(7, 8)
        };
        return e.replace(/,([0-9])/, "\u205C$1").replace(".", i.decimal).replace("\u205C", i.thousands);
    }
    static compassPoint(t, i = 3) {
        if (![
            1,
            2,
            3
        ].includes(Number(i))) throw new RangeError("invalid precision \u2018".concat(i, "\u2019"));
        t = e.wrap360(t);
        let n = 4 * 2 ** (i - 1);
        return [
            "N",
            "NNE",
            "NE",
            "ENE",
            "E",
            "ESE",
            "SE",
            "SSE",
            "S",
            "SSW",
            "SW",
            "WSW",
            "W",
            "WNW",
            "NW",
            "NNW"
        ][Math.round(t * n / 360) % n * 16 / n];
    }
    static wrap360(e) {
        return 0 <= e && e < 360 ? e : (e % 360 + 360) % 360;
    }
    static wrap180(e) {
        return -180 < e && e <= 180 ? e : (e + 540) % 360 - 180;
    }
    static wrap90(e) {
        return -90 <= e && e <= 90 ? e : Math.abs((e % 360 + 270) % 360 - 180) - 90;
    }
};
(0, _chunkZRT45YCMJs.a)(Ui, "Dms");
var Qx = Ui;
Number.prototype.toRadians = function() {
    return this * Math.PI / 180;
}, Number.prototype.toDegrees = function() {
    return 180 * this / Math.PI;
};
var He = Qx, qt = Math.PI, _e = class e {
    constructor(e, t){
        if (isNaN(e)) throw new TypeError("invalid lat \u2018".concat(e, "\u2019"));
        if (isNaN(t)) throw new TypeError("invalid lon \u2018".concat(t, "\u2019"));
        this._lat = He.wrap90(Number(e)), this._lon = He.wrap180(Number(t));
    }
    get lat() {
        return this._lat;
    }
    get latitude() {
        return this._lat;
    }
    set lat(e) {
        if (this._lat = isNaN(e) ? He.wrap90(He.parse(e)) : He.wrap90(Number(e)), isNaN(this._lat)) throw new TypeError("invalid lat \u2018".concat(e, "\u2019"));
    }
    set latitude(e) {
        if (this._lat = isNaN(e) ? He.wrap90(He.parse(e)) : He.wrap90(Number(e)), isNaN(this._lat)) throw new TypeError("invalid latitude \u2018".concat(e, "\u2019"));
    }
    get lon() {
        return this._lon;
    }
    get lng() {
        return this._lon;
    }
    get longitude() {
        return this._lon;
    }
    set lon(e) {
        if (this._lon = isNaN(e) ? He.wrap180(He.parse(e)) : He.wrap180(Number(e)), isNaN(this._lon)) throw new TypeError("invalid lon \u2018".concat(e, "\u2019"));
    }
    set lng(e) {
        if (this._lon = isNaN(e) ? He.wrap180(He.parse(e)) : He.wrap180(Number(e)), isNaN(this._lon)) throw new TypeError("invalid lng \u2018".concat(e, "\u2019"));
    }
    set longitude(e) {
        if (this._lon = isNaN(e) ? He.wrap180(He.parse(e)) : He.wrap180(Number(e)), isNaN(this._lon)) throw new TypeError("invalid longitude \u2018".concat(e, "\u2019"));
    }
    static get metresToKm() {
        return .001;
    }
    static get metresToMiles() {
        return 1 / 1609.344;
    }
    static get metresToNauticalMiles() {
        return 1 / 1852;
    }
    static parse(...t) {
        if (0 == t.length) throw new TypeError("invalid (empty) point");
        if (null === t[0] || null === t[1]) throw new TypeError("invalid (null) point");
        let i, n;
        if (2 == t.length && ([i, n] = t, i = He.wrap90(He.parse(i)), n = He.wrap180(He.parse(n)), isNaN(i) || isNaN(n))) throw new TypeError("invalid point \u2018".concat(t.toString(), "\u2019"));
        if (1 == t.length && "string" == typeof t[0] && ([i, n] = t[0].split(","), i = He.wrap90(He.parse(i)), n = He.wrap180(He.parse(n)), isNaN(i) || isNaN(n))) throw new TypeError("invalid point \u2018".concat(t[0], "\u2019"));
        if (1 == t.length && "object" == typeof t[0]) {
            let e = t[0];
            if ("Point" == e.type && Array.isArray(e.coordinates) ? [n, i] = e.coordinates : (null != e.latitude && (i = e.latitude), null != e.lat && (i = e.lat), null != e.longitude && (n = e.longitude), null != e.lng && (n = e.lng), null != e.lon && (n = e.lon), i = He.wrap90(He.parse(i)), n = He.wrap180(He.parse(n))), isNaN(i) || isNaN(n)) throw new TypeError("invalid point \u2018".concat(JSON.stringify(t[0]), "\u2019"));
        }
        if (isNaN(i) || isNaN(n)) throw new TypeError("invalid point \u2018".concat(t.toString(), "\u2019"));
        return new e(i, n);
    }
    distanceTo(t, i = 6371e3) {
        if (t instanceof e || (t = e.parse(t)), isNaN(i)) throw new TypeError("invalid radius \u2018".concat(i, "\u2019"));
        let n = i, r = this.lat.toRadians(), o = this.lon.toRadians(), s = t.lat.toRadians(), a = s - r, l = t.lon.toRadians() - o, h = Math.sin(a / 2) * Math.sin(a / 2) + Math.cos(r) * Math.cos(s) * Math.sin(l / 2) * Math.sin(l / 2);
        return n * (2 * Math.atan2(Math.sqrt(h), Math.sqrt(1 - h)));
    }
    initialBearingTo(t) {
        if (t instanceof e || (t = e.parse(t)), this.equals(t)) return NaN;
        let i = this.lat.toRadians(), n = t.lat.toRadians(), r = (t.lon - this.lon).toRadians(), o = Math.cos(i) * Math.sin(n) - Math.sin(i) * Math.cos(n) * Math.cos(r), s = Math.sin(r) * Math.cos(n), a = Math.atan2(s, o).toDegrees();
        return He.wrap360(a);
    }
    finalBearingTo(t) {
        t instanceof e || (t = e.parse(t));
        let i = t.initialBearingTo(this) + 180;
        return He.wrap360(i);
    }
    midpointTo(t) {
        t instanceof e || (t = e.parse(t));
        let i = this.lat.toRadians(), n = this.lon.toRadians(), r = t.lat.toRadians(), o = (t.lon - this.lon).toRadians(), s = Math.cos(i), a = 0, l = Math.sin(i), h = {
            x: s + Math.cos(r) * Math.cos(o),
            y: a + Math.cos(r) * Math.sin(o),
            z: l + Math.sin(r)
        }, c = Math.atan2(h.z, Math.sqrt(h.x * h.x + h.y * h.y)), u = n + Math.atan2(h.y, h.x), d = c.toDegrees(), p = u.toDegrees();
        return new e(d, p);
    }
    intermediatePointTo(t, i) {
        if (t instanceof e || (t = e.parse(t)), this.equals(t)) return new e(this.lat, this.lon);
        let n = this.lat.toRadians(), r = this.lon.toRadians(), o = t.lat.toRadians(), s = t.lon.toRadians(), a = o - n, l = s - r, h = Math.sin(a / 2) * Math.sin(a / 2) + Math.cos(n) * Math.cos(o) * Math.sin(l / 2) * Math.sin(l / 2), c = 2 * Math.atan2(Math.sqrt(h), Math.sqrt(1 - h)), u = Math.sin((1 - i) * c) / Math.sin(c), d = Math.sin(i * c) / Math.sin(c), p = u * Math.cos(n) * Math.cos(r) + d * Math.cos(o) * Math.cos(s), f = u * Math.cos(n) * Math.sin(r) + d * Math.cos(o) * Math.sin(s), m = u * Math.sin(n) + d * Math.sin(o), g = Math.atan2(m, Math.sqrt(p * p + f * f)), v = Math.atan2(f, p), y = g.toDegrees(), b = v.toDegrees();
        return new e(y, b);
    }
    destinationPoint(t, i, n = 6371e3) {
        let r = t / n, o = Number(i).toRadians(), s = this.lat.toRadians(), a = this.lon.toRadians(), l = Math.sin(s) * Math.cos(r) + Math.cos(s) * Math.sin(r) * Math.cos(o), h = Math.asin(l), c = Math.sin(o) * Math.sin(r) * Math.cos(s), u = Math.cos(r) - Math.sin(s) * l, d = a + Math.atan2(c, u), p = h.toDegrees(), f = d.toDegrees();
        return new e(p, f);
    }
    static intersection(t, i, n, r) {
        if (t instanceof e || (t = e.parse(t)), n instanceof e || (n = e.parse(n)), isNaN(i)) throw new TypeError("invalid brng1 \u2018".concat(i, "\u2019"));
        if (isNaN(r)) throw new TypeError("invalid brng2 \u2018".concat(r, "\u2019"));
        let o = t.lat.toRadians(), s = t.lon.toRadians(), a = n.lat.toRadians(), l = n.lon.toRadians(), h = Number(i).toRadians(), c = Number(r).toRadians(), u = a - o, d = l - s, p = 2 * Math.asin(Math.sqrt(Math.sin(u / 2) * Math.sin(u / 2) + Math.cos(o) * Math.cos(a) * Math.sin(d / 2) * Math.sin(d / 2)));
        if (Math.abs(p) < Number.EPSILON) return new e(t.lat, t.lon);
        let f = (Math.sin(a) - Math.sin(o) * Math.cos(p)) / (Math.sin(p) * Math.cos(o)), m = (Math.sin(o) - Math.sin(a) * Math.cos(p)) / (Math.sin(p) * Math.cos(a)), g = Math.acos(Math.min(Math.max(f, -1), 1)), v = Math.acos(Math.min(Math.max(m, -1), 1)), y = h - (Math.sin(l - s) > 0 ? g : 2 * qt - g), b = (Math.sin(l - s) > 0 ? 2 * qt - v : v) - c;
        if (0 == Math.sin(y) && 0 == Math.sin(b) || Math.sin(y) * Math.sin(b) < 0) return null;
        let w = -Math.cos(y) * Math.cos(b) + Math.sin(y) * Math.sin(b) * Math.cos(p), A = Math.atan2(Math.sin(p) * Math.sin(y) * Math.sin(b), Math.cos(b) + Math.cos(y) * w), x = Math.asin(Math.min(Math.max(Math.sin(o) * Math.cos(A) + Math.cos(o) * Math.sin(A) * Math.cos(h), -1), 1)), E = s + Math.atan2(Math.sin(h) * Math.sin(A) * Math.cos(o), Math.cos(A) - Math.sin(o) * Math.sin(x)), M = x.toDegrees(), q = E.toDegrees();
        return new e(M, q);
    }
    crossTrackDistanceTo(t, i, n = 6371e3) {
        t instanceof e || (t = e.parse(t)), i instanceof e || (i = e.parse(i));
        let r = n;
        if (this.equals(t)) return 0;
        let o = t.distanceTo(this, r) / r, s = t.initialBearingTo(this).toRadians(), a = t.initialBearingTo(i).toRadians();
        return Math.asin(Math.sin(o) * Math.sin(s - a)) * r;
    }
    alongTrackDistanceTo(t, i, n = 6371e3) {
        t instanceof e || (t = e.parse(t)), i instanceof e || (i = e.parse(i));
        let r = n;
        if (this.equals(t)) return 0;
        let o = t.distanceTo(this, r) / r, s = t.initialBearingTo(this).toRadians(), a = t.initialBearingTo(i).toRadians(), l = Math.asin(Math.sin(o) * Math.sin(s - a));
        return Math.acos(Math.cos(o) / Math.abs(Math.cos(l))) * Math.sign(Math.cos(a - s)) * r;
    }
    maxLatitude(e) {
        let t = Number(e).toRadians(), i = this.lat.toRadians();
        return Math.acos(Math.abs(Math.sin(t) * Math.cos(i))).toDegrees();
    }
    static crossingParallels(e, t, i) {
        if (e.equals(t)) return null;
        let n = Number(i).toRadians(), r = e.lat.toRadians(), o = e.lon.toRadians(), s = t.lat.toRadians(), a = t.lon.toRadians() - o, l = Math.sin(r) * Math.cos(s) * Math.cos(n) * Math.sin(a), h = Math.sin(r) * Math.cos(s) * Math.cos(n) * Math.cos(a) - Math.cos(r) * Math.sin(s) * Math.cos(n), c = Math.cos(r) * Math.cos(s) * Math.sin(n) * Math.sin(a);
        if (c * c > l * l + h * h) return null;
        let u = Math.atan2(-h, l), d = Math.acos(c / Math.sqrt(l * l + h * h)), p = o + u + d, f = (o + u - d).toDegrees(), m = p.toDegrees();
        return {
            lon1: He.wrap180(f),
            lon2: He.wrap180(m)
        };
    }
    rhumbDistanceTo(t, i = 6371e3) {
        t instanceof e || (t = e.parse(t));
        let n = i, r = this.lat.toRadians(), o = t.lat.toRadians(), s = o - r, a = Math.abs(t.lon - this.lon).toRadians();
        Math.abs(a) > qt && (a = a > 0 ? -(2 * qt - a) : 2 * qt + a);
        let l = Math.log(Math.tan(o / 2 + qt / 4) / Math.tan(r / 2 + qt / 4)), h = Math.abs(l) > 1e-11 ? s / l : Math.cos(r);
        return Math.sqrt(s * s + h * h * a * a) * n;
    }
    rhumbBearingTo(t) {
        if (t instanceof e || (t = e.parse(t)), this.equals(t)) return NaN;
        let i = this.lat.toRadians(), n = t.lat.toRadians(), r = (t.lon - this.lon).toRadians();
        Math.abs(r) > qt && (r = r > 0 ? -(2 * qt - r) : 2 * qt + r);
        let o = Math.log(Math.tan(n / 2 + qt / 4) / Math.tan(i / 2 + qt / 4)), s = Math.atan2(r, o).toDegrees();
        return He.wrap360(s);
    }
    rhumbDestinationPoint(t, i, n = 6371e3) {
        let r = this.lat.toRadians(), o = this.lon.toRadians(), s = Number(i).toRadians(), a = t / n, l = a * Math.cos(s), h = r + l;
        Math.abs(h) > qt / 2 && (h = h > 0 ? qt - h : -qt - h);
        let c = Math.log(Math.tan(h / 2 + qt / 4) / Math.tan(r / 2 + qt / 4)), u = Math.abs(c) > 1e-11 ? l / c : Math.cos(r), d = o + a * Math.sin(s) / u, p = h.toDegrees(), f = d.toDegrees();
        return new e(p, f);
    }
    rhumbMidpointTo(t) {
        t instanceof e || (t = e.parse(t));
        let i = this.lat.toRadians(), n = this.lon.toRadians(), r = t.lat.toRadians(), o = t.lon.toRadians();
        Math.abs(o - n) > qt && (n += 2 * qt);
        let s = (i + r) / 2, a = Math.tan(qt / 4 + i / 2), l = Math.tan(qt / 4 + r / 2), h = Math.tan(qt / 4 + s / 2), c = ((o - n) * Math.log(h) + n * Math.log(l) - o * Math.log(a)) / Math.log(l / a);
        isFinite(c) || (c = (n + o) / 2);
        let u = s.toDegrees(), d = c.toDegrees();
        return new e(u, d);
    }
    static areaOf(e, t = 6371e3) {
        let i = t, n = e[0].equals(e[e.length - 1]);
        n || e.push(e[0]);
        let r = e.length - 1, o = 0;
        for(let t = 0; t < r; t++){
            let i = e[t].lat.toRadians(), n = e[t + 1].lat.toRadians(), r = (e[t + 1].lon - e[t].lon).toRadians();
            o += 2 * Math.atan2(Math.tan(r / 2) * (Math.tan(i / 2) + Math.tan(n / 2)), 1 + Math.tan(i / 2) * Math.tan(n / 2));
        }
        a(e) && (o = Math.abs(o) - 2 * qt);
        let s = Math.abs(o * i * i);
        return n || e.pop(), s;
        function a(e) {
            let t = 0, i = e[0].initialBearingTo(e[1]);
            for(let n = 0; n < e.length - 1; n++){
                let r = e[n].initialBearingTo(e[n + 1]), o = e[n].finalBearingTo(e[n + 1]);
                t += (r - i + 540) % 360 - 180, t += (o - r + 540) % 360 - 180, i = o;
            }
            return t += (e[0].initialBearingTo(e[1]) - i + 540) % 360 - 180, Math.abs(t) < 90;
        }
    }
    equals(t) {
        return t instanceof e || (t = e.parse(t)), !(Math.abs(this.lat - t.lat) > Number.EPSILON || Math.abs(this.lon - t.lon) > Number.EPSILON);
    }
    toGeoJSON() {
        return {
            type: "Point",
            coordinates: [
                this.lon,
                this.lat
            ]
        };
    }
    toString(e = "d", t) {
        if (![
            "d",
            "dm",
            "dms",
            "n"
        ].includes(e)) throw new RangeError("invalid format \u2018".concat(e, "\u2019"));
        if ("n" == e) return null == t && (t = 4), "".concat(this.lat.toFixed(t), ",").concat(this.lon.toFixed(t));
        let i = He.toLat(this.lat, e, t), n = He.toLon(this.lon, e, t);
        return "".concat(i, ", ").concat(n);
    }
};
(0, _chunkZRT45YCMJs.a)(_e, "LatLonSpherical");
var Qe = _e;
function Or(e) {
    if (!e) throw new Error("coord is required");
    if (!Array.isArray(e)) {
        if ("Feature" === e.type && null !== e.geometry && "Point" === e.geometry.type) return e.geometry.coordinates;
        if ("Point" === e.type) return e.coordinates;
    }
    if (Array.isArray(e) && e.length >= 2 && !Array.isArray(e[0]) && !Array.isArray(e[1])) return e;
    throw new Error("coord must be GeoJSON Point or an Array of numbers");
}
function xn(e) {
    if (Array.isArray(e)) return e;
    if ("Feature" === e.type) {
        if (null !== e.geometry) return e.geometry.coordinates;
    } else if (e.coordinates) return e.coordinates;
    throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array");
}
function sP(e, t) {
    return "FeatureCollection" === e.type ? "FeatureCollection" : "GeometryCollection" === e.type ? "GeometryCollection" : "Feature" === e.type && null !== e.geometry ? e.geometry.type : e.type;
}
function Vk(e, t, i) {
    void 0 === i && (i = {});
    var n = Or(e), r = Or(t), o = un(r[1] - n[1]), s = un(r[0] - n[0]), a = un(n[1]), l = un(r[1]), h = Math.pow(Math.sin(o / 2), 2) + Math.pow(Math.sin(s / 2), 2) * Math.cos(a) * Math.cos(l);
    return iP(2 * Math.atan2(Math.sqrt(h), Math.sqrt(1 - h)), i.units);
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(Or, "getCoord"), (0, _chunkZRT45YCMJs.a)(xn, "getCoords"), (0, _chunkZRT45YCMJs.a)(sP, "getType"), (0, _chunkZRT45YCMJs.a)(Vk, "distance");
var xs = Vk;
function P0(e, t) {
    return void 0 === t && (t = {}), rP(e, function(e, i) {
        var n = i.geometry.coordinates;
        return e + xs(n[0], n[1], t);
    }, 0);
}
function S0(e, t, i) {
    if (void 0 === i && (i = {}), !0 === i.final) return Gk(e, t);
    var n = Or(e), r = Or(t), o = un(n[0]), s = un(r[0]), a = un(n[1]), l = un(r[1]), h = Math.sin(s - o) * Math.cos(l), c = Math.cos(a) * Math.sin(l) - Math.sin(a) * Math.cos(l) * Math.cos(s - o);
    return wd(Math.atan2(h, c));
}
function Gk(e, t) {
    var i = S0(t, e);
    return i = (i + 180) % 360;
}
function I0(e, t, i, n) {
    void 0 === n && (n = {});
    var r = Or(e), o = un(r[0]), s = un(r[1]), a = un(i), l = nP(t, n.units), h = Math.asin(Math.sin(s) * Math.cos(l) + Math.cos(s) * Math.sin(l) * Math.cos(a));
    return Fi([
        wd(o + Math.atan2(Math.sin(a) * Math.sin(l) * Math.cos(s), Math.cos(l) - Math.sin(s) * Math.sin(h))),
        wd(h)
    ], n.properties);
}
function jk(e) {
    if (!e) throw new Error("geojson is required");
    var t = [];
    return Ad(e, function(e) {
        Hk(e, t);
    }), Io(t);
}
function Hk(e, t) {
    var i = [], n = e.geometry;
    if (null !== n) {
        switch(n.type){
            case "Polygon":
                i = xn(n);
                break;
            case "LineString":
                i = [
                    xn(n)
                ];
        }
        i.forEach(function(i) {
            Yk(i, e.properties).forEach(function(e) {
                e.id = t.length, t.push(e);
            });
        });
    }
}
function Yk(e, t) {
    var i = [];
    return e.reduce(function(e, n) {
        var r = ga([
            e,
            n
        ], t);
        return r.bbox = Wk(e, n), i.push(r), n;
    }), i;
}
function Wk(e, t) {
    var i = e[0], n = e[1], r = t[0], o = t[1];
    return [
        i < r ? i : r,
        n < o ? n : o,
        i > r ? i : r,
        n > o ? n : o
    ];
}
(0, _chunkZRT45YCMJs.a)(P0, "length"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(S0, "bearing"), (0, _chunkZRT45YCMJs.a)(Gk, "calculateFinalBearing"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(I0, "destination"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(jk, "lineSegment"), (0, _chunkZRT45YCMJs.a)(Hk, "lineSegmentFeature"), (0, _chunkZRT45YCMJs.a)(Yk, "createSegments"), (0, _chunkZRT45YCMJs.a)(Wk, "bbox");
var Kx = jk, wP = (0, _chunkZRT45YCMJs.e)(EP(), 1);
function xB(e, t) {
    var i = {}, n = [];
    if ("LineString" === e.type && (e = bs(e)), "LineString" === t.type && (t = bs(t)), "Feature" === e.type && "Feature" === t.type && null !== e.geometry && null !== t.geometry && "LineString" === e.geometry.type && "LineString" === t.geometry.type && 2 === e.geometry.coordinates.length && 2 === t.geometry.coordinates.length) {
        var r = MP(e, t);
        return r && n.push(r), Io(n);
    }
    var o = (0, wP.default)();
    return o.load(Kx(t)), Xx(Kx(e), function(e) {
        Xx(o.search(e), function(t) {
            var r = MP(e, t);
            if (r) {
                var o = xn(r).join(",");
                i[o] || (i[o] = !0, n.push(r));
            }
        });
    }), Io(n);
}
function MP(e, t) {
    var i = xn(e), n = xn(t);
    if (2 !== i.length) throw new Error("<intersects> line1 must only contain 2 coordinates");
    if (2 !== n.length) throw new Error("<intersects> line2 must only contain 2 coordinates");
    var r = i[0][0], o = i[0][1], s = i[1][0], a = i[1][1], l = n[0][0], h = n[0][1], c = n[1][0], u = n[1][1], d = (u - h) * (s - r) - (c - l) * (a - o);
    if (0 === d) return null;
    var p = ((c - l) * (o - h) - (u - h) * (r - l)) / d, f = ((s - r) * (o - h) - (a - o) * (r - l)) / d;
    return p >= 0 && p <= 1 && f >= 0 && f <= 1 ? Fi([
        r + p * (s - r),
        o + p * (a - o)
    ]) : null;
}
(0, _chunkZRT45YCMJs.a)(xB, "lineIntersect"), (0, _chunkZRT45YCMJs.a)(MP, "intersects");
var AP = xB;
function TB(e, t, i) {
    void 0 === i && (i = {});
    var n = Fi([
        1 / 0,
        1 / 0
    ], {
        dist: 1 / 0
    }), r = 0;
    return Ad(e, function(e) {
        for(var o = xn(e), s = 0; s < o.length - 1; s++){
            var a = Fi(o[s]);
            a.properties.dist = xs(t, a, i);
            var l = Fi(o[s + 1]);
            l.properties.dist = xs(t, l, i);
            var h = xs(a, l, i), c = Math.max(a.properties.dist, l.properties.dist), u = S0(a, l), d = I0(t, c, u + 90, i), p = I0(t, c, u - 90, i), f = AP(ga([
                d.geometry.coordinates,
                p.geometry.coordinates
            ]), ga([
                a.geometry.coordinates,
                l.geometry.coordinates
            ])), m = null;
            f.features.length > 0 && ((m = f.features[0]).properties.dist = xs(t, m, i), m.properties.location = r + xs(a, m, i)), a.properties.dist < n.properties.dist && ((n = a).properties.index = s, n.properties.location = r), l.properties.dist < n.properties.dist && ((n = l).properties.index = s + 1, n.properties.location = r + h), m && m.properties.dist < n.properties.dist && ((n = m).properties.index = s), r += h;
        }
    }), n;
}
(0, _chunkZRT45YCMJs.a)(TB, "nearestPointOnLine");
var Pd = TB;
function EB(e, t, i) {
    var n = xn(i);
    if ("LineString" !== sP(i)) throw new Error("line must be a LineString");
    for(var r, o = Pd(i, e), s = Pd(i, t), a = [
        (r = o.properties.index <= s.properties.index ? [
            o,
            s
        ] : [
            s,
            o
        ])[0].geometry.coordinates
    ], l = r[0].properties.index + 1; l < r[1].properties.index + 1; l++)a.push(n[l]);
    return a.push(r[1].geometry.coordinates), ga(a, i.properties);
}
(0, _chunkZRT45YCMJs.a)(EB, "lineSlice");
var c3 = EB;
function MB(e, t) {
    void 0 === t && (t = {});
    var i = C0(e);
    return Fi([
        (i[0] + i[2]) / 2,
        (i[1] + i[3]) / 2
    ], t.properties, t);
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(MB, "center");
var CP = MB;
function wB(e, t, i) {
    void 0 === i && (i = {});
    for(var n = Or(e), r = xn(t), o = 0; o < r.length - 1; o++){
        var s = !1;
        if (i.ignoreEndVertices && (0 === o && (s = "start"), o === r.length - 2 && (s = "end"), 0 === o && o + 1 === r.length - 1 && (s = "both")), AB(r[o], r[o + 1], n, s, typeof i.epsilon > "u" ? null : i.epsilon)) return !0;
    }
    return !1;
}
function AB(e, t, i, n, r) {
    var o = i[0], s = i[1], a = e[0], l = e[1], h = t[0], c = t[1], u = h - a, d = c - l, p = (i[0] - a) * d - (i[1] - l) * u;
    if (null !== r) {
        if (Math.abs(p) > r) return !1;
    } else if (0 !== p) return !1;
    return n ? "start" === n ? Math.abs(u) >= Math.abs(d) ? u > 0 ? a < o && o <= h : h <= o && o < a : d > 0 ? l < s && s <= c : c <= s && s < l : "end" === n ? Math.abs(u) >= Math.abs(d) ? u > 0 ? a <= o && o < h : h < o && o <= a : d > 0 ? l <= s && s < c : c < s && s <= l : "both" === n && (Math.abs(u) >= Math.abs(d) ? u > 0 ? a < o && o < h : h < o && o < a : d > 0 ? l < s && s < c : c < s && s < l) : Math.abs(u) >= Math.abs(d) ? u > 0 ? a <= o && o <= h : h <= o && o <= a : d > 0 ? l <= s && s <= c : c <= s && s <= l;
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(wB, "booleanPointOnLine"), (0, _chunkZRT45YCMJs.a)(AB, "isPointOnLineSegment");
var PP = wB, CB = 1e-7, SP = .005, IP = [
    "connection.json",
    "manifest.geojson",
    "map.geojson",
    "node.geojson",
    "styles.json",
    "mapstack.geojson"
];
function h3(e, t) {
    let i = _B(t);
    return Io(e.features.reduce((e, t)=>{
        let n = [
            t
        ], { properties: r } = t, o = (r.entrances || []).reduce((e, t)=>(i.has(t) && e.push(i.get(t)), e), []);
        return o.length && (n = PB(t, o)), e.push(...n), e;
    }, []));
}
function PB(e, t) {
    return t.reduce((e, t)=>{
        let i = {
            epsilon: CB
        }, n = e.findIndex((e)=>PP(CP(t), e, i)), r = e[n];
        if (r) {
            let [i, o] = IB(r, t);
            e.splice(n, 1, i, o);
        }
        return e;
    }, [
        e
    ]);
}
function SB(e) {
    return null != e && (null != e.polygons || null != e.lineStrings);
}
function IB(e, t) {
    let { coordinates: i } = t.geometry, { coordinates: n } = e.geometry, r = i.map((t)=>Pd(e, Fi(t)));
    return n.reduce((t, i)=>{
        let n = c3(Fi(i), r[0], e), o = c3(Fi(i), r[1], e), s = P0(n) < P0(o) ? n : o;
        return s.properties = {
            ...e.properties,
            entrances: []
        }, t.concat([
            s
        ]);
    }, []);
}
function _P(e) {
    let t = new Map;
    for(let i in e){
        let n = e[i];
        if (!SB(n)) continue;
        let { altitude: r, color: o, width: s, height: a, opacity: l } = n, h = {
            altitude: r,
            color: o,
            width: s,
            height: a,
            opacity: l,
            type: i
        };
        (n.polygons || n.lineStrings).forEach((e)=>{
            t.set(e, h);
        });
    }
    return t;
}
function _B(e) {
    return new Map(e.features.map((e)=>{
        let { properties: t } = e, { id: i } = t;
        return [
            i,
            e
        ];
    }));
}
function L0(e) {
    if (0 === e.length) return;
    let t;
    for (let i of e)if ("number" == typeof i.elevation) {
        if (!t) {
            t = i;
            continue;
        }
        "number" == typeof t.elevation && (t = Math.abs(i.elevation) === Math.abs(t.elevation) ? i.elevation > t.elevation ? i : t : Math.abs(i.elevation) < Math.abs(t.elevation) ? i : t);
    }
    return t;
}
function OB(e) {
    if (null == e || "object" != typeof e) return !1;
    for (let t of IP)if ("Uint8Array" !== e[t][Symbol.toStringTag]) return !1;
    return !0;
}
function DB(e) {
    var t;
    if (null == e || "object" != typeof e) return !1;
    let i = [
        "building.geojson",
        "category.geojson",
        "location.geojson",
        "manifest.geojson"
    ];
    for (let n of i)if ("Uint8Array" !== (null == (t = null == e ? void 0 : e[n]) ? void 0 : t[Symbol.toStringTag])) return !1;
    return !0;
}
async function LP(e) {
    return new Promise(async (t, i)=>{
        try {
            if (null == e || "object" != typeof e) throw new Error("Error parsing data! Unzipping failed.");
            if ("Uint8Array" !== e[Symbol.toStringTag]) throw new Error("Unexpected file type! Unzipping failed.");
            let i = (await require("1644b1b23487925a")).unzipSync(e);
            if (!DB(i)) throw new Error("MVF is missing some expect static files. Unzipping failed.");
            let n = {
                "building.geojson": i["building.geojson"],
                "category.geojson": i["category.geojson"],
                "location.geojson": i["location.geojson"],
                "manifest.geojson": i["manifest.geojson"],
                space: {},
                obstruction: {},
                node: {},
                level: {},
                connection: {}
            }, r = Object.keys(i);
            for (let e of r){
                if (0 === i[e].length) continue;
                let t = e.split("/");
                if (t.length < 0) throw new Error("Encounted a file with no name! Unzipping failed.");
                if (t.length > 2) throw new Error("Encountered unexpected nesting in MVF! Unzipping failed.");
                if (1 !== t.length) {
                    if ("image" === t[0]) {
                        R.warn("MVF unzipping encountered an image. Ignoring as this case has not been implemented.");
                        continue;
                    }
                    null == n[t[0]] && (n[t[0]] = {}), n[t[0]][t[1]] = i[e];
                }
            }
            t(n);
        } catch (e) {
            i(e);
        }
    });
}
async function p3(e) {
    return new Promise(async (t, i)=>{
        try {
            if (null == e || "object" != typeof e) throw new Error("Error parsing data! Unzipping failed.");
            if ("Uint8Array" !== e[Symbol.toStringTag]) throw new Error("Unexpected file type! Unzipping failed.");
            let i = (await require("1644b1b23487925a")).unzipSync(e);
            if (!OB(i)) throw new Error("MVF is missing some expect static files. Unzipping failed.");
            let n = {
                "connection.json": i["connection.json"],
                "manifest.geojson": i["manifest.geojson"],
                "node.geojson": i["node.geojson"],
                "map.geojson": i["map.geojson"],
                "mapstack.geojson": i["mapstack.geojson"],
                "styles.json": i["styles.json"],
                space: {},
                obstruction: {},
                entrance: {}
            }, r = Object.keys(i);
            for (let e of r){
                if (0 === i[e].length) continue;
                let t = e.split("/");
                if (t.length < 0) throw new Error("Encounted a file with no name! Unzipping failed.");
                if (t.length > 2) throw new Error("Encountered unexpected nesting in MVF! Unzipping failed.");
                if (1 !== t.length) {
                    if ("image" === t[0]) {
                        R.warn("MVF unzipping encountered an image. Ignoring as this case has not been implemented.");
                        continue;
                    }
                    null == n[t[0]] && (n[t[0]] = {}), n[t[0]][t[1]] = i[e];
                }
            }
            t(n);
        } catch (e) {
            i(e);
        }
    });
}
function qP(e) {
    let [t, i, n, r] = C0(e);
    return {
        minLat: i,
        minLong: t,
        maxLat: r,
        maxLong: n
    };
}
function LB(e, t, i) {
    let n = i.createGeoreferences(), r = new Set;
    t.forEach((e)=>{
        e.layer && r.add(e.layer);
    });
    let o = e.id || "", s = e.externalId || o || "", a = e.elevation || 0, l = [
        ...r
    ].map((e)=>({
            id: e,
            visible: !0
        })), h = 1 / i.mapScale;
    return {
        id: o,
        georeference: n,
        name: s,
        shortName: s,
        scene: {
            polygons: t
        },
        elevation: a,
        scale: h,
        x_scale: h,
        layers: l,
        width: i.widthInMapUnits,
        height: i.heightInMapUnits
    };
}
(0, _chunkZRT45YCMJs.a)(h3, "processObstructions"), (0, _chunkZRT45YCMJs.a)(PB, "splitObstructionByAllEntrances"), (0, _chunkZRT45YCMJs.a)(SB, "isPolygonStyle"), (0, _chunkZRT45YCMJs.a)(IB, "splitObstructionByEntrance"), (0, _chunkZRT45YCMJs.a)(_P, "getStylesMap"), (0, _chunkZRT45YCMJs.a)(_B, "getEntranceMap"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(L0, "findMapWithElevationClosestToZero"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(OB, "validateStaticMVFFiles"), (0, _chunkZRT45YCMJs.a)(DB, "validateStaticMVFv1Files"), (0, _chunkZRT45YCMJs.a)(LP, "unzipMVFv1"), (0, _chunkZRT45YCMJs.a)(p3, "unzipMVF"), (0, _chunkZRT45YCMJs.a)(qP, "getMapExtent"), (0, _chunkZRT45YCMJs.a)(LB, "convertMap");
var m3 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "mapExtent"), (0, _chunkZRT45YCMJs.f)(this, "stretchRatio"), (0, _chunkZRT45YCMJs.f)(this, "midLat"), (0, _chunkZRT45YCMJs.f)(this, "midLong"), (0, _chunkZRT45YCMJs.f)(this, "mapUnitRatio", 1e6), (0, _chunkZRT45YCMJs.f)(this, "latDistance"), (0, _chunkZRT45YCMJs.f)(this, "longDistance"), (0, _chunkZRT45YCMJs.f)(this, "mapScale"), (0, _chunkZRT45YCMJs.f)(this, "widthInMapUnits"), (0, _chunkZRT45YCMJs.f)(this, "heightInMapUnits"), this.mapExtent = e;
        let { minLat: t, minLong: i, maxLat: n, maxLong: r } = e, o = (t + n) / 2, s = (i + r) / 2, a = new Qe(o, r), l = new Qe(o, i), h = new Qe(t, s), c = new Qe(n, s);
        this.latDistance = h.distanceTo(c), this.longDistance = a.distanceTo(l);
        let u = this.latDistance / this.longDistance, d = (n - t) / (r - i);
        this.stretchRatio = u / d, this.midLat = o, this.midLong = s, this.widthInMapUnits = (r - i) * this.mapUnitRatio, this.heightInMapUnits = (n - t) * this.mapUnitRatio * this.stretchRatio, this.mapScale = this.widthInMapUnits / this.longDistance;
    }
    convert(e) {
        let t = e[1], i = (e[0] - this.midLong) * this.mapUnitRatio, n = (this.midLat - t) * this.mapUnitRatio * this.stretchRatio;
        return {
            x: i + this.widthInMapUnits / 2,
            y: n + this.heightInMapUnits / 2
        };
    }
    createGeoreferences() {
        let { minLat: e, minLong: t, maxLat: i, maxLong: n } = this.mapExtent;
        return [
            [
                e,
                t
            ],
            [
                e,
                n
            ],
            [
                i,
                n
            ],
            [
                i,
                t
            ]
        ].map((e)=>({
                target: {
                    x: e[0],
                    y: e[1]
                },
                control: this.convert([
                    e[1],
                    e[0]
                ])
            }));
    }
};
(0, _chunkZRT45YCMJs.a)(m3, "CoordinateConverter");
var q0 = m3;
function qB(e, t) {
    let i = [];
    return e.forEach((n, r)=>{
        let o = n.properties.map || "", s = t.get(o);
        if (s) {
            let t = s.convert(n.geometry.coordinates), a = n.properties.externalId || "", l = [];
            n.properties.neighbors.forEach((t)=>{
                var i;
                let n = null != (i = t.weight) ? i : 0, r = e.get(t.id);
                r && r.properties.map === o && l.push({
                    node: r.properties.id,
                    map: r.properties.map,
                    weight: n
                });
            }), i.push({
                id: r,
                map: o,
                externalId: a,
                paths: l,
                ...t
            });
        }
    }), i;
}
function NB(e, t, i) {
    let n = [];
    return e.features.forEach((e)=>{
        let r = i.convert(e.geometry.coordinates);
        n.push({
            id: e.properties.id,
            x: r.x,
            y: r.y,
            map: t,
            paths: e.properties.neighbors.map((e)=>({
                    node: e,
                    map: t
                }))
        });
    }), n;
}
(0, _chunkZRT45YCMJs.a)(qB, "convertNodes"), (0, _chunkZRT45YCMJs.a)(NB, "convertNodes_MVFv1");
var OP = (0, _chunkZRT45YCMJs.a)((e, t, i, n, r, o)=>{
    var s, a, l;
    let h, c = [], u = Math.max(o.widthInMapUnits, o.heightInMapUnits) / 1e3, d = r.Walls, p = null != (s = r.ExteriorWalls) ? s : d, f = {
        map: e,
        id: "walls" + e,
        externalId: "walls" + e,
        layer: "Wall",
        isLineStringSegment: !0,
        geometry: {
            visible: !0,
            position: {
                x: 0,
                y: 0,
                z: ((null == d ? void 0 : d.altitude) || 0) * o.mapScale / u
            },
            scale: {
                x: 1,
                y: 1,
                z: ((null == d ? void 0 : d.height) || 1) * o.mapScale / u
            },
            width: null == d ? void 0 : d.width
        },
        material: {
            color: (null == d ? void 0 : d.color) || "#000000"
        },
        vertexes: []
    }, m = {
        map: e,
        id: "externalWalls" + e,
        externalId: "externalWalls" + e,
        layer: "ExternalWall",
        isLineStringSegment: !0,
        geometry: {
            visible: !0,
            position: {
                x: 0,
                y: 0,
                z: ((null == p ? void 0 : p.altitude) || 0) * o.mapScale / u
            },
            scale: {
                x: 1,
                y: 1,
                z: ((null == p ? void 0 : p.height) || 1) * o.mapScale / u
            },
            width: null == p ? void 0 : p.width
        },
        material: {
            color: (null == p ? void 0 : p.color) || "#000000"
        },
        vertexes: []
    };
    for(let r = 0; r < t.features.length; r++){
        let s = t.features[r];
        if ("Point" === s.geometry.type) continue;
        let d = "desk-entrance" === (null == (a = s.properties.kind) ? void 0 : a.toLowerCase()), p = (d ? s.properties.externalId : s.properties.id) || "", g = s.properties.externalId || "", v = i.get(p) || [];
        if ("destinationNodes" in s.properties && s.properties.destinationNodes.forEach((t)=>{
            v.push({
                map: e,
                id: t
            });
        }), d) i.set(g, v);
        else {
            let i = n.get(s.properties.id), a = s.properties.center ? o.convert(s.properties.center) : void 0, d = s.geometry.coordinates.slice(1).map((e)=>e.map((e)=>o.convert(e))), y = s.properties.kind || "", b = "void" === y.toLowerCase(), w = 1 - (r + 1) / t.features.length * SP;
            "LineString" === s.geometry.type && "wall" === (null == (l = s.properties.kind) ? void 0 : l.toLowerCase()) ? (h = s.geometry.coordinates.map((e)=>o.convert(e)), s.properties.footprintComponent ? m.vertexes.push(h) : f.vertexes.push(h)) : (h = s.geometry.coordinates[0].map((e)=>o.convert(e)), c.push({
                entrances: v,
                map: e,
                id: p,
                externalId: g,
                layer: y,
                geometry: {
                    visible: !b,
                    position: {
                        x: 0,
                        y: 0,
                        z: ((null == i ? void 0 : i.altitude) || 0) * o.mapScale / u
                    },
                    scale: {
                        x: 1,
                        y: 1,
                        z: ((null == i ? void 0 : i.height) || 1) * o.mapScale / u * w
                    },
                    width: null == i ? void 0 : i.width
                },
                material: {
                    color: (null == i ? void 0 : i.color) || "#000000"
                },
                vertexes: h,
                center: a,
                holes: d
            }));
        }
    }
    return f.vertexes.length > 0 && c.push(f), m.vertexes.length > 0 && c.push(m), c;
}, "generateMappedinPolygons"), DP = (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
    let n = [];
    return t.features.forEach((t)=>{
        if (!t.geometry.coordinates[0].forEach) return;
        let r = t.properties, o = t.geometry.coordinates[0].map((e)=>i.convert(e)), s = t.geometry.coordinates.slice(1).map((e)=>e.map((e)=>i.convert(e))), a = Math.max(i.widthInMapUnits, i.heightInMapUnits) / 1e3, l = [];
        "entrances" in t.properties && t.properties.entrances.forEach((e)=>l.push({
                id: "n_" + e.id,
                map: e.level
            })), n.push({
            entrances: null != l ? l : [],
            map: e,
            id: t.properties.id || "",
            externalId: t.properties.externalId || "",
            layer: t.properties.layer || "Polygon",
            geometry: {
                visible: !0,
                position: {
                    x: 0,
                    y: 0,
                    z: ((null == r ? void 0 : r.altitude) || 0) * i.mapScale / a
                },
                scale: {
                    x: 1,
                    y: 1,
                    z: ((null == r ? void 0 : r.height) || 1) * i.mapScale / a
                }
            },
            material: {
                color: (null == r ? void 0 : r.color) || "#000000"
            },
            vertexes: o,
            holes: s
        });
    }), n;
}, "generateMappedinPolygons_MVFv1");
function RB(e, t, i, n, r, o, s) {
    let a = OP(e, i, n, r, o, s), l = OP(e, t, n, r, o, s);
    return a.concat(l);
}
function kB(e, t) {
    let i = [];
    return e.forEach((e)=>{
        var n;
        let r;
        for (let i of e.nodes){
            let n = t.get(i);
            if (n) {
                for (let t of n.properties.neighbors)if (e.nodes.includes(t.id) && t.weight) {
                    r = t.weight;
                    break;
                }
            }
            if (r) break;
        }
        i.push({
            id: e.id || "",
            name: e.externalId || "",
            type: e.type || "",
            weight: null != r ? r : 1e3,
            multiplier: 1,
            nodes: e.nodes || [],
            accessible: null != (n = e.accessible) && n
        });
    }), i;
}
function BB(e) {
    let t = new Map;
    return e.features.forEach((e)=>{
        var i, n, r, o, s, a, l;
        let h = "", c = [
            "n_".concat(e.properties.id)
        ];
        e.properties.destinations.forEach((e)=>{
            let t = e.split("-");
            h = t[0], c.push("n_".concat(t[1]));
        });
        let u = null != (n = null == (i = t.get(h)) ? void 0 : i.nodes) ? n : [], d = new Set([
            ...u,
            ...c
        ]);
        t.set(h, {
            id: h,
            name: null != (r = e.properties.name) ? r : "",
            type: null != (o = e.properties.type) ? o : "",
            weight: null != (s = e.properties.weight) ? s : 1e3,
            multiplier: null != (a = e.properties.multiplier) ? a : 1,
            nodes: Array.from(d),
            accessible: null != (l = e.properties.accessible) && l
        });
    }), Array.from(t.values());
}
function NP(e, t) {
    if (t) for(let i in t)t.hasOwnProperty(i) && Object.assign(e[i], t[i]);
    return e;
}
function f3(e) {
    let t = new TextDecoder, i = t.decode.bind(t);
    try {
        let t = {
            "connection.json": JSON.parse(i(e["connection.json"])),
            "manifest.geojson": JSON.parse(i(e["manifest.geojson"])),
            "styles.json": JSON.parse(i(e["styles.json"])),
            "map.geojson": JSON.parse(i(e["map.geojson"])),
            "mapstack.geojson": JSON.parse(i(e["mapstack.geojson"])),
            "node.geojson": JSON.parse(i(e["node.geojson"])),
            obstruction: {},
            space: {},
            entrance: {},
            annotation: {}
        };
        if (null != e.annotation) {
            let n = Object.keys(e.annotation);
            for (let r of n){
                let n = r.replace(/\.json|\.geojson/g, "");
                t.annotation[n] = JSON.parse(i(e.annotation[r]));
            }
        }
        let n = Object.keys(e.space);
        for (let r of n){
            let n = r.replace(/\.json|\.geojson/g, "");
            t.space[n] = JSON.parse(i(e.space[r]));
        }
        let r = Object.keys(e.obstruction);
        for (let n of r){
            let r = n.replace(/\.json|\.geojson/g, "");
            t.obstruction[r] = JSON.parse(i(e.obstruction[n]));
        }
        let o = Object.keys(e.entrance);
        for (let n of o){
            let r = n.replace(/\.json|\.geojson/g, "");
            t.entrance[r] = JSON.parse(i(e.entrance[n]));
        }
        return t;
    } catch (e) {
        throw R.error(e), new Error("MVF parsing failed! Probably encountered a bad file.");
    }
}
function RP(e) {
    let t = new TextDecoder, i = t.decode.bind(t);
    try {
        let t = {
            "manifest.geojson": JSON.parse(i(e["manifest.geojson"])),
            "building.geojson": JSON.parse(i(e["building.geojson"])),
            "category.geojson": JSON.parse(i(e["category.geojson"])),
            "location.geojson": JSON.parse(i(e["location.geojson"])),
            obstruction: {},
            space: {},
            level: {},
            node: {},
            connection: {}
        }, n = Object.keys(e.space);
        for (let r of n){
            let n = r.replace(/\.json|\.geojson/g, "");
            t.space[n] = JSON.parse(i(e.space[r]));
        }
        let r = Object.keys(e.obstruction);
        for (let n of r){
            let r = n.replace(/\.json|\.geojson/g, "");
            t.obstruction[r] = JSON.parse(i(e.obstruction[n]));
        }
        let o = Object.keys(e.node);
        for (let n of o){
            let r = n.replace(/\.json|\.geojson/g, "");
            t.node[r] = JSON.parse(i(e.node[n]));
        }
        let s = Object.keys(e.level);
        for (let n of s){
            let r = n.replace(/\.json|\.geojson/g, "");
            t.level[r] = JSON.parse(i(e.level[n]));
        }
        let a = Object.keys(e.connection);
        for (let n of a){
            let r = n.replace(/\.json|\.geojson/g, "");
            t.connection[r] = JSON.parse(i(e.connection[n]));
        }
        return t;
    } catch (e) {
        throw R.error(e), new Error("MVF parsing failed! Probably encountered a bad file.");
    }
}
function kP(e, t) {
    var i;
    let n = null != (i = t.properties.externalId) ? i : "";
    return 0 === n.length && (n = t.properties.id), "location-".concat(e, "-").concat(n.toLowerCase().replace(" ", "-"));
}
function BP(e, t) {
    var i;
    let n = new Set;
    if ("entrance" === e) n.add("Entrance");
    else if ("obstruction" === e) {
        let e = t.properties.kind;
        null != e && e.length > 0 && n.add(e), t.properties.footprintComponent && n.add("Exterior");
    } else if ("space" === e) {
        let e = t.properties.kind;
        null != e && e.length > 0 && n.add("default" === e ? "Room" : e);
        let r = null != (i = t.properties.tags) ? i : [];
        if (r.length > 0) for (let e of r)n.add(e);
    }
    return Array.from(n).filter((e)=>e.length > 0);
}
function FP(e) {
    return "category-".concat(e.toLowerCase().replace(" ", "-"));
}
function d3(e, t, i) {
    let n = BP(e, t);
    for (let e of n){
        let t = FP(e);
        null == i[t] && (i[t] = {
            id: t,
            name: e
        });
    }
}
function UP(e) {
    var t, i, n;
    return null != (n = null == (i = null == (t = null == e ? void 0 : e.properties) ? void 0 : t.kind) ? void 0 : i.startsWith("connection")) && n;
}
function FB(e) {
    var t;
    let i = null != (t = e.properties.externalId) ? t : "";
    return UP(e) && 0 === i.length && (i = "unnamed-connection-" + e.properties.id), i;
}
function Sd(e, t, i, n) {
    var r;
    if ((null == t.properties.externalId || 0 === t.properties.externalId.length) && !UP(t) || "obstruction" === e && "desks" !== (null == (r = t.properties.kind) ? void 0 : r.toLowerCase())) return;
    let o = FB(t), s = kP(e, t);
    if (null == n[s]) {
        let e = {
            id: s,
            type: "",
            name: o,
            nodes: [],
            polygons: [],
            categories: []
        };
        n[s] = e;
    }
    if ("space" === e || "obstruction" === e) {
        let e = {
            map: i.id,
            id: t.properties.id
        };
        n[s].polygons.push(e);
    }
    if ("destinationNodes" in t.properties && t.properties.destinationNodes.forEach((e)=>{
        let t = {
            map: i.id,
            node: e
        };
        n[s].nodes.push(t);
    }), "node" in t.properties && t.properties.node) {
        let e = {
            map: i.id,
            node: t.properties.node
        };
        n[s].nodes.push(e);
    }
    let a = BP(e, t);
    for (let e of a){
        let t = FP(e);
        n[s].categories.push(t);
    }
}
function UB(e, t = new Map) {
    var i, n, r, o, s, a, l, h, c;
    let u = {}, d = {}, { space: p, "map.geojson": f, entrance: m, obstruction: g } = e;
    for (let e of f){
        let f = null != (n = null == (i = p[e.id]) ? void 0 : i.features) ? n : [], v = null != (o = null == (r = m[e.id]) ? void 0 : r.features) ? o : [], y = null != (a = null == (s = g[e.id]) ? void 0 : s.features) ? a : [];
        for (let t of f)[
            "Polygon",
            "Point"
        ].includes(t.geometry.type) && "hallway" !== (null == (l = t.properties.kind) ? void 0 : l.toLowerCase()) && (d3("space", t, d), Sd("space", t, e, u));
        let b = new Map;
        for (let t of v)b.set(t.properties.id, t), t.properties.externalId && (d3("entrance", t, d), Sd("entrance", t, e, u));
        let w = {
            type: "Feature",
            geometry: {
                type: "LineString",
                coordinates: []
            },
            properties: {
                id: "footprintComponent",
                externalId: "footprintComponent",
                node: void 0,
                metadata: void 0
            }
        };
        Sd("entrance", w, e, u);
        for (let i of y){
            if (d3("obstruction", i, d), Sd("obstruction", i, e, u), i.properties.footprintComponent) {
                let t = i.properties.entrances;
                for (let i of t){
                    let t = b.get(i);
                    t && Sd("entrance", {
                        ...t,
                        properties: {
                            ...t.properties,
                            externalId: w.properties.externalId
                        }
                    }, e, u);
                }
            }
            if ("desks" === (null == (h = i.properties.kind) ? void 0 : h.toLowerCase()) && i.properties.externalId.length > 0) {
                let e = null != (c = t.get(i.properties.id)) ? c : [];
                for (let t of e){
                    let e = kP("obstruction", i);
                    null != u[e] && u[e].nodes.push({
                        map: t.map,
                        node: t.id
                    });
                }
            }
        }
    }
    return {
        locations: Object.values(u),
        categories: Object.values(d)
    };
}
function zP(e) {
    var t, i, n, r, o, s, a, l, h, c;
    let u = null != (t = e.obstruction) ? t : [], d = null != (i = e.space) ? i : [], p = null != (n = e.entrance) ? n : [], f = null != (r = e["mapstack.geojson"]) ? r : [], m = null != (o = e["map.geojson"]) ? o : [], g = null != (s = e["styles.json"]) ? s : {}, v = null != (a = e["manifest.geojson"]) ? a : {}, y = null != (l = e["node.geojson"]) ? l : {}, b = null != (h = e["connection.json"]) ? h : [], w = {}, A = new Map, x = [], E = _P(g), M = new Map, q = new Map;
    m.forEach((e)=>{
        let t = e.id;
        t && !q.has(t) && q.set(t, e);
    }), f.forEach(({ maps: e })=>{
        e.forEach((e)=>{
            if (!q.has(e)) return;
            let t = h3(u[e], p[e]);
            if (t.features.length) {
                let i = qP(t), n = new q0(i);
                A.set(e, n), w[e] = RB(e, t, d[e], M, E, g, n), x.push(LB(q.get(e), w[e], n));
            }
        });
    }), x.sort((e, t)=>"number" == typeof e.elevation && "number" == typeof t.elevation ? e.elevation - t.elevation : 0);
    let C = new Map;
    "features" in y && y.features.forEach((e)=>{
        let t = e.properties.id;
        t && !C.has(t) && C.set(t, e);
    });
    let T = Object.values(w).flat(), P = kB(b, C), S = qB(C, A), I = v.features[0], O = I.properties.name, D = I.geometry.coordinates[0], _ = I.geometry.coordinates[1], L = (null == (c = L0(x)) ? void 0 : c.id) || "", { locations: B, categories: R } = UB(e, M);
    return {
        polygons: T,
        venue: {
            name: O,
            latitude: _,
            longitude: D,
            defaultMap: L
        },
        maps: x,
        vortexes: P,
        nodes: S,
        locations: B,
        mapGroups: [],
        locationStates: [],
        categories: R,
        themes: [],
        imageBinaries: new Map
    };
}
function VP(e) {
    var t, i, n, r, o, s, a;
    let l = null != (t = e.obstruction) ? t : {}, h = null != (i = e.space) ? i : {}, c = null != (n = e.node) ? n : {}, u = null != (r = e.level) ? r : {}, d = null != (o = e["manifest.geojson"]) ? o : {}, p = null != (s = e.connection) ? s : {}, f = {}, m = new Map, g = [], v = [], y = [];
    Object.keys(u).forEach((e)=>{
        let t = h3(l[e], {
            type: "FeatureCollection",
            features: []
        });
        if (t.features.length) {
            let i = qP(t), n = new q0(i);
            m.set(e, n);
            let r = DP(e, h[e], n), o = DP(e, t, n);
            f[e] = r.concat(o), v = v.concat(NB(c[e], e, n)), g.push(zB(u[e], f[e], n));
        }
        y = y.concat(BB(p[e]));
    });
    let b = Object.values(f).flat(), w = d.features[0], A = w.properties.name, x = w.geometry.coordinates[0], E = w.geometry.coordinates[1], M = (null == (a = g[0]) ? void 0 : a.id) || "", q = new Map;
    b.forEach((e)=>q.set(e.id, e));
    let C = [], T = e["location.geojson"].features.map((e)=>{
        if (e.properties.spaces) {
            let t = e.properties.spaces.map((e)=>e.id).map((e)=>q.get(e)).filter((e)=>e);
            if (t) {
                let e = [];
                t.forEach((t)=>{
                    e.push(...t.entrances.map((e)=>({
                            node: e.id,
                            map: e.level
                        })));
                }), C = e;
            }
        }
        return {
            ...e.properties,
            nodes: C,
            polygons: e.properties.spaces
        };
    }), P = e["category.geojson"].features.map((e)=>e.properties);
    return {
        polygons: b,
        venue: {
            name: A,
            latitude: E,
            longitude: x,
            defaultMap: M
        },
        maps: g,
        vortexes: y,
        nodes: v,
        locations: T,
        mapGroups: [],
        locationStates: [],
        categories: P,
        themes: [],
        imageBinaries: new Map
    };
}
function zB(e, t, i) {
    let n = i.createGeoreferences(), r = new Set, o = e.features[0].properties;
    t.forEach((e)=>{
        e.layer && r.add(e.layer);
    });
    let s = [
        ...r
    ].map((e)=>({
            id: e,
            visible: !0
        })), a = 1 / i.mapScale;
    return {
        id: o.id,
        georeference: n,
        name: o.name,
        shortName: o.abbreviation || o.name,
        scene: {
            polygons: t
        },
        elevation: o.elevation,
        scale: a,
        x_scale: a,
        layers: s,
        width: i.widthInMapUnits,
        height: i.heightInMapUnits
    };
}
(0, _chunkZRT45YCMJs.a)(RB, "convertPolygons"), (0, _chunkZRT45YCMJs.a)(kB, "convertVortexes"), (0, _chunkZRT45YCMJs.a)(BB, "convertVortexes_MVFv1"), (0, _chunkZRT45YCMJs.a)(NP, "overrideMVF"), (0, _chunkZRT45YCMJs.a)(f3, "parseMVF"), (0, _chunkZRT45YCMJs.a)(RP, "parseMVFv1"), (0, _chunkZRT45YCMJs.a)(kP, "getLocationId"), (0, _chunkZRT45YCMJs.a)(BP, "getFeatureCategories"), (0, _chunkZRT45YCMJs.a)(FP, "getCategoryIdFromName"), (0, _chunkZRT45YCMJs.a)(d3, "mutateCategoriesWithNewFeature"), (0, _chunkZRT45YCMJs.a)(UP, "isFeatureConnection"), (0, _chunkZRT45YCMJs.a)(FB, "getLocationLabel"), (0, _chunkZRT45YCMJs.a)(Sd, "mutateLocationsWithNewFeature"), (0, _chunkZRT45YCMJs.a)(UB, "createMetaDataFromMVF"), (0, _chunkZRT45YCMJs.a)(zP, "convertMVFToMappedin"), (0, _chunkZRT45YCMJs.a)(VP, "convertMVFv1ToMappedin"), (0, _chunkZRT45YCMJs.a)(zB, "convertMap_MVFv1"), (0, _chunkA5C75TI6Js.a)();
var g3 = class {
    constructor(){
        (0, _chunkZRT45YCMJs.f)(this, "_subscribers", {});
    }
    publish(e, t) {
        !this._subscribers || !this._subscribers[e] || this._subscribers[e].forEach(function(e) {
            "function" == typeof e && e(t);
        });
    }
    on(e, t) {
        this._subscribers || (this._subscribers = {}), this._subscribers[e] = this._subscribers[e] || [], this._subscribers[e].push(t);
    }
    off(e, t) {
        if (!this._subscribers || null == this._subscribers[e]) return;
        let i = this._subscribers[e].indexOf(t);
        -1 !== i && this._subscribers[e].splice(i, 1);
    }
    destroy() {
        this._subscribers = {};
    }
};
(0, _chunkZRT45YCMJs.a)(g3, "PubSub");
var Es, Xl, _o, Zl, Id, v3, R0, GP, zi = g3, y3 = {
    supplementaryUrl: "https://api-gateway.mappedin.com/analytics/",
    headers: {},
    accessToken: "",
    clientId: "",
    noAuth: !1,
    includeHidden: !0,
    clientSecret: "",
    apiGateway: "",
    authorization: "",
    perspective: "Website",
    language: "",
    venue: ""
}, b3 = class extends zi {
    constructor(e){
        super(), (0, _chunkZRT45YCMJs.h)(this, Id), (0, _chunkZRT45YCMJs.h)(this, R0), (0, _chunkZRT45YCMJs.f)(this, "perspective"), (0, _chunkZRT45YCMJs.f)(this, "things"), (0, _chunkZRT45YCMJs.f)(this, "options"), (0, _chunkZRT45YCMJs.h)(this, Es, void 0), (0, _chunkZRT45YCMJs.h)(this, Xl, ""), (0, _chunkZRT45YCMJs.f)(this, "updatedAt"), (0, _chunkZRT45YCMJs.f)(this, "categories", []), (0, _chunkZRT45YCMJs.f)(this, "locations", []), (0, _chunkZRT45YCMJs.f)(this, "vortexes", []), (0, _chunkZRT45YCMJs.f)(this, "maps", []), (0, _chunkZRT45YCMJs.f)(this, "nodes", []), (0, _chunkZRT45YCMJs.f)(this, "polygons", []), (0, _chunkZRT45YCMJs.f)(this, "venue", {}), (0, _chunkZRT45YCMJs.f)(this, "events", []), (0, _chunkZRT45YCMJs.f)(this, "mapGroups", []), (0, _chunkZRT45YCMJs.f)(this, "themes", []), (0, _chunkZRT45YCMJs.f)(this, "locationStates", []), (0, _chunkZRT45YCMJs.f)(this, "rankings"), (0, _chunkZRT45YCMJs.f)(this, "currentLanguage"), (0, _chunkZRT45YCMJs.h)(this, _o, {}), (0, _chunkZRT45YCMJs.f)(this, "_categoriesById"), (0, _chunkZRT45YCMJs.f)(this, "_locationsById"), (0, _chunkZRT45YCMJs.f)(this, "_vortexesById"), (0, _chunkZRT45YCMJs.f)(this, "_mapsById"), (0, _chunkZRT45YCMJs.f)(this, "_nodesById"), (0, _chunkZRT45YCMJs.f)(this, "_polygonsById"), (0, _chunkZRT45YCMJs.f)(this, "_eventsById"), (0, _chunkZRT45YCMJs.f)(this, "_mapGroupsById"), (0, _chunkZRT45YCMJs.f)(this, "_locationStatesById"), (0, _chunkZRT45YCMJs.f)(this, "_locationRankingsById"), (0, _chunkZRT45YCMJs.f)(this, "_rankingsById"), (0, _chunkZRT45YCMJs.f)(this, "_categoriesByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_locationsByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_vortexesByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_mapsByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_nodesByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_polygonsByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_eventsByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_mapGroupsByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_locationStatesByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_locationRankingsByExternalId"), (0, _chunkZRT45YCMJs.f)(this, "_rankingsByExternalId"), (0, _chunkZRT45YCMJs.h)(this, Zl, void 0), (0, _chunkZRT45YCMJs.f)(this, "images"), (0, _chunkZRT45YCMJs.f)(this, "imageBinaries"), (0, _chunkZRT45YCMJs.f)(this, "scenes"), (0, _chunkZRT45YCMJs.f)(this, "analytics"), (0, _chunkZRT45YCMJs.f)(this, "navigator"), this.options = e, (0, _chunkZRT45YCMJs.i)(this, Es, Vi.create(this));
        let t = kn.create({
            ...e,
            testMode: !(null != e && e.emitAnalyticsEvents)
        });
        this.analytics = {
            locationSelected: t.locationSelected,
            categorySelected: t.categorySelected,
            getDirections: t.getDirections
        }, globalThis.MappedinDebug || (globalThis.MappedinDebug = {
            enable () {
                globalThis.sessionStorage.setItem(Ww, "true");
            }
        });
    }
    generateGetters(e) {
        try {
            for(let t = 0, i = e.length; t < i; ++t){
                let i = e[t];
                Array.isArray(this[i]) && (Object.defineProperty(this, "_".concat(i, "ByExternalId"), {
                    configurable: !0,
                    get () {
                        let e = (0, _chunkZRT45YCMJs.g)(this, Es)[i];
                        if (null != e) return e;
                        let t = {};
                        return this[i].forEach((e)=>t[e.externalId] = e), (0, _chunkZRT45YCMJs.g)(this, Es)[i] = t, t;
                    }
                }), Object.defineProperty(this, "_".concat(i, "ById"), {
                    configurable: !0,
                    get () {
                        let e = (0, _chunkZRT45YCMJs.g)(this, Es)[i];
                        if (null != e) return e;
                        let t = {};
                        return this[i].forEach((e)=>t[e.id] = e), (0, _chunkZRT45YCMJs.g)(this, Es)[i] = t, t;
                    }
                }));
            }
            return this;
        } catch (e) {
            throw new Error("Unable to generate getters, " + e);
        }
    }
    getCollectionItemById(e, t) {
        let i = "_".concat(e, "ById"), n = "_".concat(e, "ByExternalId"), r = this[i];
        return null != r && null != r[t] || (r = this[n], null != r && null != r[t]) ? r[t] : null;
    }
    async hydrateFromMVF(e) {
        let t = zP(e);
        return this.hydrate(t);
    }
    async hydrateFromMVFv1(e) {
        let t = VP(e);
        return this.hydrate(t);
    }
    async changeLanguage(e, t = !0) {
        var i;
        let n = e.toLowerCase();
        if (this.currentLanguage.code.toLowerCase() !== n) {
            if (null == (i = this.venue.languages) || !i.find((e)=>e.code.toLowerCase() === n)) return void R.error("Language ".concat(n, " not found in venue ").concat(this.venue.slug));
            if (t && !(0, _chunkZRT45YCMJs.g)(this, _o)[this.currentLanguage.code] && ((0, _chunkZRT45YCMJs.g)(this, _o)[this.currentLanguage.code] = JSON.stringify(this.toJSON())), this.currentLanguage = this.venue.languages.find((e)=>e.code.toLowerCase() === n), null != (0, _chunkZRT45YCMJs.g)(this, _o)[n]) {
                let e = JSON.parse((0, _chunkZRT45YCMJs.g)(this, _o)[n]);
                await this.hydrate(e, !1, !0);
            } else this.options.language = this.currentLanguage.code, await this.fetch(!0);
            this.publish(0, this.currentLanguage);
        }
    }
    async hydrate(e, t = !1, i = !1) {
        let n;
        if ("string" == typeof e) try {
            (0, _chunkZRT45YCMJs.i)(this, Xl, e), n = JSON.parse(e);
        } catch (e) {
            return void R.error("Unable to parse JSON", e);
        }
        else n = e, (0, _chunkZRT45YCMJs.i)(this, Xl, JSON.stringify(n));
        let r = Object.keys(n);
        for(let e = 0, t = r.length; e < t; ++e){
            let t = r[e], o = n[t], s = N0[t];
            null != s && "function" == typeof s.hydrate && (i ? "updateInPlace" in s && "function" == typeof s.updateInPlace && s.updateInPlace(this, o) : this[t] = s.hydrate(o, this));
        }
        t && await jP(n);
        let { images: o, scenes: s, imageBinaries: a } = n;
        this.images = o, this.scenes = s, this.imageBinaries = a, i || this.generateGetters(r), (0, _chunkZRT45YCMJs.k)(this, Id, v3).call(this), this.initNavigator();
    }
    async fetch(e = !1) {
        "vortexes" in this.options.things || (this.options.things.vortexes = [
            "name",
            "type",
            "accessible",
            "weight",
            "multiplier",
            "nodes"
        ]), "locationStates" in this.options.things || (this.options.things.locationStates = [
            "name",
            "id",
            "value"
        ]), k0(this.options.clientId) || this.options.things.rankings && delete this.options.things.rankings;
        let { things: t } = this.options, i = [], n = Object.keys(t);
        for(let t = 0, r = n.length; t < r; ++t){
            let r = n[t], o = N0[r];
            if (o) {
                let t;
                e ? "updateInPlace" in o && "function" == typeof o.updateInPlace && (t = o.updateInPlace(this)) : t = o.fetch(this).then((e)=>(this[r] = e, Promise.resolve())), i.push(t);
            }
        }
        return i.push(Ql(this.options, "cdn-access-token", {
            venue: this.options.venue
        }, !1).then((e)=>(0, _chunkZRT45YCMJs.i)(this, Zl, e.token), ()=>Promise.resolve())), e || this.generateGetters(n), Promise.all(i).then(()=>{
            var e;
            this.currentLanguage = this.currentLanguage || (null == (e = this.venue.languages) ? void 0 : e.find((e)=>e.code === this.options.language)) || this.venue.defaultLanguage, (0, _chunkZRT45YCMJs.k)(this, Id, v3).call(this), this.initNavigator();
        });
    }
    initNavigator() {
        this.navigator = new Hx({
            locations: this.locations.map((e)=>e.toJSON()),
            nodes: this.nodes.map((e)=>e.toJSON()),
            vortexes: this.vortexes.map((e)=>e.toJSON()),
            maps: this.maps.map((e)=>e.toJSON()),
            polygons: this.polygons.map((e)=>e.toJSON())
        });
    }
    toJSON() {
        var e;
        let t = {};
        for(let e in N0)Array.isArray(this[e]) && (t[e] = this[e].map((e)=>e.toJSON()));
        let i = {
            ...t,
            venue: this.venue.toJSON()
        };
        return null != this.rankings && (i.rankings = null == (e = this.rankings) ? void 0 : e.toJSON()), delete i.locationRankings, i;
    }
    toString() {
        return (0, _chunkZRT45YCMJs.g)(this, Xl) || JSON.stringify(this.toJSON());
    }
};
Es = new WeakMap, Xl = new WeakMap, _o = new WeakMap, Zl = new WeakMap, Id = new WeakSet, v3 = (0, _chunkZRT45YCMJs.a)(function() {
    (0, _chunkZRT45YCMJs.g)(this, Zl) && this.maps.forEach((e)=>{
        var t;
        null != (t = e.scene) && t.polygons && (e.scene.polygons += "?".concat((0, _chunkZRT45YCMJs.g)(this, Zl)));
    }), (0, _chunkZRT45YCMJs.k)(this, R0, GP).call(this);
}, "#transformData"), R0 = new WeakSet, GP = (0, _chunkZRT45YCMJs.a)(function() {
    let e = this.categories.filter((e)=>e.sortOrder).map((e)=>e.sortOrder);
    if (e.length <= 0) return;
    let t = Math.min(...e), i = Math.max(...e);
    this.polygons.forEach((e)=>{
        var n, r;
        let o = Ms(e, this);
        if (o) {
            let s = o.categories.filter((e)=>e.sortOrder).map((e)=>e.sortOrder);
            if (s.length > 0) {
                let o = Math.min(...s);
                e.categoryRank = HP(o, t, i, null != (r = null == (n = e.rank) ? void 0 : n.score) ? r : 0);
            }
        }
    });
}, "#applyCategoryRankToPolygons"), (0, _chunkZRT45YCMJs.a)(b3, "Mappedin");
var cn = b3;
(0, _chunkA5C75TI6Js.a)();
var x3 = {
    venue: [
        "slug",
        "name",
        "defaultMap",
        "metadata",
        "countrycode",
        "tzid",
        "logo",
        "externalId",
        "secureContentStorage",
        "languages",
        "topLocations",
        "defaultLanguage",
        "renderOptions"
    ],
    nodes: [
        "externalId",
        "x",
        "y",
        "paths",
        "accessible",
        "operationHours"
    ],
    vortexes: [
        "externalId",
        "nodes",
        "types",
        "accessible",
        "filterFlags"
    ],
    polygons: [
        "vertexes",
        "geometry",
        "canvasBounds",
        "layer",
        "externalId",
        "entrances",
        "material"
    ],
    locations: [
        "externalId",
        "name",
        "type",
        "picture",
        "description",
        "icon",
        "logo",
        "sortOrder",
        "phone",
        "operationHours",
        "social",
        "color",
        "toMap",
        "tags",
        "shortName",
        "detailsUrl",
        "locationState",
        "metadata",
        "siblingGroups",
        "gallery",
        "showSmartLabelWhenImagePresent",
        "amenity",
        "filterFlags"
    ],
    categories: [
        "name",
        "color",
        "sortOrder",
        "parents",
        "icon",
        "iconFromDefaultList"
    ],
    maps: [
        "name",
        "subtitle",
        "elevation",
        "height",
        "width",
        "layers",
        "shortName",
        "scene",
        "group",
        "x_scale"
    ],
    mapGroups: [
        "name"
    ],
    themes: [
        "name",
        "themeData"
    ],
    rankings: [
        "polygons"
    ]
};
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var ii = (0, _chunkZRT45YCMJs.a)(function() {
    return ii = Object.assign || (0, _chunkZRT45YCMJs.a)(function(e) {
        for(var t, i = 1, n = arguments.length; i < n; i++)for(var r in t = arguments[i])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
        return e;
    }, "__assign"), ii.apply(this, arguments);
}, "__assign");
function it(e) {
    var t = "function" == typeof Symbol && Symbol.iterator, i = t && e[t], n = 0;
    if (i) return i.call(e);
    if (e && "number" == typeof e.length) return {
        next: function() {
            return e && n >= e.length && (e = void 0), {
                value: e && e[n++],
                done: !e
            };
        }
    };
    throw new TypeError(t ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function Ti(e, t) {
    var i = "function" == typeof Symbol && e[Symbol.iterator];
    if (!i) return e;
    var n, r, o = i.call(e), s = [];
    try {
        for(; (void 0 === t || t-- > 0) && !(n = o.next()).done;)s.push(n.value);
    } catch (e) {
        r = {
            error: e
        };
    } finally{
        try {
            n && !n.done && (i = o.return) && i.call(o);
        } finally{
            if (r) throw r.error;
        }
    }
    return s;
}
(0, _chunkZRT45YCMJs.a)(it, "__values"), (0, _chunkZRT45YCMJs.a)(Ti, "__read");
var Od, VB = "ENTRIES", JP = "KEYS", $P = "VALUES", Ei = "", T3 = function() {
    function e(e, t) {
        var i = e._tree, n = Array.from(i.keys());
        this.set = e, this._type = t, this._path = n.length > 0 ? [
            {
                node: i,
                keys: n
            }
        ] : [];
    }
    return (0, _chunkZRT45YCMJs.a)(e, "TreeIterator"), e.prototype.next = function() {
        var e = this.dive();
        return this.backtrack(), e;
    }, e.prototype.dive = function() {
        if (0 === this._path.length) return {
            done: !0,
            value: void 0
        };
        var e = Kl(this._path), t = e.node, i = e.keys;
        if (Kl(i) === Ei) return {
            done: !1,
            value: this.result()
        };
        var n = t.get(Kl(i));
        return this._path.push({
            node: n,
            keys: Array.from(n.keys())
        }), this.dive();
    }, e.prototype.backtrack = function() {
        if (0 !== this._path.length) {
            var e = Kl(this._path).keys;
            e.pop(), !(e.length > 0) && (this._path.pop(), this.backtrack());
        }
    }, e.prototype.key = function() {
        return this.set._prefix + this._path.map(function(e) {
            var t = e.keys;
            return Kl(t);
        }).filter(function(e) {
            return e !== Ei;
        }).join("");
    }, e.prototype.value = function() {
        return Kl(this._path).node.get(Ei);
    }, e.prototype.result = function() {
        switch(this._type){
            case $P:
                return this.value();
            case JP:
                return this.key();
            default:
                return [
                    this.key(),
                    this.value()
                ];
        }
    }, e.prototype[Symbol.iterator] = function() {
        return this;
    }, e;
}(), Kl = (0, _chunkZRT45YCMJs.a)(function(e) {
    return e[e.length - 1];
}, "last$1"), GB = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    var n = new Map;
    if (void 0 === t) return n;
    for(var r = t.length + 1, o = r + i, s = new Uint8Array(o * r).fill(i + 1), a = 0; a < r; ++a)s[a] = a;
    for(var l = 1; l < o; ++l)s[l * r] = l;
    return eS(e, t, i, n, s, 1, r, ""), n;
}, "fuzzySearch"), eS = (0, _chunkZRT45YCMJs.a)(function(e, t, i, n, r, o, s, a) {
    var l, h, c = o * s;
    try {
        e: for(var u = it(e.keys()), d = u.next(); !d.done; d = u.next()){
            var p = d.value;
            if (p === Ei) {
                var f = r[c - 1];
                f <= i && n.set(a, [
                    e.get(p),
                    f
                ]);
            } else {
                for(var m = o, g = 0; g < p.length; ++g, ++m){
                    for(var v = p[g], y = s * m, b = y - s, w = r[y], A = Math.max(0, m - i - 1), x = Math.min(s - 1, m + i), E = A; E < x; ++E){
                        var M = v !== t[E], q = r[b + E] + +M, C = r[b + E + 1] + 1, T = r[y + E] + 1, P = r[y + E + 1] = Math.min(q, C, T);
                        P < w && (w = P);
                    }
                    if (w > i) continue e;
                }
                eS(e.get(p), t, i, n, r, m, s, a + p);
            }
        }
    } catch (e) {
        l = {
            error: e
        };
    } finally{
        try {
            d && !d.done && (h = u.return) && h.call(u);
        } finally{
            if (l) throw l.error;
        }
    }
}, "recurse"), E3 = function() {
    function e(e, t) {
        void 0 === e && (e = new Map), void 0 === t && (t = ""), this._size = void 0, this._tree = e, this._prefix = t;
    }
    return (0, _chunkZRT45YCMJs.a)(e, "SearchableMap"), e.prototype.atPrefix = function(t) {
        var i, n;
        if (!t.startsWith(this._prefix)) throw new Error("Mismatched prefix");
        var r = Ti(F0(this._tree, t.slice(this._prefix.length)), 2), o = r[0], s = r[1];
        if (void 0 === o) {
            var a = Ti(P3(s), 2), l = a[0], h = a[1];
            try {
                for(var c = it(l.keys()), u = c.next(); !u.done; u = c.next()){
                    var d = u.value;
                    if (d !== Ei && d.startsWith(h)) {
                        var p = new Map;
                        return p.set(d.slice(h.length), l.get(d)), new e(p, t);
                    }
                }
            } catch (e) {
                i = {
                    error: e
                };
            } finally{
                try {
                    u && !u.done && (n = c.return) && n.call(c);
                } finally{
                    if (i) throw i.error;
                }
            }
        }
        return new e(o, t);
    }, e.prototype.clear = function() {
        this._size = void 0, this._tree.clear();
    }, e.prototype.delete = function(e) {
        return this._size = void 0, jB(this._tree, e);
    }, e.prototype.entries = function() {
        return new T3(this, VB);
    }, e.prototype.forEach = function(e) {
        var t, i;
        try {
            for(var n = it(this), r = n.next(); !r.done; r = n.next()){
                var o = Ti(r.value, 2);
                e(o[0], o[1], this);
            }
        } catch (e) {
            t = {
                error: e
            };
        } finally{
            try {
                r && !r.done && (i = n.return) && i.call(n);
            } finally{
                if (t) throw t.error;
            }
        }
    }, e.prototype.fuzzyGet = function(e, t) {
        return GB(this._tree, e, t);
    }, e.prototype.get = function(e) {
        var t = C3(this._tree, e);
        return void 0 !== t ? t.get(Ei) : void 0;
    }, e.prototype.has = function(e) {
        var t = C3(this._tree, e);
        return void 0 !== t && t.has(Ei);
    }, e.prototype.keys = function() {
        return new T3(this, JP);
    }, e.prototype.set = function(e, t) {
        if ("string" != typeof e) throw new Error("key must be a string");
        return this._size = void 0, M3(this._tree, e).set(Ei, t), this;
    }, Object.defineProperty(e.prototype, "size", {
        get: function() {
            if (this._size) return this._size;
            this._size = 0;
            for(var e = this.entries(); !e.next().done;)this._size += 1;
            return this._size;
        },
        enumerable: !1,
        configurable: !0
    }), e.prototype.update = function(e, t) {
        if ("string" != typeof e) throw new Error("key must be a string");
        this._size = void 0;
        var i = M3(this._tree, e);
        return i.set(Ei, t(i.get(Ei))), this;
    }, e.prototype.fetch = function(e, t) {
        if ("string" != typeof e) throw new Error("key must be a string");
        this._size = void 0;
        var i = M3(this._tree, e), n = i.get(Ei);
        return void 0 === n && i.set(Ei, n = t()), n;
    }, e.prototype.values = function() {
        return new T3(this, $P);
    }, e.prototype[Symbol.iterator] = function() {
        return this.entries();
    }, e.from = function(t) {
        var i, n, r = new e;
        try {
            for(var o = it(t), s = o.next(); !s.done; s = o.next()){
                var a = Ti(s.value, 2), l = a[0], h = a[1];
                r.set(l, h);
            }
        } catch (e) {
            i = {
                error: e
            };
        } finally{
            try {
                s && !s.done && (n = o.return) && n.call(o);
            } finally{
                if (i) throw i.error;
            }
        }
        return r;
    }, e.fromObject = function(t) {
        return e.from(Object.entries(t));
    }, e;
}(), F0 = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    var n, r;
    if (void 0 === i && (i = []), 0 === t.length || null == e) return [
        e,
        i
    ];
    try {
        for(var o = it(e.keys()), s = o.next(); !s.done; s = o.next()){
            var a = s.value;
            if (a !== Ei && t.startsWith(a)) return i.push([
                e,
                a
            ]), F0(e.get(a), t.slice(a.length), i);
        }
    } catch (e) {
        n = {
            error: e
        };
    } finally{
        try {
            s && !s.done && (r = o.return) && r.call(o);
        } finally{
            if (n) throw n.error;
        }
    }
    return i.push([
        e,
        t
    ]), F0(void 0, "", i);
}, "trackDown"), C3 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i, n;
    if (0 === t.length || null == e) return e;
    try {
        for(var r = it(e.keys()), o = r.next(); !o.done; o = r.next()){
            var s = o.value;
            if (s !== Ei && t.startsWith(s)) return C3(e.get(s), t.slice(s.length));
        }
    } catch (e) {
        i = {
            error: e
        };
    } finally{
        try {
            o && !o.done && (n = r.return) && n.call(r);
        } finally{
            if (i) throw i.error;
        }
    }
}, "lookup"), M3 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i, n, r = t.length;
    e: for(var o = 0; e && o < r;){
        try {
            for(var s = (i = void 0, it(e.keys())), a = s.next(); !a.done; a = s.next()){
                var l = a.value;
                if (l !== Ei && t[o] === l[0]) {
                    for(var h = Math.min(r - o, l.length), c = 1; c < h && t[o + c] === l[c];)++c;
                    var u = e.get(l);
                    if (c === l.length) e = u;
                    else {
                        var d = new Map;
                        d.set(l.slice(c), u), e.set(t.slice(o, o + c), d), e.delete(l), e = d;
                    }
                    o += c;
                    continue e;
                }
            }
        } catch (e) {
            i = {
                error: e
            };
        } finally{
            try {
                a && !a.done && (n = s.return) && n.call(s);
            } finally{
                if (i) throw i.error;
            }
        }
        var p = new Map;
        return e.set(t.slice(o), p), p;
    }
    return e;
}, "createPath"), jB = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i = Ti(F0(e, t), 2), n = i[0], r = i[1];
    if (void 0 !== n) {
        if (n.delete(Ei), 0 === n.size) tS(r);
        else if (1 === n.size) {
            var o = Ti(n.entries().next().value, 2), s = o[0], a = o[1];
            iS(r, s, a);
        }
    }
}, "remove"), tS = (0, _chunkZRT45YCMJs.a)(function(e) {
    if (0 !== e.length) {
        var t = Ti(P3(e), 2), i = t[0], n = t[1];
        if (i.delete(n), 0 === i.size) tS(e.slice(0, -1));
        else if (1 === i.size) {
            var r = Ti(i.entries().next().value, 2), o = r[0], s = r[1];
            o !== Ei && iS(e.slice(0, -1), o, s);
        }
    }
}, "cleanup"), iS = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    if (0 !== e.length) {
        var n = Ti(P3(e), 2), r = n[0], o = n[1];
        r.set(o + t, i), r.delete(o);
    }
}, "merge"), P3 = (0, _chunkZRT45YCMJs.a)(function(e) {
    return e[e.length - 1];
}, "last"), S3 = "or", HB = "and", YB = "and_not", Oo = function() {
    function e(e) {
        if (null == (null == e ? void 0 : e.fields)) throw new Error('MiniSearch: option "fields" must be provided');
        this._options = ii(ii(ii({}, A3), e), {
            searchOptions: ii(ii({}, XP), e.searchOptions || {})
        }), this._index = new E3, this._documentCount = 0, this._documentIds = new Map, this._fieldIds = {}, this._fieldLength = new Map, this._avgFieldLength = [], this._nextId = 0, this._storedFields = new Map, this.addFields(this._options.fields);
    }
    return (0, _chunkZRT45YCMJs.a)(e, "MiniSearch"), e.prototype.add = function(e) {
        var t, i, n, r, o = this._options, s = o.extractField, a = o.tokenize, l = o.processTerm, h = o.fields, c = o.idField, u = s(e, c);
        if (null == u) throw new Error('MiniSearch: document does not have ID field "'.concat(c, '"'));
        var d = this.addDocumentId(u);
        this.saveStoredFields(d, e);
        try {
            for(var p = it(h), f = p.next(); !f.done; f = p.next()){
                var m = f.value, g = s(e, m);
                if (null != g) {
                    var v = a(g.toString(), m), y = this._fieldIds[m], b = new Set(v).size;
                    this.addFieldLength(d, y, this._documentCount - 1, b);
                    try {
                        for(var w = (n = void 0, it(v)), A = w.next(); !A.done; A = w.next()){
                            var x = l(A.value, m);
                            x && this.addTerm(y, d, x);
                        }
                    } catch (e) {
                        n = {
                            error: e
                        };
                    } finally{
                        try {
                            A && !A.done && (r = w.return) && r.call(w);
                        } finally{
                            if (n) throw n.error;
                        }
                    }
                }
            }
        } catch (e) {
            t = {
                error: e
            };
        } finally{
            try {
                f && !f.done && (i = p.return) && i.call(p);
            } finally{
                if (t) throw t.error;
            }
        }
    }, e.prototype.addAll = function(e) {
        var t, i;
        try {
            for(var n = it(e), r = n.next(); !r.done; r = n.next()){
                var o = r.value;
                this.add(o);
            }
        } catch (e) {
            t = {
                error: e
            };
        } finally{
            try {
                r && !r.done && (i = n.return) && i.call(n);
            } finally{
                if (t) throw t.error;
            }
        }
    }, e.prototype.addAllAsync = function(e, t) {
        var i = this;
        void 0 === t && (t = {});
        var n = t.chunkSize, r = void 0 === n ? 10 : n, o = {
            chunk: [],
            promise: Promise.resolve()
        }, s = e.reduce(function(e, t, n) {
            var o = e.chunk, s = e.promise;
            return o.push(t), (n + 1) % r == 0 ? {
                chunk: [],
                promise: s.then(function() {
                    return new Promise(function(e) {
                        return setTimeout(e, 0);
                    });
                }).then(function() {
                    return i.addAll(o);
                })
            } : {
                chunk: o,
                promise: s
            };
        }, o), a = s.chunk;
        return s.promise.then(function() {
            return i.addAll(a);
        });
    }, e.prototype.remove = function(e) {
        var t, i, n, r, o, s, a = this._options, l = a.tokenize, h = a.processTerm, c = a.extractField, u = a.fields, d = a.idField, p = c(e, d);
        if (null == p) throw new Error('MiniSearch: document does not have ID field "'.concat(d, '"'));
        try {
            for(var f = it(this._documentIds), m = f.next(); !m.done; m = f.next()){
                var g = Ti(m.value, 2), v = g[0];
                if (p === g[1]) {
                    try {
                        for(var y = (n = void 0, it(u)), b = y.next(); !b.done; b = y.next()){
                            var w = b.value, A = c(e, w);
                            if (null != A) {
                                var x = l(A.toString(), w), E = this._fieldIds[w], M = new Set(x).size;
                                this.removeFieldLength(v, E, this._documentCount, M);
                                try {
                                    for(var q = (o = void 0, it(x)), C = q.next(); !C.done; C = q.next()){
                                        var T = h(C.value, w);
                                        T && this.removeTerm(E, v, T);
                                    }
                                } catch (e) {
                                    o = {
                                        error: e
                                    };
                                } finally{
                                    try {
                                        C && !C.done && (s = q.return) && s.call(q);
                                    } finally{
                                        if (o) throw o.error;
                                    }
                                }
                            }
                        }
                    } catch (e) {
                        n = {
                            error: e
                        };
                    } finally{
                        try {
                            b && !b.done && (r = y.return) && r.call(y);
                        } finally{
                            if (n) throw n.error;
                        }
                    }
                    return this._storedFields.delete(v), this._documentIds.delete(v), this._fieldLength.delete(v), void (this._documentCount -= 1);
                }
            }
        } catch (e) {
            t = {
                error: e
            };
        } finally{
            try {
                m && !m.done && (i = f.return) && i.call(f);
            } finally{
                if (t) throw t.error;
            }
        }
        throw new Error("MiniSearch: cannot remove document with ID ".concat(p, ": it is not in the index"));
    }, e.prototype.removeAll = function(e) {
        var t, i;
        if (e) try {
            for(var n = it(e), r = n.next(); !r.done; r = n.next()){
                var o = r.value;
                this.remove(o);
            }
        } catch (e) {
            t = {
                error: e
            };
        } finally{
            try {
                r && !r.done && (i = n.return) && i.call(n);
            } finally{
                if (t) throw t.error;
            }
        }
        else {
            if (arguments.length > 0) throw new Error("Expected documents to be present. Omit the argument to remove all documents.");
            this._index = new E3, this._documentCount = 0, this._documentIds = new Map, this._fieldLength = new Map, this._avgFieldLength = [], this._storedFields = new Map, this._nextId = 0;
        }
    }, e.prototype.search = function(e, t) {
        var i, n;
        void 0 === t && (t = {});
        var r = this.executeQuery(e, t), o = [];
        try {
            for(var s = it(r), a = s.next(); !a.done; a = s.next()){
                var l = Ti(a.value, 2), h = l[0], c = l[1], u = c.score, d = c.terms, p = c.match, f = d.length, m = {
                    id: this._documentIds.get(h),
                    score: u * f,
                    terms: Object.keys(p),
                    match: p
                };
                Object.assign(m, this._storedFields.get(h)), (null == t.filter || t.filter(m)) && o.push(m);
            }
        } catch (e) {
            i = {
                error: e
            };
        } finally{
            try {
                a && !a.done && (n = s.return) && n.call(s);
            } finally{
                if (i) throw i.error;
            }
        }
        return o.sort(QP), o;
    }, e.prototype.autoSuggest = function(e, t) {
        var i, n, r, o;
        void 0 === t && (t = {}), t = ii(ii({}, KB), t);
        var s = new Map;
        try {
            for(var a = it(this.search(e, t)), l = a.next(); !l.done; l = a.next()){
                var h = l.value, c = h.score, u = (y = h.terms).join(" ");
                null != (g = s.get(u)) ? (g.score += c, g.count += 1) : s.set(u, {
                    score: c,
                    terms: y,
                    count: 1
                });
            }
        } catch (e) {
            i = {
                error: e
            };
        } finally{
            try {
                l && !l.done && (n = a.return) && n.call(a);
            } finally{
                if (i) throw i.error;
            }
        }
        var d = [];
        try {
            for(var p = it(s), f = p.next(); !f.done; f = p.next()){
                var m = Ti(f.value, 2), g = m[0], v = m[1], y = (c = v.score, v.terms), b = v.count;
                d.push({
                    suggestion: g,
                    terms: y,
                    score: c / b
                });
            }
        } catch (e) {
            r = {
                error: e
            };
        } finally{
            try {
                f && !f.done && (o = p.return) && o.call(p);
            } finally{
                if (r) throw r.error;
            }
        }
        return d.sort(QP), d;
    }, Object.defineProperty(e.prototype, "documentCount", {
        get: function() {
            return this._documentCount;
        },
        enumerable: !1,
        configurable: !0
    }), e.loadJSON = function(t, i) {
        if (null == i) throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");
        return e.loadJS(JSON.parse(t), i);
    }, e.getDefault = function(e) {
        if (A3.hasOwnProperty(e)) return w3(A3, e);
        throw new Error('MiniSearch: unknown option "'.concat(e, '"'));
    }, e.loadJS = function(t, i) {
        var n, r, o, s, a = t.index, l = t.documentCount, h = t.nextId, c = t.documentIds, u = t.fieldIds, d = t.fieldLength, p = t.averageFieldLength, f = t.storedFields, m = t.serializationVersion;
        if (1 !== m && 2 !== m) throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");
        var g = new e(i);
        g._documentCount = l, g._nextId = h, g._documentIds = B0(c), g._fieldIds = u, g._fieldLength = B0(d), g._avgFieldLength = p, g._storedFields = B0(f), g._index = new E3;
        try {
            for(var v = it(a), y = v.next(); !y.done; y = v.next()){
                var b = Ti(y.value, 2), w = b[0], A = b[1], x = new Map;
                try {
                    for(var E = (o = void 0, it(Object.keys(A))), M = E.next(); !M.done; M = E.next()){
                        var q = M.value, C = A[q];
                        1 === m && (C = C.ds), x.set(parseInt(q, 10), B0(C));
                    }
                } catch (e) {
                    o = {
                        error: e
                    };
                } finally{
                    try {
                        M && !M.done && (s = E.return) && s.call(E);
                    } finally{
                        if (o) throw o.error;
                    }
                }
                g._index.set(w, x);
            }
        } catch (e) {
            n = {
                error: e
            };
        } finally{
            try {
                y && !y.done && (r = v.return) && r.call(v);
            } finally{
                if (n) throw n.error;
            }
        }
        return g;
    }, e.prototype.executeQuery = function(e, t) {
        var i = this;
        if (void 0 === t && (t = {}), "string" != typeof e) {
            var n = ii(ii(ii({}, t), e), {
                queries: void 0
            }), r = e.queries.map(function(e) {
                return i.executeQuery(e, n);
            });
            return this.combineResults(r, e.combineWith);
        }
        var o = this._options, s = o.tokenize, a = o.processTerm, l = o.searchOptions, h = ii(ii({
            tokenize: s,
            processTerm: a
        }, l), t), c = h.tokenize, u = h.processTerm, d = c(e).map(function(e) {
            return u(e);
        }).filter(function(e) {
            return !!e;
        }).map(QB(h)).map(function(e) {
            return i.executeQuerySpec(e, h);
        });
        return this.combineResults(d, h.combineWith);
    }, e.prototype.executeQuerySpec = function(e, t) {
        var i, n, r, o, s, a, l = ii(ii({}, this._options.searchOptions), t), h = (l.fields || this._options.fields).reduce(function(e, t) {
            var i;
            return ii(ii({}, e), ((i = {})[t] = w3(e, t) || 1, i));
        }, l.boost || {}), c = l.boostDocument, u = l.weights, d = l.maxFuzzy, p = ii(ii({}, XP.weights), u), f = p.fuzzy, m = p.prefix, g = this._index.get(e.term), v = this.termResults(e.term, e.term, 1, g, h, c);
        if (e.prefix && (s = this._index.atPrefix(e.term)), e.fuzzy) {
            var y = !0 === e.fuzzy ? .2 : e.fuzzy, b = y < 1 ? Math.min(d, Math.round(e.term.length * y)) : y;
            b && (a = this._index.fuzzyGet(e.term, b));
        }
        if (s) try {
            for(var w = it(s), A = w.next(); !A.done; A = w.next()){
                var x = Ti(A.value, 2), E = x[0], M = x[1];
                if (P = E.length - e.term.length) {
                    null == a || a.delete(E);
                    var q = m * E.length / (E.length + .3 * P);
                    this.termResults(e.term, E, q, M, h, c, v);
                }
            }
        } catch (e) {
            i = {
                error: e
            };
        } finally{
            try {
                A && !A.done && (n = w.return) && n.call(w);
            } finally{
                if (i) throw i.error;
            }
        }
        if (a) try {
            for(var C = it(a.keys()), T = C.next(); !T.done; T = C.next()){
                E = T.value;
                var P, S = Ti(a.get(E), 2), I = S[0];
                if (P = S[1]) {
                    q = f * E.length / (E.length + P);
                    this.termResults(e.term, E, q, I, h, c, v);
                }
            }
        } catch (e) {
            r = {
                error: e
            };
        } finally{
            try {
                T && !T.done && (o = C.return) && o.call(C);
            } finally{
                if (r) throw r.error;
            }
        }
        return v;
    }, e.prototype.combineResults = function(e, t) {
        if (void 0 === t && (t = S3), 0 === e.length) return new Map;
        var i = t.toLowerCase();
        return e.reduce(WB[i]) || new Map;
    }, e.prototype.toJSON = function() {
        var e, t, i, n, r = [];
        try {
            for(var o = it(this._index), s = o.next(); !s.done; s = o.next()){
                var a = Ti(s.value, 2), l = a[0], h = a[1], c = {};
                try {
                    for(var u = (i = void 0, it(h)), d = u.next(); !d.done; d = u.next()){
                        var p = Ti(d.value, 2), f = p[0], m = p[1];
                        c[f] = Object.fromEntries(m);
                    }
                } catch (e) {
                    i = {
                        error: e
                    };
                } finally{
                    try {
                        d && !d.done && (n = u.return) && n.call(u);
                    } finally{
                        if (i) throw i.error;
                    }
                }
                r.push([
                    l,
                    c
                ]);
            }
        } catch (t) {
            e = {
                error: t
            };
        } finally{
            try {
                s && !s.done && (t = o.return) && t.call(o);
            } finally{
                if (e) throw e.error;
            }
        }
        return {
            documentCount: this._documentCount,
            nextId: this._nextId,
            documentIds: Object.fromEntries(this._documentIds),
            fieldIds: this._fieldIds,
            fieldLength: Object.fromEntries(this._fieldLength),
            averageFieldLength: this._avgFieldLength,
            storedFields: Object.fromEntries(this._storedFields),
            index: r,
            serializationVersion: 2
        };
    }, e.prototype.termResults = function(e, t, i, n, r, o, s) {
        var a, l, h, c, u;
        if (void 0 === s && (s = new Map), null == n) return s;
        try {
            for(var d = it(Object.keys(r)), p = d.next(); !p.done; p = d.next()){
                var f = p.value, m = r[f], g = this._fieldIds[f], v = n.get(g);
                if (null != v) {
                    var y = v.size, b = this._avgFieldLength[g];
                    try {
                        for(var w = (h = void 0, it(v.keys())), A = w.next(); !A.done; A = w.next()){
                            var x = A.value, E = o ? o(this._documentIds.get(x), t) : 1;
                            if (E) {
                                var M = v.get(x), q = this._fieldLength.get(x)[g], C = i * m * E * ZB(M, y, this._documentCount, q, b), T = s.get(x);
                                if (T) {
                                    T.score += C, JB(T.terms, e);
                                    var P = w3(T.match, t);
                                    P ? P.push(f) : T.match[t] = [
                                        f
                                    ];
                                } else s.set(x, {
                                    score: C,
                                    terms: [
                                        e
                                    ],
                                    match: (u = {}, u[t] = [
                                        f
                                    ], u)
                                });
                            }
                        }
                    } catch (e) {
                        h = {
                            error: e
                        };
                    } finally{
                        try {
                            A && !A.done && (c = w.return) && c.call(w);
                        } finally{
                            if (h) throw h.error;
                        }
                    }
                }
            }
        } catch (e) {
            a = {
                error: e
            };
        } finally{
            try {
                p && !p.done && (l = d.return) && l.call(d);
            } finally{
                if (a) throw a.error;
            }
        }
        return s;
    }, e.prototype.addTerm = function(e, t, i) {
        var n = this._index.fetch(i, KP), r = n.get(e);
        if (null == r) (r = new Map).set(t, 1), n.set(e, r);
        else {
            var o = r.get(t);
            r.set(t, (o || 0) + 1);
        }
    }, e.prototype.removeTerm = function(e, t, i) {
        if (this._index.has(i)) {
            var n = this._index.fetch(i, KP), r = n.get(e);
            null == r || null == r.get(t) ? this.warnDocumentChanged(t, e, i) : r.get(t) <= 1 ? r.size <= 1 ? n.delete(e) : r.delete(t) : r.set(t, r.get(t) - 1), 0 === this._index.get(i).size && this._index.delete(i);
        } else this.warnDocumentChanged(t, e, i);
    }, e.prototype.warnDocumentChanged = function(e, t, i) {
        var n, r;
        if (null != console && null != console.warn) try {
            for(var o = it(Object.keys(this._fieldIds)), s = o.next(); !s.done; s = o.next()){
                var a = s.value;
                if (this._fieldIds[a] === t) return void console.warn("MiniSearch: document with ID ".concat(this._documentIds.get(e), ' has changed before removal: term "').concat(i, '" was not present in field "').concat(a, '". Removing a document after it has changed can corrupt the index!'));
            }
        } catch (e) {
            n = {
                error: e
            };
        } finally{
            try {
                s && !s.done && (r = o.return) && r.call(o);
            } finally{
                if (n) throw n.error;
            }
        }
    }, e.prototype.addDocumentId = function(e) {
        var t = this._nextId;
        return this._documentIds.set(t, e), this._documentCount += 1, this._nextId += 1, t;
    }, e.prototype.addFields = function(e) {
        for(var t = 0; t < e.length; t++)this._fieldIds[e[t]] = t;
    }, e.prototype.addFieldLength = function(e, t, i, n) {
        var r = this._fieldLength.get(e);
        null == r && this._fieldLength.set(e, r = []), r[t] = n;
        var o = (this._avgFieldLength[t] || 0) * i + n;
        this._avgFieldLength[t] = o / (i + 1);
    }, e.prototype.removeFieldLength = function(e, t, i, n) {
        var r = this._avgFieldLength[t] * i - n;
        this._avgFieldLength[t] = r / (i - 1);
    }, e.prototype.saveStoredFields = function(e, t) {
        var i, n, r = this._options, o = r.storeFields, s = r.extractField;
        if (null != o && 0 !== o.length) {
            var a = this._storedFields.get(e);
            null == a && this._storedFields.set(e, a = {});
            try {
                for(var l = it(o), h = l.next(); !h.done; h = l.next()){
                    var c = h.value, u = s(t, c);
                    void 0 !== u && (a[c] = u);
                }
            } catch (e) {
                i = {
                    error: e
                };
            } finally{
                try {
                    h && !h.done && (n = l.return) && n.call(l);
                } finally{
                    if (i) throw i.error;
                }
            }
        }
    }, e;
}(), w3 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return Object.prototype.hasOwnProperty.call(e, t) ? e[t] : void 0;
}, "getOwnProperty"), WB = ((Od = {})[S3] = function(e, t) {
    var i, n;
    try {
        for(var r = it(t.keys()), o = r.next(); !o.done; o = r.next()){
            var s = o.value, a = e.get(s);
            if (null == a) e.set(s, t.get(s));
            else {
                var l = t.get(s), h = l.score, c = l.terms, u = l.match;
                a.score = a.score + h, a.match = Object.assign(a.match, u), ZP(a.terms, c);
            }
        }
    } catch (e) {
        i = {
            error: e
        };
    } finally{
        try {
            o && !o.done && (n = r.return) && n.call(r);
        } finally{
            if (i) throw i.error;
        }
    }
    return e;
}, Od[HB] = function(e, t) {
    var i, n, r = new Map;
    try {
        for(var o = it(t.keys()), s = o.next(); !s.done; s = o.next()){
            var a = s.value, l = e.get(a);
            if (null != l) {
                var h = t.get(a), c = h.score, u = h.terms, d = h.match;
                ZP(l.terms, u), r.set(a, {
                    score: l.score + c,
                    terms: l.terms,
                    match: Object.assign(l.match, d)
                });
            }
        }
    } catch (e) {
        i = {
            error: e
        };
    } finally{
        try {
            s && !s.done && (n = o.return) && n.call(o);
        } finally{
            if (i) throw i.error;
        }
    }
    return r;
}, Od[YB] = function(e, t) {
    var i, n;
    try {
        for(var r = it(t.keys()), o = r.next(); !o.done; o = r.next()){
            var s = o.value;
            e.delete(s);
        }
    } catch (e) {
        i = {
            error: e
        };
    } finally{
        try {
            o && !o.done && (n = r.return) && n.call(r);
        } finally{
            if (i) throw i.error;
        }
    }
    return e;
}, Od), YP = 1.2, WP = .7, XB = .5, ZB = (0, _chunkZRT45YCMJs.a)(function(e, t, i, n, r) {
    return Math.log(1 + (i - t + .5) / (t + .5)) * (XB + e * (YP + 1) / (e + YP * (1 - WP + WP * n / r)));
}, "calcBM25Score"), QB = (0, _chunkZRT45YCMJs.a)(function(e) {
    return function(t, i, n) {
        return {
            term: t,
            fuzzy: "function" == typeof e.fuzzy ? e.fuzzy(t, i, n) : e.fuzzy || !1,
            prefix: "function" == typeof e.prefix ? e.prefix(t, i, n) : !0 === e.prefix
        };
    };
}, "termToQuerySpec"), A3 = {
    idField: "id",
    extractField: function(e, t) {
        return e[t];
    },
    tokenize: function(e, t) {
        return e.split($B);
    },
    processTerm: function(e, t) {
        return e.toLowerCase();
    },
    fields: void 0,
    searchOptions: void 0,
    storeFields: []
}, XP = {
    combineWith: S3,
    prefix: !1,
    fuzzy: !1,
    maxFuzzy: 6,
    boost: {},
    weights: {
        fuzzy: .45,
        prefix: .375
    }
}, KB = {
    prefix: function(e, t, i) {
        return t === i.length - 1;
    }
}, JB = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    e.includes(t) || e.push(t);
}, "assignUniqueTerm"), ZP = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i, n;
    try {
        for(var r = it(t), o = r.next(); !o.done; o = r.next()){
            var s = o.value;
            e.includes(s) || e.push(s);
        }
    } catch (e) {
        i = {
            error: e
        };
    } finally{
        try {
            o && !o.done && (n = r.return) && n.call(r);
        } finally{
            if (i) throw i.error;
        }
    }
}, "assignUniqueTerms"), QP = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i = e.score;
    return t.score - i;
}, "byScore"), KP = (0, _chunkZRT45YCMJs.a)(function() {
    return new Map;
}, "createMap"), B0 = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t, i, n = new Map;
    try {
        for(var r = it(Object.keys(e)), o = r.next(); !o.done; o = r.next()){
            var s = o.value;
            n.set(parseInt(s, 10), e[s]);
        }
    } catch (e) {
        t = {
            error: e
        };
    } finally{
        try {
            o && !o.done && (i = r.return) && i.call(r);
        } finally{
            if (t) throw t.error;
        }
    }
    return n;
}, "objectToNumericMap"), $B = /[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;
(0, _chunkA5C75TI6Js.a)();
var I3 = [
    0,
    4,
    6,
    8,
    10
], Bt = (0, _chunkZRT45YCMJs.a)(()=>{
    let e = new Array(16).fill(0), t = 4294967296 * Math.random();
    for(let i = 0; i < e.length; i++)i > 0 && !(3 & i) && (t = 4294967296 * Math.random()), e[i] = t >>> ((3 & i) << 3) & 255;
    let i = e.map((e)=>e.toString(16).padStart(2, "0"));
    return i[6] = "4" + i[6][1], i[8] = [
        "8",
        "9",
        "a",
        "b"
    ].includes(i[7][0]) ? i[7] : "a" + i[7][1], I3.map((e, t)=>i.slice(e, t === I3.length - 1 ? void 0 : I3[t + 1]).join("")).join("-");
}, "randomId");
(0, _chunkA5C75TI6Js.a)();
var eF = [
    "0",
    "1",
    "2",
    "3",
    "4",
    "5",
    "6",
    "7",
    "8",
    "9"
], tF = [
    "\u06F1",
    "\u06F2",
    "\u06F3",
    "\u06F4",
    "\u06F5",
    "\u06F6",
    "\u06F7",
    "\u06F8",
    "\u06F9",
    "\u06F0"
], iF = [
    "\uFF10",
    "\uFF11",
    "\uFF12",
    "\uFF13",
    "\uFF14",
    "\uFF15",
    "\uFF16",
    "\uFF17",
    "\uFF18",
    "\uFF19"
], nF = [
    "\u1040",
    "\u1041",
    "\u1042",
    "\u1043",
    "\u1044",
    "\u1045",
    "\u1046",
    "\u1047",
    "\u1048",
    "\u1049"
], Xae = [
    ...eF,
    ...tF,
    ...iF,
    ...nF
], nS = [
    "about",
    "after",
    "all",
    "also",
    "am",
    "an",
    "and",
    "another",
    "any",
    "are",
    "as",
    "at",
    "be",
    "because",
    "been",
    "before",
    "being",
    "between",
    "both",
    "but",
    "by",
    "came",
    "can",
    "come",
    "could",
    "did",
    "do",
    "each",
    "for",
    "from",
    "get",
    "got",
    "has",
    "had",
    "he",
    "have",
    "her",
    "here",
    "him",
    "himself",
    "his",
    "how",
    "if",
    "in",
    "into",
    "is",
    "it",
    "like",
    "make",
    "many",
    "me",
    "might",
    "more",
    "most",
    "much",
    "must",
    "my",
    "never",
    "now",
    "of",
    "on",
    "only",
    "or",
    "other",
    "our",
    "out",
    "over",
    "said",
    "same",
    "should",
    "since",
    "some",
    "still",
    "such",
    "take",
    "than",
    "that",
    "the",
    "their",
    "them",
    "then",
    "there",
    "these",
    "they",
    "this",
    "those",
    "through",
    "to",
    "too",
    "under",
    "up",
    "very",
    "was",
    "way",
    "we",
    "well",
    "were",
    "what",
    "where",
    "which",
    "while",
    "who",
    "with",
    "would",
    "you",
    "your",
    "a",
    "i"
];
(0, _chunkA5C75TI6Js.a)();
var rF = 32, hn = !1, aF = 120, _3 = 0, D3 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "_callback"), (0, _chunkZRT45YCMJs.f)(this, "_frameCount"), (0, _chunkZRT45YCMJs.f)(this, "_ordering"), (0, _chunkZRT45YCMJs.f)(this, "_supersededBy"), (0, _chunkZRT45YCMJs.f)(this, "name"), (0, _chunkZRT45YCMJs.f)(this, "_remainingFrameCount"), (0, _chunkZRT45YCMJs.f)(this, "_lastFrameTime"), (0, _chunkZRT45YCMJs.f)(this, "userdata"), this._callback = e.callback, this._frameCount = null != e.frameCount ? e.frameCount : 1, this._ordering = null != e.ordering ? e.ordering : 0, this._supersededBy = null != e.supersededBy ? new Set(e.supersededBy) : new Set, this.name = e.name, this.userdata = e.userdata, this._remainingFrameCount = this._frameCount, this._lastFrameTime = 0, hn && R.log("update instantiated", this.name);
    }
    getLastFrameTime() {
        return this._lastFrameTime;
    }
};
(0, _chunkZRT45YCMJs.a)(D3, "FrameUpdate");
var si = D3, L3 = class {
    constructor(e){
        if ((0, _chunkZRT45YCMJs.f)(this, "_postponed"), (0, _chunkZRT45YCMJs.f)(this, "userdata"), (0, _chunkZRT45YCMJs.f)(this, "_priority"), (0, _chunkZRT45YCMJs.f)(this, "_group"), (0, _chunkZRT45YCMJs.f)(this, "name"), (0, _chunkZRT45YCMJs.f)(this, "_lastFrameTime"), (0, _chunkZRT45YCMJs.f)(this, "_callback"), (0, _chunkZRT45YCMJs.f)(this, "_complete"), (0, _chunkZRT45YCMJs.f)(this, "_scheduled"), (0, _chunkZRT45YCMJs.f)(this, "_cancelled"), null != e.group && null != e.priority) throw new Error("cannot specify task priority individually within group");
        if (null != e.group && null != e.postponeOnAdd) throw new Error("cannot specify task postpone individually within group");
        this._callback = e.callback, this._group = null != e.group ? e.group : null, this._priority = null != e.priority ? e.priority : 0, this._postponed = null != e.postponeOnAdd && e.postponeOnAdd, this.name = e.name, this.userdata = e.userdata || {}, this._complete = !1, this._scheduled = !1, this._cancelled = !1, this._lastFrameTime = 0, hn && R.log("task instantiated", this.name);
    }
    isComplete() {
        return this._complete;
    }
    getLastFrameTime() {
        return this._lastFrameTime;
    }
};
(0, _chunkZRT45YCMJs.a)(L3, "FrameTask");
var Tt = L3, q3 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "_postponed"), (0, _chunkZRT45YCMJs.f)(this, "_onComplete"), (0, _chunkZRT45YCMJs.f)(this, "_priority"), (0, _chunkZRT45YCMJs.f)(this, "userdata"), (0, _chunkZRT45YCMJs.f)(this, "name"), (0, _chunkZRT45YCMJs.f)(this, "_tasks"), (0, _chunkZRT45YCMJs.f)(this, "_scheduledTasks"), (0, _chunkZRT45YCMJs.f)(this, "_scheduled"), (0, _chunkZRT45YCMJs.f)(this, "_cancelled"), this._onComplete = null != e.onComplete ? e.onComplete : ()=>{}, this._priority = null != e.priority ? e.priority : 0, this._postponed = null != e.postponeOnAdd && e.postponeOnAdd, this.name = e.name, this.userdata = e.userdata, this._tasks = new Set, this._scheduledTasks = new Set, this._scheduled = !1, this._cancelled = !1, hn && R.log("task group instantiated", this.name);
    }
    isComplete() {
        return 0 === this._scheduledTasks.size;
    }
    getTasks() {
        return Array.from(this._tasks.values());
    }
    clear() {
        this._tasks.clear(), this._scheduledTasks.clear();
    }
    _popTask() {
        for (let e of this._scheduledTasks)return this._scheduledTasks.delete(e), e;
    }
};
(0, _chunkZRT45YCMJs.a)(q3, "FrameTaskGroup");
var va = q3, N3 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "_maxMillisecondsPerFrame"), (0, _chunkZRT45YCMJs.f)(this, "_time"), this._maxMillisecondsPerFrame = null != (null == e ? void 0 : e.maxMillisecondsPerFrame) ? e.maxMillisecondsPerFrame : rF, this._time = 0;
    }
    beginFrame() {
        this._time = performance.now() + this._maxMillisecondsPerFrame;
    }
    hasTimeRemaining() {
        return performance.now() <= this._time;
    }
};
(0, _chunkZRT45YCMJs.a)(N3, "RealTimeTimer");
var O3 = N3, R3 = class {
    constructor(e){
        var t;
        (0, _chunkZRT45YCMJs.f)(this, "_raf"), (0, _chunkZRT45YCMJs.f)(this, "options"), (0, _chunkZRT45YCMJs.f)(this, "_timer"), (0, _chunkZRT45YCMJs.f)(this, "_performance"), (0, _chunkZRT45YCMJs.f)(this, "_scheduledUpdatesByOrdering"), (0, _chunkZRT45YCMJs.f)(this, "_scheduledTasksByPriority"), (0, _chunkZRT45YCMJs.f)(this, "_postponedTasks"), (0, _chunkZRT45YCMJs.f)(this, "_requestAnimationFrameHandle"), (0, _chunkZRT45YCMJs.f)(this, "_updatesToRunThisFrame"), (0, _chunkZRT45YCMJs.f)(this, "_lastFrameTime", 0), (0, _chunkZRT45YCMJs.f)(this, "_updatesRunLastFrame"), this.options = e, this._timer = null != (null == e ? void 0 : e.timer) ? e.timer : new O3, this._performance = null != (null == e ? void 0 : e.performance) && e.performance, this._scheduledUpdatesByOrdering = new Jl, this._scheduledTasksByPriority = new Jl, this._postponedTasks = new Set, this._requestAnimationFrameHandle = null, this._updatesToRunThisFrame = [], this._lastFrameTime = 0, this._updatesRunLastFrame = new Set, this.update = this.update.bind(this), hn && R.log("task scheduler instantiated"), null != (t = globalThis.MappedinDebug) && t.TEST_IOS && (this._raf = (e)=>setTimeout(e, 16));
    }
    clear() {
        for (let e of this._scheduledTasksByPriority.values())e._cancelled = !0;
        for (let e of this._postponedTasks.values())e._cancelled = !0;
        this._scheduledUpdatesByOrdering = new Jl, this._scheduledTasksByPriority = new Jl, this._postponedTasks = new Set, this._lastFrameTime = 0, this._updatesRunLastFrame.clear(), hn && R.log("task scheduler cleared");
    }
    destroy() {
        this.clear();
    }
    requestAnimationFrame() {
        null == this._requestAnimationFrameHandle && (this._requestAnimationFrameHandle = "function" == typeof this._raf ? this._raf(this.update) : requestAnimationFrame(this.update));
    }
    update(e) {
        var t;
        let i;
        this._timer.beginFrame(), this._performance && (i = performance.now());
        let n = !1;
        hn && (0 === _3 && (n = !0), ++_3, _3 %= aF);
        let r = this._scheduledUpdatesByOrdering.keys();
        for(let e = r.length - 1; e >= 0; --e){
            let t = r[e];
            for (let e of this._scheduledUpdatesByOrdering.get(t).values())this._updatesToRunThisFrame.push(e), n && R.log("update scheduled to run this frame", e.name);
        }
        for (let e of this._updatesToRunThisFrame){
            --e._remainingFrameCount, e._remainingFrameCount <= 0 && this._scheduledUpdatesByOrdering.delete(e._ordering, e), e._superseded = !1;
            for (let t of this._updatesToRunThisFrame)e._supersededBy.has(t) && (e._superseded = !0, n && R.log("update superseded", e.name, t.name));
        }
        for(let e = 0; e < this._updatesToRunThisFrame.length; ++e)this._updatesToRunThisFrame[e]._superseded && (this._updatesToRunThisFrame.splice(e, 1), --e);
        for (let t of this._updatesToRunThisFrame){
            let i;
            this._performance && (i = performance.now()), t._callback(e), this._performance && (t._lastFrameTime = performance.now() - i), n && R.log("update completed", t.name);
        }
        this._updatesRunLastFrame.clear();
        for (let e of this._updatesToRunThisFrame)this._updatesRunLastFrame.add(e);
        if (this._updatesToRunThisFrame.splice(0, this._updatesToRunThisFrame.length), this._scheduledTasksByPriority.size > 0) do this._executeOneTask(e);
        while (this._timer.hasTimeRemaining() && this._scheduledTasksByPriority.size > 0);
        this._performance && (this._lastFrameTime = performance.now() - i), this._requestAnimationFrameHandle = null, (this._scheduledUpdatesByOrdering.size > 0 || this._scheduledTasksByPriority.size > 0) && this.requestAnimationFrame(), null != (t = this.options) && t.onUpdateEnd && this.options.onUpdateEnd();
    }
    flushTasks() {
        for(; this._scheduledTasksByPriority.size > 0;)this._executeOneTask(performance.now());
    }
    getLastFrameTime() {
        return this._lastFrameTime;
    }
    getUpdatesRunLastFrame() {
        return this._updatesRunLastFrame;
    }
    _executeOneTask(e) {
        let t, i = this._scheduledTasksByPriority.popFromMaxKey(), n = null;
        R.assert(void 0 !== i), Object.getPrototypeOf(i) === va.prototype && (n = i, i = n._popTask()), R.assert(void 0 !== i), R.assert(Object.getPrototypeOf(i) === Tt.prototype), this._performance && (t = performance.now()), i._callback(e), i._complete = !0, this._performance && (i._lastFrameTime = performance.now() - t), hn && R.log("task completed", i.name), null != n && (n.isComplete() ? (n.clear(), n._onComplete(), hn && R.log("group completed", n.name)) : this._scheduledTasksByPriority.insert(n._priority, n));
    }
    scheduleUpdate(e) {
        e._remainingFrameCount = e._frameCount, this._scheduledUpdatesByOrdering.insert(e._ordering, e), this.requestAnimationFrame();
    }
    scheduleTask(e) {
        if (Object.getPrototypeOf(e) === va) throw new Error("frame task groups are automatically scheduled when a task is added to them and cannot be manually scheduled: " + e.name);
        if (e._scheduled) throw new Error("cannot schedule already scheduled task: " + e.name);
        if (e._cancelled) throw new Error("cannot schedule cancelled task: " + e.name);
        let t = e;
        "_group" in e && null != e._group && (e._group._tasks.add(e), e._group._scheduledTasks.add(e), t = e._group), t._postponed ? this._postponedTasks.add(t) : this._scheduledTasksByPriority.insert(t._priority, t), e._scheduled = !0, t._scheduled = !0, hn && R.log("task scheduled", e.name), this.requestAnimationFrame();
    }
    cancelUpdate(e) {
        this._scheduledUpdatesByOrdering.delete(e._ordering, e), hn && R.log("update cancelled", e.name);
    }
    cancelTask(e) {
        if (!e._scheduled) throw new Error("cannot cancel task that has not been scheduled: " + e.name);
        if (e._cancelled) throw new Error("cannot cancel task that has already been cancelled: " + e.name);
        if ("_group" in e && null != e._group) {
            let t = e._group.isComplete();
            e._group._tasks.delete(e), e._group._scheduledTasks.delete(e), e._group.isComplete() && (this._scheduledTasksByPriority.delete(e._group._priority, e._group), t || e._group._onComplete());
        } else this._scheduledTasksByPriority.delete(e._priority, e), this._postponedTasks.delete(e);
        Object.getPrototypeOf(e) === Tt.prototype ? e._cancelled = !0 : "clear" in e && e.clear(), hn && R.log("task cancelled", e.name);
    }
    postponeTask(e) {
        if ("_group" in e && null != e._group) throw new Error("cannot postpone individual tasks in group: " + e.name);
        if (e._cancelled) throw new Error("cannot postpone cancelled task: " + e.name);
        if (!e._postponed) {
            if (Object.getPrototypeOf(e) === Tt.prototype) {
                if ("_complete" in e) return;
                if (!e._scheduled) throw new Error("cannot postpone task that has not been scheduled: " + e.name);
            }
            this._scheduledTasksByPriority.delete(e._priority, e), (Object.getPrototypeOf(e) === Tt.prototype || !e.isComplete()) && this._postponedTasks.add(e), e._postponed = !0, hn && R.log("task postponed", e.name);
        }
    }
    resumeTask(e) {
        if ("_group" in e && null != e._group) throw new Error("cannot resume individual tasks in groups");
        if (e._cancelled) throw new Error("cannot resume cancelled task");
        if (e._postponed) {
            if (Object.getPrototypeOf(e) === Tt.prototype) {
                if ("_complete" in e && e._complete) return;
                if (!e._scheduled) throw new Error("cannot resume unscheduled task");
            }
            this._postponedTasks.delete(e), (Object.getPrototypeOf(e) === Tt.prototype || !e.isComplete()) && this._scheduledTasksByPriority.insert(e._priority, e), e._postponed = !1, this.requestAnimationFrame(), hn && R.log("task resumed", e.name);
        }
    }
    setTaskPriority(e, t) {
        if (Object.getPrototypeOf(e) === Tt.prototype && !e._scheduled) throw new Error("task must be scheduled to be reprioritized");
        this._scheduledTasksByPriority.has(e._priority, e) && (this._scheduledTasksByPriority.delete(e._priority, e), this._scheduledTasksByPriority.insert(t, e)), e._priority = t, hn && R.log("task priority changed", e.name, t);
    }
};
(0, _chunkZRT45YCMJs.a)(R3, "TaskScheduler");
var Do = R3, k3 = class {
    constructor(){
        (0, _chunkZRT45YCMJs.f)(this, "_map"), (0, _chunkZRT45YCMJs.f)(this, "_size"), (0, _chunkZRT45YCMJs.f)(this, "_sortedKeys"), this._map = new Map, this._size = 0, this._sortedKeys = [];
    }
    has(e, t) {
        return null != this._map.get(e) && this._map.get(e).has(t);
    }
    get(e) {
        return this._map.get(e);
    }
    insert(e, t) {
        if (R.assert("number" == typeof e && Number.isFinite(e)), null == this._map.get(e)) {
            this._map.set(e, new Set);
            for(let t = 0; t <= this._sortedKeys.length; ++t)if (t === this._sortedKeys.length || e < this._sortedKeys[t]) {
                this._sortedKeys.splice(t, 0, e);
                break;
            }
        }
        this._map.get(e).has(t) || (this._map.get(e).add(t), ++this._size);
    }
    delete(e, t) {
        null != this._map.get(e) && this._map.get(e).has(t) && (this._map.get(e).delete(t), --this._size, 0 === this._map.get(e).size && (this._map.delete(e), this._sortedKeys.splice(this._sortedKeys.indexOf(e), 1)));
    }
    pop(e) {
        if (null != this._map.get(e)) {
            let t;
            for (t of this._map.get(e).values()){
                this._map.get(e).delete(t), --this._size;
                break;
            }
            return 0 === this._map.get(e).size && (this._map.delete(e), this._sortedKeys.splice(this._sortedKeys.indexOf(e), 1)), t;
        }
    }
    popFromMaxKey() {
        if (this._sortedKeys.length > 0) return this.pop(this._sortedKeys[this._sortedKeys.length - 1]);
    }
    values() {
        let e = this._map.keys(), t = null, i = {
            [Symbol.iterator]: ()=>i,
            next: ()=>{
                if (null == t) {
                    let i = e.next();
                    if (i.done) return i;
                    t = this._map.get(i.value).values();
                }
                let i = t.next();
                for(; i.done;){
                    let n = e.next();
                    if (n.done) return n;
                    t = this._map.get(n.value).values(), i = t.next();
                }
                return i;
            }
        };
        return i;
    }
    keys() {
        return this._sortedKeys;
    }
    get size() {
        let e = 0;
        for (let t of this._map.values())e += t.size;
        return R.assert(e === this._size), e;
    }
};
(0, _chunkZRT45YCMJs.a)(k3, "Multimap");
var Jl = k3, ya = (0, _chunkZRT45YCMJs.a)((e)=>e.normalize("NFD").replace(/[\u0300-\u036f|\u2019|\u0027|\']/g, "").toLowerCase(), "removeAccents"), sF = /([!-/:-@])|(?:[\n\r [-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+)/u;
function oF(e) {
    return e.split(sF).filter(Boolean);
}
(0, _chunkZRT45YCMJs.a)(oF, "tokenizeAndCaptureDelimiters");
var ba, Bn, ws, Lr, Ft, Ld, qd, eu, Nd, Rd, kd, Bd, tu, xa, U0, z0, As, Fd, V0, G0, j0, aS, $l = "\x01", lF = .09, uF = 1, cF = .025, hF = .5, dF = 5e-4, pF = 5e-4, fF = .01, mF = .05, rS = 1, gF = .01, vF = .2, yF = {
    MappedinCategory: "categories",
    MappedinLocation: "locations"
}, bF = {
    searchDescriptions: !0,
    searchTags: !0,
    searchTagsInCategories: !1,
    searchDescriptionsInCategories: !1,
    stopWords: nS,
    jsonIndex: void 0,
    useLocationRank: !0,
    emitAnalyticsEvents: "production" === (0, _chunkA5C75TI6Js.b).env.NODE_ENV,
    constants: {
        PRIMARY_INDEX_FUZZYNESS: lF,
        PRIMARY_INDEX_WEIGHT: uF,
        SECONDARY_INDEX_WEIGHT: cF,
        CATEGORY_NAME_WEIGHT: hF,
        LOCATION_NAME_WEIGHT: rS,
        CATEGORY_LOCATION_DESCRIPTION_WEIGHT: dF,
        CATEGORY_LOCATION_TAGS_WEIGHT: pF,
        CATEGORY_LOCATION_NAME_WEIGHT: fF,
        PRIMARY_INDEX_TAGS_NAME_WEIGHT: mF,
        LOCATION_DEFAULT_RANK: rS,
        RATIO_OF_FUZZY_TO_EXACT: gF,
        RATIO_OF_PREFIX_TO_EXACT: vF
    }
}, B3 = class {
    constructor(e, t){
        var i;
        (0, _chunkZRT45YCMJs.h)(this, j0), (0, _chunkZRT45YCMJs.h)(this, ba, void 0), (0, _chunkZRT45YCMJs.h)(this, Bn, void 0), (0, _chunkZRT45YCMJs.h)(this, ws, void 0), (0, _chunkZRT45YCMJs.h)(this, Lr, void 0), (0, _chunkZRT45YCMJs.h)(this, Ft, void 0), (0, _chunkZRT45YCMJs.h)(this, Ld, new Do({
            performance: !0
        })), (0, _chunkZRT45YCMJs.h)(this, qd, void 0), (0, _chunkZRT45YCMJs.h)(this, eu, void 0), (0, _chunkZRT45YCMJs.h)(this, Nd, new Map), (0, _chunkZRT45YCMJs.h)(this, Rd, void 0), (0, _chunkZRT45YCMJs.h)(this, kd, void 0), (0, _chunkZRT45YCMJs.h)(this, Bd, void 0), (0, _chunkZRT45YCMJs.f)(this, "buildIndices", (0, _chunkZRT45YCMJs.a)(()=>{
            var e, t;
            (0, _chunkZRT45YCMJs.i)(this, As, new Promise((e)=>{
                (0, _chunkZRT45YCMJs.i)(this, Fd, e);
            }));
            let { PRIMARY_INDEX_FUZZYNESS: i, PRIMARY_INDEX_WEIGHT: n, CATEGORY_NAME_WEIGHT: r, RATIO_OF_FUZZY_TO_EXACT: o, RATIO_OF_PREFIX_TO_EXACT: s, PRIMARY_INDEX_TAGS_NAME_WEIGHT: a } = (0, _chunkZRT45YCMJs.g)(this, Ft).constants, l = [
                "object",
                "query",
                "weight",
                "tag",
                "rank"
            ], c = {
                fields: [
                    "query",
                    "name",
                    "tag"
                ],
                storeFields: l,
                searchOptions: {
                    combineWith: "OR",
                    prefix: !0,
                    fuzzy: i
                },
                boost: {
                    name: n,
                    query: n,
                    tag: a
                },
                weights: {
                    fuzzy: o,
                    prefix: s
                },
                boostDocument: (e)=>e.includes("MappedinLocation") ? n : e.includes("MappedinCategory") ? r : n,
                tokenize: oF
            }, u = {
                fields: [
                    "description"
                ],
                storeFields: l,
                searchOptions: {
                    combineWith: "AND",
                    prefix: !0,
                    fuzzy: .1
                },
                processTerm: (e, t)=>{
                    var i;
                    return null != (i = (0, _chunkZRT45YCMJs.g)(this, qd)) && i.has(e.toLowerCase()) ? null : e.toLowerCase();
                }
            }, d = {
                fields: [
                    "category.locations.description",
                    "category.locations.tags",
                    "category.locations.name"
                ],
                storeFields: [
                    ...l,
                    "ref",
                    "category.locations.tags",
                    "category.locations.name",
                    "category.locations.description"
                ],
                searchOptions: {
                    combineWith: "AND",
                    prefix: !0,
                    fuzzy: !1
                }
            };
            if (null != (e = (0, _chunkZRT45YCMJs.g)(this, Ft)) && e.jsonIndex) {
                let { primary: e, secondary: i, extra: n } = JSON.parse(null == (t = (0, _chunkZRT45YCMJs.g)(this, Ft)) ? void 0 : t.jsonIndex);
                (0, _chunkZRT45YCMJs.i)(this, Bn, Oo.loadJS(e, c)), (0, _chunkZRT45YCMJs.i)(this, ws, Oo.loadJS(i, u)), (0, _chunkZRT45YCMJs.i)(this, Lr, Oo.loadJS(n, d));
            } else (0, _chunkZRT45YCMJs.i)(this, Bn, new Oo(c)), (0, _chunkZRT45YCMJs.i)(this, ws, new Oo(u)), (0, _chunkZRT45YCMJs.i)(this, Lr, new Oo(d)), (0, _chunkZRT45YCMJs.g)(this, ba).locations.forEach((0, _chunkZRT45YCMJs.g)(this, U0)), (0, _chunkZRT45YCMJs.g)(this, ba).categories.forEach((0, _chunkZRT45YCMJs.g)(this, z0));
            (0, _chunkZRT45YCMJs.g)(this, Ld).update(performance.now());
        }, "buildIndices")), (0, _chunkZRT45YCMJs.h)(this, tu, 0), (0, _chunkZRT45YCMJs.h)(this, xa, (0, _chunkZRT45YCMJs.a)((e)=>{
            (0, _chunkZRT45YCMJs.j)(this, tu)._++, (0, _chunkZRT45YCMJs.g)(this, Ld).scheduleUpdate(new si({
                name: "updateIndex",
                ordering: 0,
                frameCount: 1,
                callback: ()=>{
                    e(), (0, _chunkZRT45YCMJs.j)(this, tu)._--, 0 === (0, _chunkZRT45YCMJs.g)(this, tu) && (0, _chunkZRT45YCMJs.g)(this, Fd).call(this);
                }
            }));
        }, "#addTask")), (0, _chunkZRT45YCMJs.h)(this, U0, (0, _chunkZRT45YCMJs.a)((e)=>{
            var t, i, n;
            let { SECONDARY_INDEX_WEIGHT: r, LOCATION_DEFAULT_RANK: o, PRIMARY_INDEX_TAGS_NAME_WEIGHT: s } = (0, _chunkZRT45YCMJs.g)(this, Ft).constants, a = o;
            null != (t = (0, _chunkZRT45YCMJs.g)(this, Ft)) && t.useLocationRank && (a = Array.isArray(e.polygons) ? Math.max(...e.polygons.map((e)=>{
                var t, i;
                return null != (t = e.rank) && t.score ? null == (i = e.rank) ? void 0 : i.score : o;
            }), o) : o), (0, _chunkZRT45YCMJs.g)(this, xa).call(this, ()=>{
                (0, _chunkZRT45YCMJs.g)(this, Bn).add({
                    name: ya(e.name),
                    tags: "",
                    id: "MappedinLocation_" + e.id,
                    weight: o,
                    rank: a
                });
            }), null != (i = (0, _chunkZRT45YCMJs.g)(this, Ft)) && i.searchTags && Array.isArray(e.tags) && e.tags.forEach((t)=>{
                (0, _chunkZRT45YCMJs.g)(this, Bn).add({
                    name: "",
                    tag: ya(t),
                    id: "MappedinLocation_" + e.id,
                    weight: s,
                    rank: a
                });
            }), null != (n = (0, _chunkZRT45YCMJs.g)(this, Ft)) && n.searchDescriptions && (0, _chunkZRT45YCMJs.g)(this, xa).call(this, ()=>(0, _chunkZRT45YCMJs.g)(this, ws).add({
                    description: ya(e.description || ""),
                    id: "MappedinLocation_" + e.id,
                    weight: r,
                    rank: a
                }));
        }, "#processLocation")), (0, _chunkZRT45YCMJs.h)(this, z0, (0, _chunkZRT45YCMJs.a)((e)=>{
            var t, i;
            let { CATEGORY_LOCATION_DESCRIPTION_WEIGHT: n, CATEGORY_LOCATION_TAGS_WEIGHT: r, CATEGORY_LOCATION_NAME_WEIGHT: o, CATEGORY_NAME_WEIGHT: s } = (0, _chunkZRT45YCMJs.g)(this, Ft).constants;
            (0, _chunkZRT45YCMJs.g)(this, xa).call(this, ()=>(0, _chunkZRT45YCMJs.g)(this, Bn).add({
                    name: ya(e.name || ""),
                    description: "",
                    id: "MappedinCategory_" + e.id,
                    weight: s
                }));
            let a = e.locations.reduce((e, t)=>e + " ".concat($l, " ") + t.name, "") + " ".concat($l);
            if (null != (t = (0, _chunkZRT45YCMJs.g)(this, Ft)) && t.searchDescriptionsInCategories && e.locations.forEach((t)=>{
                null != t.description && (0, _chunkZRT45YCMJs.g)(this, xa).call(this, ()=>(0, _chunkZRT45YCMJs.g)(this, Lr).add({
                        id: "MappedinCategory_" + e.id,
                        "category.locations.description": ya(t.description),
                        ref: t.name,
                        weight: n
                    }));
            }), null != (i = (0, _chunkZRT45YCMJs.g)(this, Ft)) && i.searchTagsInCategories) {
                let t = e.locations.reduce((e, t)=>{
                    var i;
                    return e + (null == (i = t.tags) ? void 0 : i.reduce((e, t)=>e + " ".concat($l, " ") + t, "")) + " ".concat($l);
                }, "");
                (0, _chunkZRT45YCMJs.g)(this, xa).call(this, ()=>(0, _chunkZRT45YCMJs.g)(this, Lr).add({
                        "category.locations.tags": ya(t),
                        id: "MappedinCategory_" + e.id,
                        weight: r
                    }));
            }
            (0, _chunkZRT45YCMJs.g)(this, xa).call(this, ()=>(0, _chunkZRT45YCMJs.g)(this, Lr).add({
                    "category.locations.name": ya(a),
                    id: "MappedinCategory_" + e.id,
                    weight: o
                }));
        }, "#processCategory")), (0, _chunkZRT45YCMJs.h)(this, As, void 0), (0, _chunkZRT45YCMJs.h)(this, Fd, void 0), (0, _chunkZRT45YCMJs.h)(this, V0, (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            let i = e.score, { object: n, id: r, weight: o, rank: s } = e, [a, l] = r.split("_"), c = n || (0, _chunkZRT45YCMJs.g)(this, ba).getCollectionItemById(yF[a], l);
            return s && null != (t = (0, _chunkZRT45YCMJs.g)(this, Ft)) && t.useLocationRank && (i += s), o && (i *= o), {
                score: i,
                type: a,
                object: c
            };
        }, "#processSearchResult")), (0, _chunkZRT45YCMJs.h)(this, G0, (0, _chunkZRT45YCMJs.a)((e, t)=>{
            for(let i in e.match)e.match[i].forEach((n)=>{
                let r = e.ref || e[n] || t.object[n];
                if ("category.locations.tags" === n || "category.locations.name" === n) {
                    let t = new RegExp("[^".concat($l, "]* ") + i + " [^".concat($l, "]*"), "ig").exec(e[n]);
                    null != t && (r = t[0].slice(1, -1));
                }
                t.matches.push({
                    term: i,
                    weight: e.weight,
                    matchesOn: n,
                    value: r
                });
            });
        }, "#addMatches")), (0, _chunkZRT45YCMJs.i)(this, eu, kn.create({
            ...e.options,
            testMode: !1 === (null == t ? void 0 : t.emitAnalyticsEvents)
        })), (0, _chunkZRT45YCMJs.i)(this, Ft, {
            ...bF,
            ...t
        }), (0, _chunkZRT45YCMJs.i)(this, ba, e), (0, _chunkZRT45YCMJs.i)(this, qd, new Set(null == (i = (0, _chunkZRT45YCMJs.g)(this, Ft)) ? void 0 : i.stopWords));
        let n = (0, _chunkZRT45YCMJs.g)(this, ba).venue.slug;
        (0, _chunkZRT45YCMJs.g)(this, ba).on(0, this.buildIndices), this.buildIndices(), (0, _chunkZRT45YCMJs.i)(this, Rd, iu((e)=>{
            (0, _chunkZRT45YCMJs.g)(this, eu).trackSearchSuggest({
                query: e
            }), ae.addPendingEvent(new rd({
                venue: n
            }));
        }, 300)), (0, _chunkZRT45YCMJs.i)(this, kd, iu((e)=>{
            (0, _chunkZRT45YCMJs.g)(this, eu).trackSearch({
                query: e
            }), ae.addPendingEvent(new nd({
                venue: n
            }));
        }, 300)), (0, _chunkZRT45YCMJs.i)(this, Bd, iu(()=>{
            ae.addPendingEvent(new td({
                venue: n
            }));
        }, 300)), ae.addPendingEvent(new id({
            search_descriptions: (0, _chunkZRT45YCMJs.g)(this, Ft).searchDescriptions,
            search_tags: (0, _chunkZRT45YCMJs.g)(this, Ft).searchTags,
            search_descriptions_in_categories: (0, _chunkZRT45YCMJs.g)(this, Ft).searchDescriptionsInCategories,
            search_tags_in_categories: (0, _chunkZRT45YCMJs.g)(this, Ft).searchTagsInCategories,
            use_location_rank: (0, _chunkZRT45YCMJs.g)(this, Ft).useLocationRank,
            venue: n
        }));
    }
    async suggest(e) {
        await (0, _chunkZRT45YCMJs.g)(this, As);
        let { PRIMARY_INDEX_FUZZYNESS: t, PRIMARY_INDEX_WEIGHT: i, PRIMARY_INDEX_TAGS_NAME_WEIGHT: n, RATIO_OF_FUZZY_TO_EXACT: r, RATIO_OF_PREFIX_TO_EXACT: o } = (0, _chunkZRT45YCMJs.g)(this, Ft).constants, s = (0, _chunkZRT45YCMJs.g)(this, Bn).autoSuggest(e, {
            fields: [
                "name",
                "tag",
                "query"
            ],
            combineWith: "AND",
            prefix: !0,
            fuzzy: t,
            boost: {
                name: i,
                query: i,
                tag: n
            },
            weights: {
                fuzzy: r,
                prefix: o
            }
        });
        return (0, _chunkZRT45YCMJs.g)(this, Rd).call(this, e), {
            total: s.length,
            hits: s.map((e)=>({
                    text: e.suggestion
                }))
        };
    }
    async search(e) {
        await (0, _chunkZRT45YCMJs.g)(this, As);
        let t = (0, _chunkZRT45YCMJs.k)(this, j0, aS).call(this, e);
        return (0, _chunkZRT45YCMJs.g)(this, kd).call(this, e), t;
    }
    async toJSON() {
        return await (0, _chunkZRT45YCMJs.g)(this, As), JSON.stringify({
            primary: (0, _chunkZRT45YCMJs.g)(this, Bn),
            secondary: (0, _chunkZRT45YCMJs.g)(this, ws),
            extra: (0, _chunkZRT45YCMJs.g)(this, Lr)
        });
    }
    async addQuery(e) {
        let t, i, { query: n, object: r, weight: o = 1 } = e;
        await (0, _chunkZRT45YCMJs.g)(this, As), t = r instanceof Fn ? "MappedinLocation" : r instanceof Ta ? "MappedinCategory" : "Custom", "MappedinLocation" === t || "MappedinCategory" === t ? i = t + "_" + r.id : "string" == typeof r.id ? i = "Custom_" + r.id : (i = (0, _chunkZRT45YCMJs.g)(this, Nd).get(r), i || (i = "Custom_" + Bt(), (0, _chunkZRT45YCMJs.g)(this, Nd).set(r, i))), (0, _chunkZRT45YCMJs.g)(this, Bn).add({
            id: i,
            weight: o,
            object: r,
            query: ya(n)
        }), (0, _chunkZRT45YCMJs.g)(this, Bd).call(this);
    }
};
ba = new WeakMap, Bn = new WeakMap, ws = new WeakMap, Lr = new WeakMap, Ft = new WeakMap, Ld = new WeakMap, qd = new WeakMap, eu = new WeakMap, Nd = new WeakMap, Rd = new WeakMap, kd = new WeakMap, Bd = new WeakMap, tu = new WeakMap, xa = new WeakMap, U0 = new WeakMap, z0 = new WeakMap, As = new WeakMap, Fd = new WeakMap, V0 = new WeakMap, G0 = new WeakMap, j0 = new WeakSet, aS = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = [], i = ya(e);
    t = [
        ...(0, _chunkZRT45YCMJs.g)(this, Bn).search(i),
        ...(0, _chunkZRT45YCMJs.g)(this, ws).search(i),
        ...(0, _chunkZRT45YCMJs.g)(this, Lr).search(i)
    ].sort((e, t)=>t.score - e.score);
    let n = {};
    for (let e of t){
        let t = (0, _chunkZRT45YCMJs.g)(this, V0).call(this, e);
        n[e.id] ? n[e.id].score += t.score : n[e.id] = {
            ...t,
            matches: []
        }, (0, _chunkZRT45YCMJs.g)(this, G0).call(this, e, n[e.id]);
    }
    return Object.keys(n).map((e)=>({
            ...n[e],
            matches: n[e].matches.sort((e, t)=>t.weight - e.weight)
        })).sort((e, t)=>t.score - e.score);
}, "#doSearch"), (0, _chunkZRT45YCMJs.a)(B3, "OfflineSearch");
var Dd = B3;
(0, _chunkA5C75TI6Js.a)();
var Ea = ((e)=>(e.MULTI_GEOMETRY = "MULTI_GEOMETRY", e.SINGLE_GEOMETRY = "SINGLE_GEOMETRY", e))(Ea || {});
(0, _chunkA5C75TI6Js.a)();
var zd, Vd, Gd, nu, Ud = class e {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.h)(this, zd, void 0), (0, _chunkZRT45YCMJs.h)(this, Vd, void 0), (0, _chunkZRT45YCMJs.h)(this, Gd, void 0), (0, _chunkZRT45YCMJs.h)(this, nu, {}), (0, _chunkZRT45YCMJs.f)(this, "defaultMap", ""), (0, _chunkZRT45YCMJs.f)(this, "address", ""), (0, _chunkZRT45YCMJs.f)(this, "city", ""), (0, _chunkZRT45YCMJs.f)(this, "countrycode", ""), (0, _chunkZRT45YCMJs.f)(this, "externalId", ""), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "latitude"), (0, _chunkZRT45YCMJs.f)(this, "logo"), (0, _chunkZRT45YCMJs.f)(this, "longitude"), (0, _chunkZRT45YCMJs.f)(this, "name", ""), (0, _chunkZRT45YCMJs.f)(this, "operationHours"), (0, _chunkZRT45YCMJs.f)(this, "postal", ""), (0, _chunkZRT45YCMJs.f)(this, "slug", ""), (0, _chunkZRT45YCMJs.f)(this, "state", ""), (0, _chunkZRT45YCMJs.f)(this, "telephone", ""), (0, _chunkZRT45YCMJs.f)(this, "tzid", ""), (0, _chunkZRT45YCMJs.f)(this, "tzidOverride", ""), (0, _chunkZRT45YCMJs.f)(this, "utcOffset", ""), (0, _chunkZRT45YCMJs.f)(this, "website", ""), (0, _chunkZRT45YCMJs.f)(this, "secureContentStorage", !1), (0, _chunkZRT45YCMJs.f)(this, "defaultLanguage"), (0, _chunkZRT45YCMJs.f)(this, "languages", []), (0, _chunkZRT45YCMJs.f)(this, "topLocations", []), (0, _chunkZRT45YCMJs.f)(this, "renderOptions", {
            useLivePolygons: !1,
            simplifyDirections: !1
        }), (0, _chunkZRT45YCMJs.i)(this, Vd, e), (0, _chunkZRT45YCMJs.i)(this, zd, t), Object.assign(this, t);
    }
    get metadata() {
        return ae.addPendingEvent(new Ph({
            venue: this.slug
        })), (0, _chunkZRT45YCMJs.g)(this, Gd);
    }
    set metadata(e) {
        (0, _chunkZRT45YCMJs.i)(this, Gd, e);
    }
    static hydrate(t, i) {
        return new e(i, t);
    }
    static async fetch(t) {
        let i = {
            fields: t.options.things.venue,
            slug: t.options.venue,
            limit: 1
        };
        try {
            let n = await Ut(t.options, "venue", i);
            return new e(t, Array.isArray(n) ? n[0] : n);
        } catch (e) {
            return R.error("Fetch Venue:", e), {};
        }
    }
    get isMultiBuilding() {
        if (null == (0, _chunkZRT45YCMJs.g)(this, nu).isMultiBuilding) {
            let e = (0, _chunkZRT45YCMJs.g)(this, Vd).maps, t = e.reduce((e, t)=>e.add(t.elevation), new Set), i = e.length !== t.size;
            (0, _chunkZRT45YCMJs.g)(this, nu).isMultiBuilding = i;
        }
        return (0, _chunkZRT45YCMJs.g)(this, nu).isMultiBuilding;
    }
    toJSON() {
        return (0, _chunkZRT45YCMJs.g)(this, zd);
    }
};
zd = new WeakMap, Vd = new WeakMap, Gd = new WeakMap, nu = new WeakMap, (0, _chunkZRT45YCMJs.a)(Ud, "MappedinVenue");
var Ma = Ud, F3 = globalThis.fetch;
function Oi() {
    if (null == F3) throw new Error("fetch is not available in your environment. Pass your own function into `setFetchFn` (node-fetch, etc)");
    return F3;
}
function xF(e) {
    F3 = e;
}
(0, _chunkZRT45YCMJs.a)(Oi, "isomorphicFetch"), (0, _chunkZRT45YCMJs.a)(xF, "setFetchFn");
var sS, TF = null == (sS = null == (0, _chunkA5C75TI6Js.b) ? void 0 : (0, _chunkA5C75TI6Js.b).env) ? void 0 : sS.npm_package_version;
globalThis.btoa || (globalThis.btoa = oS.encode);
var EF = [
    "ar"
];
function Lo(e) {
    var t;
    let i = {
        ...y3,
        ...e
    };
    return i.headers = {
        ...i.headers,
        "mappedin-sdk-version": TF
    }, i.things = pS("things" in e ? e.things : void 0), "platformString" in e && (i.headers = {
        ...i.headers,
        "mappedin-platform-version": e.platformString
    }), i.noAuth || (i.accessToken ? i.authorization = "Bearer ".concat(i.accessToken) : i.clientId && i.clientSecret && (i.authorization = "Basic ".concat(globalThis.btoa("".concat(i.clientId, ":").concat(i.clientSecret))))), i.language = null == (t = i.language) ? void 0 : t.toLowerCase(), i;
}
function lS(e) {
    return e.endsWith("/") ? e : "".concat(e, "/");
}
async function MF(e) {
    let t = {
        emitAnalyticsEvents: !0,
        version: "2.0.0",
        ...e
    }, i = Lo(t), n = new cn(i), r = await dS(i);
    if ("1.0.0" === i.version) {
        let e = RP(await LP(r));
        return n.hydrateFromMVFv1(e), n;
    }
    let o = NP(f3(await p3(r)), i.override);
    return "function" == typeof t.onMVFParsed && t.onMVFParsed(o), await n.hydrateFromMVF(o), ae.addPendingEvent(new mh({
        venue: i.venue
    })), n;
}
async function wF(e) {
    e.key || R.error('"key" is required.'), e.secret || R.error('"secret" is required.'), e.mapId || R.error('"mapId" is required.');
    let { access_token: t } = await PF(e), i = {
        emitAnalyticsEvents: !0,
        clientId: e.key,
        clientSecret: e.secret,
        venue: e.mapId,
        accessToken: t,
        ...e
    }, n = Lo({
        ...i
    }), r = new cn(n), o = await IF(n, t), s = f3(await p3(o));
    return "function" == typeof i.onMVFParsed && i.onMVFParsed(s), r.hydrateFromMVF(s), r;
}
async function uS(e) {
    let t = {
        emitAnalyticsEvents: !0,
        secure: !0,
        ...e
    }, i = Lo({
        baseUrl: "https://api-gateway.mappedin.com/",
        ...t
    }), n = "public/1/".concat(i.useDraftData ? "draft/" : ""), r = new cn({
        ...i,
        baseUrl: i.baseUrl + n
    });
    return await r.fetch(), t.emitAnalyticsEvents, ae.addPendingEvent(new fh({
        venue: i.venue
    })), r;
}
(0, _chunkZRT45YCMJs.a)(Lo, "parseOptions"), (0, _chunkZRT45YCMJs.a)(lS, "normalizeUrl"), (0, _chunkZRT45YCMJs.a)(MF, "getVenueMVF"), (0, _chunkZRT45YCMJs.a)(wF, "getVenueMaker"), (0, _chunkZRT45YCMJs.a)(uS, "getVenue");
var U3 = {
    shouldPopulateBundledImagesAsBlobs: !(typeof globalThis.navigator < "u" && "ReactNative" == globalThis.navigator.product)
};
async function cS(e) {
    let t = Lo({
        baseUrl: "https://api-gateway.mappedin.com/",
        ...U3,
        ...e
    }), { url: i, updated_at: n } = await hS(e), r = await Oi()(i, {
        mode: "cors"
    }), { data: o, format: s = "jsonstring" } = await r.json();
    if ("jsonstring" !== s) throw new Error("Unrecognized format ".concat(s));
    let a = new cn(t);
    return await a.hydrate(o, t.shouldPopulateBundledImagesAsBlobs), a.updatedAt = n, a;
}
async function hS(e) {
    let t = Lo({
        baseUrl: "https://api-gateway.mappedin.com/",
        ...U3,
        ...e
    }), { version: i, venue: n } = e, r = "".concat(e.bundleBaseUri || t.baseUrl + "exports/legacy".concat(null != t.language && EF.includes(t.language) ? "-" + t.language : "", "/1/bundle"), "?venue=").concat(n, "&version=1.0.0");
    return t.language = void 0, await H0(t, r);
}
async function AF(e, { url: t, updated_at: i }) {
    let n = Lo({
        baseUrl: "https://api-gateway.mappedin.com/",
        ...U3,
        ...e
    }), r = await Oi()(t, {
        mode: "cors"
    }), { data: o, format: s = "jsonstring" } = await r.json();
    if ("jsonstring" !== s) throw new Error("Unrecognized format".concat(s));
    let a = new cn(n);
    return await a.hydrate(o, n.shouldPopulateBundledImagesAsBlobs), a.updatedAt = i, a;
}
async function CF(e) {
    var t;
    let i = Lo({
        baseUrl: "https://api-gateway.mappedin.com/",
        ...y3,
        ...e
    }), n = "".concat(i.bundleBaseUri || i.baseUrl + "exports/mvf/1/bundle", "?venue=").concat(i.venue, "&version=").concat(null != (t = i.version) ? t : "2.0.0");
    return i.headers["Content-Type"] = "application/zip", await H0(i, n);
}
async function dS(e) {
    return new Promise(async (t, i)=>{
        try {
            let { url: i } = await CF(e), n = await Oi()(i).then((e)=>e.arrayBuffer());
            t(new Uint8Array(n));
        } catch (e) {
            i(e);
        }
    });
}
async function PF(e) {
    let t = "".concat(e.authBaseUri ? lS(e.authBaseUri) : "https://auth-maker.mappedin.com/", "api-key/token"), i = await Oi()(t, {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            key: e.key,
            secret: e.secret
        })
    });
    if (!i.ok) throw new Error("".concat(i.status, " ").concat(i.statusText));
    return i.json();
}
async function SF(e, t) {
    let i = "".concat(e.bundleBaseUri ? lS(e.bundleBaseUri) : "https://app.mappedin.com/", "api/venue/").concat(e.mapId, "/mvf"), n = await Oi()(i, {
        headers: {
            Authorization: "Bearer ".concat(t)
        }
    });
    if (!n.ok) throw new Error("".concat(n.status, " ").concat(n.statusText));
    return n.json();
}
async function IF(e, t) {
    return new Promise(async (i, n)=>{
        try {
            let { url: n } = await SF(e, t), r = await Oi()(n).then((e)=>e.arrayBuffer());
            i(new Uint8Array(r));
        } catch (e) {
            n(e);
        }
    });
}
async function _F(e, t = !0) {
    let i = new cn({
        venue: ""
    });
    return await i.hydrate(e, t), i;
}
(0, _chunkZRT45YCMJs.a)(cS, "getVenueBundle"), (0, _chunkZRT45YCMJs.a)(hS, "getVenueBundleURL"), (0, _chunkZRT45YCMJs.a)(AF, "downloadBundle"), (0, _chunkZRT45YCMJs.a)(CF, "getVenueMVFURL"), (0, _chunkZRT45YCMJs.a)(dS, "downloadVenueBundleMVF"), (0, _chunkZRT45YCMJs.a)(PF, "getMakerAccessToken"), (0, _chunkZRT45YCMJs.a)(SF, "getMakerBundleURL"), (0, _chunkZRT45YCMJs.a)(IF, "downloadMVF"), (0, _chunkZRT45YCMJs.a)(_F, "hydrateVenue");
var wa, Bo, ar, au, qr, Y0, yS, W0, bS, jd, G3, Hd, j3, sr, vS = (0, _chunkZRT45YCMJs.e)(Qm()), fS = "5.39.3", DF = "https://api2.amplitude.com/2/httpapi", LF = "https://api2.amplitude.com/batch", qF = "__unspecified__", z3 = {
    branch: "main",
    version: "0",
    source: "websdk"
}, ji = class e {
    constructor(){
        (0, _chunkZRT45YCMJs.h)(this, Y0), (0, _chunkZRT45YCMJs.h)(this, W0), (0, _chunkZRT45YCMJs.h)(this, jd), (0, _chunkZRT45YCMJs.h)(this, Hd), (0, _chunkZRT45YCMJs.h)(this, ar, {}), (0, _chunkZRT45YCMJs.h)(this, au, !1), (0, _chunkZRT45YCMJs.h)(this, qr, void 0), (0, _chunkZRT45YCMJs.h)(this, sr, (0, _chunkZRT45YCMJs.a)(async (e)=>{
            RF(e.type) && (window.removeEventListener("visibilitychange", (0, _chunkZRT45YCMJs.g)(this, sr)), window.removeEventListener("pagehide", (0, _chunkZRT45YCMJs.g)(this, sr)), window.removeEventListener("beforeunload", (0, _chunkZRT45YCMJs.g)(this, sr)), window.removeEventListener("unload", (0, _chunkZRT45YCMJs.g)(this, sr)), await this.sendAllPendingEvents());
        }, "#handlePageUnload")), null == (0, _chunkZRT45YCMJs.g)(e, Bo) && (0, _chunkZRT45YCMJs.i)(e, Bo, fS), typeof navigator < "u" && null != navigator.userAgent && (0, _chunkZRT45YCMJs.i)(this, qr, new vS.UAParser(navigator.userAgent).getResult());
    }
    static setContext(t) {
        (0, _chunkZRT45YCMJs.i)(e, wa, t);
    }
    static setVersion(t) {
        (0, _chunkZRT45YCMJs.i)(e, Bo, t);
    }
    addPendingEvent(t) {
        var i;
        if (null == (0, _chunkZRT45YCMJs.g)(e, wa)) return;
        let n = t.event_type;
        if (!(0, _chunkZRT45YCMJs.k)(this, W0, bS).call(this, t)) return;
        null == t.event_properties && (t.event_properties = {});
        let r = (0, _chunkZRT45YCMJs.g)(this, ar)[n];
        (0, gS.default)(t.event_properties, null != (i = null == r ? void 0 : r.event_properties) ? i : {}), (0, _chunkZRT45YCMJs.g)(this, ar)[n] = t;
    }
    async sendAllPendingEvents() {
        if (null == (0, _chunkZRT45YCMJs.g)(e, wa) || Object.keys((0, _chunkZRT45YCMJs.g)(this, ar)).length < 1) return;
        if ((0, _chunkZRT45YCMJs.g)(this, au)) return void R.warn("The current batch of analytics is already sending. Wait until this finishes before trying to send again.");
        let t = [];
        for(let e in (0, _chunkZRT45YCMJs.g)(this, ar)){
            let i = (0, _chunkZRT45YCMJs.g)(this, ar)[e], n = (0, _chunkZRT45YCMJs.k)(this, jd, G3).call(this, i);
            null != n && t.push(n);
        }
        if (!(t.length < 1)) try {
            (0, _chunkZRT45YCMJs.i)(this, au, !0), 200 === (await (0, _chunkZRT45YCMJs.k)(this, Hd, j3).call(this, LF, t)).status && (0, _chunkZRT45YCMJs.i)(this, ar, {});
        } catch (e) {
            R.warn("Error sending batch product analytics!", e);
        } finally{
            (0, _chunkZRT45YCMJs.i)(this, au, !1);
        }
    }
    async load() {
        if (!ad.isLoaded) {
            let { promise: e } = ad.load({
                environment: "production",
                client: {
                    configuration: {
                        trackingOptions: {
                            osName: !0
                        }
                    }
                }
            });
            e.then(()=>{
                window.addEventListener("pagehide", (0, _chunkZRT45YCMJs.g)(this, sr)), window.addEventListener("beforeunload", (0, _chunkZRT45YCMJs.g)(this, sr)), window.addEventListener("unload", (0, _chunkZRT45YCMJs.g)(this, sr)), window.addEventListener("visibilitychange", (0, _chunkZRT45YCMJs.g)(this, sr));
            });
        }
    }
    async sendEventNow(t) {
        if (null == (0, _chunkZRT45YCMJs.g)(e, wa)) return;
        let i = (0, _chunkZRT45YCMJs.k)(this, jd, G3).call(this, t);
        if (null != i) try {
            await (0, _chunkZRT45YCMJs.k)(this, Hd, j3).call(this, DF, [
                i
            ]);
        } catch (e) {
            R.warn("Error sending single product analytics event!", e);
        }
    }
};
wa = new WeakMap, Bo = new WeakMap, ar = new WeakMap, au = new WeakMap, qr = new WeakMap, Y0 = new WeakSet, yS = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = e.event_type;
    return null != (0, _chunkZRT45YCMJs.g)(this, ar)[t];
}, "#isEventTypePending"), W0 = new WeakSet, bS = (0, _chunkZRT45YCMJs.a)(function(e) {
    if (!(0, _chunkZRT45YCMJs.k)(this, Y0, yS).call(this, e)) return !0;
    let t = e.event_type, i = (0, _chunkZRT45YCMJs.g)(this, ar)[t];
    return !(0, mS.default)(i.event_properties, e.event_properties);
}, "#didEventPropertiesChange"), jd = new WeakSet, G3 = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t, i, n, r, o, s, a, l, c, u, d, p, f, m, g, v, y;
    if (null != (0, _chunkZRT45YCMJs.g)(ji, wa)) return null == (null == (t = e.event_properties) ? void 0 : t.venue) && R.warn("Error processing product analytics event! Unspecified venue slug", e), null == Bl.plan && R.warn("Error processing product analytics event! Unknown coinfiguration plan", e), {
        event_type: e.event_type,
        session_id: null != (i = ad.client.getSessionId()) ? i : Z0(),
        device_id: null != (n = ad.client.getDeviceId()) ? n : X0(),
        plan: {
            branch: null != (o = null == (r = Bl.plan) ? void 0 : r.branch) ? o : z3.branch,
            version: null != (a = null == (s = Bl.plan) ? void 0 : s.version) ? a : z3.version,
            source: null != (c = null == (l = Bl.plan) ? void 0 : l.source) ? c : z3.source
        },
        os_name: null == (u = (0, _chunkZRT45YCMJs.g)(this, qr)) ? void 0 : u.browser.name,
        os_version: null == (d = (0, _chunkZRT45YCMJs.g)(this, qr)) ? void 0 : d.browser.version,
        device_manufacturer: null == (p = (0, _chunkZRT45YCMJs.g)(this, qr)) ? void 0 : p.device.vendor,
        device_model: null == (f = (0, _chunkZRT45YCMJs.g)(this, qr)) ? void 0 : f.device.model,
        event_properties: {
            ...e.event_properties,
            context: (0, _chunkZRT45YCMJs.g)(ji, wa),
            sdk_version: (0, _chunkZRT45YCMJs.g)(ji, Bo),
            browser_name: null == (m = (0, _chunkZRT45YCMJs.g)(this, qr)) ? void 0 : m.browser.name,
            browser_version: null == (g = (0, _chunkZRT45YCMJs.g)(this, qr)) ? void 0 : g.browser.version,
            venue: null != (y = null == (v = e.event_properties) ? void 0 : v.venue) ? y : qF
        },
        time: e.time
    };
}, "#makeBatchFormattedEvent"), Hd = new WeakSet, j3 = (0, _chunkZRT45YCMJs.a)(async function(e, t) {
    return await Oi()(e, {
        method: "POST",
        mode: "cors",
        headers: {
            "Content-Type": "application/json",
            Accept: "*/*"
        },
        body: JSON.stringify({
            api_key: vy.production,
            events: t
        })
    });
}, "#batchSend"), sr = new WeakMap, (0, _chunkZRT45YCMJs.a)(ji, "ProductAnalytics"), (0, _chunkZRT45YCMJs.h)(ji, wa, void 0), (0, _chunkZRT45YCMJs.h)(ji, Bo, void 0);
var V3 = ji, NF = new V3, ae = NF;
function RF(e) {
    return "beforeunload" === e || "pagehide" === e || "unload" === e || "hidden" === document.visibilityState;
}
(0, _chunkZRT45YCMJs.a)(RF, "areWeLeavingThePage");
var zn, su, Mi, Wd, Yd = class e extends Dn {
    constructor(e, t){
        super(e), (0, _chunkZRT45YCMJs.h)(this, zn, void 0), (0, _chunkZRT45YCMJs.h)(this, su, void 0), (0, _chunkZRT45YCMJs.h)(this, Mi, {}), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "x", 0), (0, _chunkZRT45YCMJs.f)(this, "y", 0), (0, _chunkZRT45YCMJs.f)(this, "operationHours"), (0, _chunkZRT45YCMJs.f)(this, "externalId"), (0, _chunkZRT45YCMJs.h)(this, Wd, void 0), (0, _chunkZRT45YCMJs.i)(this, zn, e), (0, _chunkZRT45YCMJs.i)(this, su, t);
        let i = Object.assign({}, t);
        delete i.map, Object.assign(this, i);
    }
    get map() {
        let e = (0, _chunkZRT45YCMJs.g)(this, Mi).map;
        if (typeof e < "u") return e;
        let t = (0, _chunkZRT45YCMJs.g)(this, zn).getCollectionItemById("maps", (0, _chunkZRT45YCMJs.g)(this, su).map);
        return (0, _chunkZRT45YCMJs.g)(this, Mi).map = t, t;
    }
    get lat() {
        var e;
        let t = (0, _chunkZRT45YCMJs.g)(this, Mi).cachedLatLon;
        if (null != t) return t.lat;
        let i = null == (e = (0, _chunkZRT45YCMJs.g)(this, zn)._mapsById) ? void 0 : e[this.map.id];
        if (null == i) throw new Error("Map not found");
        return (0, _chunkZRT45YCMJs.g)(this, Mi).cachedLatLon = i.createCoordinateByXY(this.x, this.y), (0, _chunkZRT45YCMJs.g)(this, Mi).cachedLatLon.lat;
    }
    get lon() {
        var e;
        let t = (0, _chunkZRT45YCMJs.g)(this, Mi).cachedLatLon;
        if (null != t) return t.lon;
        let i = null == (e = (0, _chunkZRT45YCMJs.g)(this, zn)._mapsById) ? void 0 : e[this.map.id];
        if (null == i) throw new Error("Map not found");
        return (0, _chunkZRT45YCMJs.g)(this, Mi).cachedLatLon = i.createCoordinateByXY(this.x, this.y), (0, _chunkZRT45YCMJs.g)(this, Mi).cachedLatLon.lon;
    }
    get paths() {
        let e = (0, _chunkZRT45YCMJs.g)(this, Mi).paths;
        if (typeof e < "u") return e;
        let t = [], i = (0, _chunkZRT45YCMJs.g)(this, zn)._nodesById, n = (0, _chunkZRT45YCMJs.g)(this, Wd);
        if (Array.isArray(n)) for(let e = 0, r = n.length; e < r; ++e){
            let r = i[n[e].node];
            null != r && t.push(r);
        }
        return (0, _chunkZRT45YCMJs.g)(this, Mi).paths = t, t;
    }
    set paths(e) {
        (0, _chunkZRT45YCMJs.i)(this, Wd, e);
    }
    get locations() {
        var e, t, i;
        let n = (0, _chunkZRT45YCMJs.g)(this, Mi).locations;
        if (typeof n < "u") return n;
        let r = [], o = null != (i = null == (t = null == (e = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, zn))) ? void 0 : e.locationsByMapId) ? void 0 : t.get(this.map.id)) ? i : [], s = this.id;
        for(let e = 0, t = o.length; e < t; ++e){
            let t = o[e], i = t.nodes;
            if (Array.isArray(i)) {
                for(let e = 0, n = i.length; e < n; ++e)if (i[e].id === s) {
                    r.push(t);
                    break;
                }
            }
        }
        return (0, _chunkZRT45YCMJs.g)(this, Mi).locations = r, r;
    }
    get polygon() {
        var e, t, i, n;
        let r = (0, _chunkZRT45YCMJs.g)(this, Mi).polygon;
        if (typeof r < "u") return r;
        let o, s = null != (n = null == (i = null == (e = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, zn))) ? void 0 : e.polygonsByMapId) ? void 0 : i.get(null == (t = null == this ? void 0 : this.map) ? void 0 : t.id)) ? n : [], a = this.id;
        for(let e = 0, t = s.length; e < t; ++e){
            let t = s[e];
            t.entrances.map((e)=>e.id).includes(a) && (o = t);
        }
        return (0, _chunkZRT45YCMJs.g)(this, Mi).polygon = o, o;
    }
    static hydrate(t, i) {
        return t.map((t)=>new e(i, t));
    }
    static async fetch(t) {
        let i = t.options.things.nodes.slice();
        t.options.things.maps && zt(i, "map"), [
            "weight",
            "multiplier",
            "accessible"
        ].forEach(function(e) {
            zt(i, e);
        });
        let n = {
            fields: i,
            venue: t.options.venue
        };
        try {
            return (await Ut(t.options, "node", n)).map((i)=>new e(t, i));
        } catch (e) {
            return R.error("Fetch Nodes:", e), [];
        }
    }
    directionsTo(e, t) {
        let i = e instanceof on, n = (0, _chunkZRT45YCMJs.g)(this, zn).venue.slug, r = new Mh({
            with_destination_set: i || void 0,
            venue: n
        });
        return ae.addPendingEvent(r), super.directionsTo(e, t);
    }
    distanceTo(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, zn).venue.slug;
        return ae.addPendingEvent(new wh({
            venue: i
        })), super.distanceTo(e, t);
    }
    toJSON() {
        return (0, _chunkZRT45YCMJs.g)(this, su);
    }
};
zn = new WeakMap, su = new WeakMap, Mi = new WeakMap, Wd = new WeakMap, (0, _chunkZRT45YCMJs.a)(Yd, "MappedinNode");
var di = Yd;
(0, _chunkA5C75TI6Js.a)();
var Nr, ou, Vn, Zd, Xd = class e extends Dn {
    constructor(e, t){
        super(e), (0, _chunkZRT45YCMJs.h)(this, Nr, void 0), (0, _chunkZRT45YCMJs.h)(this, ou, void 0), (0, _chunkZRT45YCMJs.h)(this, Vn, {}), (0, _chunkZRT45YCMJs.f)(this, "geometry"), (0, _chunkZRT45YCMJs.f)(this, "perspectives"), (0, _chunkZRT45YCMJs.f)(this, "image"), (0, _chunkZRT45YCMJs.f)(this, "holes"), (0, _chunkZRT45YCMJs.f)(this, "textures"), (0, _chunkZRT45YCMJs.f)(this, "material"), (0, _chunkZRT45YCMJs.f)(this, "label"), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "layer"), (0, _chunkZRT45YCMJs.f)(this, "layerId"), (0, _chunkZRT45YCMJs.f)(this, "name"), (0, _chunkZRT45YCMJs.f)(this, "externalId"), (0, _chunkZRT45YCMJs.f)(this, "vertexes"), (0, _chunkZRT45YCMJs.f)(this, "center"), (0, _chunkZRT45YCMJs.f)(this, "canvasBounds"), (0, _chunkZRT45YCMJs.f)(this, "categoryRank"), (0, _chunkZRT45YCMJs.h)(this, Zd, void 0), (0, _chunkZRT45YCMJs.i)(this, Nr, e), (0, _chunkZRT45YCMJs.i)(this, ou, t);
        let i = Object.assign({}, t);
        delete i.map, Object.assign(this, i);
    }
    get map() {
        let e = (0, _chunkZRT45YCMJs.g)(this, Vn).map;
        if (typeof e < "u") return e;
        let t = (0, _chunkZRT45YCMJs.g)(this, Nr).getCollectionItemById("maps", (0, _chunkZRT45YCMJs.g)(this, ou).map);
        return (0, _chunkZRT45YCMJs.g)(this, Vn).map = t, t;
    }
    get locations() {
        var e, t;
        let i = (0, _chunkZRT45YCMJs.g)(this, Vn).locations;
        if (typeof i < "u") return i;
        let n = [], r = null != (t = null == (e = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, Nr))) ? void 0 : e.locationsByMapId.get(this.map.id)) ? t : [], { id: o } = this;
        for(let e = 0, t = r.length; e < t; ++e){
            let t = r[e], i = t.polygons;
            if (Array.isArray(i)) {
                for(let e = 0, r = i.length; e < r; ++e)if (i[e].id === o) {
                    n.push(t);
                    break;
                }
            }
        }
        return (0, _chunkZRT45YCMJs.g)(this, Vn).locations = n, n;
    }
    get entrances() {
        let e = (0, _chunkZRT45YCMJs.g)(this, Vn).entrances;
        if (typeof e < "u") return e;
        let t = [], i = (0, _chunkZRT45YCMJs.g)(this, Zd), n = (0, _chunkZRT45YCMJs.g)(this, Nr)._nodesById;
        if (Array.isArray(i)) {
            for(let e = 0, r = i.length; e < r; ++e){
                let r = n[i[e].id];
                null != r && t.push(r);
            }
            return (0, _chunkZRT45YCMJs.g)(this, Vn).entrances = t, t;
        }
        return [];
    }
    set entrances(e) {
        (0, _chunkZRT45YCMJs.i)(this, Zd, e);
    }
    get rank() {
        let e = (0, _chunkZRT45YCMJs.g)(this, Vn).rank;
        if (typeof e < "u") return e;
        let { rankings: t } = (0, _chunkZRT45YCMJs.g)(this, Nr);
        if (!t || !t.polygons) return null;
        let i = t.polygons.find((e)=>e.polygonId === this.id);
        return i ? ((0, _chunkZRT45YCMJs.g)(this, Vn).rank = {
            score: i.score,
            node: i.entranceNodeId
        }, {
            score: i.score,
            node: i.entranceNodeId
        }) : ((0, _chunkZRT45YCMJs.g)(this, Vn).rank = null, null);
    }
    static hydrate(t, i) {
        return t.map((t)=>new e(i, t));
    }
    static async fetch(t) {
        let i = t.options.things.polygons.slice();
        t.options.things.maps && zt(i, "map"), t.options.things.nodes && zt(i, "entrances");
        let n = {
            fields: i,
            venue: t.options.venue
        };
        try {
            return (await Ut(t.options, "polygon", n)).map((i)=>new e(t, i));
        } catch (e) {
            return R.error("Fetch Polygons:", e), [];
        }
    }
    directionsTo(e, t) {
        let i = e instanceof on, n = (0, _chunkZRT45YCMJs.g)(this, Nr).venue.slug, r = new Ah({
            with_destination_set: i || void 0,
            venue: n
        });
        return ae.addPendingEvent(r), super.directionsTo(e, t);
    }
    distanceTo(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, Nr).venue.slug;
        return ae.addPendingEvent(new Ch({
            venue: i
        })), super.distanceTo(e, t);
    }
    toJSON() {
        return (0, _chunkZRT45YCMJs.g)(this, ou);
    }
};
Nr = new WeakMap, ou = new WeakMap, Vn = new WeakMap, Zd = new WeakMap, (0, _chunkZRT45YCMJs.a)(Xd, "MappedinPolygon");
var Un = Xd;
(0, _chunkA5C75TI6Js.a)();
var kF = 0, BF = "9999-12-31T00:00:00.000Z";
function FF(e, t, i = new Date) {
    if (!e.states) return;
    let n = i || new Date, r = e.states.find((e)=>{
        let t = new Date(e.start || kF), i = new Date(e.end || BF);
        return t < n && i > n;
    });
    return r ? t.find((e)=>e.value === r.type) : void 0;
}
(0, _chunkZRT45YCMJs.a)(FF, "getCurrentLocationState");
var Tn, Ps, En, Qd, Kd, Jd, xS = [
    "name",
    "description",
    "shortName",
    "tags"
], Fo = class e extends Dn {
    constructor(e, t){
        super(e), (0, _chunkZRT45YCMJs.h)(this, Tn, void 0), (0, _chunkZRT45YCMJs.h)(this, Ps, void 0), (0, _chunkZRT45YCMJs.h)(this, En, {}), (0, _chunkZRT45YCMJs.f)(this, "states"), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "name", ""), (0, _chunkZRT45YCMJs.f)(this, "type", ""), (0, _chunkZRT45YCMJs.f)(this, "description"), (0, _chunkZRT45YCMJs.f)(this, "sortOrder"), (0, _chunkZRT45YCMJs.f)(this, "logo"), (0, _chunkZRT45YCMJs.f)(this, "phone"), (0, _chunkZRT45YCMJs.f)(this, "social"), (0, _chunkZRT45YCMJs.f)(this, "color"), (0, _chunkZRT45YCMJs.f)(this, "shortName"), (0, _chunkZRT45YCMJs.f)(this, "detailsUrl"), (0, _chunkZRT45YCMJs.f)(this, "tags"), (0, _chunkZRT45YCMJs.f)(this, "toMap"), (0, _chunkZRT45YCMJs.f)(this, "externalId"), (0, _chunkZRT45YCMJs.f)(this, "showLabelWhenImagePresent"), (0, _chunkZRT45YCMJs.f)(this, "showSmartLabelWhenImagePresent"), (0, _chunkZRT45YCMJs.f)(this, "picture"), (0, _chunkZRT45YCMJs.f)(this, "operationHours"), (0, _chunkZRT45YCMJs.f)(this, "siblingGroups"), (0, _chunkZRT45YCMJs.f)(this, "gallery"), (0, _chunkZRT45YCMJs.f)(this, "amenity"), (0, _chunkZRT45YCMJs.f)(this, "filterFlags"), (0, _chunkZRT45YCMJs.h)(this, Qd, void 0), (0, _chunkZRT45YCMJs.h)(this, Kd, []), (0, _chunkZRT45YCMJs.h)(this, Jd, void 0), (0, _chunkZRT45YCMJs.i)(this, Tn, e), (0, _chunkZRT45YCMJs.i)(this, Ps, t);
        let i = Object.assign({}, t);
        delete i.categories, Object.assign(this, i);
    }
    get polygons() {
        let e = (0, _chunkZRT45YCMJs.g)(this, En).polygons;
        if (typeof e < "u") return e;
        let t = [], i = (0, _chunkZRT45YCMJs.g)(this, Qd), n = (0, _chunkZRT45YCMJs.g)(this, Tn)._polygonsById;
        if (Array.isArray(i)) for(let e = 0, r = i.length; e < r; ++e){
            let r = n[i[e].id];
            null != r && t.push(r);
        }
        return (0, _chunkZRT45YCMJs.g)(this, En).polygons = t, t;
    }
    set polygons(e) {
        (0, _chunkZRT45YCMJs.i)(this, Qd, e);
    }
    get nodes() {
        let e = (0, _chunkZRT45YCMJs.g)(this, En).nodes;
        if (typeof e < "u") return e;
        let t = [], i = (0, _chunkZRT45YCMJs.g)(this, Kd), n = (0, _chunkZRT45YCMJs.g)(this, Tn)._nodesById;
        if (i && i.length) for(let e = 0, r = i.length; e < r; ++e){
            let r = n[i[e].node];
            null != r && t.push(r);
        }
        return (0, _chunkZRT45YCMJs.g)(this, En).nodes = t, t;
    }
    set nodes(e) {
        (0, _chunkZRT45YCMJs.i)(this, Kd, e);
    }
    get parent() {
        let e = (0, _chunkZRT45YCMJs.g)(this, En).parent;
        if (typeof e < "u") return e;
        let t, i = (0, _chunkZRT45YCMJs.g)(this, Tn)._locationsById, n = (0, _chunkZRT45YCMJs.g)(this, Jd);
        return void 0 !== n && (t = i[n]), (0, _chunkZRT45YCMJs.g)(this, En).parent = t, t;
    }
    set parent(e) {
        (0, _chunkZRT45YCMJs.i)(this, Jd, e);
    }
    get categories() {
        let e = (0, _chunkZRT45YCMJs.g)(this, En).categories;
        if (typeof e < "u") return e;
        let t = [];
        return (0, _chunkZRT45YCMJs.g)(this, Ps).categories.forEach((e)=>{
            let i = (0, _chunkZRT45YCMJs.g)(this, Tn).getCollectionItemById("categories", e);
            i && t.push(i);
        }), (0, _chunkZRT45YCMJs.g)(this, En).categories = t, t;
    }
    get state() {
        return FF(this, (0, _chunkZRT45YCMJs.g)(this, Tn).locationStates);
    }
    clone() {
        let t = (0, _chunkZRT45YCMJs.g)(this, Tn).venue.slug;
        return ae.addPendingEvent(new xh({
            venue: t
        })), new e((0, _chunkZRT45YCMJs.g)(this, Tn), (0, _chunkZRT45YCMJs.g)(this, Ps));
    }
    get nodeOperationHours() {
        let e = (0, _chunkZRT45YCMJs.g)(this, En).nodeOperationHours;
        if (typeof e < "u") return e;
        if (null == this.nodes) return {};
        let t = (0, _chunkZRT45YCMJs.g)(this, Ps).nodes.reduce((e, t)=>(null != t.operationHours && (e[t.node] = t.operationHours), e), {});
        return (0, _chunkZRT45YCMJs.g)(this, En).nodeOperationHours = t, t;
    }
    static hydrate(t, i) {
        return t.map((t)=>new e(i, t));
    }
    static async updateInPlace(t, i) {
        let n, r = i || await e.fetch(t);
        for(let e = 0; e < r.length; e++){
            n = t.locations[e];
            for (let t of xS)n[t] = r[e][t];
        }
    }
    static async fetch(t) {
        let i = t.options.things.locations.slice();
        t.options.things.categories && zt(i, "categories"), t.options.things.nodes && zt(i, "nodes"), t.options.things.polygons && zt(i, "polygons"), t.options.things.locationStates && zt(i, "states");
        let n = {
            fields: i,
            venue: t.options.venue
        };
        try {
            let i = await Ut(t.options, "location", n);
            return t.options.includeHidden || (i = i.filter((e)=>!e.hidden)), i.map((i)=>new e(t, i));
        } catch (e) {
            return R.error("Fetch Locations:", e), [];
        }
    }
    directionsTo(e, t) {
        let i = e instanceof on, n = (0, _chunkZRT45YCMJs.g)(this, Tn).venue.slug, r = new Th({
            with_destination_set: i || void 0,
            venue: n
        });
        return ae.addPendingEvent(r), super.directionsTo(e, t);
    }
    distanceTo(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, Tn).venue.slug;
        return ae.addPendingEvent(new Eh({
            venue: i
        })), super.distanceTo(e, t);
    }
    toJSON() {
        let e = {
            ...(0, _chunkZRT45YCMJs.g)(this, Ps)
        };
        for (let t of xS)e[t] = this[t];
        return delete e.color, e;
    }
};
Tn = new WeakMap, Ps = new WeakMap, En = new WeakMap, Qd = new WeakMap, Kd = new WeakMap, Jd = new WeakMap, (0, _chunkZRT45YCMJs.a)(Fo, "MappedinLocation");
var Fn = Fo;
(0, _chunkA5C75TI6Js.a)();
var uu, Uo, $d, TS = [
    "name"
], lu = class e {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.h)(this, uu, void 0), (0, _chunkZRT45YCMJs.h)(this, Uo, {}), (0, _chunkZRT45YCMJs.h)(this, $d, void 0), (0, _chunkZRT45YCMJs.f)(this, "name"), (0, _chunkZRT45YCMJs.f)(this, "externalId"), (0, _chunkZRT45YCMJs.f)(this, "parents"), (0, _chunkZRT45YCMJs.f)(this, "id"), (0, _chunkZRT45YCMJs.f)(this, "icon"), (0, _chunkZRT45YCMJs.f)(this, "iconFromDefaultList"), (0, _chunkZRT45YCMJs.f)(this, "sortOrder"), this.id = t.id, (0, _chunkZRT45YCMJs.i)(this, $d, t), (0, _chunkZRT45YCMJs.i)(this, uu, e), Object.assign(this, t);
    }
    get locations() {
        var e;
        let t = (0, _chunkZRT45YCMJs.g)(this, Uo).locations;
        if (typeof t < "u") return t;
        let i = [], { locations: n } = (0, _chunkZRT45YCMJs.g)(this, uu), { id: r } = this;
        for(let t = 0, o = n.length; t < o; ++t){
            let o = n[t], s = o.categories;
            if (Array.isArray(s)) {
                for(let t = 0, n = s.length; t < n; ++t)if ((null == (e = s[t]) ? void 0 : e.id) === r) {
                    i.push(o);
                    break;
                }
            }
        }
        return (0, _chunkZRT45YCMJs.g)(this, Uo).locations = i, i;
    }
    get children() {
        var e;
        let t = (0, _chunkZRT45YCMJs.g)(this, Uo).children;
        if (typeof t < "u") return t;
        let { categories: i } = (0, _chunkZRT45YCMJs.g)(this, uu), { id: n } = this, r = [];
        for(let t = 0; t < i.length; t++)n && null != (e = i[t].parents) && e.includes(n) && r.push(i[t]);
        return (0, _chunkZRT45YCMJs.g)(this, Uo).children = r, r;
    }
    static hydrate(t, i) {
        return t.map((t)=>new e(i, t));
    }
    static async updateInPlace(t, i) {
        let n = i || await e.fetch(t);
        for(let e = 0; e < n.length; e++)for (let i of TS)t.categories[e][i] = n[e][i];
    }
    static async fetch(t) {
        let i = {
            fields: t.options.things.categories,
            venue: t.options.venue
        };
        try {
            return (await Ut(t.options, "category", i)).map((i)=>new e(t, i));
        } catch (e) {
            return R.error("Fetch Categories:", e), [];
        }
    }
    toJSON() {
        let e = {
            ...(0, _chunkZRT45YCMJs.g)(this, $d)
        };
        for (let t of TS)e[t] = this[t];
        return e;
    }
};
uu = new WeakMap, Uo = new WeakMap, $d = new WeakMap, (0, _chunkZRT45YCMJs.a)(lu, "MappedinCategory");
var Ta = lu;
(0, _chunkA5C75TI6Js.a)();
var ep, Aa, H3 = class {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.h)(this, ep, void 0), (0, _chunkZRT45YCMJs.h)(this, Aa, void 0), (0, _chunkZRT45YCMJs.f)(this, "distance", 0), (0, _chunkZRT45YCMJs.f)(this, "path", []), (0, _chunkZRT45YCMJs.f)(this, "instructions", []), (0, _chunkZRT45YCMJs.i)(this, Aa, e), (0, _chunkZRT45YCMJs.i)(this, ep, t), this.distance = t.distance, this.instructions = t.instructions.map((e)=>{
            var t, i, n, r, o, s, a, l, c, u, d, p;
            let f = {
                ...e,
                action: {
                    ...e.action
                },
                atLocation: null != (t = e.atLocation) && t.id ? null == (n = null == (i = (0, _chunkZRT45YCMJs.g)(this, Aa)) ? void 0 : i._vortexesById) ? void 0 : n[e.atLocation.id] : void 0,
                node: null != (r = e.node) && r.id ? null == (s = null == (o = (0, _chunkZRT45YCMJs.g)(this, Aa)) ? void 0 : o._nodesById) ? void 0 : s[e.node.id] : void 0
            };
            if ("TakeVortex" === (null == (a = f.action) ? void 0 : a.type) || "ExitVortex" === (null == (l = f.action) ? void 0 : l.type)) {
                let e = null == (u = (0, _chunkZRT45YCMJs.g)(this, Aa)._mapsById) ? void 0 : u[null == (c = f.action) ? void 0 : c.fromMap.id], t = null == (p = (0, _chunkZRT45YCMJs.g)(this, Aa)._mapsById) ? void 0 : p[null == (d = f.action) ? void 0 : d.toMap.id];
                e && t && (f.action.fromMap = e, f.action.toMap = t);
            }
            return f;
        }), this.path = t.path.reduce((e, { id: t })=>{
            var i, n;
            let r = null == (n = null == (i = (0, _chunkZRT45YCMJs.g)(this, Aa)) ? void 0 : i._nodesById) ? void 0 : n[t];
            return r && e.push(r), e;
        }, []);
    }
    toJSON() {
        return (0, _chunkZRT45YCMJs.g)(this, ep);
    }
};
ep = new WeakMap, Aa = new WeakMap, (0, _chunkZRT45YCMJs.a)(H3, "MappedinDirections");
var ua = H3;
(0, _chunkA5C75TI6Js.a)();
var Y3 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "destinations", []), this.destinations = e;
    }
};
(0, _chunkZRT45YCMJs.a)(Y3, "MappedinDestinationSet");
var on = Y3;
(0, _chunkA5C75TI6Js.a)();
var ip, tp = class e {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.h)(this, ip, void 0), (0, _chunkZRT45YCMJs.f)(this, "accessible"), (0, _chunkZRT45YCMJs.f)(this, "name"), (0, _chunkZRT45YCMJs.f)(this, "type"), (0, _chunkZRT45YCMJs.f)(this, "weight"), (0, _chunkZRT45YCMJs.f)(this, "multiplier"), (0, _chunkZRT45YCMJs.f)(this, "nodes"), (0, _chunkZRT45YCMJs.f)(this, "filterFlags"), (0, _chunkZRT45YCMJs.i)(this, ip, e), Object.assign(this, e);
    }
    static hydrate(t) {
        return t.map((t)=>new e(t));
    }
    static async fetch(t) {
        let i = t.options.things.vortexes.slice();
        [
            "name",
            "type",
            "accessible",
            "weight",
            "multiplier",
            "nodes"
        ].forEach(function(e) {
            zt(i, e);
        });
        let n = {
            fields: i,
            venue: t.options.venue
        };
        try {
            return (await Ut(t.options, "vortex", n)).map((t)=>new e(t));
        } catch (e) {
            return R.error("Fetch Vortexes:", e), [];
        }
    }
    toJSON() {
        return (0, _chunkZRT45YCMJs.g)(this, ip);
    }
};
ip = new WeakMap, (0, _chunkZRT45YCMJs.a)(tp, "MappedinVortex");
var qo = tp;
(0, _chunkA5C75TI6Js.a)();
var rp, np = class e {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.h)(this, rp, void 0), (0, _chunkZRT45YCMJs.i)(this, rp, e), Object.assign(this, e);
    }
    static hydrate(t) {
        return t.map((t)=>new e(t));
    }
    static async fetch(t) {
        let i = {
            fields: t.options.things.themes.slice(),
            venue: t.options.venue
        };
        try {
            return (await Ut(t.options, "apollo-theme", i)).map((t)=>new e(t));
        } catch (e) {
            return R.error("Fetch Theme:", e), [];
        }
    }
    toJSON() {
        return (0, _chunkZRT45YCMJs.g)(this, rp);
    }
};
rp = new WeakMap, (0, _chunkZRT45YCMJs.a)(np, "MappedinTheme");
var Q0 = np;
(0, _chunkA5C75TI6Js.a)();
var sp, ap = class e {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, sp, void 0), (0, _chunkZRT45YCMJs.f)(this, "polygons", []), (0, _chunkZRT45YCMJs.i)(this, sp, e), Object.assign(this, e);
    }
    static hydrate(t) {
        return new e(t);
    }
    static async fetch(t) {
        try {
            let i = await Ql({
                ...t.options,
                secure: !1
            }, "smart-labels/polygon-label-ranking", {
                venue: t.options.venue
            }, !0);
            return new e(i);
        } catch (e) {
            return R.error("Fetch Rankings:", e), null;
        }
    }
    toJSON() {
        return (0, _chunkZRT45YCMJs.g)(this, sp);
    }
};
sp = new WeakMap, (0, _chunkZRT45YCMJs.a)(ap, "MappedinRankings");
var No = ap;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var op, hu, lp, ES = [
    "name",
    "description"
], cu = class e {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.h)(this, op, void 0), (0, _chunkZRT45YCMJs.h)(this, hu, void 0), (0, _chunkZRT45YCMJs.h)(this, lp, {}), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "type", ""), (0, _chunkZRT45YCMJs.f)(this, "name", ""), (0, _chunkZRT45YCMJs.f)(this, "description"), (0, _chunkZRT45YCMJs.f)(this, "image"), (0, _chunkZRT45YCMJs.f)(this, "startDate"), (0, _chunkZRT45YCMJs.f)(this, "endDate"), (0, _chunkZRT45YCMJs.f)(this, "showDate"), (0, _chunkZRT45YCMJs.i)(this, hu, t), (0, _chunkZRT45YCMJs.i)(this, op, e), Object.assign(this, t);
    }
    location() {
        let e = (0, _chunkZRT45YCMJs.g)(this, lp).location;
        if (typeof e < "u") return e;
        let t, i = (0, _chunkZRT45YCMJs.g)(this, op)._locationsById, n = (0, _chunkZRT45YCMJs.g)(this, hu).location;
        if (null != n) {
            let e = i[n];
            null != e && (t = e);
        }
        return (0, _chunkZRT45YCMJs.g)(this, lp).location = t, t;
    }
    static hydrate(t, i) {
        return t.map((t)=>new e(i, t));
    }
    static async updateInPlace(t, i) {
        let n = i || await e.fetch(t);
        for(let e = 0; e < n.length; e++)for (let i of ES)t.events[e][i] = n[e][i];
    }
    static async fetch(t) {
        let i = t.options.things.events.slice();
        t.options.things.locations && zt(i, "location");
        let n = {
            fields: i,
            venue: t.options.venue,
            activeAtOrAfter: Date.now()
        };
        try {
            return (await Ut(t.options, "event", n)).map((i)=>new e(t, i));
        } catch (e) {
            return R.error("Fetch Events:", e), [];
        }
    }
    toJSON() {
        let e = {
            ...(0, _chunkZRT45YCMJs.g)(this, hu)
        };
        for (let t of ES)e[t] = this[t];
        return e;
    }
};
op = new WeakMap, hu = new WeakMap, lp = new WeakMap, (0, _chunkZRT45YCMJs.a)(cu, "MappedinEvent");
var Ro = cu;
(0, _chunkA5C75TI6Js.a)();
var up, MS = [
    "name"
], du = class e {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, up, void 0), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "name", ""), (0, _chunkZRT45YCMJs.f)(this, "value", ""), (0, _chunkZRT45YCMJs.i)(this, up, e), Object.assign(this, e);
    }
    static hydrate(t) {
        return t.map((t)=>new e(t));
    }
    static async updateInPlace(t, i) {
        let n = i || await e.fetch(t);
        for(let e = 0; e < n.length; e++)for (let i of MS)t.locationStates[e][i] = n[e][i];
    }
    static async fetch(t) {
        let i = {
            fields: t.options.things.locationStates.slice(),
            venue: t.options.venue
        };
        try {
            return (await Ut(t.options, "location-state", i)).map((t)=>new e(t));
        } catch (e) {
            return R.error("Fetch Location States:", e), [];
        }
    }
    toJSON() {
        let e = {
            ...(0, _chunkZRT45YCMJs.g)(this, up)
        };
        for (let t of MS)e[t] = this[t];
        return e;
    }
};
up = new WeakMap, (0, _chunkZRT45YCMJs.a)(du, "MappedinLocationState");
var ru = du;
(0, _chunkA5C75TI6Js.a)();
var Rr, Ss, cp, wS = [
    "name",
    "shortName"
], pu = class e {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.h)(this, Rr, void 0), (0, _chunkZRT45YCMJs.h)(this, Ss, {}), (0, _chunkZRT45YCMJs.h)(this, cp, void 0), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "group", ""), (0, _chunkZRT45YCMJs.f)(this, "name", ""), (0, _chunkZRT45YCMJs.f)(this, "shortName", ""), (0, _chunkZRT45YCMJs.f)(this, "elevation", 0), (0, _chunkZRT45YCMJs.f)(this, "subtitle"), (0, _chunkZRT45YCMJs.f)(this, "scale", 0), (0, _chunkZRT45YCMJs.f)(this, "layers"), (0, _chunkZRT45YCMJs.f)(this, "x_scale"), (0, _chunkZRT45YCMJs.f)(this, "perspectiveId"), (0, _chunkZRT45YCMJs.f)(this, "scene"), (0, _chunkZRT45YCMJs.f)(this, "width", 0), (0, _chunkZRT45YCMJs.f)(this, "height", 0), (0, _chunkZRT45YCMJs.f)(this, "georeference", []), (0, _chunkZRT45YCMJs.f)(this, "_scale", 0), (0, _chunkZRT45YCMJs.i)(this, Rr, e), (0, _chunkZRT45YCMJs.i)(this, cp, t), Object.assign(this, t), this._scale = AS(this), this.scale = this.x_scale || 1 / this._scale;
    }
    get polygons() {
        var e, t, i;
        return null != (i = null == (t = null == (e = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, Rr))) ? void 0 : e.polygonsByMapId) ? void 0 : t.get(this.id)) ? i : [];
    }
    get locations() {
        var e, t, i;
        return null != (i = null == (t = null == (e = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, Rr))) ? void 0 : e.locationsByMapId) ? void 0 : t.get(this.id)) ? i : [];
    }
    get nodes() {
        var e, t, i;
        return null != (i = null == (t = null == (e = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, Rr))) ? void 0 : e.nodesByMapId) ? void 0 : t.get(this.id)) ? i : [];
    }
    get mapGroup() {
        let e = (0, _chunkZRT45YCMJs.g)(this, Ss).mapGroup;
        if (typeof e < "u") return e;
        let t = this.group, i = t && (0, _chunkZRT45YCMJs.g)(this, Rr)._mapGroupsById[t] || null;
        return (0, _chunkZRT45YCMJs.g)(this, Ss).mapGroup = i, i;
    }
    createCoordinateByXY(e, t) {
        return new dn({
            x: e,
            y: t,
            map: this,
            mappedin: (0, _chunkZRT45YCMJs.g)(this, Rr)
        });
    }
    createCoordinate(e, t) {
        return new dn({
            lat: e,
            lon: t,
            map: this,
            mappedin: (0, _chunkZRT45YCMJs.g)(this, Rr)
        });
    }
    getNorth() {
        let e;
        try {
            let t = this.georeference[0], i = this.georeference[2], n = new Qe(t.target.x, t.target.y), r = new Qe(i.target.x, i.target.y);
            e = -((n.finalBearingTo(r) + 0) * Math.PI / 180 - Math.atan2(i.control.y - t.control.y, i.control.x - t.control.x) - Math.PI / 2);
        } catch (t) {
            e = 0, R.warn(t), R.warn("Couldn't georeference ".concat(this.name || this.shortName || this.id, ". Probably not enough geocoordinates."));
        }
        return e;
    }
    static hydrate(t, i) {
        return t.map((t)=>new e(i, t));
    }
    static async updateInPlace(t, i) {
        let n = i || await e.fetch(t);
        for(let e = 0; e < n.length; e++)for (let i of wS)t.maps[e][i] = n[e][i];
    }
    static async fetch(t) {
        var i;
        let n = t.options.things.maps.slice();
        t.options.perspective && zt(n, "perspectives"), t.options.things.mapGroups && zt(n, "group"), zt(n, "elevation"), zt(n, "x_scale"), zt(n, "scale"), zt(n, "georeference");
        let r = {
            fields: n,
            perspective: t.options.perspective,
            venue: t.options.venue
        };
        try {
            let s = await Ut(t.options, "map", r), a = (0, _chunkZRT45YCMJs.a)((e)=>{
                let t = o.layers.find((t)=>t.id === e);
                t ? t.visible = !0 : o.layers.push({
                    id: e,
                    visible: !0
                });
            }, "setVisibleLayer");
            for(let r = 0, l = s.length; r < l; ++r){
                var o = s[r];
                if (o) {
                    let e = o.perspective;
                    null != e && (o.perspectiveId = e.id, n.indexOf("scene") > -1 && (o.scene = e.scene), e.layers ? (o.layers.forEach((e)=>{
                        e.visible = !1;
                    }), e.layers.forEach(a)) : o.layers.forEach((e)=>{
                        e.visible = !0;
                    })), delete o.perspective;
                }
                if (t.options.preloadMapGeometry && null != (i = o.scene) && i.polygons && "string" == typeof o.scene.polygons) {
                    let e = await Oi()(o.scene.polygons);
                    o.scene.polygons = await e.json();
                }
                s[r] = new e(t, o);
            }
            return s;
        } catch (e) {
            return R.error("Fetch Maps:", e), [];
        }
    }
    get center() {
        if ((0, _chunkZRT45YCMJs.g)(this, Ss).center) return (0, _chunkZRT45YCMJs.g)(this, Ss).center;
        let [e, t] = [
            this.georeference[0].control.x,
            this.georeference[0].control.y
        ], [i, n] = [
            this.georeference[2].control.x,
            this.georeference[2].control.y
        ], { lat: r, lon: o } = this.createCoordinateByXY(e, t), { lat: s, lon: a } = this.createCoordinateByXY(i, n), l = new Qe(r, o), c = new Qe(s, a), u = l.midpointTo(c), d = this.createCoordinate(u.lat, u.lon);
        return (0, _chunkZRT45YCMJs.g)(this, Ss).center = d, d;
    }
    toJSON() {
        let e = {
            ...(0, _chunkZRT45YCMJs.g)(this, cp)
        };
        for (let t of wS)e[t] = this[t];
        return e;
    }
};
Rr = new WeakMap, Ss = new WeakMap, cp = new WeakMap, (0, _chunkZRT45YCMJs.a)(pu, "MappedinMap");
var Cs = pu;
(0, _chunkA5C75TI6Js.a)();
var hp, W3, dp, X3, or, fu, K0, CS, J0, PS, kr, Br, Fr, Ur, Z3 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, hp), (0, _chunkZRT45YCMJs.h)(this, dp), (0, _chunkZRT45YCMJs.h)(this, K0), (0, _chunkZRT45YCMJs.h)(this, J0), (0, _chunkZRT45YCMJs.f)(this, "map"), (0, _chunkZRT45YCMJs.h)(this, or, {}), (0, _chunkZRT45YCMJs.h)(this, fu, void 0), (0, _chunkZRT45YCMJs.h)(this, kr, void 0), (0, _chunkZRT45YCMJs.h)(this, Br, void 0), (0, _chunkZRT45YCMJs.h)(this, Fr, void 0), (0, _chunkZRT45YCMJs.h)(this, Ur, void 0);
        let { map: t, mappedin: i } = e;
        null != e.lat && null != e.lon && ((0, _chunkZRT45YCMJs.i)(this, kr, e.lat), (0, _chunkZRT45YCMJs.i)(this, Br, e.lon)), null != e.x && null != e.y && ((0, _chunkZRT45YCMJs.i)(this, Fr, e.x), (0, _chunkZRT45YCMJs.i)(this, Ur, e.y)), this.map = t, (0, _chunkZRT45YCMJs.i)(this, fu, i);
    }
    get x() {
        return (0, _chunkZRT45YCMJs.k)(this, dp, X3).call(this, "x");
    }
    get y() {
        return (0, _chunkZRT45YCMJs.k)(this, dp, X3).call(this, "y");
    }
    get lat() {
        return (0, _chunkZRT45YCMJs.k)(this, hp, W3).call(this, "lat");
    }
    get lon() {
        return (0, _chunkZRT45YCMJs.k)(this, hp, W3).call(this, "lon");
    }
    absoluteDistanceTo(e) {
        return SS([
            e.lat,
            e.lon
        ], [
            this.lat,
            this.lon
        ]);
    }
    get nearestNode() {
        let e = (0, _chunkZRT45YCMJs.g)(this, or).nearestNode;
        if (typeof e < "u") return e;
        let t = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, fu)).findNearestNodeOnMap(this.map.id, this);
        return (0, _chunkZRT45YCMJs.g)(this, or).nearestNode = t, t;
    }
    nodesInRadius(e) {
        if (e <= 0) return R.error("Radius must be greater than 0."), [];
        let t = (0, _chunkZRT45YCMJs.g)(this, or).radius, i = (0, _chunkZRT45YCMJs.g)(this, or).nodesInRadius;
        if (t && i && (0, _chunkZRT45YCMJs.g)(this, or).radius === e) return (0, _chunkZRT45YCMJs.g)(this, or).nodesInRadius;
        let n = Vi.instances.get((0, _chunkZRT45YCMJs.g)(this, fu)).findNodeWithinRadiusOnMap(this.map.id, this, e * this.map._scale);
        return (0, _chunkZRT45YCMJs.g)(this, or).radius = e, (0, _chunkZRT45YCMJs.g)(this, or).nodesInRadius = n, n;
    }
    toJSON() {
        return {
            x: this.x,
            y: this.y,
            map: this.map,
            lat: this.lat,
            lon: this.lon
        };
    }
};
hp = new WeakSet, W3 = (0, _chunkZRT45YCMJs.a)(function(e) {
    if (typeof (0, _chunkZRT45YCMJs.g)(this, kr) < "u" && typeof (0, _chunkZRT45YCMJs.g)(this, Br) < "u") return (0, _chunkZRT45YCMJs.g)(this, "lat" === e ? kr : Br);
    if (typeof (0, _chunkZRT45YCMJs.g)(this, Fr) < "u" && typeof (0, _chunkZRT45YCMJs.g)(this, Ur) < "u") {
        let [t, i] = (0, _chunkZRT45YCMJs.k)(this, J0, PS).call(this, (0, _chunkZRT45YCMJs.g)(this, Fr), (0, _chunkZRT45YCMJs.g)(this, Ur));
        return (0, _chunkZRT45YCMJs.i)(this, kr, t), (0, _chunkZRT45YCMJs.i)(this, Br, i), (0, _chunkZRT45YCMJs.g)(this, "lat" === e ? kr : Br);
    }
    throw Error("MappedinCoordinate is missing x and y");
}, "#getLatLon"), dp = new WeakSet, X3 = (0, _chunkZRT45YCMJs.a)(function(e) {
    if ((0, _chunkZRT45YCMJs.g)(this, Fr) && (0, _chunkZRT45YCMJs.g)(this, Ur)) return (0, _chunkZRT45YCMJs.g)(this, "x" === e ? Fr : Ur);
    if (null != (0, _chunkZRT45YCMJs.g)(this, kr) && null != (0, _chunkZRT45YCMJs.g)(this, Br)) {
        let [t, i] = (0, _chunkZRT45YCMJs.k)(this, K0, CS).call(this, (0, _chunkZRT45YCMJs.g)(this, kr), (0, _chunkZRT45YCMJs.g)(this, Br));
        return (0, _chunkZRT45YCMJs.i)(this, Fr, t), (0, _chunkZRT45YCMJs.i)(this, Ur, i), (0, _chunkZRT45YCMJs.g)(this, "x" === e ? Fr : Ur);
    }
    throw Error("MappedinCoordinate is missing lat and lon");
}, "#getXY"), or = new WeakMap, fu = new WeakMap, K0 = new WeakSet, CS = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    let i = this.map.georeference[0], n = new Qe(i.target.x, i.target.y), r = new Qe(e, t), o = n.distanceTo(r), s = (n.finalBearingTo(r) + 360) % 360 * Math.PI / 180 || 0, a = o * (1 / this.map.scale), l = s + this.map.getNorth(), h = Math.sin(l) * a, c = Math.cos(l) * a;
    return [
        i.control.x + h,
        i.control.y - c
    ];
}, "#latLonToXY"), J0 = new WeakSet, PS = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    let i, n = this.map.georeference[0], r = new Qe(n.target.x, n.target.y), o = e - n.control.x, s = n.control.y - t, a = Math.atan2(o, s);
    i = 0 === o && 0 === s ? 0 : 0 === o ? s / Math.cos(a) : o / Math.sin(a);
    let l = a - this.map.getNorth(), h = i / this.map._scale, c = r.destinationPoint(h, 180 * l / Math.PI);
    return [
        c.lat,
        c.lon
    ];
}, "#xyToLatLon"), kr = new WeakMap, Br = new WeakMap, Fr = new WeakMap, Ur = new WeakMap, (0, _chunkZRT45YCMJs.a)(Z3, "MappedinCoordinate");
var dn = Z3;
(0, _chunkA5C75TI6Js.a)();
var pp, gu, fp, IS = [
    "name"
], mu = class e {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.h)(this, pp, void 0), (0, _chunkZRT45YCMJs.h)(this, gu, void 0), (0, _chunkZRT45YCMJs.h)(this, fp, {}), (0, _chunkZRT45YCMJs.f)(this, "id", ""), (0, _chunkZRT45YCMJs.f)(this, "name", ""), (0, _chunkZRT45YCMJs.i)(this, gu, t), (0, _chunkZRT45YCMJs.i)(this, pp, e), Object.assign(this, t);
    }
    get maps() {
        let e = (0, _chunkZRT45YCMJs.g)(this, fp).maps;
        if (typeof e < "u") return e;
        let t = [], { maps: i } = (0, _chunkZRT45YCMJs.g)(this, pp), { id: n } = (0, _chunkZRT45YCMJs.g)(this, gu);
        for(let e = 0, r = i.length; e < r; ++e){
            let r = i[e];
            r.group === n && t.push(r);
        }
        return (0, _chunkZRT45YCMJs.g)(this, fp).maps = t, t;
    }
    static hydrate(t, i) {
        return t.map((t)=>new e(i, t));
    }
    static async updateInPlace(t, i) {
        let n = i || await e.fetch(t);
        for(let e = 0; e < n.length; e++)for (let i of IS)t.mapGroups[e][i] = n[e][i];
    }
    static async fetch(t) {
        let i = {
            fields: t.options.things.mapGroups.slice(),
            venue: t.options.venue
        };
        try {
            return (await Ut(t.options, "map-group", i)).map((i)=>new e(t, i));
        } catch (e) {
            return R.error("Fetch Map Groups:", e), [];
        }
    }
    toJSON() {
        let e = {
            ...(0, _chunkZRT45YCMJs.g)(this, gu)
        };
        for (let t of IS)e[t] = this[t];
        return e;
    }
};
pp = new WeakMap, gu = new WeakMap, fp = new WeakMap, (0, _chunkZRT45YCMJs.a)(mu, "MappedinMapGroup");
var ko = mu;
(0, _chunkA5C75TI6Js.a)();
var LS = (0, _chunkZRT45YCMJs.e)(Q3());
(0, _chunkA5C75TI6Js.a)();
var zo, lr, ur, _S = "mi-session-data", OS = "mi-local-data", mp = class e {
    constructor(){
        (0, _chunkZRT45YCMJs.h)(this, lr, void 0), (0, _chunkZRT45YCMJs.h)(this, ur, void 0);
        try {
            let e = sessionStorage.getItem(_S);
            (0, _chunkZRT45YCMJs.i)(this, lr, e ? JSON.parse(e) : {
                id: Bt()
            });
        } catch  {
            (0, _chunkZRT45YCMJs.i)(this, lr, {
                id: Bt()
            });
        }
        try {
            let e = localStorage.getItem(OS);
            (0, _chunkZRT45YCMJs.i)(this, ur, e ? JSON.parse(e) : {
                deviceId: Bt()
            });
        } catch  {
            (0, _chunkZRT45YCMJs.i)(this, ur, {
                deviceId: Bt()
            });
        }
        (0, _chunkZRT45YCMJs.g)(this, lr).id || ((0, _chunkZRT45YCMJs.g)(this, lr).id = Bt()), (0, _chunkZRT45YCMJs.g)(this, ur).deviceId || ((0, _chunkZRT45YCMJs.g)(this, ur).deviceId = Bt());
    }
    static getInstance() {
        return (0, _chunkZRT45YCMJs.g)(this, zo) || (0, _chunkZRT45YCMJs.i)(this, zo, new e), (0, _chunkZRT45YCMJs.g)(this, zo);
    }
    static ___clearInstance() {
        (0, _chunkZRT45YCMJs.i)(this, zo, void 0);
    }
    saveSessionData(e, t) {
        (0, _chunkZRT45YCMJs.g)(this, lr)[e] = t;
        try {
            return sessionStorage.setItem(_S, JSON.stringify((0, _chunkZRT45YCMJs.g)(this, lr))), !0;
        } catch  {
            return !1;
        }
    }
    loadSessionData(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, lr)[e];
        if (null != t) return t;
    }
    saveLocalData(e, t) {
        (0, _chunkZRT45YCMJs.g)(this, ur)[e] = t;
        try {
            return localStorage.setItem(OS, JSON.stringify((0, _chunkZRT45YCMJs.g)(this, ur))), !0;
        } catch  {
            return !1;
        }
    }
    loadLocalData(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, ur)[e];
        if (null != t) return t;
    }
};
zo = new WeakMap, lr = new WeakMap, ur = new WeakMap, (0, _chunkZRT45YCMJs.a)(mp, "SafeStorage"), (0, _chunkZRT45YCMJs.h)(mp, zo, void 0);
var gp = mp;
function k0(e) {
    return /^[\da-f]{24}$/i.test(e);
}
function DS(e, t = !1) {
    let i = "";
    if (null != e) {
        let n = "?", r = t ? Object.keys(e).filter((e)=>![
                "slug",
                "venue"
            ].includes(e)) : Object.keys(e);
        for(let t = 0, o = r.length; t < o; ++t){
            let o = r[t], s = e[o];
            null != s && (i += "".concat(n + encodeURIComponent(o), "=").concat(encodeURIComponent(s)), n = "&");
        }
    }
    return i;
}
function UF(e, t, i, n = !1) {
    var r, o;
    return n ? "".concat(e.supplementaryUrl).concat(t, "?venue=").concat(i.venue || i.slug) : null != (r = e.baseUrl) && r.includes("gateway") ? "".concat(e.baseUrl).concat(t, "/").concat(i.venue || i.slug).concat(DS(i, null == (o = e.baseUrl) ? void 0 : o.includes("gateway"))) : e.baseUrl + t + DS(i);
}
async function Ut(e, t, i, n = !1) {
    return Ql(e, t, i, n, !0);
}
async function Ql(e, t, i, n = !1, r = !1) {
    let o = UF(e, t, i, n), s = await H0(e, o, n);
    if (!r && Array.isArray(s)) {
        if (1 === s.length) return s[0];
        throw new Error("Invalid response object");
    }
    return s;
}
function zF(e, t, i = !1) {
    let n = {
        language: e.language,
        clientId: e.clientId,
        clientSecret: e.clientSecret
    };
    i && delete n.language, n.language && (t += "&lang=".concat(encodeURIComponent(n.language)));
    let { headers: r } = e;
    r["Content-Type"] = r["Content-Type"] || "text/json", e.accessToken ? r.Authorization = "Bearer ".concat(e.accessToken) : e.noAuth || e.clientId && e.clientSecret && (r["x-mappedin-key"] = btoa(e.clientId), r["x-mappedin-secret"] = btoa(e.clientSecret)), n.language && (r["Accept-Language"] = n.language);
    let o = {
        method: "GET",
        headers: r
    };
    return e.secure && (t += "&withcdntoken"), {
        req: o,
        url: t
    };
}
async function H0(e, t, i = !1) {
    let n = zF(e, t, i), r = await Oi()(n.url, n.req);
    if (!r.ok) throw new Error("".concat(r.status, " ").concat(r.statusText));
    return r.json();
}
function zt(e, t) {
    e.indexOf(t) < 0 && e.push(t);
}
function SS([e, t], [i, n]) {
    let r = new Qe(e, t), o = new Qe(i, n);
    return r.distanceTo(o);
}
function AS(e) {
    if (e.scale || e.x_scale) return 1 / (e.scale || e.x_scale);
    let t;
    try {
        let i = e.georeference[0], n = e.georeference[2], r = new Qe(i.target.x, i.target.y), o = new Qe(n.target.x, n.target.y), s = r.distanceTo(o), a = i.control.x - n.control.x, l = i.control.y - n.control.y;
        t = Math.sqrt(a * a + l * l) / s;
    } catch (i) {
        t = 1, R.warn(i), R.warn("Couldn't georeference ".concat(e.name || e.shortName || e.id, ". Probably not enough geocoordinates."));
    }
    return t;
}
function Lc(e) {
    var t;
    return e instanceof Un ? e.entrances.map((e)=>e.id) : e instanceof Fn ? (null == (t = e.nodes) ? void 0 : t.map((e)=>e.id)) || [] : [
        e.id
    ];
}
async function jP(e) {
    let t = {}, { maps: i, images: n, scenes: r, polygons: o } = e;
    if (null != n) try {
        let e = Object.keys(n).map((e)=>fetch("data:image/png;base64,".concat(n[e])).then((e)=>e.blob()).then((i)=>{
                t[e] = i;
            }).catch((e)=>{
                R.error(e);
            }));
        await Promise.all(e);
    } catch (e) {
        R.error(e);
    }
    return i.forEach((e)=>{
        var i;
        (null != (i = e.scene) && i.polygons || r && r[e.id]) && (null != r && r[e.id] && (e.scene || (e.scene = {}), Object.defineProperty(e.scene, "polygons", {
            get: ()=>r[e.id]
        })), null != n && (e.scene.images = e.scene.images.map(({ filename: e })=>({
                filename: e,
                url: t[e]
            })), e.scene.polygons.forEach((e)=>{
            var i, n;
            if (null != (i = null == e ? void 0 : e.image) && i.url && null != (n = null == e ? void 0 : e.image) && n.url) {
                let i = e.image.url.split("/"), n = t[i[i.length - 1]];
                n && (e.image.url = n);
            }
        })));
    }), null != n && o.forEach((e)=>{
        var i;
        if (null != (i = null == e ? void 0 : e.image) && i.url) {
            let i = e.image.url.split("/"), n = t[i[i.length - 1]];
            n && (e.image.url = n);
        }
    }), null != e.images && delete e.images, null != e.scenes && delete e.scenes, e;
}
function iu(e, t, i) {
    let n;
    return function(...r) {
        let o = this, s = (0, _chunkZRT45YCMJs.a)(function() {
            n = null, i || e.apply(o, r);
        }, "later"), a = i && !n;
        clearTimeout(n), n = setTimeout(s, t), a && e.apply(o, r);
    };
}
function HP(e, t, i, n = 0) {
    if (!e || e <= 0) return 0;
    let r = 0;
    n >= 0 && n <= 1 && (r = n / 10);
    let o = 1e-5, s = 1 + (i - e) / (i - t) + r;
    return Math.max(1 + o, Math.min(2 - o, s));
}
function X0() {
    return gp.getInstance().loadLocalData("deviceId");
}
function Z0() {
    return gp.getInstance().loadSessionData("id");
}
(0, _chunkZRT45YCMJs.a)(k0, "isGatewayKey"), (0, _chunkZRT45YCMJs.a)(DS, "stringifyQuery"), (0, _chunkZRT45YCMJs.a)(UF, "buildUrl"), (0, _chunkZRT45YCMJs.a)(Ut, "getArray"), (0, _chunkZRT45YCMJs.a)(Ql, "getObject"), (0, _chunkZRT45YCMJs.a)(zF, "constructParamsForRequest"), (0, _chunkZRT45YCMJs.a)(H0, "generateAPIRequest"), (0, _chunkZRT45YCMJs.a)(zt, "addToSet"), (0, _chunkZRT45YCMJs.a)(SS, "getDistanceBetweenLatLon"), (0, _chunkZRT45YCMJs.a)(AS, "getMapScale"), (0, _chunkZRT45YCMJs.a)(Lc, "getNodesForNavigatable"), (0, _chunkZRT45YCMJs.a)(jP, "populateBundledImagesAsBlobs"), (0, _chunkZRT45YCMJs.a)(iu, "debounce"), (0, _chunkZRT45YCMJs.a)(HP, "normalizeCategoryRank"), (0, _chunkZRT45YCMJs.a)(X0, "getDeviceID"), (0, _chunkZRT45YCMJs.a)(Z0, "getSessionID");
var Ms = (0, _chunkZRT45YCMJs.a)((e, t)=>{
    if ("string" == typeof e) {
        if (void 0 === t || !Array.isArray(t.polygons)) return null;
        e = t.polygons.find(function(t) {
            return t.id === e;
        });
    }
    let i = null;
    if (null != e && void 0 !== e.locations && e.locations.length > 0) {
        i = e.locations[0];
        for(let t = 0, n = e.locations.length; t < n; t++){
            let n = e.locations[t];
            for(; void 0 !== n.parent;)n = n.parent, n.polygons.includes(e) && (i = n);
            if (void 0 === n.parent && n.polygons.includes(e)) return n;
        }
    }
    return i;
}, "getPrimaryLocationForPolygon");
function pS(e) {
    var t;
    let i = {
        ...e
    };
    for (let [e, n] of Object.entries(x3))i[e] = (0, LS.default)(n.concat(null != (t = i[e]) ? t : []));
    return i;
}
function K3(e) {
    let t = +this._x.call(null, e), i = +this._y.call(null, e);
    return qS(this.cover(t, i), t, i, e);
}
function qS(e, t, i, n) {
    if (isNaN(t) || isNaN(i)) return e;
    var r, o, s, a, l, h, c, u, d, p = e._root, f = {
        data: n
    }, m = e._x0, g = e._y0, v = e._x1, y = e._y1;
    if (!p) return e._root = f, e;
    for(; p.length;)if ((h = t >= (o = (m + v) / 2)) ? m = o : v = o, (c = i >= (s = (g + y) / 2)) ? g = s : y = s, r = p, !(p = p[u = c << 1 | h])) return r[u] = f, e;
    if (a = +e._x.call(null, p.data), l = +e._y.call(null, p.data), t === a && i === l) return f.next = p, r ? r[u] = f : e._root = f, e;
    do r = r ? r[u] = new Array(4) : e._root = new Array(4), (h = t >= (o = (m + v) / 2)) ? m = o : v = o, (c = i >= (s = (g + y) / 2)) ? g = s : y = s;
    while ((u = c << 1 | h) == (d = (l >= s) << 1 | a >= o));
    return r[d] = p, r[u] = f, e;
}
function NS(e) {
    var t, i, n, r, o = e.length, s = new Array(o), a = new Array(o), l = 1 / 0, h = 1 / 0, c = -1 / 0, u = -1 / 0;
    for(i = 0; i < o; ++i)isNaN(n = +this._x.call(null, t = e[i])) || isNaN(r = +this._y.call(null, t)) || (s[i] = n, a[i] = r, n < l && (l = n), n > c && (c = n), r < h && (h = r), r > u && (u = r));
    if (l > c || h > u) return this;
    for(this.cover(l, h).cover(c, u), i = 0; i < o; ++i)qS(this, s[i], a[i], e[i]);
    return this;
}
function J3(e, t) {
    if (isNaN(e = +e) || isNaN(t = +t)) return this;
    var i = this._x0, n = this._y0, r = this._x1, o = this._y1;
    if (isNaN(i)) r = (i = Math.floor(e)) + 1, o = (n = Math.floor(t)) + 1;
    else {
        for(var s, a, l = r - i || 1, h = this._root; i > e || e >= r || n > t || t >= o;)switch(a = (t < n) << 1 | e < i, s = new Array(4), s[a] = h, h = s, l *= 2, a){
            case 0:
                r = i + l, o = n + l;
                break;
            case 1:
                i = r - l, o = n + l;
                break;
            case 2:
                r = i + l, n = o - l;
                break;
            case 3:
                i = r - l, n = o - l;
        }
        this._root && this._root.length && (this._root = h);
    }
    return this._x0 = i, this._y0 = n, this._x1 = r, this._y1 = o, this;
}
function $3() {
    var e = [];
    return this.visit(function(t) {
        if (!t.length) do e.push(t.data);
        while (t = t.next);
    }), e;
}
function e4(e) {
    return arguments.length ? this.cover(+e[0][0], +e[0][1]).cover(+e[1][0], +e[1][1]) : isNaN(this._x0) ? void 0 : [
        [
            this._x0,
            this._y0
        ],
        [
            this._x1,
            this._y1
        ]
    ];
}
function oi(e, t, i, n, r) {
    this.node = e, this.x0 = t, this.y0 = i, this.x1 = n, this.y1 = r;
}
function t4(e, t, i) {
    var n, r, o, s, a, l, h, c = this._x0, u = this._y0, d = this._x1, p = this._y1, f = [], m = this._root;
    for(m && f.push(new oi(m, c, u, d, p)), null == i ? i = 1 / 0 : (c = e - i, u = t - i, d = e + i, p = t + i, i *= i); l = f.pop();)if (!(!(m = l.node) || (r = l.x0) > d || (o = l.y0) > p || (s = l.x1) < c || (a = l.y1) < u)) {
        if (m.length) {
            var g = (r + s) / 2, v = (o + a) / 2;
            f.push(new oi(m[3], g, v, s, a), new oi(m[2], r, v, g, a), new oi(m[1], g, o, s, v), new oi(m[0], r, o, g, v)), (h = (t >= v) << 1 | e >= g) && (l = f[f.length - 1], f[f.length - 1] = f[f.length - 1 - h], f[f.length - 1 - h] = l);
        } else {
            var y = e - +this._x.call(null, m.data), b = t - +this._y.call(null, m.data), w = y * y + b * b;
            if (w < i) {
                var A = Math.sqrt(i = w);
                c = e - A, u = t - A, d = e + A, p = t + A, n = m.data;
            }
        }
    }
    return n;
}
function i4(e) {
    if (isNaN(o = +this._x.call(null, e)) || isNaN(s = +this._y.call(null, e))) return this;
    var t, i, n, r, o, s, a, l, h, c, u, d, p = this._root, f = this._x0, m = this._y0, g = this._x1, v = this._y1;
    if (!p) return this;
    if (p.length) for(;;){
        if ((h = o >= (a = (f + g) / 2)) ? f = a : g = a, (c = s >= (l = (m + v) / 2)) ? m = l : v = l, t = p, !(p = p[u = c << 1 | h])) return this;
        if (!p.length) break;
        (t[u + 1 & 3] || t[u + 2 & 3] || t[u + 3 & 3]) && (i = t, d = u);
    }
    for(; p.data !== e;)if (n = p, !(p = p.next)) return this;
    return (r = p.next) && delete p.next, n ? (r ? n.next = r : delete n.next, this) : t ? (r ? t[u] = r : delete t[u], (p = t[0] || t[1] || t[2] || t[3]) && p === (t[3] || t[2] || t[1] || t[0]) && !p.length && (i ? i[d] = p : this._root = p), this) : (this._root = r, this);
}
function RS(e) {
    for(var t = 0, i = e.length; t < i; ++t)this.remove(e[t]);
    return this;
}
function n4() {
    return this._root;
}
function r4() {
    var e = 0;
    return this.visit(function(t) {
        if (!t.length) do ++e;
        while (t = t.next);
    }), e;
}
function a4(e) {
    var t, i, n, r, o, s, a = [], l = this._root;
    for(l && a.push(new oi(l, this._x0, this._y0, this._x1, this._y1)); t = a.pop();)if (!e(l = t.node, n = t.x0, r = t.y0, o = t.x1, s = t.y1) && l.length) {
        var h = (n + o) / 2, c = (r + s) / 2;
        (i = l[3]) && a.push(new oi(i, h, c, o, s)), (i = l[2]) && a.push(new oi(i, n, c, h, s)), (i = l[1]) && a.push(new oi(i, h, r, o, c)), (i = l[0]) && a.push(new oi(i, n, r, h, c));
    }
    return this;
}
function s4(e) {
    var t, i = [], n = [];
    for(this._root && i.push(new oi(this._root, this._x0, this._y0, this._x1, this._y1)); t = i.pop();){
        var r = t.node;
        if (r.length) {
            var o, s = t.x0, a = t.y0, l = t.x1, h = t.y1, c = (s + l) / 2, u = (a + h) / 2;
            (o = r[0]) && i.push(new oi(o, s, a, c, u)), (o = r[1]) && i.push(new oi(o, c, a, l, u)), (o = r[2]) && i.push(new oi(o, s, u, c, h)), (o = r[3]) && i.push(new oi(o, c, u, l, h));
        }
        n.push(t);
    }
    for(; t = n.pop();)e(t.node, t.x0, t.y0, t.x1, t.y1);
    return this;
}
function kS(e) {
    return e[0];
}
function o4(e) {
    return arguments.length ? (this._x = e, this) : this._x;
}
function BS(e) {
    return e[1];
}
function l4(e) {
    return arguments.length ? (this._y = e, this) : this._y;
}
function vu(e, t, i) {
    var n = new u4(null == t ? kS : t, null == i ? BS : i, NaN, NaN, NaN, NaN);
    return null == e ? n : n.addAll(e);
}
function u4(e, t, i, n, r, o) {
    this._x = e, this._y = t, this._x0 = i, this._y0 = n, this._x1 = r, this._y1 = o, this._root = void 0;
}
function FS(e) {
    for(var t = {
        data: e.data
    }, i = t; e = e.next;)i = i.next = {
        data: e.data
    };
    return t;
}
(0, _chunkZRT45YCMJs.a)(pS, "mergeThings"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(K3, "default"), (0, _chunkZRT45YCMJs.a)(qS, "add"), (0, _chunkZRT45YCMJs.a)(NS, "addAll"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(J3, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)($3, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(e4, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(oi, "default"), (0, _chunkZRT45YCMJs.a)(t4, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(i4, "default"), (0, _chunkZRT45YCMJs.a)(RS, "removeAll"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(n4, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(r4, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(a4, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(s4, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(kS, "defaultX"), (0, _chunkZRT45YCMJs.a)(o4, "default"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(BS, "defaultY"), (0, _chunkZRT45YCMJs.a)(l4, "default"), (0, _chunkZRT45YCMJs.a)(vu, "quadtree"), (0, _chunkZRT45YCMJs.a)(u4, "Quadtree"), (0, _chunkZRT45YCMJs.a)(FS, "leaf_copy");
var Hi = vu.prototype = u4.prototype;
Hi.copy = function() {
    var e, t, i = new u4(this._x, this._y, this._x0, this._y0, this._x1, this._y1), n = this._root;
    if (!n) return i;
    if (!n.length) return i._root = FS(n), i;
    for(e = [
        {
            source: n,
            target: i._root = new Array(4)
        }
    ]; n = e.pop();)for(var r = 0; r < 4; ++r)(t = n.source[r]) && (t.length ? e.push({
        source: t,
        target: n.target[r] = new Array(4)
    }) : n.target[r] = FS(t));
    return i;
}, Hi.add = K3, Hi.addAll = NS, Hi.cover = J3, Hi.data = $3, Hi.extent = e4, Hi.find = t4, Hi.remove = i4, Hi.removeAll = RS, Hi.root = n4, Hi.size = r4, Hi.visit = a4, Hi.visitAfter = s4, Hi.x = o4, Hi.y = l4;
var zr, Pt, cr = class e {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, zr, void 0), (0, _chunkZRT45YCMJs.f)(this, "categories"), (0, _chunkZRT45YCMJs.f)(this, "locations"), (0, _chunkZRT45YCMJs.f)(this, "vortexes"), (0, _chunkZRT45YCMJs.f)(this, "maps"), (0, _chunkZRT45YCMJs.f)(this, "nodes"), (0, _chunkZRT45YCMJs.f)(this, "polygons"), (0, _chunkZRT45YCMJs.f)(this, "events"), (0, _chunkZRT45YCMJs.f)(this, "mapGroups"), (0, _chunkZRT45YCMJs.f)(this, "locationStates"), (0, _chunkZRT45YCMJs.f)(this, "rankings"), (0, _chunkZRT45YCMJs.f)(this, "languages", {}), (0, _chunkZRT45YCMJs.h)(this, Pt, {}), (0, _chunkZRT45YCMJs.i)(this, zr, e);
    }
    get polygonsByMapId() {
        if ((0, _chunkZRT45YCMJs.g)(this, Pt).polygonsByMapId) return (0, _chunkZRT45YCMJs.g)(this, Pt).polygonsByMapId;
        let e, t = {};
        for(let i = 0, n = (0, _chunkZRT45YCMJs.g)(this, zr).polygons.length; i < n; ++i)e = (0, _chunkZRT45YCMJs.g)(this, zr).polygons[i], t[e.map.id] || (t[e.map.id] = []), t[e.map.id].push(e);
        let i = Object.entries(t).reduce((e, [t, i])=>(e.set(t, i), e), new Map);
        return (0, _chunkZRT45YCMJs.g)(this, Pt).polygonsByMapId = i, (0, _chunkZRT45YCMJs.g)(this, Pt).polygonsByMapId;
    }
    get nodesByMapId() {
        if ((0, _chunkZRT45YCMJs.g)(this, Pt).nodesByMapId) return (0, _chunkZRT45YCMJs.g)(this, Pt).nodesByMapId;
        let e, t = {};
        for(let i = 0, n = (0, _chunkZRT45YCMJs.g)(this, zr).nodes.length; i < n; ++i)e = (0, _chunkZRT45YCMJs.g)(this, zr).nodes[i], t[e.map.id] || (t[e.map.id] = []), t[e.map.id].push(e);
        let i = Object.entries(t).reduce((e, [t, i])=>(e.set(t, i), e), new Map);
        return (0, _chunkZRT45YCMJs.g)(this, Pt).nodesByMapId = i, (0, _chunkZRT45YCMJs.g)(this, Pt).nodesByMapId;
    }
    findNearestNodeOnMap(e, t) {
        var i;
        if ((0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap || ((0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap = new Map), !(0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap.has(e)) {
            let t = null != (i = this.nodesByMapId.get(e)) ? i : [], n = vu();
            n.x((e)=>e.x), n.y((e)=>e.y), n.addAll(t), (0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap.set(e, n);
        }
        return (0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap.get(e).find(t.x, t.y);
    }
    findNodeWithinRadiusOnMap(e, t, i) {
        var n;
        if ((0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap || ((0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap = new Map), !(0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap.has(e)) {
            let t = null != (n = this.nodesByMapId.get(e)) ? n : [], i = vu();
            i.x((e)=>e.x), i.y((e)=>e.y), i.addAll(t), (0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap.set(e, i);
        }
        let r = (0, _chunkZRT45YCMJs.g)(this, Pt).nodeTreesByMap.get(e), o = [], s = t.x, a = t.y;
        return r.visit((e, t, n, r, l)=>{
            if (e && !e.length) do {
                let t = e.data;
                Math.sqrt((t.x - s) ** 2 + (t.y - a) ** 2) <= i && o.push(t);
            }while (e = e.next);
            let h = s - Math.max(t, Math.min(r, s)), c = a - Math.max(n, Math.min(l, a));
            return h * h + c * c >= i * i;
        }), o;
    }
    get locationsByMapId() {
        if ((0, _chunkZRT45YCMJs.g)(this, Pt).locationsByMapId) return (0, _chunkZRT45YCMJs.g)(this, Pt).locationsByMapId;
        let e, t = {};
        for(let i = 0, n = (0, _chunkZRT45YCMJs.g)(this, zr).locations.length; i < n; ++i){
            e = (0, _chunkZRT45YCMJs.g)(this, zr).locations[i];
            for(let i = 0, n = e.polygons.length; i < n; ++i)t[e.polygons[i].map.id] || (t[e.polygons[i].map.id] = []), -1 === t[e.polygons[i].map.id].indexOf(e) && t[e.polygons[i].map.id].push(e);
            for(let i = 0, n = e.nodes.length; i < n; ++i){
                let n = e.nodes[i];
                t[n.map.id] || (t[n.map.id] = []), -1 === t[n.map.id].indexOf(e) && t[n.map.id].push(e);
            }
        }
        let i = Object.entries(t).reduce((e, [t, i])=>(e.set(t, i), e), new Map);
        return (0, _chunkZRT45YCMJs.g)(this, Pt).locationsByMapId = i, (0, _chunkZRT45YCMJs.g)(this, Pt).locationsByMapId;
    }
    static create(t) {
        return e.instances.has(t) || e.instances.set(t, new e(t)), e.instances.get(t);
    }
    static clear() {
        e.instances.clear();
    }
    static clearInstance(t) {
        e.instances.has(t) && e.instances.delete(t);
    }
};
zr = new WeakMap, Pt = new WeakMap, (0, _chunkZRT45YCMJs.a)(cr, "MappedinCache"), (0, _chunkZRT45YCMJs.f)(cr, "instances", new Map);
var a7, vp, yu, bu, yp, xu, Tu, Eu, Is, Mu, wu, Au, bp, Cu, Vo, c4 = cr, Vi = c4, Gi = ((e)=>(e.CATEGORY = "categories", e.EVENT = "events", e.LOCATION = "locations", e.MAPGROUP = "mapGroups", e.MAP = "maps", e.NODE = "nodes", e.POLYGON = "polygons", e.VORTEX = "vortexes", e))(Gi || {}), N0 = {
    categories: Ta,
    locations: Fn,
    vortexes: qo,
    maps: Cs,
    nodes: di,
    polygons: Un,
    venue: Ma,
    events: Ro,
    mapGroups: ko,
    themes: Q0,
    locationStates: ru,
    rankings: No
}, _d = ((e)=>(e[e.LANGUAGE_CHANGED = 0] = "LANGUAGE_CHANGED", e))(_d || {}), s7 = (0, _chunkZRT45YCMJs.e)(r7()), KF = null == (a7 = null == (0, _chunkA5C75TI6Js.b) ? void 0 : (0, _chunkA5C75TI6Js.b).env) ? void 0 : a7.npm_package_version, e1 = [
    "websdk",
    "web",
    "webv2",
    "kiosk-v2",
    "mobile",
    "iossdk",
    "androidsdk",
    "reactnativesdk"
], p4 = e1[0], JF = !1, hr = class e {
    constructor(e){
        var t;
        (0, _chunkZRT45YCMJs.h)(this, vp, void 0), (0, _chunkZRT45YCMJs.h)(this, yu, void 0), (0, _chunkZRT45YCMJs.h)(this, bu, void 0), (0, _chunkZRT45YCMJs.h)(this, yp, void 0), (0, _chunkZRT45YCMJs.h)(this, xu, void 0), (0, _chunkZRT45YCMJs.h)(this, Tu, void 0), (0, _chunkZRT45YCMJs.h)(this, Eu, void 0), (0, _chunkZRT45YCMJs.h)(this, Is, void 0), (0, _chunkZRT45YCMJs.h)(this, Mu, void 0), (0, _chunkZRT45YCMJs.h)(this, wu, void 0), (0, _chunkZRT45YCMJs.h)(this, Au, void 0), (0, _chunkZRT45YCMJs.h)(this, bp, void 0), (0, _chunkZRT45YCMJs.h)(this, Cu, void 0), (0, _chunkZRT45YCMJs.h)(this, Vo, void 0), (0, _chunkZRT45YCMJs.i)(this, Is, e.clientId), (0, _chunkZRT45YCMJs.i)(this, Mu, e.clientSecret), (0, _chunkZRT45YCMJs.i)(this, wu, e.accessToken), (0, _chunkZRT45YCMJs.i)(this, Eu, e.noAuth || !1);
        let i = "https://api-gateway.mappedin.com/track-analytics/a/";
        !(0, _chunkZRT45YCMJs.g)(this, Eu) && (0, _chunkZRT45YCMJs.g)(this, Is) && !k0((0, _chunkZRT45YCMJs.g)(this, Is)) && (i = "https://web-proxy.mappedin.com/a/"), (0, _chunkZRT45YCMJs.i)(this, bu, i), (0, _chunkZRT45YCMJs.i)(this, bu, (0, _chunkZRT45YCMJs.g)(this, bu) + (e.venue + "/")), (0, _chunkZRT45YCMJs.i)(this, Cu, e.venue), (0, _chunkZRT45YCMJs.i)(this, yu, !1), (0, _chunkZRT45YCMJs.i)(this, vp, "boolean" == typeof e.testMode ? e.testMode : "true" === (null == (t = e.testMode) ? void 0 : t.toLowerCase())), (0, _chunkZRT45YCMJs.i)(this, yp, e1.find((t)=>t === e.context) || e1[0]), (0, _chunkZRT45YCMJs.i)(this, xu, X0()), (0, _chunkZRT45YCMJs.i)(this, Tu, Z0()), (0, _chunkZRT45YCMJs.i)(this, Au, new Set), (0, _chunkZRT45YCMJs.i)(this, bp, e.platformString || ""), this.locationSelected = this.locationSelected.bind(this), this.categorySelected = this.categorySelected.bind(this), this.getDirections = iu(this.getDirections.bind(this), 2500);
    }
    static create(t) {
        return e.instance || (e.instance = new e(t)), e.instance;
    }
    track(e, t) {
        let i = {
            ...t,
            g: (0, _chunkZRT45YCMJs.g)(this, yu)
        };
        (0, _chunkZRT45YCMJs.g)(this, Vo) && (i = {
            ...i,
            ...(0, _chunkZRT45YCMJs.g)(this, Vo)
        });
        let n = (0, _chunkZRT45YCMJs.g)(this, bu) + e + "?" + s7.default.stringify(i, {
            skipEmptyString: !0,
            skipNull: !0
        });
        if (JF && R.log("Analytics.track", n), (0, _chunkZRT45YCMJs.g)(this, vp)) return;
        let r = {
            "mi-context": p4 || (0, _chunkZRT45YCMJs.g)(this, yp),
            "mi-session": (0, _chunkZRT45YCMJs.g)(this, Tu),
            "mi-device": (0, _chunkZRT45YCMJs.g)(this, xu),
            "mappedin-sdk-version": KF,
            "mappedin-platform-version": (0, _chunkZRT45YCMJs.g)(this, bp)
        };
        (0, _chunkZRT45YCMJs.g)(this, wu) ? r.Authorization = "Bearer ".concat((0, _chunkZRT45YCMJs.g)(this, wu)) : (0, _chunkZRT45YCMJs.g)(this, Eu) || (0, _chunkZRT45YCMJs.g)(this, Mu) && (0, _chunkZRT45YCMJs.g)(this, Is) && (r["x-mappedin-key"] = btoa((0, _chunkZRT45YCMJs.g)(this, Is)), r["x-mappedin-secret"] = btoa((0, _chunkZRT45YCMJs.g)(this, Mu))), Oi()(n, {
            method: "GET",
            mode: "cors",
            headers: r
        });
    }
    updateAnalyticsUserPosition(e) {
        (0, _chunkZRT45YCMJs.i)(this, Vo, e ? {
            ...e,
            bluedotTimestamp: Date.now()
        } : void 0);
    }
    locationSelected(e) {
        let t = e.id || e;
        ae.addPendingEvent(new jc({
            venue: (0, _chunkZRT45YCMJs.g)(this, Cu)
        })), this.track("select-location", {
            id: t
        });
    }
    categorySelected(e) {
        let t = e.id || e;
        ae.addPendingEvent(new Gc({
            venue: (0, _chunkZRT45YCMJs.g)(this, Cu)
        })), this.track("select-category", {
            id: t
        });
    }
    mapViewLoaded(e, t, i, n) {
        this.track("load-mapview", {
            type: e,
            force: t,
            benchmark: i || -1,
            reason: n || "success"
        });
    }
    getDirections(e, t) {
        let i = {
            start: e.id,
            end: t.id,
            type: "location_to_location"
        };
        this.track("query-directions", i);
    }
    getSessionID() {
        return (0, _chunkZRT45YCMJs.g)(this, Tu);
    }
    getDeviceID() {
        return (0, _chunkZRT45YCMJs.g)(this, xu);
    }
    setGeolocationMode(e) {
        (0, _chunkZRT45YCMJs.i)(this, yu, e);
    }
    trackBlueDotEvent(t) {
        t && Object.values(e.BLUEDOT_EVENT).includes(t) && !(0, _chunkZRT45YCMJs.g)(this, Au).has(t) && (this.track(t), (0, _chunkZRT45YCMJs.g)(this, Au).add(t));
    }
    trackSearch(e) {
        null != e && this.track("query-search", e);
    }
    trackSearchSuggest(e) {
        null != e && this.track("query-suggest", e);
    }
    static setContext(e) {
        let t = e1.find((t)=>t === e);
        t && (p4 = t);
    }
    static clearContext() {
        p4 = void 0;
    }
    static destroy() {
        e.instance = null;
    }
};
vp = new WeakMap, yu = new WeakMap, bu = new WeakMap, yp = new WeakMap, xu = new WeakMap, Tu = new WeakMap, Eu = new WeakMap, Is = new WeakMap, Mu = new WeakMap, wu = new WeakMap, Au = new WeakMap, bp = new WeakMap, Cu = new WeakMap, Vo = new WeakMap, (0, _chunkZRT45YCMJs.a)(hr, "Analytics"), (0, _chunkZRT45YCMJs.f)(hr, "instance", null), (0, _chunkZRT45YCMJs.f)(hr, "BLUEDOT_EVENT", {
    ATTEMPT_BLUEDOT: "attempt-bluedot",
    FOUND_POSITION: "found-position",
    FOUND_FLOOR: "found-floor"
});
var f4 = hr, kn = f4;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var xp = (0, _chunkZRT45YCMJs.e)(Vr()), y4 = ((e)=>(e[e.SUCCESS = 0] = "SUCCESS", e))(y4 || {}), Pa = ((e)=>(e[e.OPTIONAL_MINIMUM = 0] = "OPTIONAL_MINIMUM", e[e.OPTIONAL_MAXIMUM = 1] = "OPTIONAL_MAXIMUM", e[e.MEDIUM = 2] = "MEDIUM", e[e.HIGH = 3] = "HIGH", e[e.ALWAYS_VISIBLE = 4] = "ALWAYS_VISIBLE", e))(Pa || {}), t1 = ((e)=>(e[e.OUTSIDE_MAP = 0] = "OUTSIDE_MAP", e[e.NO_POSITIONS_PROVIDED = 1] = "NO_POSITIONS_PROVIDED", e[e.GEOLOCATION_PROVIDER_ERROR = 2] = "GEOLOCATION_PROVIDER_ERROR", e[e.CUSTOM_GEOLOCATION_PROVIDER_ERROR = 3] = "CUSTOM_GEOLOCATION_PROVIDER_ERROR", e))(t1 || {}), Pu = ((e)=>(e[e.NOT_LISTENING = 0] = "NOT_LISTENING", e[e.LISTENING = 1] = "LISTENING", e[e.HAS_POSITION = 2] = "HAS_POSITION", e[e.HAS_INDOOR_POSITION = 3] = "HAS_INDOOR_POSITION", e[e.LOCATION_UNCERTAIN = 4] = "LOCATION_UNCERTAIN", e))(Pu || {}), i1 = ((e)=>(e[e.HIDDEN = 0] = "HIDDEN", e[e.GHOST = 1] = "GHOST", e[e.NORMAL = 2] = "NORMAL", e[e.UNCERTAIN = 3] = "UNCERTAIN", e))(i1 || {}), Su = ((e)=>(e.EXPLORE = "explore", e.FOLLOW = "follow", e.STACKED = "STACKED", e))(Su || {}), Tp = ((e)=>(e[e.CENTER = 0] = "CENTER", e[e.TOP = 1] = "TOP", e[e.LEFT = 2] = "LEFT", e[e.BOTTOM = 3] = "BOTTOM", e[e.RIGHT = 4] = "RIGHT", e))(Tp || {}), n1 = ((e)=>(e.CLICK = "CLICK", e.STATE_CHANGE = "STATE_CHANGE", e.POLYGON_CLICKED = "POLYGON_CLICKED", e.NOTHING_CLICKED = "NOTHING_CLICKED", e.MAP_CHANGED = "MAP_CHANGED", e.MAP_CHANGED_WITH_REASON = "MAP_CHANGED_WITH_REASON", e.OUTDOOR_VIEW_LOADED = "OUTDOOR_VIEW_LOADED", e))(n1 || {}), r1 = ((e)=>(e.POSITION_UPDATE = "POSITION_UPDATE", e.STATE_CHANGE = "STATE_CHANGE", e))(r1 || {}), Ep = ((e)=>(e.USER_INTERACTION_START = "USER_INTERACTION_START", e.USER_INTERACTION_END = "USER_INTERACTION_END", e.ZOOM_CHANGED = "ZOOM_CHANGED", e.ROTATION_CHANGED = "ROTATION_CHANGED", e.TILT_CHANGED = "TILT_CHANGED", e.POSITION_CHANGED = "POSITION_CHANGED", e.CHANGED = "CHANGED", e))(Ep || {}), a1 = ((e)=>(e.UP = "up", e.DOWN = "down", e.LEFT = "left", e.RIGHT = "right", e))(a1 || {}), b4 = ((e)=>(e.PIXELS = "pixels", e.PORTIONS = "portions", e))(b4 || {}), fn = {
    linear: xp.default.Easing.Linear.None,
    "ease-in": xp.default.Easing.Quadratic.In,
    "ease-out": xp.default.Easing.Quadratic.Out,
    "ease-in-out": xp.default.Easing.Quadratic.InOut
}, Mp = ((e)=>(e.LINEAR = "linear", e.EASE_IN = "ease-in", e.EASE_OUT = "ease-out", e.EASE_IN_OUT = "ease-in-out", e))(Mp || {}), Go = ((e)=>(e.ACTIVE = "ACTIVE", e.INACTIVE = "INACTIVE", e.OVERVIEW = "OVERVIEW", e.ZOOMED_IN = "ZOOMED_IN", e))(Go || {}), wp = ((e)=>(e.DYNAMIC_FOCUS_USER_INTERACTION = "dynamic-focus-user-interaction", e.BLUE_DOT_LEVEL_TRANSITION = "blue-dot-level-transition", e.JOURNEY_CONNECTION_CLICK = "journey-connection-click", e))(wp || {});
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var Iu = {
    margin: 6,
    text: {
        numLines: 2,
        lineHeight: 1.2,
        size: 11.5,
        maxWidth: 150,
        foregroundColor: "white",
        backgroundColor: "#333"
    },
    marker: {
        size: 5,
        foregroundColor: {
            active: "white",
            inactive: void 0
        },
        backgroundColor: {
            active: "#333",
            inactive: void 0
        }
    }
}, s1 = {
    lightOnDark: {
        ...Iu,
        text: {
            ...Iu.text,
            foregroundColor: "white",
            backgroundColor: "#333"
        },
        marker: {
            ...Iu.marker,
            foregroundColor: {
                active: "white",
                inactive: void 0
            },
            backgroundColor: {
                active: "#333",
                inactive: void 0
            }
        }
    },
    darkOnLight: {
        ...Iu,
        text: {
            ...Iu.text,
            foregroundColor: "#333",
            backgroundColor: "white"
        },
        marker: {
            ...Iu.marker,
            foregroundColor: {
                active: "#333",
                inactive: void 0
            },
            backgroundColor: {
                active: "white",
                inactive: void 0
            }
        }
    }
};
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var o7 = !1, x4 = class {
    constructor(){
        (0, _chunkZRT45YCMJs.f)(this, "textureLoader", new (0, _chunk4XLXKB34Js.Ga));
    }
    async loadMapPolygons(e) {
        return o7 && R.log("loading map: ", e.scene.polygons), (await Oi()(e.scene.polygons)).json();
    }
    loadImage(e) {
        return new Promise((t, i)=>{
            o7 && R.log("loading image: ", e), this.textureLoader.load(e, (e)=>{
                e.colorSpace = (0, _chunk4XLXKB34Js.E), t(e);
            }, ()=>{}, i);
        });
    }
};
(0, _chunkZRT45YCMJs.a)(x4, "DefaultAssetManager");
var Sa = x4, E4 = class {
    constructor(){
        (0, _chunkZRT45YCMJs.f)(this, "defaultExtrudeSettings", {
            amount: 10,
            bevelEnabled: !1
        }), (0, _chunkZRT45YCMJs.f)(this, "materials", {}), (0, _chunkZRT45YCMJs.f)(this, "scale", 100), (0, _chunkZRT45YCMJs.f)(this, "assetManager", new Sa), (0, _chunkZRT45YCMJs.f)(this, "overlayHeight", .15);
    }
    setAssetManager(e) {
        this.assetManager = e;
    }
    load(e, t, i, n) {
        if ("string" == typeof e) return this.assetManager.loadMapPolygons(t).then((e)=>null == e || 0 === e.length ? Promise.reject("No polygons found for venue") : this._build(e, t, i, n)).catch((e)=>Promise.reject(e));
        try {
            return this._build(e, t, i, n);
        } catch (e) {
            return Promise.reject(e);
        }
    }
    _build(e, t, i, n = !1) {
        let r = new Set;
        t.layers.forEach((e)=>{
            (!1 !== e.visible || n) && r.add(e.id);
        });
        let o = new (0, _chunk4XLXKB34Js.la), s = e.map((e)=>{
            let n = e.layer || "Polygon", s = /__.*__/.exec(n);
            return r.has(n) || s ? new jo(e, t, o, this.assetManager, i) : null;
        }).filter((e)=>e);
        return Promise.resolve({
            container: o,
            elements: s,
            visibleLayers: r
        });
    }
};
(0, _chunkZRT45YCMJs.a)(E4, "JSONSceneLoader");
var T4 = E4, _u = new T4;
(0, _chunkA5C75TI6Js.a)();
var l7 = ((e)=>(e.ANIMATED = "animated", e.ALWAYS_ON_TOP = "always_on_top", e.ALL = "all", e.TWEEN = "tween", e.COMPOSITE = "composite", e))(l7 || {}), Re = l7;
(0, _chunkA5C75TI6Js.a)();
var u7 = 0, $F = !1, A4 = class {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "currentScene"), (0, _chunkZRT45YCMJs.f)(this, "processedMapObjects", new Set), this.core = e, $F && this.renderGrid(), this.transitionTo(t).then(()=>{
            this.core.publish(0);
        }).catch((e)=>{
            R.error(e);
        });
    }
    get currentMap() {
        return this.currentScene.currentMap;
    }
    renderGrid() {
        var e = new (0, _chunk4XLXKB34Js.Pa)(1e4, 10);
        e.setColors(233696766, 14606046), e.position.z = -10, e.rotation.x = Math.PI / 2, this.core.scene.add(e);
    }
    async transitionTo(e, t) {
        this.core.publish(6);
        let i = this.currentScene;
        e.transitionOptions = t || {}, e.currentMap = (null == t ? void 0 : t.activeMap) || e.maps[0], this.currentScene = e;
        let n = await e.preRender(t);
        e.mapObjectsArray = await Promise.all(n);
        let r = [], o = [], s = !1;
        if (i) {
            s = i.currentMap.mapGroup !== e.currentMap.mapGroup;
            for (let e of i.mapObjects.values())r.push(e.fadeOut(void 0, {
                onComplete: ()=>{
                    e.onInvisible(), i.object.remove(e.object);
                },
                duration: u7
            }));
        }
        for (let t of e.mapObjects.values())e.object.add(null == t ? void 0 : t.object), t.object.position.z = 0, o.push(t.fadeIn(void 0, {
            onComplete: ()=>{
                t.onVisible();
            },
            duration: u7
        }));
        this.core.tryRendering(), await Promise.all(r.map((e)=>e.start())), this.core.scene.add(e.object), await Promise.all([
            ...o.map((e)=>e.start()),
            e.focusOnCurrentMap(s ? {
                ...t,
                autoFocusOnActiveMap: !0
            } : void 0, null == i)
        ]), null != i && this.core.scene.remove(i.object), e.postRender(), this.core.publish(7), null == i && this.core.publish(0);
    }
};
(0, _chunkZRT45YCMJs.a)(A4, "SceneManager");
var M4 = A4, w4 = M4;
(0, _chunkA5C75TI6Js.a)();
var P4 = class {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.f)(this, "dynamicFocusScene"), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "panBounds"), (0, _chunkZRT45YCMJs.f)(this, "mapShouldSetOnUserInteraction", !0), this.core = e, this.dynamicFocusScene = new S4(e, t), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.CHANGE_EVENT.type, ()=>{
            this.update();
        }), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.ZOOM_END_EVENT.type, ()=>{
            this.determineTargetMap();
        }), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, ()=>{
            this.determineTargetMap();
        }), this.core.controls.dispatcher.addEventListener(this.core.controls.CAMERA_EVENTS.PAN_END_EVENT.type, ()=>{
            this.determineTargetMap();
        }), this.transitionTo().then(()=>{
            this.core.publish(0);
        });
    }
    get currentScene() {
        return {
            resize: this.dynamicFocusScene.resize,
            currentMap: this.dynamicFocusScene.currentMap,
            mapObjects: this.core.mapObjects
        };
    }
    get currentMap() {
        return this.dynamicFocusScene.currentMap;
    }
    setDefaultMapForMapGroup(e, t) {
        let i = this.dynamicFocusScene.buildings.find((t)=>t.mapGroup.id === e.id);
        null != i && i.mapGroup.maps.includes(t) && (i.activeMap = void 0, i.defaultMap = t);
    }
    resetDefaultMapForMapGroup(e) {
        let t = this.dynamicFocusScene.buildings.find((t)=>t.mapGroup.id === e.id);
        null != t && (t.defaultMap = t.startingMap);
    }
    determineTargetMap() {
        let e = this.dynamicFocusScene.determineCurrentMap();
        this.mapShouldSetOnUserInteraction && null != e && this.dynamicFocusScene.setMap(e, !0), this.update();
    }
    update() {
        this.core.taskScheduler.scheduleTask(new Tt({
            name: "setDynamicFocusOpacities",
            callback: ()=>{
                let e = this.dynamicFocusScene.determineBuildingsInView();
                this.dynamicFocusScene.setOpacities(e, this.dynamicFocusScene.currentMap);
            }
        }));
    }
    async transitionTo(e) {
        if (this.dynamicFocusScene.loaded || (await this.dynamicFocusScene.load(), this.core.scene.add(this.dynamicFocusScene.object)), null != e) {
            let t = e.maps[0], i = this.dynamicFocusScene.buildings.find((e)=>e.mapGroup.id === t.mapGroup.id);
            null != i && await i.setMap(t), this.dynamicFocusScene.setMap(t), this.update();
        }
    }
};
(0, _chunkZRT45YCMJs.a)(P4, "DynamicFocusSceneManager");
var C4 = P4, Ap = C4;
function Cp(e, t = !1) {
    let i = null !== e[0].index, n = new Set(Object.keys(e[0].attributes)), r = new Set(Object.keys(e[0].morphAttributes)), o = {}, s = {}, a = e[0].morphTargetsRelative, l = new (0, _chunk4XLXKB34Js.aa), h = 0;
    for(let c = 0; c < e.length; ++c){
        let u = e[c], d = 0;
        if (i !== (null !== u.index)) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + c + ". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."), null;
        for(let e in u.attributes){
            if (!n.has(e)) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + c + '. All geometries must have compatible attributes; make sure "' + e + '" attribute exists among all geometries, or in none of them.'), null;
            void 0 === o[e] && (o[e] = []), o[e].push(u.attributes[e]), d++;
        }
        if (d !== n.size) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + c + ". Make sure all geometries have the same number of attributes."), null;
        if (a !== u.morphTargetsRelative) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + c + ". .morphTargetsRelative must be consistent throughout all geometries."), null;
        for(let e in u.morphAttributes){
            if (!r.has(e)) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + c + ".  .morphAttributes must be consistent throughout all geometries."), null;
            void 0 === s[e] && (s[e] = []), s[e].push(u.morphAttributes[e]);
        }
        if (t) {
            let e;
            if (i) e = u.index.count;
            else {
                if (void 0 === u.attributes.position) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index " + c + ". The geometry must have either an index or a position attribute"), null;
                e = u.attributes.position.count;
            }
            l.addGroup(h, e, c), h += e;
        }
    }
    if (i) {
        let t = 0, i = [];
        for(let n = 0; n < e.length; ++n){
            let r = e[n].index;
            for(let e = 0; e < r.count; ++e)i.push(r.getX(e) + t);
            t += e[n].attributes.position.count;
        }
        l.setIndex(i);
    }
    for(let e in o){
        let t = c7(o[e]);
        if (!t) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the " + e + " attribute."), null;
        l.setAttribute(e, t);
    }
    for(let e in s){
        let t = s[e][0].length;
        if (0 === t) break;
        l.morphAttributes = l.morphAttributes || {}, l.morphAttributes[e] = [];
        for(let i = 0; i < t; ++i){
            let t = [];
            for(let n = 0; n < s[e].length; ++n)t.push(s[e][n][i]);
            let n = c7(t);
            if (!n) return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the " + e + " morphAttribute."), null;
            l.morphAttributes[e].push(n);
        }
    }
    return l;
}
function c7(e) {
    let t, i, n, r = -1, o = 0;
    for(let s = 0; s < e.length; ++s){
        let a = e[s];
        if (void 0 === t && (t = a.array.constructor), t !== a.array.constructor) return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."), null;
        if (void 0 === i && (i = a.itemSize), i !== a.itemSize) return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."), null;
        if (void 0 === n && (n = a.normalized), n !== a.normalized) return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."), null;
        if (-1 === r && (r = a.gpuType), r !== a.gpuType) return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."), null;
        o += a.count * i;
    }
    let s = new t(o), a = new (0, _chunk4XLXKB34Js.$)(s, i, n), l = 0;
    for(let t = 0; t < e.length; ++t){
        let n = e[t];
        if (n.isInterleavedBufferAttribute) {
            let e = l / i;
            for(let t = 0, r = n.count; t < r; t++)for(let r = 0; r < i; r++){
                let i = n.getComponent(t, r);
                a.setComponent(t + e, r, i);
            }
        } else s.set(n.array, l);
        l += n.count * i;
    }
    return void 0 !== r && (a.gpuType = r), a;
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(Cp, "mergeGeometries"), (0, _chunkZRT45YCMJs.a)(c7, "mergeAttributes"), (0, _chunkA5C75TI6Js.a)();
var I4 = class {
    constructor(){
        (0, _chunkZRT45YCMJs.f)(this, "_subscribers", {});
    }
    publish(e, t) {
        !this._subscribers || !this._subscribers[e] || this._subscribers[e].forEach(function(e) {
            "function" == typeof e && e(t);
        });
    }
    on(e, t) {
        this._subscribers || (this._subscribers = {}), this._subscribers[e] = this._subscribers[e] || [], this._subscribers[e].push(t);
    }
    off(e, t) {
        if (!this._subscribers || null == this._subscribers[e]) return;
        let i = this._subscribers[e].indexOf(t);
        -1 !== i && this._subscribers[e].splice(i, 1);
    }
    destroy() {
        this._subscribers = {};
    }
};
(0, _chunkZRT45YCMJs.a)(I4, "PubSub");
var Gn = I4;
function _s(e) {
    let t = new Gn;
    Object.assign(t, e);
    for(let i in e)if (null != i) {
        let n = e[i];
        if ("function" == typeof n) continue;
        t["_".concat(i)] = n, Object.defineProperty(t, i, {
            get: ()=>t["_".concat(i)],
            set (e) {
                let n = t["_".concat(i)];
                t["_".concat(i)] = e, t.publish("".concat(i, "Changed"), {
                    oldValue: n,
                    newValue: t[i]
                });
            }
        });
    }
    return t;
}
(0, _chunkZRT45YCMJs.a)(_s, "tinyObservable"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var _4 = (0, _chunkZRT45YCMJs.e)(Vr());
function Os(e) {
    e && (e.map && (e.map.dispose(), e.map = void 0), e.dispose());
}
function ut(e) {
    return "string" == typeof e ? e : e.id;
}
function Mn(e, t) {
    if (void 0 !== t) return "string" == typeof e ? t.find(function(t) {
        return t.id === e;
    }) : e;
}
function Ia(e, t) {
    for(let i = 0; i < t.length; i++)e.push(t[i]);
}
function o1(e) {
    if (e.scale || e.x_scale) return 1 / (e.scale || e.x_scale);
    let t;
    try {
        let i = e.georeference[0], n = e.georeference[2], r = new Qe(i.target.x, i.target.y), o = new Qe(n.target.x, n.target.y), s = r.distanceTo(o), a = i.control.x - n.control.x, l = i.control.y - n.control.y;
        t = Math.sqrt(a * a + l * l) / s;
    } catch (i) {
        t = 1, R.warn(i), R.warn("Couldn't georeference " + (e.name || e.shortName || e.id) + ". Probably not enough geocoordinates.");
    }
    return t;
}
function d7(e) {
    let t;
    try {
        let i = e.georeference[0], n = e.georeference[2], r = new Qe(i.target.x, i.target.y), o = new Qe(n.target.x, n.target.y);
        t = -((r.finalBearingTo(o) + 0) * Math.PI / 180 - Math.atan2(n.control.y - i.control.y, n.control.x - i.control.x) - Math.PI / 2);
    } catch (i) {
        t = 0, R.warn(i), R.warn("Couldn't georeference " + (e.name || e.shortName || e.id) + ". Probably not enough geocoordinates.");
    }
    return t;
}
function O4(e) {
    return e.reduce((e, t)=>e.includes(t) ? e : [
            ...e,
            t
        ], []);
}
function D4(e, t, i) {
    let n = e * (Math.PI / 180) / 2, r = t / 2;
    return i * Math.tan(n) / r;
}
function p7(e, t, i) {
    let n = [
        e
    ], r = (t.x - e.x) / i, o = (t.y - e.y) / i, s = (t.z - e.z) / i;
    for(let t = 1; t < i; t++){
        let i = e.clone(), a = new (0, _chunk4XLXKB34Js.S)(t * r, t * o, t * s);
        i.add(a), n.push(i);
    }
    return n.push(t), n;
}
(0, _chunkZRT45YCMJs.a)(Os, "scrubMaterial"), (0, _chunkZRT45YCMJs.a)(ut, "getObjectId"), (0, _chunkZRT45YCMJs.a)(Mn, "getObject"), (0, _chunkZRT45YCMJs.a)(Ia, "appendItems"), (0, _chunkZRT45YCMJs.a)(o1, "getMapScale"), (0, _chunkZRT45YCMJs.a)(d7, "getNorth"), (0, _chunkZRT45YCMJs.a)(O4, "uniq"), (0, _chunkZRT45YCMJs.a)(D4, "getProjectionScaleFactor"), (0, _chunkZRT45YCMJs.a)(p7, "splitLine");
var Pp = (0, _chunkZRT45YCMJs.a)((e, t)=>{
    let i, n = e.venue.defaultMap;
    if (t && t.firstMap) {
        let e = ut(t.firstMap);
        null == e ? R.warn("Invalid map id provided to 'firstMap' option. Ignoring.") : n = e;
    }
    if (n) {
        for(let t = 0, r = e.maps.length; t < r; ++t)if (e.maps[t].id === n) {
            i = e.maps[t];
            break;
        }
    }
    return i || (i = L0(e.maps)), i;
}, "determineStartingMap");
function L4(e, t = 0) {
    let i = 3735928559 ^ t, n = 1103547991 ^ t;
    for(let t, r = 0; r < e.length; r++)t = e.charCodeAt(r), i = Math.imul(i ^ t, 2654435761), n = Math.imul(n ^ t, 1597334677);
    return i = Math.imul(i ^ i >>> 16, 2246822507) ^ Math.imul(n ^ n >>> 13, 3266489909), n = Math.imul(n ^ n >>> 16, 2246822507) ^ Math.imul(i ^ i >>> 13, 3266489909), 4294967296 * (2097151 & n) + (i >>> 0);
}
function f7(e, t) {
    let i = e.getCenter(new (0, _chunk4XLXKB34Js.S)), n = e.getSize(new (0, _chunk4XLXKB34Js.S)), { x: r, y: o, z: s } = n, a = r * t, l = o * t, h = s * t, c = i.x - a / 2, u = i.x + a / 2, d = i.y - l / 2, p = i.y + l / 2, f = i.z - h / 2, m = i.z + h / 2;
    return new (0, _chunk4XLXKB34Js.T)({
        x: c,
        y: d,
        z: f
    }, {
        x: u,
        y: p,
        z: m
    });
}
function jn({ from: e, to: t, duration: i = 300, easing: n = _4.default.Easing.Quadratic.Out, delay: r = 0, onUpdate: o = (0, _chunkZRT45YCMJs.a)((e)=>{}, "onUpdate"), onStart: s = (0, _chunkZRT45YCMJs.a)(()=>{}, "onStart"), onComplete: a = (0, _chunkZRT45YCMJs.a)(()=>{}, "onComplete") }) {
    let h = new _4.default.Tween(e).to(t, i).easing(n).delay(r).onStart(s).onUpdate((e)=>{
        o(e);
    });
    return {
        start: (e)=>new Promise((t)=>{
                h.onComplete(()=>{
                    a(), t();
                }).start(), e.tryRendering();
            })
    };
}
(0, _chunkZRT45YCMJs.a)(L4, "cyrb53"), (0, _chunkZRT45YCMJs.a)(f7, "addMarginMultiplierToBoundingBox"), (0, _chunkZRT45YCMJs.a)(jn, "tweenPromise");
var eU = (0, _chunkZRT45YCMJs.a)((e)=>e, "linearEase"), Sp = (0, _chunkZRT45YCMJs.a)((e)=>e * e, "quadEaseIn");
function _a(e, t, i, n, r, o = eU) {
    return n + o(((e = Math.max(t, Math.min(e, i))) - Math.min(t, i)) / Math.abs(i - t)) * (r - n);
}
function m7(e, t, i, n = Sp) {
    if (t.length !== i.length) throw new Error("Input and output ranges must have the same number of values.");
    e = Math.max(t[0], Math.min(e, t[t.length - 1]));
    let r = 0;
    for(; r < t.length - 1 && e > t[r + 1];)r++;
    let o = n((e - t[r]) / (t[r + 1] - t[r]));
    return i[r] + o * (i[r + 1] - i[r]);
}
function l1(e, t, i) {
    let n = Object.getOwnPropertyDescriptor(e, t);
    n && n.writable && (e[t] = i);
}
(0, _chunkZRT45YCMJs.a)(_a, "interpolate"), (0, _chunkZRT45YCMJs.a)(m7, "interpolateMulti"), (0, _chunkZRT45YCMJs.a)(l1, "checkWritableBeforeWrite"), (0, _chunkA5C75TI6Js.a)();
var tU = (()=>{
    let e;
    return {
        getDeviceType () {
            if (e) return e;
            let { userAgent: t, platform: i, maxTouchPoints: n } = window.navigator, r = /(iphone|ipod|ipad)/i.test(t), o = "iPad" === i || 0 === i.indexOf("Mac") && n > 0 && !window.MSStream, s = /android/i.test(t);
            return e = {
                isIpad: o,
                isMobile: s || r || o,
                isSafari12: /Version\/12.+Safari/.test(t),
                isFirefox: /Firefox/.test(t),
                isWindows: /windows/i.test(t)
            }, e;
        },
        _reset () {
            e = void 0;
        }
    };
})(), g7 = tU.getDeviceType, v7 = (()=>{
    let e, t, i;
    function n() {
        if (void 0 !== t) return t;
        e || (e = document.createElement("canvas"));
        let i = e.getContext("webgl") || e.getContext("experimental-webgl");
        if (!i) return t;
        try {
            let e = g7().isFirefox ? null : i.getExtension("WEBGL_debug_renderer_info");
            return t = e ? i.getParameter(e.UNMASKED_RENDERER_WEBGL) : i.getParameter(i.RENDERER), t;
        } catch (e) {
            return R.warn("Failed getting device info", e), t;
        }
    }
    function r() {
        var e, t;
        if (!g7().isWindows) return !1;
        if (void 0 !== i) return i;
        let n = null != (t = null == (e = iU()) ? void 0 : e.toLowerCase()) ? t : "";
        return i = n.includes("intel") && (n.includes("uhd") || n.includes("iris")), i;
    }
    return (0, _chunkZRT45YCMJs.a)(n, "getInfo"), (0, _chunkZRT45YCMJs.a)(r, "shouldDisableOffscreenCanvas"), {
        getInfo: n,
        shouldDisableOffscreenCanvas: r,
        _setCanvas (n) {
            e = n, t = void 0, i = void 0;
        }
    };
})(), iU = v7.getInfo, q4 = v7.shouldDisableOffscreenCanvas;
function N4(e, t, i) {
    let n, r, o, s = null, a = 0;
    i || (i = {});
    let h = (0, _chunkZRT45YCMJs.a)(function() {
        a = !1 === i.leading ? 0 : Date.now(), s = null, o = e.apply(n, r), s || (n = r = null);
    }, "later");
    return function(...r) {
        let l = Date.now();
        !a && !1 === i.leading && (a = l);
        let c = t - (l - a);
        return c <= 0 || c > t ? (s && (clearTimeout(s), s = null), a = l, o = e.apply(this, r), s || (n = r = null)) : !s && !1 !== i.trailing && (s = setTimeout(h, c)), o;
    };
}
function mn(e, t, i = !1) {
    let n = null, r = 0;
    return function(...o) {
        r++, 1 === r && !0 === i && e.apply(this, o);
        let s = (0, _chunkZRT45YCMJs.a)(()=>{
            (!i || r > 1) && e.apply(this, o), n = null, r = 0;
        }, "later");
        clearTimeout(n), n = setTimeout(s, t);
    };
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(N4, "throttle"), (0, _chunkZRT45YCMJs.a)(mn, "debounce");
var B4 = (0, _chunkZRT45YCMJs.e)(R4()), y7 = "#define LAMBERT\nvarying vec3 vViewPosition;\nvarying vec4 vPosition;\nvarying vec4 finalPosition;\nvarying vec3 vWorldPosition;\nvarying vec3 worldNormal;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n	// vertex normal relative to world space\n	worldNormal = normal;\n	// world position\n	vWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;\n}", b7 = "#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nuniform float uTopOfGradient;\nuniform vec3 uShadowColor;\nuniform float uMinSideAlpha;\nuniform float uMaxSideAlpha;\nuniform float uFullGradientStart;\n\nvarying vec3 vWorldPosition;\nvarying vec3 worldNormal;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvoid main() {\n	#include <clipping_planes_fragment>\n	vec4 diffuseColor = vec4(diffuse, opacity);\n	\n	// get the normalized world normal of vertex fragment\n	vec3 surfaceNormal = normalize(worldNormal);\n\n	// get angle relative to Z up\n	float angle = degrees(acos(abs(dot(surfaceNormal, vec3(0.0, 0.0, 1.0)))));\n\n	// only for vertical surfaces\n	if (angle > 89.0 && angle < 91.0) {\n\n		// get the percentage of the z position from the ground, up\n		float percentFromZeroZ = max((abs(vWorldPosition.z) - uFullGradientStart) / uTopOfGradient, 0.0);\n		\n		// gradient based on percentage\n		float alpha = smoothstep(uMinSideAlpha, uMaxSideAlpha, percentFromZeroZ);\n\n		// mix the shadow color with the diffuse color based on the alpha and opacity\n		diffuseColor = vec4(mix(diffuseColor.rgb, uShadowColor, 1.0 - alpha), opacity);\n	}\n\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <output_fragment>\n	#include <tonemapping_fragment>\n	#include <encodings_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}\n", aU = 40, sU = .15, oU = 40, lU = 30, uU = -0.5, cU = 1, hU = 1, dU = !0, dr = {
    VISIBLE_MAP_HIGH: 5,
    VISIBLE_MAP_LOW: 4,
    VISIBLE_MAP_MARKER: 3,
    ASYNC_MAP_HIGH: 2,
    ASYNC_MAP_LOW: 1,
    ASYNC_MAP_MARKER: 0,
    MAP_LOADED: -1
}, Ou = {
    MAP_ELEMENT: 0,
    BUILDING_OUTLINE: 1,
    MAP_HOVER: 2,
    POLYGON_IMAGE: 3
};
function pU(e) {
    let t = [], i = [];
    for(let n = 0; n < e.length; n++){
        let { zoomLevel: r, opacity: o } = e[n];
        t.push(r), i.push(o);
    }
    return {
        inputZoomLevel: t,
        outputOpacity: i
    };
}
function w7(e, t) {
    var i, n, r, o;
    null != (r = null == (n = null == (i = e.map) ? void 0 : i.image) ? void 0 : n.src) && r.includes(".png") || null != (o = e.userData) && o.isPolygonImage || (e.transparent = 1 !== t);
}
(0, _chunkZRT45YCMJs.a)(pU, "convertToShortHandInterpolation"), (0, _chunkZRT45YCMJs.a)(w7, "setTransparency");
var M7, x7 = new (0, _chunk4XLXKB34Js.X), fU = 1, T7 = {
    Floor: 1,
    Wall: 2,
    "Outer Wall": 2.2,
    Anchors: 4,
    Anchor: 4,
    "Anchor Store": 4,
    Polygon: 5,
    Kiosks: 6,
    "Inner Wall": 7,
    "Non Public": 7.5
}, E7 = (0, _chunkZRT45YCMJs.a)((e)=>{
    if (T7[e.layer]) return T7[e.layer];
    let t = e.geometry.scale, i = e.geometry.position;
    return 100 + (t ? t.z : 1) + (i ? i.z : 0);
}, "calculateScore"), F4 = class {
    constructor(e, t, i, n){
        (0, _chunkZRT45YCMJs.f)(this, "mergedObjectsGroup", new (0, _chunk4XLXKB34Js.la)), (0, _chunkZRT45YCMJs.f)(this, "hoverObjectsGroup", new (0, _chunk4XLXKB34Js.la)), (0, _chunkZRT45YCMJs.f)(this, "objectsByMaterials", new Map), (0, _chunkZRT45YCMJs.f)(this, "hoverableMeshChildren", []), (0, _chunkZRT45YCMJs.f)(this, "_isVisible", !1), (0, _chunkZRT45YCMJs.f)(this, "needsUpdate", !1), (0, _chunkZRT45YCMJs.f)(this, "userData", {}), (0, _chunkZRT45YCMJs.f)(this, "opacity", 1), (0, _chunkZRT45YCMJs.f)(this, "outlineDarkeningFactor", 0), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "mapObject"), (0, _chunkZRT45YCMJs.f)(this, "name"), (0, _chunkZRT45YCMJs.f)(this, "layers"), (0, _chunkZRT45YCMJs.f)(this, "interpolationFn", null), (0, _chunkZRT45YCMJs.f)(this, "opacityInterpolation"), this.mapObject = e, this.core = e.core, this.name = t, this.layers = i, this._isVisible = n;
    }
    set isVisible(e) {
        e !== this._isVisible && (this._isVisible = e, this.core.publish(32, this.mapObject.mapClass));
    }
    get isVisible() {
        return this._isVisible;
    }
    dispose() {
        this.hoverObjectsGroup.clear(), this.mergedObjectsGroup.children.forEach((e)=>{
            e.userData.merged && e.destroy();
        }), this.objectsByMaterials.clear();
    }
    setOpacity(e) {
        var t, i;
        this.opacity = e;
        for (let { material: n } of [
            ...this.mergedObjectsGroup.children,
            ...this.hoverableMeshChildren
        ]){
            let r = _a(e, 0, 1, 0, null != (i = null == (t = n.userData) ? void 0 : t.originalOpacity) ? i : 1);
            w7(n, r), n.opacity = r, n.needsUpdate = !0;
        }
        0 === e ? (this.hoverObjectsGroup.visible = !1, this.mergedObjectsGroup.visible = !1) : (this.hoverObjectsGroup.visible = !0, this.mergedObjectsGroup.visible = !0);
    }
    setOutlineDarkeningFactor(e) {
        e !== this.outlineDarkeningFactor && (this.outlineDarkeningFactor = e, this.mergedObjectsGroup.children.forEach((t)=>{
            var i;
            if ("LineSegments" === t.type) {
                let n = null == (i = t.material.userData) ? void 0 : i.originalColor, r = (0, B4.default)(n).darken(e).toRgbString();
                t.material.color.set(r), t.material.needsUpdate = !0;
            }
        }));
    }
};
(0, _chunkZRT45YCMJs.a)(F4, "LayerGroup");
var Ip = F4, U4 = class extends Gn {
    constructor(e, t, i, n, r){
        var o, s, a;
        if (super(), (0, _chunkZRT45YCMJs.f)(this, "_flippableImagedById", {}), (0, _chunkZRT45YCMJs.f)(this, "_started", !1), (0, _chunkZRT45YCMJs.f)(this, "_loaderPromise"), (0, _chunkZRT45YCMJs.f)(this, "_promiseResolve", (0, _chunkZRT45YCMJs.a)(()=>{}, "_promiseResolve")), (0, _chunkZRT45YCMJs.f)(this, "_showCount"), (0, _chunkZRT45YCMJs.f)(this, "_taskScheduler"), (0, _chunkZRT45YCMJs.f)(this, "_highPriorityTasks"), (0, _chunkZRT45YCMJs.f)(this, "_lowPriorityTasks"), (0, _chunkZRT45YCMJs.f)(this, "_markerTasks"), (0, _chunkZRT45YCMJs.f)(this, "_mapLoadedTasks"), (0, _chunkZRT45YCMJs.f)(this, "_visibilityLatch"), (0, _chunkZRT45YCMJs.f)(this, "_objLoadedComplete"), (0, _chunkZRT45YCMJs.f)(this, "_hoverableMeshChildren", []), (0, _chunkZRT45YCMJs.f)(this, "imageMeshesById", {}), (0, _chunkZRT45YCMJs.f)(this, "visible", !1), (0, _chunkZRT45YCMJs.f)(this, "objectsDictionary", {}), (0, _chunkZRT45YCMJs.f)(this, "north", 0), (0, _chunkZRT45YCMJs.f)(this, "mapScale", null), (0, _chunkZRT45YCMJs.f)(this, "object", new (0, _chunk4XLXKB34Js.X)), (0, _chunkZRT45YCMJs.f)(this, "labels", new Set), (0, _chunkZRT45YCMJs.f)(this, "tooltips", new Set), (0, _chunkZRT45YCMJs.f)(this, "markers", new Set), (0, _chunkZRT45YCMJs.f)(this, "box", new (0, _chunk4XLXKB34Js.T)), (0, _chunkZRT45YCMJs.f)(this, "textObjects", []), (0, _chunkZRT45YCMJs.f)(this, "labelBatchCreator", null), (0, _chunkZRT45YCMJs.f)(this, "imagesToFlip", []), (0, _chunkZRT45YCMJs.f)(this, "seenByCamera", !1), (0, _chunkZRT45YCMJs.f)(this, "threeJSMarkers", new Map), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "mapClass"), (0, _chunkZRT45YCMJs.f)(this, "polygonMeshesById"), (0, _chunkZRT45YCMJs.f)(this, "loadMethod"), (0, _chunkZRT45YCMJs.f)(this, "loadAsync"), (0, _chunkZRT45YCMJs.f)(this, "id"), (0, _chunkZRT45YCMJs.f)(this, "mapRenderingStrategy"), (0, _chunkZRT45YCMJs.f)(this, "needsUpdate", !1), (0, _chunkZRT45YCMJs.f)(this, "layerGroups", new Map), (0, _chunkZRT45YCMJs.f)(this, "loadedLayerNames", []), (0, _chunkZRT45YCMJs.f)(this, "loadedElements", []), (0, _chunkZRT45YCMJs.f)(this, "boundingBox"), (0, _chunkZRT45YCMJs.f)(this, "elements", []), (0, _chunkZRT45YCMJs.f)(this, "loadMethodUsed", ""), (0, _chunkZRT45YCMJs.f)(this, "mapLoaded", null), (0, _chunkZRT45YCMJs.f)(this, "useLivePolygons", !1), (0, _chunkZRT45YCMJs.f)(this, "createMesh", (0, _chunkZRT45YCMJs.a)((e, t, i, n)=>{
            var r, o, s;
            let a, l = e.clone(), h = new (0, _chunk4XLXKB34Js.Y)((0, B4.default)(l.color.getHexString()).darken(oU).toRgbString());
            if (null != (r = this.core.options) && r.shadingAndOutlines) {
                l.polygonOffset = !0, l.polygonOffsetFactor = 1, l.polygonOffsetUnits = 1, l.onBeforeCompile = (e)=>{
                    e.vertexShader = y7, e.fragmentShader = b7, e.uniforms.uTopOfGradient = {
                        value: sU / (this.core.referenceMap.scale || 1)
                    }, e.uniforms.uShadowColor = {
                        value: h
                    }, e.uniforms.uMinSideAlpha = {
                        value: uU
                    }, e.uniforms.uMaxSideAlpha = {
                        value: cU
                    }, e.uniforms.uFullGradientStart = {
                        value: hU
                    };
                }, l.needsUpdate = !0;
                let e = new (0, _chunk4XLXKB34Js.ya)(t, aU), i = new (0, _chunk4XLXKB34Js.ra)({
                    linewidth: 2,
                    userData: {
                        originalColor: l.color.getHexString()
                    }
                });
                a = new (0, _chunk4XLXKB34Js.sa)(e, i);
            }
            l.userData = {
                ...l.userData,
                layer: i.name,
                originalOpacity: null != (o = l.opacity) ? o : 1
            }, l.alphaTest = .01, w7(l, l.userData.originalOpacity);
            let c = new (0, _chunk4XLXKB34Js.ba)(t, l);
            c.userData.mapId = this.mapClass.id, c.renderOrder = n, i.mergedObjectsGroup.add(c), null != (s = this.core.options) && s.shadingAndOutlines && i.mergedObjectsGroup.add(a);
        }, "createMesh")), this.core = n, this.mapClass = e, this.polygonMeshesById = t, this._showCount = i, this.loadMethod = "json", this.loadAsync = null != (o = r.async) && o, this.useLivePolygons = null != (s = r.useLivePolygons) && s, this._taskScheduler = r.taskScheduler, this.id = this.mapClass.id, this.mapRenderingStrategy = (null == r ? void 0 : r.mapRenderStrategy) || "SINGLE_GEOMETRY", this._highPriorityTasks = new va({
            name: "_highPriorityTasks",
            onComplete: this._checkIfLoaded.bind(this),
            priority: !this.visible && this.loadAsync ? dr.ASYNC_MAP_HIGH : dr.VISIBLE_MAP_HIGH,
            postponeOnAdd: !this.visible && !this.loadAsync,
            userdata: {}
        }), this._lowPriorityTasks = new va({
            name: "_lowPriorityTasks",
            onComplete: this._checkIfLoaded.bind(this),
            priority: !this.visible && this.loadAsync ? dr.ASYNC_MAP_LOW : dr.VISIBLE_MAP_LOW,
            postponeOnAdd: !this.visible && !this.loadAsync,
            userdata: {}
        }), this._markerTasks = new va({
            name: "_markerTasks",
            priority: !this.visible && this.loadAsync ? dr.ASYNC_MAP_MARKER : dr.VISIBLE_MAP_MARKER,
            postponeOnAdd: !this.visible,
            userdata: {}
        }), this._mapLoadedTasks = new va({
            name: "_mapLoadedTasks",
            priority: dr.MAP_LOADED,
            postponeOnAdd: !this.isReady(),
            userdata: {}
        }), this._visibilityLatch = null, this._objLoadedComplete = !1, this._loaderPromise = new Promise((e, t)=>{
            this._promiseResolve = e, M7 = t;
        }), this._objLoaded = this._objLoaded.bind(this), this._objLoadedMerged = this._objLoadedMerged.bind(this), this.enableImageFlipping = this.enableImageFlipping.bind(this), this.destroy = this.destroy.bind(this), this.core.on(32, ()=>{
            this.needsUpdate = !0;
        }), null != (a = this.core.options) && a.shadingAndOutlines) {
            let e = (0, _chunkZRT45YCMJs.a)(()=>{
                let e = _a(this.core.controls.getZoomLevel(), 16, 19, 0, lU);
                this.layerGroups.forEach((t)=>{
                    t.setOutlineDarkeningFactor(e);
                }), this.core.tryRendering();
            }, "processOutline");
            this.core.on(0, ()=>{
                e();
            }), this.core.on(9, ()=>{
                e();
            });
        }
    }
    fade(e, { direction: t = "in", onComplete: i = (0, _chunkZRT45YCMJs.a)(()=>{}, "onComplete"), duration: n = 300 }) {
        let r = "string" == typeof e ? [
            this.layerGroups.get(e)
        ] : this.layerGroups, o = {};
        return r.forEach((e)=>{
            o[e.name] = e.opacity;
        }), {
            start: ()=>new Promise((e)=>{
                    jn({
                        from: {
                            opacity: "in" === t ? 0 : 1
                        },
                        to: {
                            opacity: "in" === t ? 1 : 0
                        },
                        duration: n,
                        onStart: ()=>{
                            "out" === t && r.forEach((e)=>{
                                e.isVisible = !1;
                            });
                        },
                        onComplete: ()=>{
                            "in" === t && r.forEach((e)=>{
                                e.isVisible = !0;
                            }), i(), e();
                        },
                        onUpdate: ({ opacity: e })=>{
                            r.forEach((i)=>{
                                let n, r = o[i.name];
                                n = "in" === t ? _a(e, 0, 1, r, 1) : _a(e, 0, 1, 0, r), i.setOpacity(n);
                            }), this.core.tryRendering();
                        }
                    }).start(this.core), this.core.tryRendering();
                })
        };
    }
    fadeIn(e = Array.from(this.layerGroups.keys()), t = {
        onComplete: ()=>{},
        duration: 300
    }) {
        return this.fade(e, {
            direction: "in",
            onComplete: null == t ? void 0 : t.onComplete,
            duration: null == t ? void 0 : t.duration
        });
    }
    fadeOut(e = Array.from(this.layerGroups.keys()), t = {
        onComplete: ()=>{},
        duration: 300
    }) {
        return this.fade(e, {
            direction: "out",
            onComplete: null == t ? void 0 : t.onComplete,
            duration: null == t ? void 0 : t.duration
        });
    }
    renderLayerGroup(e = [], t = []) {
        let i = Bt();
        Array.from(this.layerGroups.values()).forEach((e)=>{
            e.isVisible = !1, this.object.remove(e.mergedObjectsGroup), this.object.remove(e.hoverObjectsGroup), e.dispose();
        });
        let n = this.processLayerGroup(i, e, t);
        this.layerGroups.clear(), this.layerGroups.set(i, n), n.isVisible = !0, this.object.add(n.mergedObjectsGroup), this.object.add(n.hoverObjectsGroup), this.needsUpdate = !0;
    }
    processLayers(e, t = [], i = []) {
        let n = [];
        return n = 0 === t.length && 0 === i.length ? [] : t.length > 0 ? e.filter((e)=>t.includes(e)) : [
            ...e
        ], i.length > 0 && (n = n.filter((e)=>!i.includes(e))), n;
    }
    processLayerGroup(e = Bt(), t = [], i = [], n = !0, r = this.loadedElements, o = Ou.MAP_ELEMENT) {
        var s;
        let a = new Ip(this, e, [], n), l = this.processLayers([
            ...this.loadedLayerNames,
            ...t
        ], t, i);
        if (0 === l.length && 0 === r.length) return a;
        for (let t of r){
            if (this.layerGroups.has(e) ? a = this.layerGroups.get(e) : (a = new Ip(this, e, O4(l), n), a.isVisible = n, a.mergedObjectsGroup.name = this.mapClass.id, this.layerGroups.set(e, a)), t && t.visible && t.polygon.layer && l.includes(t.polygon.layer)) {
                a.objectsByMaterials.has(t.material) ? null == (s = a.objectsByMaterials.get(t.material)) || s.push(t) : a.objectsByMaterials.set(t.material, [
                    t
                ]);
                let i = t.material.clone();
                i.userData = {
                    layer: e
                }, t.mesh.material = i, t.mesh.visible = !1, t.mesh.material.transparent = !0, t.mesh.renderOrder = Ou.MAP_HOVER, a.hoverObjectsGroup.add(t.mesh), t.isInflated || a.hoverableMeshChildren.push(t.mesh);
            }
            t && t.imageMesh && t.polygon.layer && l.includes(t.polygon.layer) && (t.imageMesh.material.userData = {
                ...t.imageMesh.material.userData,
                layer: e
            }, t.imageMesh.renderOrder = Ou.POLYGON_IMAGE, a.mergedObjectsGroup.add(t.imageMesh));
        }
        for (let [e, t] of a.objectsByMaterials)if (dU) {
            let i = Cp(t.map((e)=>e.geometry), !1);
            this.createMesh(e, i, a, o);
        } else for (let i of t)this.createMesh(e, i.geometry, a, o);
        return !1 === n && a.setOpacity(0), this.loadedLayerNames = O4([
            ...this.loadedLayerNames,
            ...t
        ]), a;
    }
    get hoverableMeshChildren() {
        if (this.needsUpdate) {
            this._hoverableMeshChildren = [];
            for (let e of this.layerGroups.values())e.isVisible && this._hoverableMeshChildren.push(...e.hoverableMeshChildren);
            this.needsUpdate = !1;
        }
        return this._hoverableMeshChildren;
    }
    async _objLoadedMerged(e) {
        if (e.elements) {
            this.elements = e.elements;
            let t = Object.values(this.elements), i = new (0, _chunk4XLXKB34Js.S)(1 / 0, 1 / 0, 0), n = new (0, _chunk4XLXKB34Js.S)(-1 / 0, -1 / 0, 0);
            this.boundingBox = {
                min: i,
                max: n
            }, e = e.container, this.object = e, this.object.userData.type = "mappedin_map", this.object.userData.mapId = this.mapClass.id, await Promise.all(t.map((e)=>(e.polygon.layer && !this.loadedLayerNames.includes(e.polygon.layer) && this.loadedLayerNames.push(e.polygon.layer), e.load()))).then((e)=>{
                var t, r, o, s, a, l, h, c, u, d, p, f, m, g, v, y, b;
                e.forEach((e)=>{
                    let t = e.getBoundingBox();
                    if (i.min(t.min), n.max(t.max), e.imageVisible) {
                        let t = e.imageMesh;
                        this.imageMeshesById[t.name] = t, this.polygonMeshesById[t.name] = t, e.on("texture-loaded", (e)=>{
                            this.core.publish(1, e);
                        });
                    }
                    e.mesh && (this.objectsDictionary[e.polygon.id] = e.mesh, this.polygonMeshesById[e.polygon.id] = e.mesh);
                }), this.loadedElements = e;
                let w, A = [], x = !0;
                if (Array.isArray(null == (t = this.core.options) ? void 0 : t.layerGroups)) {
                    x = !1;
                    let e = null == (r = this.core.options) ? void 0 : r.layerGroups.flatMap((e)=>e.layers);
                    w = this.processLayerGroup("default", void 0, e, !0);
                    for (let e of null == (o = this.core.options) ? void 0 : o.layerGroups){
                        for (let t of e.layers)A.push(t);
                        let t = Bt(), i = this.processLayerGroup(t, e.layers, void 0, null == (s = e.isVisible) || s, this.loadedElements);
                        if (null != (null == e ? void 0 : e.opacityInterpolation) && i.isVisible) {
                            let t = e.opacityInterpolation;
                            Array.isArray(e.opacityInterpolation) && (t = pU(e.opacityInterpolation)), t instanceof Object && "inputZoomLevel" in t && "outputOpacity" in t && (null == (null == t ? void 0 : t.inputZoomLevel) || null == (null == t ? void 0 : t.outputOpacity) ? R.error("Invalid opacity interpolation") : i.interpolationFn = (e)=>{
                                if (t instanceof Object && "inputZoomLevel" in t && "outputOpacity" in t) return m7(e, t.inputZoomLevel, t.outputOpacity);
                            });
                        }
                        i.isVisible && (this.layerGroups.set(t, i), this.object.add(i.mergedObjectsGroup), this.object.add(i.hoverObjectsGroup));
                    }
                }
                if (null != (null == (l = null == (a = this.core.options) ? void 0 : a.dynamicFocus) ? void 0 : l.baseMap)) {
                    if (x = !1, (null == (c = null == (h = this.core.options) ? void 0 : h.dynamicFocus) ? void 0 : c.baseMap) === this.mapClass) {
                        let e = [];
                        for (let t of this.loadedElements){
                            if (t.polygon.layer && A.includes(t.polygon.layer)) continue;
                            let i = this.core.venue.getCollectionItemById("polygons", t.polygon.id), n = null == (u = null == i ? void 0 : i.locations) ? void 0 : u.find((e)=>null != e.toMap), r = n ? this.core.venue.mapGroups.find((e)=>e.maps.map((e)=>e.id).includes(n.toMap)) : null;
                            if (r) {
                                let e = "building-outline-".concat(r.id), i = this.processLayerGroup(e, this.loadedLayerNames, [], !0, [
                                    t
                                ], Ou.BUILDING_OUTLINE);
                                i.userData = {
                                    location: (null != (p = null == (d = this.core.options.dynamicFocus) ? void 0 : d.keepLayersActiveOnBaseMap) ? p : []).length ? n : void 0,
                                    toMapId: null == n ? void 0 : n.toMap,
                                    mapGroupId: r.id
                                }, this.layerGroups.set(e, i), this.object.add(i.mergedObjectsGroup), this.object.add(i.hoverObjectsGroup);
                            } else e.push(t);
                        }
                        e.length > 0 ? w = this.processLayerGroup("default", this.loadedLayerNames, [], !0, e) : (w = new Ip(this, "default", this.loadedLayerNames, !0), w.isVisible = !0);
                    } else w = this.processLayerGroup("default", this.loadedLayerNames, [], !1, this.loadedElements);
                }
                if (null != (m = null == (f = this.core.options) ? void 0 : f.loadOptions) && m.outdoorGeometryLayers && Array.isArray(null == (v = null == (g = this.core.options) ? void 0 : g.loadOptions) ? void 0 : v.outdoorGeometryLayers) && (null == (b = null == (y = this.core.options) ? void 0 : y.loadOptions) ? void 0 : b.outdoorGeometryLayers.length) > 0) {
                    x = !1, w = this.processLayerGroup("default", this.loadedLayerNames, this.core.options.loadOptions.outdoorGeometryLayers, !0, this.loadedElements);
                    let e = this.processLayerGroup("outdoor-geometry", this.core.options.loadOptions.outdoorGeometryLayers, [], !0, this.loadedElements);
                    this.layerGroups.set("outdoor-geometry", e), this.object.add(e.mergedObjectsGroup), this.object.add(e.hoverObjectsGroup);
                }
                x && (w = this.processLayerGroup("default", this.loadedLayerNames, [], !0, this.loadedElements)), this.layerGroups.set("default", w), this.object.add(w.mergedObjectsGroup), this.object.add(w.hoverObjectsGroup), this.needsUpdate = !0, this._promiseResolve(this);
            }).catch((e)=>{
                throw R.error(e), new Error("Error loading map using SINGLE_GEOMETRY strategy");
            }), this._objLoadedComplete = !0, this._onRootObjectCreated(), this._checkIfLoaded();
        }
        return this._promiseResolve(this);
    }
    _objLoaded(e) {
        if (e.elements) {
            this.elements = e.elements;
            let t = Object.values(this.elements);
            this.loadAsync && t.sort((e, t)=>(null === e.sortScore && (e.sortScore = E7(e.polygon)), null === t.sortScore && (t.sortScore = E7(t.polygon)), t.sortScore - e.sortScore));
            let i = new (0, _chunk4XLXKB34Js.S)(1 / 0, 1 / 0, 0), n = new (0, _chunk4XLXKB34Js.S)(-1 / 0, -1 / 0, 0);
            for (let e of t){
                let t = e.getBoundingBox();
                i.min(t.min), n.max(t.max), this.loadAsync ? this._addPendingHighPriorityTask("addPolygon", ()=>this._addElementToScene(e)) : this._addElementToScene(e);
            }
            this.boundingBox = {
                min: i,
                max: n
            }, e = e.container;
        }
        let t = e.children;
        for(let e = 0, i = t.length; e < i; ++e){
            let i = t[e];
            this.objectsDictionary[i.name] = i, this.polygonMeshesById[i.name] = i;
        }
        return this.object = e, this.object.userData.type = "mappedin_map", this.object.userData.mapId = this.mapClass.id, this._objLoadedComplete = !0, this._onRootObjectCreated(), this._checkIfLoaded(), this._promiseResolve(this);
    }
    loadPolygonNow(e) {
        if (!this.elements) return;
        let t = this.elements[e];
        t && this._addElementToScene(t);
    }
    _addElementToScene(e) {
        if (!this.objectsDictionary[e.polygon.id]) {
            if (e.imageVisible && e.on("texture-loaded", (e)=>{
                this.core.publish(1, e);
            }), e.mesh) {
                let t = e.mesh;
                this.objectsDictionary[t.name] = t, this.polygonMeshesById[t.name] = t;
            }
            if (e.imageMesh) {
                let t = e.imageMesh;
                this.imageMeshesById[t.name] = t, this.objectsDictionary[t.name] = t, this.polygonMeshesById[t.name] = t;
            }
        }
    }
    load() {
        if (!this._started) {
            this._started = !0;
            try {
                let e = this.useLivePolygons && this.core.venue.polygons.filter((e)=>{
                    var t;
                    return (null == (t = e.map) ? void 0 : t.id) === this.mapClass.id;
                }), t = !e && this.mapClass.scene.polygons;
                if ("json" !== this.loadMethod && void 0 !== this.loadMethod || !e && !t) throw new Error("Error parsing JSON scene");
                {
                    let i = e || t;
                    this.loadMethodUsed = "JSON - " + (e ? "live" : "published"), _u.load(i, this.mapClass, this.mapRenderingStrategy, this.useLivePolygons).then("MULTI_GEOMETRY" === this.mapRenderingStrategy ? this._objLoaded : this._objLoadedMerged);
                }
            } catch  {
                M7("ERROR: No 3D files for map " + (this.mapClass.name || this.mapClass.shortName || this.mapClass.id || this.mapClass));
            }
        }
        return this._loaderPromise;
    }
    _dispose(e) {
        let t = e;
        for(let e = t.children.length - 1; e >= 0; e--)this._dispose(t.children[e]);
        t.destroy(), delete this.objectsDictionary[t.name], delete this.polygonMeshesById[t.name];
    }
    destroy() {
        for (let e of this.hoverableMeshChildren)e.destroy();
        this.removeLabels(), this._removeThreeJSMarkers(), this.disableAllImageFlipping(), this.elements = [], this._dispose(this.object), this.objectsDictionary = {}, this.polygonMeshesById = {};
    }
    add(e) {
        var t;
        x7.add(e), null == (t = this.load()) || t.then(()=>{
            1 === x7.children.filter((t)=>t.uuid === e.uuid).length && this.object.add(e);
        });
    }
    getPositionLatLon(e, t) {
        let i = this.mapClass.createCoordinate(e, t);
        return this.core.convertTo3DMapPosition(i);
    }
    addToObject(e) {
        e.applyMatrix4((new (0, _chunk4XLXKB34Js.V)).copy(this.object.matrix).invert());
        let t = 1 / this.object.scale.x;
        e.scale.set(t, t, t), this.object.add(e);
    }
    translateChild(e, t) {
        e.position.set(t.x, t.y, t.z), e.applyMatrix4((new (0, _chunk4XLXKB34Js.V)).copy(this.object.matrix).invert());
        let i = 1 / this.object.scale.x;
        e.scale.set(i, i, i);
    }
    getMapScale() {
        return null == this.mapScale && (this.mapScale = o1(this.mapClass)), this.mapScale;
    }
    getNorth() {
        return null == this.north && (this.north = d7(this.mapClass)), this.north;
    }
    enableImageFlipping(e, t) {
        if (t = t || 0, !this._flippableImagedById[e] && this.object && Object.keys(this.object).length > 0) {
            let i = this.object.getObjectByName(e + "_image");
            if (i) {
                let n = new V4({
                    image: i,
                    rotation: t
                });
                this.imagesToFlip.push(n), this.core.publish(4), this.core.publish(2), this._flippableImagedById[e] = !0;
            }
        }
    }
    disableAllImageFlipping() {
        for(let e = 0, t = this.imagesToFlip.length; e < t; e++)this.imagesToFlip[e].reset();
        this.imagesToFlip = [], this._flippableImagedById = {};
    }
    isReady() {
        return (this.loadAsync ? this._highPriorityTasks.isComplete() : this.isFullyLoaded()) && this._objLoadedComplete;
    }
    isFullyLoaded() {
        return this._highPriorityTasks.isComplete() && this._lowPriorityTasks.isComplete();
    }
    onVisible() {
        !0 !== this._visibilityLatch && (this.loadAsync ? (this._taskScheduler.setTaskPriority(this._highPriorityTasks, dr.VISIBLE_MAP_HIGH), this._taskScheduler.setTaskPriority(this._lowPriorityTasks, dr.VISIBLE_MAP_LOW), this._taskScheduler.resumeTask(this._markerTasks)) : (this._taskScheduler.resumeTask(this._highPriorityTasks), this._taskScheduler.resumeTask(this._lowPriorityTasks), this._taskScheduler.resumeTask(this._markerTasks)), this._visibilityLatch = !0);
        for(let e in this.imageMeshesById)this.imageMeshesById[e].visible = !0;
        for (let e of this.object.children)"path" === e.name && (e.visible = !0);
        this.visible = !0, this.core.publish(8);
    }
    onInvisible(e = !1) {
        if (!1 !== this._visibilityLatch && (this.loadAsync ? (this._taskScheduler.setTaskPriority(this._highPriorityTasks, dr.ASYNC_MAP_HIGH), this._taskScheduler.setTaskPriority(this._lowPriorityTasks, dr.ASYNC_MAP_LOW), this._taskScheduler.postponeTask(this._markerTasks)) : (this._taskScheduler.postponeTask(this._highPriorityTasks), this._taskScheduler.postponeTask(this._lowPriorityTasks), this._taskScheduler.postponeTask(this._markerTasks)), this._visibilityLatch = !1), !e) for(let e in this.imageMeshesById)this.imageMeshesById[e].visible = !1;
        for (let e of this.object.children)"path" === e.name && (e.visible = !1);
        this.visible = !1, this.core.publish(8);
    }
    addPendingMarkerTask(e, t) {
        this._taskScheduler.scheduleTask(new Tt({
            name: "addMarker",
            group: this._markerTasks,
            callback: t,
            userdata: {
                marker: e
            }
        }));
    }
    addPendingLowPriorityTask(e, t) {
        this._taskScheduler.scheduleTask(new Tt({
            name: e,
            group: this._lowPriorityTasks,
            callback: t
        }));
    }
    addPendingMapLoadedTask(e, t) {
        this._taskScheduler.scheduleTask(new Tt({
            name: e,
            group: this._mapLoadedTasks,
            callback: t
        })), this._checkIfLoaded();
    }
    _addPendingHighPriorityTask(e, t) {
        this._taskScheduler.scheduleTask(new Tt({
            name: e,
            group: this._highPriorityTasks,
            callback: t
        }));
    }
    addThreeJSMarker(e) {
        if (!(e.object instanceof (0, _chunk4XLXKB34Js.X))) throw new Error("threeJSMarker `object` must be an instance of `Object3D`");
        let t = new c1({
            mapId: this.id,
            object: e.object
        }), i = {
            object: e.object
        };
        return e.object.layers.set(Zt.ANIMATED), null != e.position && e.object.position.copy(e.position), null != e.rotation && e.object.rotation.copy(e.rotation), null != e.scale && e.object.scale.copy(e.scale), this.threeJSMarkers.set(t, i), this._objLoadedComplete ? this.addToObject(i.object) : this.load().then(()=>{
            t._deleted || this.addToObject(i.object);
        }), t;
    }
    removeThreeJSMarker(e) {
        let t = this.threeJSMarkers.get(e);
        return null != t && (e._deleted = !0, this.threeJSMarkers.delete(e), this._objLoadedComplete && this.object.remove(t.object), e._destroy(), !0);
    }
    _removeThreeJSMarkers() {
        if (this._objLoadedComplete) for (let [e, t] of this.threeJSMarkers.entries())this.object.remove(t.object), e._destroy();
        this.threeJSMarkers.clear();
    }
    removeLabels() {
        if (this.labels.forEach((e)=>{
            e.disable(), e.removeSelf();
        }), this.labels = new Set, Array.isArray(this.textObjects)) {
            for(let e = 0, t = this.textObjects.length; e < t; ++e){
                let t = this.textObjects[e];
                t.removeSelf(!0), t = void 0;
            }
            this.textObjects = [];
        }
    }
    _checkIfLoaded() {
        this.isReady() && this._taskScheduler.scheduleTask(new Tt({
            name: "onMapLoaded",
            callback: ()=>{
                this._taskScheduler.resumeTask(this._mapLoadedTasks), this.mapLoaded && typeof this.mapLoaded == typeof Function && (this.mapLoaded(), this.mapLoaded = null);
            }
        }));
    }
    _onRootObjectCreated() {
        for (let e of this.threeJSMarkers.values()){
            let t = e;
            this.object.add(t.object);
        }
    }
    _popinChildObjects() {
        this.loadAsync || "SINGLE_GEOMETRY" === this.mapRenderingStrategy || this.object.traverse((e)=>{
            0 === e.children.length && "Mesh" === e.type && e.material.map && (e.visible = !1, this._addPendingHighPriorityTask("addPolygon", ()=>{
                e.visible = !0, this._showCount >= fU && (this._showCount = 0, this.core.publish(3)), this._showCount++;
            }));
        });
    }
};
(0, _chunkZRT45YCMJs.a)(U4, "MapObject");
var k4 = U4, z4 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "_deleted", !1), (0, _chunkZRT45YCMJs.f)(this, "_mapId"), (0, _chunkZRT45YCMJs.f)(this, "_object"), this._mapId = e.mapId, this._object = e.object;
    }
    get object() {
        return this._object;
    }
    _destroy() {
        this._mapId = null, this._object = null;
    }
};
(0, _chunkZRT45YCMJs.a)(z4, "ThreeJSMarkerHandle");
var c1 = z4, h1 = k4;
(0, _chunkA5C75TI6Js.a)();
var mU = {
    STATIC: 0,
    ANIMATED: 1,
    ALWAYS_ON_TOP: 2
}, Zt = mU;
(0, _chunkA5C75TI6Js.a)();
var gU = !1, G4 = class extends Sa {
    constructor(e){
        super(), (0, _chunkZRT45YCMJs.f)(this, "venueData"), this.venueData = e;
    }
    async loadMapPolygons(e) {
        return gU && R.log("loading map: ", e.id), Promise.resolve(this.venueData.scenes[e.id]);
    }
    async loadImage(e) {
        return new Promise((t, i)=>{
            let n = e.split("/"), r = n[n.length - 1], o = "data:image/png;base64," + this.venueData.images[r];
            this.textureLoader.load(o, (e)=>{
                e.colorSpace = (0, _chunk4XLXKB34Js.E), t(e);
            }, ()=>{}, i);
        });
    }
};
(0, _chunkZRT45YCMJs.a)(G4, "BundleAssetManager");
var d1 = G4;
(0, _chunkA5C75TI6Js.a)();
var A7 = "precision mediump float;\n\nuniform sampler2D textureLabel;\n\nvarying vec2 vUV;\nvarying vec3 vColor;\n\nvoid main() {\n	gl_FragColor = texture2D(textureLabel, vUV);\n	gl_FragColor.rgb = vColor;\n}", C7 = "attribute vec2 position;\nattribute vec3 origin;\nattribute vec2 size;\nattribute float rotation;\nattribute vec4 uv;\nattribute vec3 color;\n\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelMatrix;\n\nvarying vec2 vUV;\nvarying vec3 vColor;\n\nvoid main() {\n	vec4 mapDirectionVector = vec4(0, 1, 0, 0) * viewMatrix * modelMatrix;\n	float mapDirection = atan(mapDirectionVector.y, mapDirectionVector.x);\n\n	float cosRotation = cos(rotation);\n	float sinRotation = sin(rotation);\n\n	mat4 rotationMatrix = mat4(\n		vec4(cosRotation, -sinRotation, 0.0, 0.0),\n		vec4(sinRotation, cosRotation, 0.0, 0.0),\n		vec4(0.0, 0.0, 1.0, 0.0),\n		vec4(0.0, 0.0, 0.0, 1.0)\n	);\n\n	mat4 translate = mat4(\n		vec4(1, 0, 0, 0),\n		vec4(0, 1, 0, 0),\n		vec4(0, 0, 1, 0),\n		vec4(origin, 1)\n	);\n\n	gl_Position = projectionMatrix *\n	              viewMatrix *\n	              modelMatrix *\n	              translate *\n	              rotationMatrix *\n	              (vec4(position * size - vec2(0, size.y / 2.0), 0, 1));\n\n\n	vec2 uvStart = uv.xy;\n	vec2 uvSize = uv.zw;\n\n	if (sin(mapDirection + rotation) > 0.0) {\n		vUV = position * uvSize + vec2(uvStart.x, uvStart.y - uvSize.y);\n	} else {\n		vUV = (vec2(1, 1) - position) * uvSize + vec2(uvStart.x, uvStart.y - uvSize.y);		\n	}\n\n	vColor = color;\n} ", j4 = {
    MARGIN: 2,
    HEIGHT_MARGIN: .5,
    SIZE: 1.2
}, f1 = 56, bU = f1 / j4.SIZE, I7 = f1 / 2, xU = 1 / I7, TU = 64, P7 = 16, Du = 4, W4 = class {
    constructor(){
        this.x = 0, this.y = 0, this.width = 0, this.height = 0, this.layer = null, this.index = null;
    }
    layout(e, t, i, n, r, o) {
        let s, a = this.canvasBounds.rotation * Math.PI / 180, l = this.width * this.pixelsPerMu, h = this.height * this.pixelsPerMu;
        "left" == this.canvasBounds.align ? s = this.margin : "right" == this.canvasBounds.align ? s = this.canvasBounds.maxWidth - l - this.margin : "center" == this.canvasBounds.align && (s = (this.canvasBounds.maxWidth - l - this.margin) / 2);
        let c = s * Math.cos(a), u = -s * Math.sin(a), d = this.index;
        t.setXYZ(d, this.canvasBounds.x - e.width / 2 + c, -this.canvasBounds.y + e.height / 2 + u, this.z + .1), i.setXY(d, l, h), n.setX(d, a);
        let p = this.layer.canvas;
        r.setXYZW(d, this.x / p.width, 1 - this.y / p.height, this.width / p.width, this.height / p.height), o.setXYZ(d, this.color.r, this.color.g, this.color.b), t.needsUpdate = !0, i.needsUpdate = !0, n.needsUpdate = !0, r.needsUpdate = !0, o.needsUpdate = !0;
    }
};
(0, _chunkZRT45YCMJs.a)(W4, "Label");
var H4 = W4, Ho = class e {
    constructor(e, t, i, n){
        this.x = e, this.y = t, this.width = i, this.height = n;
    }
    leftOverSpace(e) {
        return this.width < e.width || this.height < e.height ? null : this.height * (this.width - e.width) + this.width * (this.height - e.height);
    }
    split(t, i, n) {
        t.x = this.x, t.y = this.y, this.width - t.height < P7 && this.height - t.height < P7 ? i.splice(n, 1) : this.width === t.width ? i.splice(n, 1, new e(this.x, this.y + t.height, this.width, this.height - t.height)) : this.height === t.height ? i.splice(n, 1, new e(this.x + t.width, this.y, this.width - t.width, this.height)) : i.splice(n, 1, new e(this.x + t.width, this.y, this.width - t.width, t.height), new e(this.x, this.y + t.height, this.width, this.height - t.height));
    }
};
(0, _chunkZRT45YCMJs.a)(Ho, "Slot");
var p1 = Ho, X4 = class {
    constructor(e, t, i, n){
        let r = 5;
        for(; Math.pow(2, r) < n;)r += 1;
        for(n = Math.pow(2, r), r = 10; Math.pow(2, r) < i;)r += 1;
        i = Math.pow(2, r), this.atlas = e, this.map = t, this.canvasWidth = i, this.canvasHeight = n, this.canvas = document.createElement("canvas"), this.canvas.width = this.canvasWidth, this.canvas.height = this.canvasHeight, this.context = this.canvas.getContext("2d"), this.context.textBaseline = "bottom", this.spaces = [
            new p1(0, 0, this.canvas.width, this.canvas.height)
        ], this.free = [], this.labels = [], this.count = TU;
        let o = new Float32Array(3 * this.count), s = new Float32Array(2 * this.count), a = new Float32Array(this.count), l = new Float32Array(4 * this.count), h = new Float32Array(3 * this.count);
        this.uv = new (0, _chunk4XLXKB34Js.qa)(l, 4, !1, 1), this.uv.set(l), this.uv.needsUpdate = !0, this.origin = new (0, _chunk4XLXKB34Js.qa)(o, 3, !1, 1), this.origin.set(o), this.origin.needsUpdate = !0, this.size = new (0, _chunk4XLXKB34Js.qa)(s, 2, !1, 1), this.size.set(s), this.size.needsUpdate = !0, this.rotation = new (0, _chunk4XLXKB34Js.qa)(a, 1, !1, 1), this.rotation.set(a), this.rotation.needsUpdate = !0, this.color = new (0, _chunk4XLXKB34Js.qa)(h, 3, !0, 1), this.color.set(h), this.color.needsUpdate = !0;
        for(let e = 0; e < this.count; e++)this.zero(e);
        let c = new Float32Array([
            0,
            0,
            0,
            0,
            1,
            0,
            1,
            1,
            0,
            1,
            0,
            0
        ]);
        this.geometry = new (0, _chunk4XLXKB34Js.Ka), this.geometry.setIndex([
            0,
            3,
            1,
            3,
            2,
            1
        ]), this.geometry.setAttribute("position", new (0, _chunk4XLXKB34Js.$)(c, 3)), this.geometry.setAttribute("size", this.size), this.geometry.setAttribute("origin", this.origin), this.geometry.setAttribute("rotation", this.rotation), this.geometry.setAttribute("uv", this.uv), this.geometry.setAttribute("color", this.color), this.texture = new (0, _chunk4XLXKB34Js.ua)(this.canvas), this.texture.anisotropy = 16, this.material = new (0, _chunk4XLXKB34Js.Ca), this.material.vertexShader = C7, this.material.fragmentShader = A7, this.material.uniforms = {
            textureLabel: {
                value: this.texture
            }
        }, this.material.transparent = !0, this.mesh = new (0, _chunk4XLXKB34Js.ba)(this.geometry, this.material), this.obj = new (0, _chunk4XLXKB34Js.X), this.obj.add(this.mesh), this.obj.frustumCulled = !1, this.mesh.frustumCulled = !1, this.map.add(this.obj);
    }
    space() {
        return this.spaces.map((e)=>e.width * e.height).reduce((e, t)=>e + t);
    }
    zero(e) {
        this.origin.array[3 * e + 0] = 0, this.origin.array[3 * e + 1] = 0, this.origin.array[3 * e + 2] = 0, this.size.array[2 * e + 0] = 0, this.size.array[2 * e + 1] = 0, this.rotation.array[e] = 0, this.uv.array[4 * e + 0] = 0, this.uv.array[4 * e + 1] = 0, this.uv.array[4 * e + 2] = 0, this.uv.array[4 * e + 3] = 0, this.color.array[3 * e + 0] = 0, this.color.array[3 * e + 1] = 0, this.color.array[3 * e + 2] = 0, this.origin.needsUpdate = !0, this.size.needsUpdate = !0, this.rotation.needsUpdate = !0, this.uv.needsUpdate = !0, this.color.needsUpdate = !0;
    }
    findSpace(e) {
        if (0 != this.free.length && this.labels.length == this.count) return !1;
        let t = -1;
        for(let i = 0; i < this.spaces.length; i++){
            let n = this.spaces[i].leftOverSpace(e);
            null !== n && (-1 === t || this.spaces[i].leftOverSpace(e) < n) && (t = i);
        }
        return -1 !== t && (this.spaces[t].split(e, this.spaces, t), e.layer = this, 0 === this.free.length ? (e.index = this.labels.length, this.labels.push(e)) : (e.index = this.free.pop(), this.labels[e.index] = e)), -1 != t;
    }
    remove(e) {
        if (void 0 === e.index) return;
        this.zero(e.index), this.context.clearRect(e.x, e.y, e.width, e.height), this.spaces.push(new p1(e.x, e.y, e.width, e.height)), this.free.push(e.index), this.labels[e.index] = null;
        let t = !0;
        for (let e of this.labels)if (t = t && null != e, !t) break;
        t && this.atlas.removeLayer(this);
    }
    render(e) {
        this.context.save(), this.context.rect(e.x + 1, e.y + 1, e.width - 2, e.height - 2), this.context.clip(), this.context.font = "".concat(e.size, "px ").concat(e.font), this.context.strokeStyle = e.color, this.context.lineWidth = 2.5 * e.size / f1;
        for (let t of e.lines)this.context.strokeText(t.text, t.x + e.x + Du, t.y + e.y + t.height + Du), this.context.fillText(t.text, t.x + e.x + Du, t.y + e.y + t.height + Du);
        this.texture.needsUpdate = !0, this.context.restore();
    }
    onWebGLContextRestored() {
        this.canvas = document.createElement("canvas"), this.canvas.width = this.canvasWidth, this.canvas.height = this.canvasHeight, this.context = this.canvas.getContext("2d"), this.context.textBaseline = "bottom", this.texture = new (0, _chunk4XLXKB34Js.ua)(this.canvas), this.texture.anisotropy = 16, this.material.uniforms.textureLabel.value = this.texture;
        for (let e of this.labels)null != e && this.render(e);
    }
    dispose() {
        this.geometry.dispose(), this.material.dispose(), this.texture.dispose();
    }
};
(0, _chunkZRT45YCMJs.a)(X4, "AtlasLayer");
var Y4 = X4, Z4 = class {
    constructor(){
        this.layers = [], this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d");
    }
    addLabel(e, t, i, n, r, o) {
        let s = 0, a = 0;
        for (let e of t)a = Math.max(Math.ceil(e.width + e.x), a), s = Math.max(Math.ceil(e.height + e.y), s);
        let l, h = new H4;
        h.map = e, h.width = a + 2 * Du, h.height = s + 2 * Du, h.lines = t, h.font = i, h.size = n, h.canvasBounds = r.canvasBounds, h.margin = r.margin, h.heightMargin = r.heightMargin, h.pixelsPerMu = o, h.z = r.height, h.view = r, h.color = r.color;
        for (let t of this.layers)if (l = t, l.map === e) {
            if (l.findSpace(h)) break;
            l = null;
        } else l = null;
        if (null == l) {
            if (l = new Y4(this, e, h.width, h.height), this.layers.push(l), !l.findSpace(h)) return;
            this.layers.sort((e, t)=>t.space() - e.space());
        }
        return l.render(h), h.layout(e.mapClass, l.origin, l.size, l.rotation, l.uv, l.color), h.layer = l, h;
    }
    removeLayer(e) {
        let t = this.layers.indexOf(e);
        -1 != t && this.layers.splice(t, 1);
    }
    measure(e, t, i) {
        return this.context.font = "".concat(i, "px ").concat(t), this.context.measureText(e);
    }
    onWebGLContextRestored() {
        for (let e of this.layers)e.onWebGLContextRestored();
    }
    dispose() {
        for (let e of this.layers)e.dispose();
    }
};
(0, _chunkZRT45YCMJs.a)(Z4, "Atlas");
var Yo = Z4, Q4 = class {
    constructor(e, t, i, n, r, o, s, a, h){
        (0, _chunkZRT45YCMJs.f)(this, "setHoverColor", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.hoverColor = new (0, _chunk4XLXKB34Js.Y)(e);
        }, "setHoverColor"));
        let c = Mn(e.polygon, t.polygons);
        this.id = c.id, this.text = (e.shortText || e.text).trim(), this.stateText = e.stateText ? " (" + e.stateText + ")" : "", this.fullText = this.stateText ? this.text + this.stateText : this.text, this.font = e.font || n, this.atlas = h, this.canvasBounds = e.canvasBounds || c.canvasBounds, this.mapScale = i.getMapScale() || 1, this.margin = (e.margin || j4.MARGIN) * this.mapScale, this.heightMargin = (e.heightMargin || j4.HEIGHT_MARGIN) * this.mapScale, this.scaleMin = e.scaleMin || .25, this.scaleStep = e.scaleStep > 0 ? e.scaleStep : .25, this.multiline = null == e.multiline || e.multiline, this.height = Number(e.height) || null, this.polygonMeshesById = r, this.polyId = e.polygonId || ut(e.polygon, t.polygons), this.map = i, this.color = new (0, _chunk4XLXKB34Js.Y)(e.color || a.colors.text || "#000000"), this.hoverColor = new (0, _chunk4XLXKB34Js.Y)(e.hoverColor || this.color), this.baseColor = this.color, this.hideOnCreate = !1, this.hoverLabelText = e.text.trim(), this.fontSize = e.fontSize * this.mapScale || e.size * bU || f1, this.hoverLabelMode = e.hoverLabelMode3D || Gr.MODES.ALL, this.hoverLabelClass = e.hoverLabelClass || "mMapviewHoverLabel", this.showHoverLabel = this.hoverLabelMode == Gr.MODES.ALL || this.hoverLabelMode == Gr.MODES.NO_TEXT_LABEL_ONLY, this.hoverIfLabelFails = this.hoverLabelMode == Gr.MODES.ALL || this.hoverLabelMode == Gr.MODES.NO_TEXT_LABEL_ONLY, this.textLabelsByPolygonId = o, this.map.textObjects.push(this);
    }
    create() {
        let e = this;
        if (this.doNotCreate) return;
        if (null == e.canvasBounds) return e.invalid = !0, e.message = "No Canvas Bounds. Can't draw text '" + e.text + "'", void (e.showHoverLabel = e.hoverIfLabelFails);
        e.showHoverLabel = this.hoverLabelMode == Gr.MODES.ALL;
        let t = xU * this.mapScale, i = I7 / this.mapScale, n = [
            this.text
        ];
        this.stateText.length && n.unshift(this.fullText);
        for (let t of n){
            let n = t.split(" ").map(function(t) {
                return {
                    width: e.atlas.measure(t, e.font, e.fontSize).width,
                    word: t
                };
            }), a = (this.canvasBounds.maxWidth - 2 * this.margin) * i, l = (this.canvasBounds.maxHeight - 2 * this.heightMargin) * i, h = (1 - this.scaleMin) / this.scaleStep, c = 0, u = this.atlas.measure(" ", this.font, this.fontSize).width, d = EU("".concat(this.fontSize, "px ").concat(this.font));
            for(let e = 0, t = n.length; e < t; e++){
                let t = n[e].width, i = Math.ceil((t - a) / (t * this.scaleStep));
                c = Math.max(i, c);
            }
            if (null == this.height) {
                if (this.polygonMeshesById[this.polyId]) {
                    let e = this.polygonMeshesById[this.polyId];
                    e.geometry.boundingBox || e.geometry.computeBoundingBox(), this.height = e.geometry.boundingBox.max.z + e.position.z;
                } else this.height = 0;
            }
            var r, o, s;
            let p = this.scaleStep;
            e: for(o = c; o <= h; o++){
                s = 1 - o * p;
                let e = n[0].width * s;
                r = [
                    {
                        text: n[0].word,
                        width: e,
                        height: d * s,
                        x: 0,
                        y: 0
                    }
                ];
                for(let t = 1; t < n.length; t++){
                    let i = n[t], o = (i.width + u) * s;
                    if (e + o < a) r[r.length - 1].text += " " + i.word, r[r.length - 1].width += o, e += o;
                    else {
                        if (!this.multiline) continue e;
                        r[r.length - 1].width = e, e = i.width * s, r.push({
                            text: i.word,
                            width: e,
                            height: d * s,
                            x: 0,
                            y: r[r.length - 1].height + r[r.length - 1].y
                        });
                    }
                }
                if (r.length * d * s <= l) {
                    this.invalid = !1;
                    break;
                }
            }
            if (0 == this.invalid) break;
        }
        if (0 == this.invalid) {
            let e = r.map((e)=>Math.ceil(e.width)).reduce((e, t)=>Math.max(e, t));
            for (let t of r)t.x = (e - t.width) / 2;
            this.label = this.atlas.addLabel(this.map, r, this.font, this.fontSize * s, this, t);
        }
        this.created = !0;
    }
    flipIfNeeded(e) {}
    removeSelf(e) {
        this.created ? (null != this.label && (this.label.layer.remove(this.label), this.label = null), e || (this.map.textObjects = this.map.textObjects.filter((e)=>e != this), Object.keys(this.textLabelsByPolygonId).forEach((e)=>{
            this.textLabelsByPolygonId[e] == this && delete this.textLabelsByPolygonId[e];
        }))) : this.doNotCreate = !0;
    }
    setColor(e) {
        var t;
        let i = new (0, _chunk4XLXKB34Js.Y)(e), n = this.color.equals(i), r = !(null == (t = this.label) || !t.layer);
        this.color = i, !n && r && (this.label.color = this.color, this.label.layout(this.map.mapClass, this.label.layer.origin, this.label.layer.size, this.label.layer.rotation, this.label.layer.uv, this.label.layer.color));
    }
    clearColor() {
        this.setColor(this.baseColor);
    }
    hide() {
        this.label ? this.label.layer.zero(this.label.index) : this.hideOnCreate = !0;
    }
    show() {
        if (this.label) {
            let e = this.label.layer, t = this.map;
            this.label.layout(t.mapClass, e.origin, e.size, e.rotation, e.uv, e.color);
        } else this.hideOnCreate = !1;
    }
    toString() {
        return this.hoverLabelText;
    }
};
(0, _chunkZRT45YCMJs.a)(Q4, "FlatLabel");
var _p = Q4, S7 = new Map, EU = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = S7[e];
    if (null != t) return t;
    let i = document.createElement("span");
    i.textContent = "Hg", i.style.font = e;
    let n = document.createElement("div");
    n.style.cssText = "display: inline-block; width: 1px; height: 0px;";
    let r = document.createElement("div");
    r.appendChild(i), r.appendChild(n), document.body.appendChild(r);
    try {
        var o = i.getBoundingClientRect();
    } finally{
        r.remove();
    }
    return null != o.height && (S7[e] = o.height, t = o.height), t;
}, "getTextHeight");
(0, _chunkA5C75TI6Js.a)();
var _7 = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t, i, n = this, r = document.createElement("div");
    r.style.display = "none!important", r.style.position = "absolute", r.style.top = "0px", r.style.left = "0px", r.style.pointerEvents = "none", this.hovering = !1, e.appendChild(r), this.show = function(e) {
        n.hovering || n.setPosition(t, i), n.hovering = !0, r.style.removeProperty("display"), r.textContent = e.toString(), r.className = e.hoverLabelClass;
    }, this.hide = function() {
        n.hovering && (n.hovering = !1, r.style.setProperty("display", "none", "important"), r.textContent = "");
    }, this.setZIndex = function(e) {
        r.style.zIndex = e;
    }, this.setPosition = function(o, s) {
        t = o, i = s, n.hovering && (s - r.clientHeight > 0 ? (s -= r.clientHeight, o + r.clientWidth > e.clientWidth && (o -= r.clientWidth)) : o = o - r.clientWidth - 10, r.style.transform = "translate(" + o + "px, " + s + "px)");
    }, this.destroy = function() {
        e.removeChild(r);
    };
}, "HoverLabel");
_7.MODES = {
    NONE: 1,
    NO_TEXT_LABEL_ONLY: 2,
    ALL: 3
};
var Gr = _7;
(0, _chunkA5C75TI6Js.a)();
var J4 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "__engine"), (0, _chunkZRT45YCMJs.f)(this, "_initialRank", 0), (0, _chunkZRT45YCMJs.f)(this, "screenPosition", [
            0,
            0
        ]), (0, _chunkZRT45YCMJs.f)(this, "enabled", !1), (0, _chunkZRT45YCMJs.f)(this, "options", {}), (0, _chunkZRT45YCMJs.f)(this, "mapId", ""), (0, _chunkZRT45YCMJs.f)(this, "id", "0"), (0, _chunkZRT45YCMJs.f)(this, "action", 0), (0, _chunkZRT45YCMJs.f)(this, "getBoundingBoxForCurrentStrategy"), (0, _chunkZRT45YCMJs.f)(this, "rank", 0), (0, _chunkZRT45YCMJs.f)(this, "visible", !1), (0, _chunkZRT45YCMJs.f)(this, "offscreen", !1), (0, _chunkZRT45YCMJs.f)(this, "position", null), (0, _chunkZRT45YCMJs.f)(this, "dimensions", {
            width: 0,
            height: 0
        }), (0, _chunkZRT45YCMJs.f)(this, "layer", ""), (0, _chunkZRT45YCMJs.f)(this, "_bboxes");
        let { rank: t, layer: i } = e;
        i && (this.layer = i), !i && null != e.polygon && (this.layer = e.polygon.layer), this._initialRank = t, this.rank = t;
    }
    flipIfNeeded() {}
    setPosition(e, t = !0) {
        var i;
        let n = {
            nodeOrCoordinate: e,
            height: null == (i = this.position) ? void 0 : i.height
        };
        this.mapId = e.map.id, this.position = n, null != this.__engine && t && this.__engine.debouncedUpdate();
    }
    setPriority(e) {
        this.rank = e, null != this.__engine && this.__engine.debouncedUpdate();
    }
    setAction(e) {
        this.action = e;
    }
    resetPriority() {
        this.rank !== this._initialRank && this.setPriority(this._initialRank);
    }
    promote() {}
    demote() {}
    get strategies() {
        return [];
    }
    removeSelf() {
        this.__engine = void 0;
    }
    enable() {
        this.enabled = !0;
    }
    disable() {
        this.enabled = !1;
    }
    colliderDidUpdatePosition(e) {
        this.screenPosition = e;
    }
    colliderDidNotFindAHome() {
        this.visible = !1;
    }
    colliderDidMount() {
        this.dimensions = {
            width: 0,
            height: 0
        };
    }
    colliderDidUpdateVisiblity() {}
};
(0, _chunkZRT45YCMJs.a)(J4, "BaseCollider");
var K4 = J4, Wo = K4;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var MU = (0, _chunkZRT45YCMJs.a)(function() {
    let e, t;
    return ()=>{
        if ((!t || !t) && (e = document.createElement("canvas"), e.width = 500 * devicePixelRatio, e.height = 500 * devicePixelRatio, e.style.width = "500px", e.style.height = "500px", t = e.getContext("2d")), !t) throw new Error("Could not get 2D context");
        return {
            measureCanvas: e,
            measureCanvasContext: t
        };
    };
}, "createMeasureCanvasContext")(), O7 = (0, _chunkZRT45YCMJs.a)((e, t, i, n = 2, r = 1.2, o = {
    strokeText: !0
})=>{
    let s = "bold ".concat(t * devicePixelRatio, "px 'InterUI-Regular', Helvetica Neue, Arial, sans-serif"), { measureCanvasContext: a } = MU();
    a.font = s;
    let l = [], h = e.split(" "), c = 0, u = 0, d = 0;
    for(; u < h.length;){
        let e = h[u];
        if (c === n && c > 0) {
            l[c - 1] += "...";
            break;
        }
        if (null == l[c] && (l[c] = e, u++), 1 === h.length) {
            l[c] = e;
            break;
        }
        if (null == h[u]) break;
        let { width: t } = a.measureText(l[c] + " " + h[u]);
        t <= i ? (l[c] += " " + h[u], u++) : c++;
    }
    l.forEach((e)=>{
        let { width: t } = a.measureText(e);
        d = Math.max(t, d);
    });
    let p = t * devicePixelRatio * r, f = l.length * p;
    return {
        maxWidth: d,
        maxHeight: f,
        lines: l.length,
        draw: (e, t, i)=>{
            1 === l.length ? (o.strokeText && e.strokeText(l[0], t, i), e.fillText(l[0], t, i)) : (o.strokeText && (e.strokeText(l[0], t, i - p / 2), e.strokeText(l[1], t, i + p / 2)), e.fillText(l[0], t, i - p / 2), e.fillText(l[1], t, i + p / 2));
        }
    };
}, "shaveText"), hT = (0, _chunkZRT45YCMJs.e)(R4()), dT = (0, _chunkZRT45YCMJs.e)(Rp());
(0, _chunkA5C75TI6Js.a)();
var kp, Bp, fT, Ru, Fp, Up, qa, ku, M1, h8, zp, mT, w1, Na, Ds, ct = (0, _chunkZRT45YCMJs.a)((e)=>e * devicePixelRatio, "dp"), pr = 2.5, cT = 4, mV = 6, gV = 10, vV = 4, l8 = .5, yV = 6.5, bV = 4.5, u8 = 2.5, xV = 2, TV = 5, c8 = {
    heightAbovePolygon: 0,
    scale: devicePixelRatio,
    appearance: s1.darkOnLight
}, EV = "Smart Labels do not support setting and clearing colors. Re-label the polygon with desired colors instead", Gt = class e extends Wo {
    constructor(t, i){
        var n, r;
        if (super(t), (0, _chunkZRT45YCMJs.h)(this, Bp), (0, _chunkZRT45YCMJs.h)(this, M1), (0, _chunkZRT45YCMJs.h)(this, zp), (0, _chunkZRT45YCMJs.f)(this, "lines", 0), (0, _chunkZRT45YCMJs.f)(this, "contextConfigured", !1), (0, _chunkZRT45YCMJs.f)(this, "fillText"), (0, _chunkZRT45YCMJs.f)(this, "newStyle", {
            pinVisibility: 1
        }), (0, _chunkZRT45YCMJs.f)(this, "style", {
            top: 0,
            left: 0,
            textLabelVisible: !0,
            pinVisibility: 1,
            textAlign: "left"
        }), (0, _chunkZRT45YCMJs.f)(this, "setColor", (0, _chunkZRT45YCMJs.a)(()=>{
            R.warn(EV);
        }, "setColor")), (0, _chunkZRT45YCMJs.f)(this, "clearColor", (0, _chunkZRT45YCMJs.a)(()=>{}, "clearColor")), (0, _chunkZRT45YCMJs.f)(this, "zoomProportion", 0), (0, _chunkZRT45YCMJs.f)(this, "_cache", {}), (0, _chunkZRT45YCMJs.f)(this, "appearance"), (0, _chunkZRT45YCMJs.f)(this, "mapView"), (0, _chunkZRT45YCMJs.f)(this, "position"), (0, _chunkZRT45YCMJs.f)(this, "options"), (0, _chunkZRT45YCMJs.h)(this, kp, !1), (0, _chunkZRT45YCMJs.h)(this, Ru, !0), (0, _chunkZRT45YCMJs.h)(this, Fp, void 0), (0, _chunkZRT45YCMJs.h)(this, Up, void 0), (0, _chunkZRT45YCMJs.h)(this, ku, void 0), (0, _chunkZRT45YCMJs.h)(this, w1, void 0), (0, _chunkZRT45YCMJs.h)(this, Na, void 0), (0, _chunkZRT45YCMJs.h)(this, Ds, !1), null == (0, _chunkZRT45YCMJs.g)(e, qa) && (0, _chunkZRT45YCMJs.i)(e, qa, {}), this.id = null != (n = t.id) ? n : Bt(), this.mapView = i, this.options = (0, dT.default)({}, {
            text: t.shortText || t.text || ""
        }, t, c8), null != t.rank && t.rank > 0) this.rank = t.rank, this._initialRank = t.rank;
        else {
            let t = "test" === (0, _chunkA5C75TI6Js.b).env.NODE_ENV ? e.testId : Math.random();
            e.testId++, this.rank = t, this._initialRank = t;
        }
        let { mapId: o, position: s } = this.options;
        this.position = s, t.stateText && (this.options.text += " (".concat(t.stateText, ")")), this.mapId = o;
        let a = (0, dT.default)({}, this.options.appearance, c8.appearance);
        this.appearance = {
            margin: a.margin,
            text: {
                lineHeight: a.text.lineHeight,
                numLines: a.text.numLines,
                size: a.text.size,
                maxWidth: a.text.maxWidth,
                foregroundColor: a.text.foregroundColor,
                backgroundColor: a.text.backgroundColor
            },
            marker: {
                size: a.marker.size,
                foregroundColor: {
                    active: a.marker.foregroundColor.active,
                    inactive: a.marker.foregroundColor.inactive || (0, hT.default)(a.marker.foregroundColor.active).setAlpha(.5).toRgbString()
                },
                backgroundColor: {
                    active: a.marker.backgroundColor.active,
                    inactive: a.marker.backgroundColor.inactive || (0, hT.default)(a.marker.backgroundColor.active).setAlpha(.5).toRgbString()
                },
                icon: a.marker.icon,
                iconSize: a.marker.iconSize || gV,
                iconFit: a.marker.iconFit,
                iconPadding: null != (r = a.marker.iconPadding) ? r : vV,
                iconVisibilityThreshold: null == a.marker.iconVisibilityThreshold ? l8 : a.marker.iconVisibilityThreshold
            }
        }, this.appearance.marker.icon && ((0, _chunkZRT45YCMJs.i)(this, kp, !0), (0, _chunkZRT45YCMJs.k)(this, M1, h8).call(this));
    }
    enable(e = !0) {
        super.enable(), e && null != this.__engine && this.__engine.debouncedUpdate();
    }
    get totalTextBoxHeight() {
        let { height: e } = this.dimensions;
        return e + 2 * pr;
    }
    get totalTextBoxWidth() {
        let { width: e } = this.dimensions;
        return e + 2 * pr;
    }
    get totalMarkerSize() {
        return (0, _chunkZRT45YCMJs.g)(this, Ru) && ((0, _chunkZRT45YCMJs.i)(this, Fp, (0, _chunkZRT45YCMJs.g)(this, Na) / devicePixelRatio + u8), (0, _chunkZRT45YCMJs.i)(this, Ru, !1)), (0, _chunkZRT45YCMJs.g)(this, Fp);
    }
    get strategies() {
        let { width: e, height: t } = this.dimensions, { margin: i } = this.appearance;
        (0, _chunkZRT45YCMJs.k)(this, Bp, fT).call(this);
        let n = Math.max(mV, i), r = (0, _chunkZRT45YCMJs.g)(this, Ds) ? n / 2 : 0, o = [
            {
                name: "RIGHT",
                getBoundingBox: ({ x: i, y: r })=>{
                    let o = Math.max(this.totalMarkerSize, t);
                    return [
                        r - o / 2 - n,
                        r + o / 2 + n,
                        i - this.totalMarkerSize / 2 - n,
                        i + this.totalMarkerSize + e + n
                    ];
                },
                onStrategySelected: (e)=>{
                    this.newStyle = Object.assign({}, e.style, {
                        textAlign: "right",
                        pinVisibility: 1,
                        top: -this.totalTextBoxHeight / 2,
                        left: this.totalMarkerSize / 2 + cT / 2,
                        textLabelVisible: !0,
                        cachedSymbol: this.getCachedSymbol("RIGHT", "left", 0)
                    });
                }
            },
            {
                name: "LEFT",
                getBoundingBox: ({ x: i, y: r })=>{
                    let o = Math.max(this.totalMarkerSize, t);
                    return [
                        r - o / 2 - n,
                        r + o / 2 + n,
                        i - this.totalMarkerSize - e - n,
                        i + this.totalMarkerSize / 2 + n
                    ];
                },
                onStrategySelected: (t)=>{
                    this.newStyle = Object.assign({}, t.style, {
                        textAlign: "right",
                        pinVisibility: 1,
                        top: -this.totalTextBoxHeight / 2,
                        left: -this.totalTextBoxWidth - this.totalMarkerSize / 2 - cT / 2,
                        textLabelVisible: !0,
                        cachedSymbol: this.getCachedSymbol("LEFT", "right", ct(e))
                    });
                }
            },
            {
                name: "TOP",
                getBoundingBox: ({ x: i, y: r })=>[
                        r - (t + this.totalMarkerSize) - n,
                        r + this.totalMarkerSize / 2 + n,
                        i - e / 2 - n,
                        i + e / 2 + n
                    ],
                onStrategySelected: (t)=>{
                    this.newStyle = Object.assign({}, t.style, {
                        pinVisibility: 1,
                        textAlign: "center",
                        textLabelVisible: !0,
                        top: -this.totalTextBoxHeight - this.totalMarkerSize / 2 - cT / 2,
                        left: -this.totalTextBoxWidth / 2,
                        cachedSymbol: this.getCachedSymbol("TOP", "center", ct(e / 2))
                    });
                }
            },
            {
                name: gT,
                getBoundingBox: ({ x: e, y: t })=>[
                        t - this.totalMarkerSize / 2 - r,
                        t + this.totalMarkerSize / 2 + r,
                        e - this.totalMarkerSize / 2 - r,
                        e + this.totalMarkerSize / 2 + r
                    ],
                onStrategySelected: (e)=>{
                    this.newStyle = Object.assign({}, e.style, {
                        pinVisibility: .5,
                        textLabelVisible: !1
                    });
                }
            }
        ];
        return "" === this.options.text ? [
            {
                name: "ICON_ONLY",
                getBoundingBox: ({ x: e, y: t })=>[
                        t - this.totalMarkerSize / 2 - n / 2,
                        t + this.totalMarkerSize / 2 + n / 2,
                        e - this.totalMarkerSize / 2 - n / 2,
                        e + this.totalMarkerSize / 2 + n / 2
                    ],
                onStrategySelected: (e)=>{
                    this.newStyle = Object.assign({}, e.style, {
                        pinVisibility: 1,
                        textLabelVisible: !1
                    });
                }
            }
        ] : o;
    }
    getCachedSymbol(e, t, i) {
        let { width: n, height: r } = this.dimensions;
        if (null == this._cache[e]) {
            let o, s = n + 2 * pr, a = r + 2 * pr;
            null == window.OffscreenCanvas || q4() ? (o = document.createElement("canvas"), o.width = ct(s + pr), o.height = ct(a + pr), o.style.width = s + "px", o.style.height = a + "px") : o = new OffscreenCanvas(ct(s + pr), ct(a + pr));
            let l = o.getContext("2d", {
                willReadFrequently: !0
            }), { size: h } = this.appearance.text;
            l.textAlign = t, l.font = "bold ".concat(h * devicePixelRatio, "px 'InterUI-Regular', Helvetica Neue, Arial, sans-serif"), l.textBaseline = "middle", l.lineJoin = "miter", l.miterLimit = 2, l.strokeStyle = "white", l.lineWidth = ct(pr), l.fillStyle = this.appearance.text.foregroundColor, l.strokeStyle = this.appearance.text.backgroundColor, this.fillText && "function" == typeof this.fillText && this.fillText(l, i + ct(pr), ct(a + pr / 2) / 2), this._cache[e] = o;
        }
        return this._cache[e];
    }
    invalidate() {
        this._cache = {}, this.colliderDidMount();
    }
    colliderDidMount() {
        let { size: e, maxWidth: t, numLines: i, lineHeight: n } = this.appearance.text, r = this.options.text || "", { draw: o, lines: s, maxWidth: a, maxHeight: l } = O7(r, e, ct(t), i, n);
        this.fillText = o, this.lines = s, this.dimensions = {
            width: a / devicePixelRatio,
            height: l / devicePixelRatio
        };
    }
    colliderDidUpdatePosition(e) {
        this.screenPosition = e;
    }
    colliderDidUpdateVisiblity() {
        (0, _chunkZRT45YCMJs.k)(this, Bp, fT).call(this), 1 === this.action ? this.visible = !0 : this.visible = !1, this.action = 0, this.style = this.newStyle;
    }
    colliderDidGoOutsideGrid() {}
    colliderDidNotFindAHome() {
        this.action = 2;
    }
    disable(e = !0) {
        super.disable(), this.visible = !1, e && null != this.__engine && this.__engine.debouncedUpdate();
    }
    get pinCanvasSize() {
        return 2 * this.totalMarkerSize;
    }
    draw(t) {
        var i;
        if (!this.visible) return;
        let [n, r] = this.screenPosition, { pinVisibility: o, textLabelVisible: s, top: a, left: l, textAlign: c, cachedSymbol: u } = this.style, d = ct(n), p = ct(r), { marker: f } = this.appearance, { foregroundColor: m, backgroundColor: g } = f, v = L4("".concat(m.active, "-").concat(m.inactive, "-").concat(g.active, "-").concat(g.inactive, "-").concat((0, _chunkZRT45YCMJs.g)(this, Na)));
        if ((0, _chunkZRT45YCMJs.g)(e, qa)[v]) {
            let i = 1 === o ? (0, _chunkZRT45YCMJs.g)(e, qa)[v][0] : (0, _chunkZRT45YCMJs.g)(e, qa)[v][1];
            t.drawImage(i, d - ct(this.pinCanvasSize / 2), p - ct(this.pinCanvasSize / 2));
        } else {
            t.lineWidth = ct(4);
            let i = (0, _chunkZRT45YCMJs.k)(this, zp, mT).call(this, (0, _chunkZRT45YCMJs.g)(this, Na), this.appearance.marker.backgroundColor.active, this.appearance.marker.foregroundColor.active), n = (0, _chunkZRT45YCMJs.k)(this, zp, mT).call(this, (0, _chunkZRT45YCMJs.g)(this, Ds) ? (0, _chunkZRT45YCMJs.g)(this, Na) : ct(bV), this.appearance.marker.backgroundColor.inactive, this.appearance.marker.foregroundColor.inactive);
            (0, _chunkZRT45YCMJs.g)(e, qa)[v] = [
                i,
                n
            ];
        }
        if ((0, _chunkZRT45YCMJs.g)(this, Ds)) {
            let n = ct(this.appearance.marker.iconSize - this.appearance.marker.iconPadding), r = ct(this.appearance.marker.iconSize), { iconFit: o } = this.appearance.marker;
            null == (i = e.imagePromiseCache[(0, _chunkZRT45YCMJs.g)(this, ku)]) || i.then((i)=>{
                if (o) {
                    let r = n, s = n, a = "".concat((0, _chunkZRT45YCMJs.g)(this, ku), "_").concat(o);
                    if (e.imageDimensionsCache[a]) r = e.imageDimensionsCache[a].width, s = e.imageDimensionsCache[a].height;
                    else {
                        let t = ct(i.width), l = ct(i.height);
                        if ("contain" === o) {
                            let e = Math.sqrt(t ** 2 + l ** 2), i = n / e;
                            r = t * i, s = l * i;
                        }
                        if ("cover" === o) {
                            let e = n / t, i = n / l, o = Math.max(e, i);
                            r = t * o, s = l * o;
                        }
                        e.imageDimensionsCache[a] = {
                            width: r,
                            height: s
                        };
                    }
                    t.save(), t.beginPath(), t.arc(d, p, n / 2, 0, 2 * Math.PI), t.closePath(), t.clip(), t.drawImage(i, d - r / 2, p - s / 2, r, s), t.restore();
                } else t.drawImage(i, d - r / 2, p - r / 2, r, r);
            });
        }
        (0, _chunkZRT45YCMJs.g)(this, Up) !== c && (t.textAlign = c, (0, _chunkZRT45YCMJs.i)(this, Up, c)), s && null != u && (t.shadowColor = "transparent", t.drawImage(u, d + ct(l), p + ct(a)));
    }
};
kp = new WeakMap, Bp = new WeakSet, fT = (0, _chunkZRT45YCMJs.a)(function() {
    let { iconVisibilityThreshold: e = l8 } = this.appearance.marker;
    this.mapView.currentScale <= e && typeof this.appearance.marker.iconSize < "u" && (0, _chunkZRT45YCMJs.g)(this, kp) ? ((0, _chunkZRT45YCMJs.i)(this, Na, ct(this.appearance.marker.iconSize + this.appearance.marker.iconPadding)), (0, _chunkZRT45YCMJs.i)(this, Ds, !0)) : ((0, _chunkZRT45YCMJs.i)(this, Ds, !1), (0, _chunkZRT45YCMJs.i)(this, Na, ct(yV))), (0, _chunkZRT45YCMJs.i)(this, w1, this.mapView.currentScale), (0, _chunkZRT45YCMJs.i)(this, Ru, !0);
}, "#calculateMarkerSize"), Ru = new WeakMap, Fp = new WeakMap, Up = new WeakMap, qa = new WeakMap, ku = new WeakMap, M1 = new WeakSet, h8 = (0, _chunkZRT45YCMJs.a)(function() {
    if (!this.appearance.marker.icon) return;
    let e = L4(this.appearance.marker.icon);
    (0, _chunkZRT45YCMJs.i)(this, ku, e), Gt.imagePromiseCache[e] || (Gt.imagePromiseCache[e] = new Promise((e)=>{
        let t = this.appearance.marker.icon.split("?")[0], i = [
            "png",
            "jpg",
            "jpeg"
        ].some((e)=>t.endsWith(e)), n = new Image;
        n.src = i ? this.appearance.marker.icon : "data:image/svg+xml;base64, ".concat(btoa(this.appearance.marker.icon)), n.onload = function() {
            e(n);
        };
    }));
}, "#cacheImage"), zp = new WeakSet, mT = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    let n, r = ct(this.pinCanvasSize);
    null != window.OffscreenCanvas ? n = new OffscreenCanvas(r, r) : (n = document.createElement("canvas"), n.width = r, n.height = r, n.style.width = r / devicePixelRatio + "px", n.style.height = r / devicePixelRatio + "px");
    let o = n.getContext("2d");
    return o.shadowColor = "rgba(0,0,0,0.3)", o.shadowOffsetY = ct(xV), o.shadowBlur = ct(TV), o.beginPath(), o.arc(r / 2, r / 2, e / 2 + ct(u8) / 2, 0, 2 * Math.PI), o.fillStyle = t, o.fill(), o.beginPath(), o.arc(r / 2, r / 2, e / 2, 0, 2 * Math.PI), o.shadowColor = "transparent", o.fillStyle = i, o.fill(), n;
}, "#createPinCanvas"), w1 = new WeakMap, Na = new WeakMap, Ds = new WeakMap, (0, _chunkZRT45YCMJs.a)(Gt, "InternalFloatingLabel"), (0, _chunkZRT45YCMJs.f)(Gt, "testId", 0), (0, _chunkZRT45YCMJs.h)(Gt, qa, void 0), (0, _chunkZRT45YCMJs.f)(Gt, "imagePromiseCache", {}), (0, _chunkZRT45YCMJs.f)(Gt, "imageDimensionsCache", {});
var pT = Gt, Yi = pT;
(0, _chunkA5C75TI6Js.a)();
var Bu, Ls, yT = class extends Wo {
    constructor(){
        super(...arguments), (0, _chunkZRT45YCMJs.f)(this, "contentEl", document.createElement("div")), (0, _chunkZRT45YCMJs.f)(this, "containerEl", document.createElement("div")), (0, _chunkZRT45YCMJs.f)(this, "ready", !1), (0, _chunkZRT45YCMJs.h)(this, Bu, [
            0,
            0
        ]), (0, _chunkZRT45YCMJs.h)(this, Ls, !1);
    }
    removeSelf() {
        var e, t;
        if (null != this.__engine && null != (null == (e = this.containerEl) ? void 0 : e.parentElement) && (null == (t = this.containerEl) ? void 0 : t.parentElement) === this.__engine.collisionEngineContainerEl) try {
            this.containerEl.parentElement.removeChild(this.containerEl);
        } catch (e) {
            R.warn("error removing collider from dom", e);
        }
        this.__engine = void 0, this.containerEl = null, this.contentEl = null;
    }
    enable() {
        !this.__engine || !this.containerEl || (this.enabled = !0, this.containerEl.style.opacity = "0", this.__engine.collisionEngineContainerEl.appendChild(this.containerEl), this.updateDimensionsImmediately());
    }
    disable() {
        if (this.__engine && this.containerEl && (this.enabled = !1, this.ready = !1, this.containerEl.style.opacity = "0", null != this.containerEl.parentElement && this.containerEl.parentElement === this.__engine.collisionEngineContainerEl)) try {
            this.containerEl.parentElement.removeChild(this.containerEl);
        } catch (e) {
            R.warn("error removing collider from dom", e);
        }
    }
    colliderDidGoOffscreen() {
        this.visible = !1, this.containerEl && (this.containerEl.style.opacity = "0");
    }
    colliderDidNotFindAHome() {
        this.visible = !1;
    }
    colliderDidUpdatePosition(e) {
        this.containerEl && (this.enabled && !this.ready && (this.containerEl.style.opacity = "1", this.ready = !0), ((0, _chunkZRT45YCMJs.g)(this, Bu)[0] !== e[0] || (0, _chunkZRT45YCMJs.g)(this, Bu)[1] !== e[1]) && this.visible && (this.containerEl.style.transform = "translate3D(".concat(e[0], "px, ").concat(e[1], "px, ").concat(e[1], "px)"), (0, _chunkZRT45YCMJs.i)(this, Bu, e)));
    }
    updateDimensions() {
        (0, _chunkZRT45YCMJs.i)(this, Ls, !0), this.visible && (this.updateDimensionsImmediately(), (0, _chunkZRT45YCMJs.i)(this, Ls, !1));
    }
    updateDimensionsImmediately() {
        if ((0, _chunkZRT45YCMJs.g)(this, Ls) && this.containerEl) {
            let { width: e, height: t } = this.containerEl.getBoundingClientRect();
            this.dimensions = {
                width: e,
                height: t
            }, Object.assign(this.containerEl, {
                width: e + "px",
                height: t + "px"
            }), (0, _chunkZRT45YCMJs.i)(this, Ls, !1), null != this.__engine && this.__engine.debouncedUpdate();
        }
    }
    colliderDidMount() {
        this.updateDimensions();
    }
    colliderDidUpdateVisiblity() {
        this.containerEl && (this.containerEl.style.opacity = this.visible ? "1" : "0"), this.visible && (0, _chunkZRT45YCMJs.g)(this, Ls) && this.updateDimensionsImmediately();
    }
};
Bu = new WeakMap, Ls = new WeakMap, (0, _chunkZRT45YCMJs.a)(yT, "HTMLCollider");
var vT = yT, Vp = vT;
(0, _chunkA5C75TI6Js.a)();
var bT = (0, _chunkZRT45YCMJs.e)(Vr()), Fu = {};
function MV(e, t) {
    var i;
    return null != (null == (i = Fu[e.id]) ? void 0 : i[t]) || (null == Fu[e.id] && (Fu[e.id] = {}), e.polygons.forEach((t)=>{
        t.entrances.forEach((i)=>{
            Fu[e.id][i.id] = t;
        });
    })), Fu[e.id][t];
}
(0, _chunkZRT45YCMJs.a)(MV, "getPolygonByNodeId");
var qs, ET = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, qs, void 0), (0, _chunkZRT45YCMJs.i)(this, qs, e);
    }
    get id() {
        return (0, _chunkZRT45YCMJs.g)(this, qs).id;
    }
    get containerEl() {
        return (0, _chunkZRT45YCMJs.g)(this, qs).containerEl;
    }
    get contentEl() {
        return (0, _chunkZRT45YCMJs.g)(this, qs).contentEl;
    }
    update() {
        (0, _chunkZRT45YCMJs.g)(this, qs).updateDimensions();
    }
};
qs = new WeakMap, (0, _chunkZRT45YCMJs.a)(ET, "Marker");
var ht, Gp = ET, MT = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, ht, void 0), (0, _chunkZRT45YCMJs.f)(this, "markersMap"), (0, _chunkZRT45YCMJs.f)(this, "animations"), (0, _chunkZRT45YCMJs.i)(this, ht, e), this.markersMap = new Map, this.animations = new Map;
    }
    create(e, t, i) {
        if (null == (0, _chunkZRT45YCMJs.g)(this, ht).currentMap) throw new Error("Unable to retrieve the current map");
        let n = (0, _chunkZRT45YCMJs.g)(this, ht).mapObjects.get(e.map.id || (0, _chunkZRT45YCMJs.g)(this, ht).currentMap), r = 0;
        if (e instanceof di) {
            let t = MV(n.mapClass, e.id);
            null != t && (r = t.geometry.scale.z * Math.max(n.mapClass.width, n.mapClass.height) / 1e3);
        }
        return new Ns({
            ...i,
            collisionRank: null == i ? void 0 : i.rank,
            contentHtml: t,
            mapId: n.id,
            position: {
                nodeOrCoordinate: e,
                height: r
            }
        });
    }
    addInternal(e, t, i) {
        if (null == (0, _chunkZRT45YCMJs.g)(this, ht).currentMap) throw new Error("Unable to retrieve the current map");
        let n = this.create(e, t, i);
        return (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.add(n.id, n), n;
    }
    add(e, t, i) {
        if (null == (0, _chunkZRT45YCMJs.g)(this, ht).currentMap) throw new Error("Unable to retrieve the current map");
        let n = (0, _chunkZRT45YCMJs.g)(this, ht).mapObjects.get(e.map.id || (0, _chunkZRT45YCMJs.g)(this, ht).currentMap), r = this.create(e, t, i);
        (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.add(r.id, r), n.markers.add(r), (0, _chunkZRT45YCMJs.g)(this, ht).taskScheduler.scheduleTask(new Tt({
            name: "addMarker",
            callback: ()=>{
                r.enable(), (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.debouncedUpdate();
            }
        })), (0, _chunkZRT45YCMJs.g)(this, ht).tryRendering();
        let o = new Gp(r);
        return this.markersMap.set(r.id, {
            marker: o,
            internalMarker: r
        }), o;
    }
    updateMap(e, t, i) {
        var n, r;
        null == (n = (0, _chunkZRT45YCMJs.g)(this, ht).mapObjects.get(t)) || n.markers.delete(e), null == (r = (0, _chunkZRT45YCMJs.g)(this, ht).mapObjects.get(i)) || r.markers.add(e), (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.updateMap(e.id, t, i), e.enable();
    }
    setPosition(e, t, i) {
        var n, r;
        let o;
        if ("string" == typeof e ? o = null == (n = this.markersMap.get(e)) ? void 0 : n.internalMarker : e instanceof Gp ? o = null == (r = this.markersMap.get(e.id)) ? void 0 : r.internalMarker : e instanceof Ns && (o = e), !o) return;
        let s = o.position.nodeOrCoordinate;
        s.map.id !== t.map.id && this.updateMap(o, s.map.id, t.map.id), o.setPosition(t, i), (0, _chunkZRT45YCMJs.g)(this, ht).tryRendering(Re.ALL);
    }
    animate(e, t, i) {
        var n;
        let r = "string" == typeof e ? e : e.id, o = null == (n = this.markersMap.get(r)) ? void 0 : n.internalMarker;
        if (!o) return Promise.resolve();
        let s = this.animations.get(r);
        s && (s.tween.stop(), s.resolver(), this.animations.delete(r));
        let a, l = o.position.nodeOrCoordinate, c = {
            lat: l.lat,
            lon: l.lon
        }, u = {
            lat: t.lat,
            lon: t.lon
        }, d = (null == i ? void 0 : i.easing) && fn[i.easing] || bT.default.Easing.Cubic.InOut, p = new bT.default.Tween(c).to(u, (null == i ? void 0 : i.duration) || 1e3).easing(d).onUpdate((e)=>{
            let i = t.map.createCoordinate(e.lat, e.lon);
            this.setPosition(o, i);
        }).onComplete(()=>{
            this.animations.delete(r), a();
        }).start();
        l.map.id !== t.map.id && this.updateMap(o, l.map.id, t.map.id);
        let f = new Promise((e)=>{
            a = e, this.animations.set(r, {
                tween: p,
                resolver: a
            });
        });
        return (0, _chunkZRT45YCMJs.g)(this, ht).tryRendering(), f;
    }
    remove(e) {
        let t = "string" == typeof e ? e : e.id;
        (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.remove(t), (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.debouncedUpdate(), (0, _chunkZRT45YCMJs.g)(this, ht).tryRendering(), this.markersMap.delete(t);
    }
    removeAll() {
        Array.from((0, _chunkZRT45YCMJs.g)(this, ht).mapObjects.values()).forEach((e)=>{
            e.markers.forEach((e)=>{
                (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.remove(e.id);
            });
        }), (0, _chunkZRT45YCMJs.g)(this, ht).smartCollisionEngine.update(), (0, _chunkZRT45YCMJs.g)(this, ht).tryRendering(), this.markersMap = new Map;
    }
};
ht = new WeakMap, (0, _chunkZRT45YCMJs.a)(MT, "MarkersController");
var xT = MT, TT = xT;
(0, _chunkA5C75TI6Js.a)();
var jp, Uu, wV = {
    top: !0,
    left: !0,
    topLeft: !0,
    right: !0,
    topRight: !0,
    bottom: !0,
    bottomLeft: !0,
    bottomRight: !0
}, C1 = class e extends Vp {
    constructor(t){
        super(t), (0, _chunkZRT45YCMJs.f)(this, "className", ""), (0, _chunkZRT45YCMJs.f)(this, "_el", null), (0, _chunkZRT45YCMJs.f)(this, "style", {}), (0, _chunkZRT45YCMJs.f)(this, "position"), (0, _chunkZRT45YCMJs.f)(this, "containerClassesLength"), (0, _chunkZRT45YCMJs.f)(this, "updateClassName", (0, _chunkZRT45YCMJs.a)((e)=>{
            if (!this.containerEl) return;
            let t = this.containerEl.classList.item(this.containerClassesLength);
            t && this.containerEl.classList.remove(t), this.containerEl.classList.add("tooltip--anchor-".concat(e)), (0, _chunkZRT45YCMJs.i)(this, Uu, e);
        }, "updateClassName")), (0, _chunkZRT45YCMJs.h)(this, jp, "-1"), (0, _chunkZRT45YCMJs.h)(this, Uu, "");
        let { html: i, contentHtml: n, text: r, position: o, selector: s, map: a, padding: h = 0, collisionRank: c = 3, defaultAnchorType: u = "top", enabledAnchorTypes: d, interactive: f = !1 } = t, m = e.getContainerElClasses(f);
        if (this.containerClassesLength = m.split(" ").length, this.position = o, !this.containerEl) return;
        this.containerEl.innerHTML = i || '<div class="'.concat(m, '"><div class="mappedin-tooltip__content" style="padding: ').concat(h, 'px">').concat(r || n, "</div></div>"), this.rank = c, this.mapId = a, this.id = Bt();
        let g = i ? s : ".mappedin-tooltip";
        this.containerEl = g ? this.containerEl.querySelector(g) : null, this.containerEl && (this.contentEl = this.containerEl.firstElementChild), this._el = this.contentEl, this.options = {
            collisionRank: c,
            padding: h / Math.SQRT2,
            defaultAnchorType: u,
            enabledAnchorTypes: {
                ...wV,
                ...d
            },
            interactive: f
        };
    }
    get strategies() {
        let { width: e, height: t } = this.dimensions, { padding: i } = this.options, n = i / 2;
        return [
            {
                name: "top",
                getBoundingBox: ({ x: n, y: r })=>[
                        r - t - i,
                        r - i,
                        n - e / 2,
                        n + e / 2 + i / 2
                    ],
                onStrategySelected: ()=>{
                    this.style.top = -t - i + "px", this.style.left = -e / 2 + "px", this.className = "top";
                }
            },
            {
                name: "right",
                getBoundingBox: ({ x: n, y: r })=>[
                        r - t / 2 - i / 2,
                        r + t / 2 + i / 2,
                        n + i,
                        n + i + e
                    ],
                onStrategySelected: ()=>{
                    this.style.top = -t / 2 + "px", this.style.left = i + "px", this.className = "right";
                }
            },
            {
                name: "left",
                getBoundingBox: ({ x: n, y: r })=>[
                        r - t / 2,
                        r + t / 2,
                        n - e - i,
                        n
                    ],
                onStrategySelected: ()=>{
                    this.style.top = -t / 2 + "px", this.style.left = -e - i + "px", this.className = "left";
                }
            },
            {
                name: "bottom",
                getBoundingBox: ({ x: n, y: r })=>[
                        r + i,
                        r + i + t,
                        n - e / 2,
                        n + e / 2
                    ],
                onStrategySelected: ()=>{
                    this.style.top = i + "px", this.style.left = -e / 2 + "px", this.className = "bottom";
                }
            },
            {
                name: "bottomLeft",
                getBoundingBox: ({ x: r, y: o })=>[
                        o + n + i,
                        o + n + t + i,
                        r - e - n,
                        r - n
                    ],
                onStrategySelected: ()=>{
                    this.style.top = i + "px", this.style.left = -e - i + "px", this.className = "bottom-left";
                }
            },
            {
                name: "bottomRight",
                getBoundingBox: ({ x: r, y: o })=>[
                        o + n,
                        o + n + t + i,
                        r + n,
                        r + n + e + i
                    ],
                onStrategySelected: ()=>{
                    this.style.top = i + "px", this.style.left = i + "px", this.className = "bottom-right";
                }
            },
            {
                name: "topLeft",
                getBoundingBox: ({ x: i, y: r })=>[
                        r - t - n,
                        r - n,
                        i - e - n,
                        i - n
                    ],
                onStrategySelected: ()=>{
                    this.style.top = -t - i + "px", this.style.left = -e - i + "px", this.className = "top-left";
                }
            },
            {
                name: "topRight",
                getBoundingBox: ({ x: r, y: o })=>[
                        o - t - n,
                        o - n,
                        r + n + i,
                        r + n + e + i
                    ],
                onStrategySelected: ()=>{
                    this.style.top = -t - i + "px", this.style.left = i + "px", this.className = "top-right";
                }
            }
        ].filter((e)=>!0 === this.options.enabledAnchorTypes[e.name]);
    }
    colliderDidMount() {
        this.updateDimensions();
    }
    updateDimensionsImmediately() {
        super.updateDimensionsImmediately(), (0, _chunkZRT45YCMJs.i)(this, Uu, ""), (0, _chunkZRT45YCMJs.i)(this, jp, "-1");
    }
    setAction(e) {
        super.setAction(e), this.visible = 1 === e;
    }
    colliderDidNotFindAHome() {
        4 === this.options.collisionRank ? this.visible = !0 : this.setAction(2);
    }
    colliderDidGoOffscreen() {}
    colliderDidUpdateVisiblity() {
        let e = 1 === this.action ? "1" : "0";
        this.containerEl && ((0, _chunkZRT45YCMJs.g)(this, jp) != e && (this.containerEl.style.opacity = e), "0" === e ? this.updateInteractive(!1) : this.updateInteractive(!this.options.interactive), (0, _chunkZRT45YCMJs.g)(this, Uu) !== this.className && (this.updateClassName(this.className), !0 === this.visible && (this.updateDimensionsImmediately(), Object.assign(this.containerEl.style, this.style))));
    }
    updateInteractive(e) {
        if (!this.containerEl) return;
        let t = this.containerEl.classList.item(1);
        if (!t) return;
        let i = e ? "pointer-events-auto" : "pointer-events-none";
        t !== i && this.containerEl.classList.replace(t, i);
    }
    static getContainerElClasses(e) {
        return "mappedin-tooltip ".concat(e ? "pointer-events-none" : "pointer-events-auto");
    }
};
jp = new WeakMap, Uu = new WeakMap, (0, _chunkZRT45YCMJs.a)(C1, "SmartTooltip");
var wT = C1, Qo = wT;
(0, _chunkA5C75TI6Js.a)();
var AV = {
    anchor: 0
}, CT = class extends Vp {
    constructor(e){
        super(e), (0, _chunkZRT45YCMJs.f)(this, "_el", null), (0, _chunkZRT45YCMJs.f)(this, "style", {}), (0, _chunkZRT45YCMJs.f)(this, "polygon"), (0, _chunkZRT45YCMJs.f)(this, "position");
        let { contentHtml: t, position: i, mapId: n, id: r, collisionRank: o = 3 } = e;
        this.position = i, this.containerEl && (this.containerEl.innerHTML = '<div class="mappedin-marker__wrapper"><div class="mappedin-marker">'.concat(t, "</div></div>"), this.rank = o, this.mapId = n, this.id = "string" == typeof r ? r : Bt(), this.containerEl = this.containerEl.querySelector(".mappedin-marker"), this.contentEl = this.containerEl ? this.containerEl.firstElementChild : null, this._el = this.contentEl, this.options = {
            ...AV,
            ...e
        });
    }
    get strategies() {
        let { width: e, height: t } = this.dimensions;
        return [
            {
                name: "center",
                getBoundingBox: ({ x: i, y: n })=>{
                    let r = n - t / 2, o = n + t / 2, s = i - e / 2, a = i + e / 2;
                    switch(this.options.anchor){
                        case 1:
                            r = n - t, o = n;
                            break;
                        case 3:
                            r = n, o = n + t;
                            break;
                        case 2:
                            s = i - e, a = i;
                            break;
                        case 4:
                            s = i, a = i + e;
                    }
                    return [
                        r,
                        o,
                        s,
                        a
                    ];
                },
                onStrategySelected: ()=>{
                    let i = -t / 2 + "px", n = -e / 2 + "px";
                    switch(this.style.top = i, this.style.left = n, this.options.anchor){
                        case 1:
                            this.style.top = -t + "px";
                            break;
                        case 3:
                            this.style.top = "0px";
                            break;
                        case 2:
                            this.style.left = -e + "px";
                            break;
                        case 4:
                            this.style.left = "0px";
                            break;
                        default:
                            this.style.top = i, this.style.left = n;
                    }
                }
            }
        ];
    }
    colliderDidMount() {
        this.updateDimensions();
    }
    setAction(e) {
        super.setAction(e), this.visible = 1 === e;
    }
    colliderDidNotFindAHome() {
        this.setAction(2);
    }
    colliderDidUpdatePosition(e) {
        super.colliderDidUpdatePosition(e);
    }
    colliderDidGoOffscreen() {}
    colliderDidUpdateVisiblity() {
        this.containerEl && (this.containerEl.style.opacity = 1 === this.action ? "1" : "0"), super.colliderDidUpdateVisiblity(), !0 === this.visible && this.containerEl && Object.assign(this.containerEl.style, this.style);
    }
};
(0, _chunkZRT45YCMJs.a)(CT, "InternalMarker");
var AT = CT, Ns = AT;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var P1 = 500, S1 = "ease-out", I1 = .6, Ko = void 0, _1 = 7.9, PT = 1;
function CV(e, t) {
    let i = e.getCenter(new (0, _chunk4XLXKB34Js.S)), n = e.getSize(new (0, _chunk4XLXKB34Js.S)), { x: r, y: o, z: s } = n, a = r * t, l = o * t, h = s * t, c = i.x - a / 2, u = i.x + a / 2, d = i.y - l / 2, p = i.y + l / 2, f = i.z - h / 2, m = i.z + h / 2;
    return new (0, _chunk4XLXKB34Js.T)({
        x: c,
        y: d,
        z: f
    }, {
        x: u,
        y: p,
        z: m
    });
}
function O1(e, t) {
    let { margin: i, radius: n } = t, r = e.boundingBox, o = CV(new (0, _chunk4XLXKB34Js.T)(r.min, r.max).clone().applyMatrix4(e.object.matrix), null != i ? i : 1), s = {
        min: o.min,
        max: o.max,
        margin: i,
        radius: n,
        center: o.getCenter(new (0, _chunk4XLXKB34Js.S))
    };
    s.min.z = (s.max.z + s.min.z) / 2, s.max.z = s.min.z;
    let a = (s.max.x + s.min.x) / 2, l = (s.max.y + s.min.y) / 2, h = (s.max.z, s.min.z, Math.sqrt((s.max.x - a) ** 2 + (s.max.y - l) ** 2));
    return s.radius = h, s.center = o.getCenter(new (0, _chunk4XLXKB34Js.S)), s;
}
(0, _chunkZRT45YCMJs.a)(CV, "addMarginMultiplierToBoundingBox"), (0, _chunkZRT45YCMJs.a)(O1, "getPanBoundsForObject");
var dt, IT = class {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.f)(this, "maps"), (0, _chunkZRT45YCMJs.h)(this, dt, void 0), (0, _chunkZRT45YCMJs.f)(this, "mapObjectsArray", []), (0, _chunkZRT45YCMJs.f)(this, "transitionOptions"), (0, _chunkZRT45YCMJs.f)(this, "object", new (0, _chunk4XLXKB34Js.X)), (0, _chunkZRT45YCMJs.f)(this, "currentMap"), (0, _chunkZRT45YCMJs.f)(this, "mapObjects", new Map), (0, _chunkZRT45YCMJs.i)(this, dt, t), this.object.userData.name = "mappedin-scene", this.maps = e.sort((e, t)=>e.elevation - t.elevation), e.forEach((e)=>{
            let t = (0, _chunkZRT45YCMJs.g)(this, dt).mapObjects.get(e.id);
            this.mapObjects.set(e.id, t);
        }), this.object.position.set(0, 0, 0);
    }
    get mapObjectsByMapGroup() {
        let e = Array.from(this.mapObjects.values());
        return 0 === e.filter((e)=>{
            var t;
            return null == (t = e.mapClass.mapGroup) ? void 0 : t.id;
        }).length ? {
            _: e
        } : Array.from(this.mapObjects.values()).reduce((e, t)=>(t.mapClass.mapGroup && (e[t.mapClass.mapGroup.id] ? e[t.mapClass.mapGroup.id].push(t) : e[t.mapClass.mapGroup.id] = [
                t
            ]), e), {});
    }
    determineMapPositionAndRotation(e) {
        var t, i;
        let n = (null == (t = (0, _chunkZRT45YCMJs.g)(this, dt).referenceMap) ? void 0 : t.scale) || 1, r = e.scale || 1, o = (null == (i = (0, _chunkZRT45YCMJs.g)(this, dt).referenceMap) ? void 0 : i.getNorth()) || 0, s = e.getNorth() || 0, { x: a, y: l } = e.georeference[0].target, { x: c, y: u } = e.georeference[2].target, d = new Qe(a, l), p = new Qe(c, u), { lat: f, lon: m } = d.midpointTo(p), g = (0, _chunkZRT45YCMJs.g)(this, dt).referenceMap.createCoordinate(f, m), { x: v, y: y } = (0, _chunkZRT45YCMJs.g)(this, dt).convertTo3DMapPosition(g), b = r / n;
        return {
            position: [
                v,
                y,
                0
            ],
            scale: [
                b,
                b,
                b
            ],
            rotation: [
                0,
                0,
                s - o
            ]
        };
    }
    async prepare(e, t) {
        this.transitionOptions = t || {}, this.currentMap = (null == t ? void 0 : t.activeMap) || this.maps[0], e.currentScene = this;
        let i = await this.preRender(t);
        this.mapObjectsArray = await Promise.all(i);
    }
    resize() {}
    focusOnCurrentMap(e, t) {
        return new Promise((i)=>{
            var n, r, o, s, a, l;
            let c = this.mapObjects.get(this.currentMap.id);
            c.object.updateMatrixWorld();
            let u = (0, _chunkZRT45YCMJs.g)(this, dt).loadOptions && (0, _chunkZRT45YCMJs.g)(this, dt).loadOptions.zoomOverrides && (0, _chunkZRT45YCMJs.g)(this, dt).loadOptions.zoomOverrides.zoomMultiplier || _1, d = c.getMapScale() * c.object.scale.x;
            l1((0, _chunkZRT45YCMJs.g)(this, dt).controls, "zoomFactor", d / u);
            let p = O1(c, (0, _chunkZRT45YCMJs.g)(this, dt).controls.panBounds);
            (0, _chunkZRT45YCMJs.g)(this, dt).controls.panBounds = p;
            let f = null == (n = null == e ? void 0 : e.focusOn) ? void 0 : n.targets, m = (null == (r = null == e ? void 0 : e.focusOn) ? void 0 : r.options) || {}, g = {
                boundingBox: p
            }, v = null != (o = null == m ? void 0 : m.rotation) ? o : Ko, y = null == m ? void 0 : m.tilt, b = null != (s = null == m ? void 0 : m.easing) ? s : S1, w = null != (a = null == m ? void 0 : m.duration) ? a : P1, { min: A, max: x } = p, E = [
                new (0, _chunk4XLXKB34Js.S)(A.x, A.y, A.z),
                new (0, _chunk4XLXKB34Js.S)(A.x, x.y, A.z),
                new (0, _chunk4XLXKB34Js.S)(x.x, A.y, A.z),
                new (0, _chunk4XLXKB34Js.S)(x.x, x.y, A.z),
                new (0, _chunk4XLXKB34Js.S)(A.x, A.y, x.z),
                new (0, _chunk4XLXKB34Js.S)(A.x, x.y, x.z),
                new (0, _chunk4XLXKB34Js.S)(x.x, A.y, x.z),
                new (0, _chunk4XLXKB34Js.S)(x.x, x.y, x.z)
            ], { zoom: M } = (0, _chunkZRT45YCMJs.g)(this, dt).getCameraFrameForPoints(E, 1, 1, (0, _chunkZRT45YCMJs.g)(this, dt).cachedPadding, !1);
            (0, _chunkZRT45YCMJs.g)(this, dt).controls.restrictZoomLimits(M), (0, _chunkZRT45YCMJs.g)(this, dt).controls.expandZoomLimits(M), t ? ((0, _chunkZRT45YCMJs.g)(this, dt).controls.setMulti(p.center, M, Ko, I1), i(void 0)) : null != e && e.autoFocusOnActiveMap ? (null != f && (g = {
                ...f,
                points: (null == (l = null == f ? void 0 : f.coordinates) ? void 0 : l.map((e)=>(0, _chunkZRT45YCMJs.g)(this, dt).convertTo3DMapPosition({
                        x: e.x,
                        y: e.y
                    }))) || []
            }), (0, _chunkZRT45YCMJs.g)(this, dt).focusOn({
                ...g,
                ...m,
                duration: w,
                rotation: v,
                doNotEmitFocusOnEvent: !0,
                focusZoomFactor: 1,
                minZoom: null == m ? void 0 : m.minZoom,
                padding: m.safeAreaInsets,
                tilt: y,
                curve: fn[b],
                callback: ()=>{
                    i(void 0);
                },
                cancelledCallback: ()=>{
                    i(void 0);
                }
            })) : ((0, _chunkZRT45YCMJs.g)(this, dt).tryRendering(), i(void 0));
        });
    }
    async preRender(e) {
        this.currentMap = (null == e ? void 0 : e.activeMap) || this.maps[0], this.transitionOptions = e;
        let t = [];
        for(let e in this.mapObjectsByMapGroup)this.mapObjectsByMapGroup[e].forEach((e)=>{
            t.push(e.load().then(()=>{
                if (!(0, _chunkZRT45YCMJs.g)(this, dt).sceneManager.processedMapObjects.has(e)) {
                    let { position: t, rotation: i, scale: n } = this.determineMapPositionAndRotation(e.mapClass);
                    e.object.position.set(...t), e.object.rotation.set(...i), e.object.scale.set(...n), e.box = (new (0, _chunk4XLXKB34Js.T)).setFromObject(e.object), e.object.name = e.mapClass.id, (0, _chunkZRT45YCMJs.g)(this, dt).sceneManager.processedMapObjects.add(e);
                }
                return e;
            }).catch((e)=>{
                R.error(e);
            }));
        });
        return t;
    }
    unmount() {}
    postRender() {
        (0, _chunkZRT45YCMJs.g)(this, dt).imageFlippingEnabled && (this.mapObjectsArray.forEach((e)=>{
            var t;
            null == (t = (0, _chunkZRT45YCMJs.g)(this, dt).imageFlippingCache[e.id]) || t.forEach(([t, i])=>{
                e.enableImageFlipping(t, i);
            });
        }), (0, _chunkZRT45YCMJs.g)(this, dt).publish(4, !0));
    }
};
dt = new WeakMap, (0, _chunkZRT45YCMJs.a)(IT, "MapViewScene");
var ST = IT, Ra = ST;
(0, _chunkA5C75TI6Js.a)();
var pe, DT = (0, _chunkZRT45YCMJs.e)(Vr()), _T = !1, PV = 2e3, SV = 2e3, IV = (0, _chunkZRT45YCMJs.a)(([e, t], [i, n])=>{
    let r = {
        x: e,
        y: t
    }, o = i, s = n;
    function a(e, t) {
        let i = t.x - e.x, n = t.y - e.y;
        return Math.sqrt(i * i + n * n);
    }
    return (0, _chunkZRT45YCMJs.a)(a, "distanceBetweenPoints"), a({
        x: (r.x + o) / 2,
        y: (r.y + s) / 2
    }, r);
}, "getRadiusOfSquare"), OT = (0, _chunkZRT45YCMJs.a)((e)=>{
    let t = new (0, _chunk4XLXKB34Js.S), i = new (0, _chunk4XLXKB34Js.S);
    for (let n of e)t.min(n), i.max(n);
    let n = new (0, _chunk4XLXKB34Js.aa), r = new (0, _chunk4XLXKB34Js.$)(new Float32Array(24), 3);
    for(let t = 0; t < 8; t++){
        let i = e[t].clone();
        r.setXYZ(t, i.x, i.y, i.z);
    }
    n.setAttribute("position", r);
    let o = new (0, _chunk4XLXKB34Js.$)(new Uint16Array([
        0,
        2,
        1,
        0,
        3,
        2,
        1,
        6,
        5,
        1,
        2,
        6,
        5,
        7,
        4,
        5,
        6,
        7,
        4,
        3,
        0,
        4,
        7,
        3,
        3,
        6,
        2,
        3,
        7,
        6,
        0,
        5,
        4,
        0,
        1,
        5
    ]), 1);
    return n.setIndex(o), n;
}, "createBoxFromPoints"), d8 = 50, qT = class extends Ra {
    constructor(e, t, i = !0){
        var n, r;
        super(e, t), (0, _chunkZRT45YCMJs.h)(this, pe, void 0), (0, _chunkZRT45YCMJs.f)(this, "containerBoxHelper"), (0, _chunkZRT45YCMJs.f)(this, "viewportBox"), (0, _chunkZRT45YCMJs.f)(this, "currentMapWrapperMesh"), (0, _chunkZRT45YCMJs.f)(this, "currentMapWrapperBoxHelper"), (0, _chunkZRT45YCMJs.f)(this, "viewportMesh"), (0, _chunkZRT45YCMJs.f)(this, "stackContainerMesh"), (0, _chunkZRT45YCMJs.f)(this, "currentMinTilt"), (0, _chunkZRT45YCMJs.f)(this, "hasOutdoorGeometry", !1), (0, _chunkZRT45YCMJs.f)(this, "hasMapLabels"), (0, _chunkZRT45YCMJs.f)(this, "scrollToMap", (0, _chunkZRT45YCMJs.a)(async (e, t = 500)=>new Promise((i)=>{
                let n = this.mapObjects.get(e.id);
                new DT.default.Tween({
                    z: (0, _chunkZRT45YCMJs.g)(this, pe).controls.getPedestal()
                }).to({
                    z: n.object.position.z
                }, t).easing(DT.default.Easing.Quadratic.InOut).onUpdate(({ z: e })=>{
                    (0, _chunkZRT45YCMJs.g)(this, pe).controls.setPedestal(e);
                }).onComplete(()=>{
                    (0, _chunkZRT45YCMJs.g)(this, pe).controls.setPedestal((0, _chunkZRT45YCMJs.g)(this, pe).controls.getPedestal(), !0), (0, _chunkZRT45YCMJs.g)(this, pe).tryRendering(), i(void 0);
                }).start(), (0, _chunkZRT45YCMJs.g)(this, pe).tryRendering();
            }), "scrollToMap")), (0, _chunkZRT45YCMJs.f)(this, "updateFrame", (0, _chunkZRT45YCMJs.a)((e)=>{
            let t = this.containerBoxHelper.max.z, i = this.containerBoxHelper.min.z;
            e.pedestal < t && e.pedestal > i && (this.currentMapWrapperMesh.position.z = e.pedestal, this.viewportMesh.position.z = e.pedestal, this.currentMapWrapperBoxHelper.setFromObject(this.currentMapWrapperMesh), this.viewportBox.setFromObject(this.viewportMesh), this.mapObjects.forEach((e)=>{
                e.box.setFromObject(e.object), (this.currentMapWrapperBoxHelper.containsBox(e.box) || this.currentMapWrapperBoxHelper.intersectsBox(e.box)) && this.currentMap !== e.mapClass && (this.currentMap = e.mapClass, (0, _chunkZRT45YCMJs.g)(this, pe).publish(5, e.mapClass));
            }), (0, _chunkZRT45YCMJs.g)(this, pe).controls.orbit.position.z = e.pedestal, (0, _chunkZRT45YCMJs.g)(this, pe).tryRendering());
        }, "updateFrame")), (0, _chunkZRT45YCMJs.f)(this, "labels", new Map), (0, _chunkZRT45YCMJs.f)(this, "createMapLabels", (0, _chunkZRT45YCMJs.a)(()=>{
            if (this.hasMapLabels) {
                for (let e of this.mapObjects.values()){
                    let t = e.object.position.clone(), i = IV([
                        this.containerBoxHelper.min.x,
                        this.containerBoxHelper.min.y
                    ], [
                        this.containerBoxHelper.max.x,
                        this.containerBoxHelper.max.y
                    ]), n = Math.PI / 4, r = new (0, _chunk4XLXKB34Js.S)(Math.cos(n) * i, Math.sin(n) * i, 0), o = (0, _chunkZRT45YCMJs.g)(this, pe).cameraObject, s = new (0, _chunk4XLXKB34Js.S);
                    o.getWorldDirection(s);
                    let a = (new (0, _chunk4XLXKB34Js.R)).setFromUnitVectors(r.clone().normalize(), s.clone().cross(new (0, _chunk4XLXKB34Js.S)(0, 0, -1)).normalize()), l = t.clone().add(r.clone().applyQuaternion(a));
                    l.z = e.object.position.z;
                    let c = new (0, _chunk4XLXKB34Js.ca)(100, 100, 100), u = new (0, _chunk4XLXKB34Js._)({
                        color: "red"
                    });
                    new (0, _chunk4XLXKB34Js.ba)(c, u).position.copy(l);
                    let d = (0, _chunkZRT45YCMJs.g)(this, pe).markers.addInternal((0, _chunkZRT45YCMJs.g)(this, pe).convert3DMapPositionToCoordinate(l, e.mapClass), "<div style=\"color: #333333; text-shadow: 0px 0px #efefef;font-family: 'Lato', sans-serif; font-size: 24px; font-weight: 300; line-height: 58px;\">".concat(e.mapClass.shortName, "</div>"), {
                        rank: 4
                    });
                    d.enable(), this.labels.set(e, [
                        r,
                        t,
                        d
                    ]);
                }
                (0, _chunkZRT45YCMJs.g)(this, pe).controls.dispatcher.addEventListener((0, _chunkZRT45YCMJs.g)(this, pe).controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.updateLabels);
            }
        }, "createMapLabels")), (0, _chunkZRT45YCMJs.f)(this, "updateLabels", (0, _chunkZRT45YCMJs.a)(()=>{
            let e = (0, _chunkZRT45YCMJs.g)(this, pe).cameraObject;
            e.updateMatrixWorld(!0), e.updateProjectionMatrix();
            for (let [t, [i, n, r]] of this.labels){
                let o = new (0, _chunk4XLXKB34Js.S);
                e.getWorldDirection(o);
                let s = (new (0, _chunk4XLXKB34Js.R)).setFromUnitVectors(i.clone().normalize(), o.clone().cross(new (0, _chunk4XLXKB34Js.S)(0, 0, -1)).normalize()), a = n.clone().add(i.clone().applyQuaternion(s));
                (0, _chunkZRT45YCMJs.g)(this, pe).markers.setPosition(r, (0, _chunkZRT45YCMJs.g)(this, pe).convert3DMapPositionToCoordinate(a, t.mapClass), !1);
            }
        }, "updateLabels")), (0, _chunkZRT45YCMJs.f)(this, "destroyLabels", (0, _chunkZRT45YCMJs.a)(()=>{
            if (this.hasMapLabels) {
                (0, _chunkZRT45YCMJs.g)(this, pe).controls.dispatcher.removeEventListener((0, _chunkZRT45YCMJs.g)(this, pe).controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.updateLabels);
                for (let [e, t, i] of this.labels.values())(0, _chunkZRT45YCMJs.g)(this, pe).smartCollisionEngine.remove(i.id);
                (0, _chunkZRT45YCMJs.g)(this, pe).smartCollisionEngine.update(), this.labels = new Map, (0, _chunkZRT45YCMJs.g)(this, pe).tryRendering();
            }
        }, "destroyLabels")), (0, _chunkZRT45YCMJs.i)(this, pe, t), this.object.position.set(0, 0, 0);
        let o = null == (r = null == (n = (0, _chunkZRT45YCMJs.g)(this, pe).options) ? void 0 : n.loadOptions) ? void 0 : r.outdoorGeometryLayers;
        this.hasOutdoorGeometry = Array.isArray(o) && o.length > 0, this.hasMapLabels = i;
    }
    lockControls() {
        (0, _chunkZRT45YCMJs.g)(this, pe).controls.enablePedestal = !0, (0, _chunkZRT45YCMJs.g)(this, pe).controls.enableRotate = !0, (0, _chunkZRT45YCMJs.g)(this, pe).controls.enablePan = !1, (0, _chunkZRT45YCMJs.g)(this, pe).controls.enableZoom = !1;
        let { minTilt: e } = (0, _chunkZRT45YCMJs.g)(this, pe).controls;
        this.currentMinTilt = e, (0, _chunkZRT45YCMJs.g)(this, pe).controls.minTilt = PT;
    }
    unlockControls() {
        var e;
        (0, _chunkZRT45YCMJs.g)(this, pe).controls.enablePedestal = !1, (0, _chunkZRT45YCMJs.g)(this, pe).controls.enableRotate = !0, (0, _chunkZRT45YCMJs.g)(this, pe).controls.enablePan = !0, (0, _chunkZRT45YCMJs.g)(this, pe).controls.enableZoom = !0, (0, _chunkZRT45YCMJs.g)(this, pe).controls.minTilt = null != (e = this.currentMinTilt) ? e : (0, _chunkZRT45YCMJs.g)(this, pe).controls.minTilt;
    }
    createStackBoundingBox() {
        var e, t;
        let i = new (0, _chunk4XLXKB34Js.Qa)(this.object, "rgba(160, 160, 160)");
        _T && (0, _chunkZRT45YCMJs.g)(this, pe).scene.add(i);
        let n = (new (0, _chunk4XLXKB34Js.T)).setFromObject(i), r = (null != (t = null == (e = this.transitionOptions) ? void 0 : e.verticalDistanceBetweenMaps) ? t : d8) / (0, _chunkZRT45YCMJs.g)(this, pe).venue.maps[0].scale, o = this.computeMapZ(this.mapObjectsArray[0], 0, this.transitionOptions), s = this.computeMapZ(this.mapObjectsArray[this.mapObjectsArray.length - 1], this.mapObjectsArray.length - 1, this.transitionOptions), a = [
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.min.y, o),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.max.y, o),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.min.y, o),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.max.y, o),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.min.y, s),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.max.y, s),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.min.y, s),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.max.y, s)
        ], l = new (0, _chunk4XLXKB34Js.ba)(OT(a), new (0, _chunk4XLXKB34Js._)({
            color: "blue",
            wireframe: !0
        }));
        _T && (0, _chunkZRT45YCMJs.g)(this, pe).scene.add(l);
        let c = [
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.min.y, -r / 2),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.max.y, -r / 2),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.min.y, -r / 2),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.max.y, -r / 2),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.min.y, r / 2),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.max.y, r / 2),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.min.y, r / 2),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.max.y, r / 2)
        ], u = new (0, _chunk4XLXKB34Js.ba)(OT(c), new (0, _chunk4XLXKB34Js._)({
            color: "red",
            wireframe: !0
        }));
        u.visible = !1, u.applyMatrix4(this.object.matrixWorld);
        let d = [
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.min.y, -550),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.max.y, -550),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.min.y, -550),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.max.y, -550),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.min.y, 550),
            new (0, _chunk4XLXKB34Js.S)(n.min.x, n.max.y, 550),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.min.y, 550),
            new (0, _chunk4XLXKB34Js.S)(n.max.x, n.max.y, 550)
        ], p = new (0, _chunk4XLXKB34Js.ba)(OT(d), new (0, _chunk4XLXKB34Js._)({
            color: "blue",
            wireframe: !0
        }));
        p.visible = !1, p.applyMatrix4(this.object.matrixWorld), this.viewportBox = (new (0, _chunk4XLXKB34Js.T)).setFromObject(p), (0, _chunkZRT45YCMJs.g)(this, pe).scene.add(p);
        let f = (new (0, _chunk4XLXKB34Js.T)).setFromObject(u);
        (0, _chunkZRT45YCMJs.g)(this, pe).scene.add(u), this.stackContainerMesh = l, this.containerBoxHelper = (new (0, _chunk4XLXKB34Js.T)).setFromObject(l), this.currentMapWrapperMesh = u, _T && (this.currentMapWrapperMesh.visible = !0), this.currentMapWrapperBoxHelper = f, this.viewportMesh = p;
        let m = (0, _chunkZRT45YCMJs.g)(this, pe).controls.getPedestal();
        this.currentMapWrapperMesh.position.z = m, this.viewportMesh.position.z = m, this.currentMapWrapperBoxHelper.setFromObject(this.currentMapWrapperMesh), this.viewportBox.setFromObject(this.viewportMesh);
    }
    focusOnStackBox(e) {
        return new Promise((t)=>{
            var i, n, r, o, s;
            let a = (null == (i = null == e ? void 0 : e.focusOn) ? void 0 : i.options) || {}, l = null != (n = null == a ? void 0 : a.rotation) ? n : Ko, c = null != (r = null == a ? void 0 : a.tilt) ? r : PT, u = null != (o = null == a ? void 0 : a.easing) ? o : S1, d = null != (s = null == a ? void 0 : a.duration) ? s : P1;
            (0, _chunkZRT45YCMJs.g)(this, pe).focusOn({
                ...a,
                boundingBox: this.currentMapWrapperBoxHelper,
                duration: d,
                rotation: l,
                padding: a.safeAreaInsets,
                tilt: c,
                focusZoomFactor: 1,
                curve: fn[u],
                callback: ()=>{
                    t(void 0);
                }
            });
        });
    }
    unmount() {
        this.unlockControls(), (0, _chunkZRT45YCMJs.g)(this, pe).controls.dispatcher.removeEventListener((0, _chunkZRT45YCMJs.g)(this, pe).controls.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT.type, this.updateFrame), (0, _chunkZRT45YCMJs.g)(this, pe).scene.remove(this.currentMapWrapperMesh), (0, _chunkZRT45YCMJs.g)(this, pe).scene.remove(this.viewportMesh), (0, _chunkZRT45YCMJs.g)(this, pe).scene.remove(this.currentMapWrapperBoxHelper), (0, _chunkZRT45YCMJs.g)(this, pe).scene.remove(this.viewportBox), (0, _chunkZRT45YCMJs.g)(this, pe).scene.remove(this.stackContainerMesh), this.destroyLabels();
    }
    computeMapZ(e, t, i) {
        var n;
        return (null != t ? t : e.mapClass.elevation) * ((null != (n = null == i ? void 0 : i.verticalDistanceBetweenMaps) ? n : d8) / (0, _chunkZRT45YCMJs.g)(this, pe).referenceMap.scale);
    }
    async prepare(e, t) {
        await super.prepare(e, t);
    }
    postRender() {
        super.postRender(), this.createMapLabels(), (0, _chunkZRT45YCMJs.g)(this, pe).cameraObject.updateProjectionMatrix(), (0, _chunkZRT45YCMJs.g)(this, pe).controls.dispatcher.addEventListener((0, _chunkZRT45YCMJs.g)(this, pe).controls.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT.type, this.updateFrame);
    }
    expandMaps(e, t) {
        var i, n;
        let r = this.mapObjects.get(this.currentMap.id), o = (null == (n = null == (i = null == t ? void 0 : t.focusOn) ? void 0 : i.options) ? void 0 : n.duration) || SV, s = e.flatMap((e, i)=>{
            if (e === r && this.hasOutdoorGeometry) return [
                e.fadeOut("outdoor-geometry")
            ];
            let n = this.computeMapZ(e, i, t);
            this.object.add(e.object);
            let s = [
                jn({
                    from: {
                        z: r.object.position.z
                    },
                    to: {
                        z: n
                    },
                    duration: o,
                    onUpdate: ({ z: t })=>{
                        e.object.position.z = t, (0, _chunkZRT45YCMJs.g)(this, pe).tryRendering();
                    }
                }),
                e.fadeIn("default")
            ];
            return this.hasOutdoorGeometry && s.push(e.fadeOut("outdoor-geometry")), s;
        });
        return {
            start: ()=>Promise.all(s.map((e)=>e.start((0, _chunkZRT45YCMJs.g)(this, pe))))
        };
    }
    contractMaps(e = this.mapObjects.get(this.currentMap.id)) {
        var t, i;
        let n = this.mapObjectsArray, r = this.transitionOptions, o = (null == (i = null == (t = null == r ? void 0 : r.focusOn) ? void 0 : t.options) ? void 0 : i.duration) || PV, s = n.flatMap((t)=>e === t ? {
                start: ()=>Promise.resolve()
            } : [
                jn({
                    from: {
                        z: t.object.position.z
                    },
                    to: {
                        z: e.object.position.z
                    },
                    duration: o,
                    onUpdate: ({ z: e })=>{
                        t.object.position.z = e, (0, _chunkZRT45YCMJs.g)(this, pe).tryRendering();
                    }
                }),
                t.fadeOut()
            ]);
        return {
            start: ()=>Promise.all(s.map((e)=>e.start((0, _chunkZRT45YCMJs.g)(this, pe))))
        };
    }
    resize() {
        this.focusOnStackBox({
            focusOn: {
                options: {
                    tilt: (0, _chunkZRT45YCMJs.g)(this, pe).controls.getTilt(),
                    rotation: (0, _chunkZRT45YCMJs.g)(this, pe).controls.getRotation()
                }
            }
        });
    }
};
pe = new WeakMap, (0, _chunkZRT45YCMJs.a)(qT, "MapViewStackScene");
var LT = qT, zu = LT;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var NT = class extends (0, _chunk4XLXKB34Js.Aa) {
    constructor(e, t = {}){
        let i = t.font;
        if (void 0 === i) super();
        else {
            let n = i.generateShapes(e, t.size);
            t.depth = void 0 !== t.height ? t.height : 50, void 0 === t.bevelThickness && (t.bevelThickness = 10), void 0 === t.bevelSize && (t.bevelSize = 8), void 0 === t.bevelEnabled && (t.bevelEnabled = !1), super(n, t);
        }
        this.type = "TextGeometry";
    }
};
(0, _chunkZRT45YCMJs.a)(NT, "TextGeometry");
var D1 = NT, Fa = (0, _chunkZRT45YCMJs.e)(x8());
(0, _chunkA5C75TI6Js.a)();
var zT = (0, _chunkZRT45YCMJs.e)(_8());
function O8(e) {
    this.name = "JSClipperError", this.message = e, this.stack = (new Error).stack;
}
(0, _chunkZRT45YCMJs.a)(O8, "JSClipperError"), O8.prototype = Error.prototype, zT.default.Error = function(e) {
    throw new O8(e);
};
var ka = zT.default;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var VT = class {
    constructor(e){
        this.isFont = !0, this.type = "Font", this.data = e;
    }
    generateShapes(e, t = 100) {
        let i = [], n = Yj(e, t, this.data);
        for(let e = 0, t = n.length; e < t; e++)i.push(...n[e].toShapes());
        return i;
    }
};
(0, _chunkZRT45YCMJs.a)(VT, "Font");
var k1 = VT;
function Yj(e, t, i) {
    let n = Array.from(e), r = t / i.resolution, o = (i.boundingBox.yMax - i.boundingBox.yMin + i.underlineThickness) * r, s = [], a = 0, l = 0;
    for(let e = 0; e < n.length; e++){
        let t = n[e];
        if ("\n" === t) a = 0, l -= o;
        else {
            let e = Wj(t, r, a, l, i);
            a += e.offsetX, s.push(e.path);
        }
    }
    return s;
}
function Wj(e, t, i, n, r) {
    let o = r.glyphs[e] || r.glyphs["?"];
    if (!o) return void console.error('THREE.Font: character "' + e + '" does not exists in font family ' + r.familyName + ".");
    let s, a, l, h, c, u, d, p, f = new (0, _chunk4XLXKB34Js.Ra);
    if (o.o) {
        let e = o._cachedOutline || (o._cachedOutline = o.o.split(" "));
        for(let r = 0, o = e.length; r < o;)switch(e[r++]){
            case "m":
                s = e[r++] * t + i, a = e[r++] * t + n, f.moveTo(s, a);
                break;
            case "l":
                s = e[r++] * t + i, a = e[r++] * t + n, f.lineTo(s, a);
                break;
            case "q":
                l = e[r++] * t + i, h = e[r++] * t + n, c = e[r++] * t + i, u = e[r++] * t + n, f.quadraticCurveTo(c, u, l, h);
                break;
            case "b":
                l = e[r++] * t + i, h = e[r++] * t + n, c = e[r++] * t + i, u = e[r++] * t + n, d = e[r++] * t + i, p = e[r++] * t + n, f.bezierCurveTo(c, u, d, p, l, h);
        }
    }
    return {
        offsetX: o.ha * t,
        path: f
    };
}
(0, _chunkZRT45YCMJs.a)(Yj, "createPaths"), (0, _chunkZRT45YCMJs.a)(Wj, "createPath");
var ju = {
    glyphs: {
        0: {
            ha: 765,
            x_min: 66,
            x_max: 700,
            o: "m 700 497 q 683 282 700 377 q 627 121 665 187 q 528 21 589 56 q 382 -14 468 -14 q 242 21 302 -14 q 144 121 183 56 q 86 282 105 187 q 66 497 66 377 q 84 712 66 617 q 139 872 101 807 q 236 972 176 938 q 382 1007 296 1007 q 522 973 463 1007 q 621 873 582 939 q 680 713 661 808 q 700 497 700 618 m 192 497 q 202 319 192 395 q 235 193 212 243 q 293 117 257 142 q 382 92 330 92 q 471 117 434 92 q 531 192 507 142 q 565 318 554 242 q 575 497 575 395 q 565 675 575 599 q 531 801 554 751 q 471 876 507 851 q 382 901 434 901 q 293 876 330 901 q 235 801 257 851 q 202 675 212 751 q 192 497 192 599 z "
        },
        1: {
            ha: 765,
            x_min: 121,
            x_max: 482,
            o: "m 482 0 l 363 0 l 363 619 q 363 682 363 648 q 365 748 363 715 q 367 811 366 781 q 368 864 368 841 q 348 843 357 852 q 330 826 339 834 q 311 809 321 818 q 286 787 300 800 l 186 705 l 121 789 l 380 991 l 482 991 l 482 0 z "
        },
        2: {
            ha: 765,
            x_min: 65,
            x_max: 684,
            o: "m 684 0 l 65 0 l 65 106 l 302 364 q 393 465 353 419 q 461 553 433 510 q 505 641 490 597 q 519 736 519 684 q 508 806 519 776 q 475 858 496 837 q 425 890 454 880 q 359 901 395 901 q 243 875 295 901 q 144 808 191 849 l 75 889 q 134 935 102 913 q 201 972 165 956 q 277 997 237 987 q 361 1006 317 1006 q 478 987 426 1006 q 568 935 531 969 q 624 851 604 901 q 644 741 644 802 q 626 631 644 683 q 577 528 608 578 q 502 427 545 477 q 407 321 458 376 l 216 118 l 216 113 l 684 113 l 684 0 z "
        },
        3: {
            ha: 765,
            x_min: 56,
            x_max: 682,
            o: "m 652 760 q 636 669 652 710 q 592 599 621 629 q 525 550 564 569 q 437 522 486 530 l 437 518 q 620 442 557 503 q 682 282 682 380 q 660 163 682 217 q 593 69 638 109 q 480 8 549 30 q 318 -14 412 -14 q 179 -2 244 -14 q 56 40 113 9 l 56 155 q 183 107 115 124 q 315 90 252 90 q 423 104 378 90 q 498 142 469 117 q 542 204 528 168 q 555 286 555 241 q 537 365 555 332 q 486 419 519 398 q 405 451 453 441 q 297 461 357 461 l 207 461 l 207 564 l 297 564 q 395 577 352 564 q 466 616 437 591 q 510 675 495 641 q 525 751 525 710 q 513 814 525 787 q 478 862 500 842 q 425 891 456 881 q 355 901 393 901 q 228 879 283 901 q 122 819 172 856 l 60 904 q 117 943 85 925 q 186 976 149 962 q 266 998 223 989 q 355 1006 308 1006 q 484 987 429 1006 q 576 936 539 969 q 633 858 614 903 q 652 760 652 813 z "
        },
        4: {
            ha: 765,
            x_min: 16,
            x_max: 737,
            o: "m 737 222 l 593 222 l 593 0 l 473 0 l 473 222 l 16 222 l 16 330 l 465 997 l 593 997 l 593 335 l 737 335 l 737 222 m 473 335 l 473 576 q 474 656 473 614 q 477 738 475 698 q 480 812 478 777 q 482 869 481 846 l 476 869 q 464 839 471 856 q 449 806 457 823 q 431 774 440 789 q 415 747 422 758 l 136 335 l 473 335 z "
        },
        5: {
            ha: 765,
            x_min: 89,
            x_max: 688,
            o: "m 370 608 q 495 590 437 608 q 596 534 553 571 q 663 444 639 498 q 688 318 688 389 q 665 179 688 241 q 596 75 642 117 q 484 9 551 32 q 330 -14 417 -14 q 262 -10 296 -14 q 198 0 229 -7 q 139 16 167 6 q 89 40 111 26 l 89 157 q 141 129 111 141 q 205 109 172 117 q 272 96 238 100 q 334 92 305 92 q 429 104 387 92 q 500 143 471 117 q 545 210 530 170 q 561 304 561 250 q 501 453 561 401 q 328 504 441 504 q 288 502 309 504 q 245 498 267 500 q 204 492 224 495 q 171 486 185 489 l 110 525 l 147 991 l 615 991 l 615 879 l 254 879 l 228 595 q 285 604 250 599 q 370 608 321 608 z "
        },
        6: {
            ha: 765,
            x_min: 77,
            x_max: 701,
            o: "m 77 424 q 84 566 77 495 q 109 701 91 636 q 158 821 127 766 q 237 918 189 877 q 353 982 286 959 q 510 1006 420 1006 q 538 1005 523 1006 q 570 1003 554 1004 q 601 999 586 1001 q 627 993 615 996 l 627 888 q 573 900 603 896 q 514 904 543 904 q 407 889 453 904 q 326 848 360 875 q 270 785 292 822 q 233 704 247 749 q 212 610 218 660 q 203 505 205 559 l 211 505 q 244 551 224 530 q 289 588 263 572 q 347 612 315 603 q 419 621 379 621 q 536 601 484 621 q 625 542 588 581 q 681 447 661 503 q 701 319 701 391 q 680 180 701 242 q 620 76 659 119 q 525 9 581 33 q 400 -14 469 -14 q 273 13 332 -14 q 170 94 214 39 q 102 230 127 148 q 77 424 77 312 m 399 90 q 473 104 439 90 q 531 146 507 118 q 569 217 555 174 q 582 319 582 260 q 571 405 582 367 q 537 469 559 442 q 481 509 515 495 q 403 524 448 524 q 320 508 357 524 q 256 466 282 492 q 215 408 229 441 q 200 343 200 376 q 213 253 200 298 q 250 172 225 208 q 312 113 275 136 q 399 90 349 90 z "
        },
        7: {
            ha: 765,
            x_min: 61,
            x_max: 699,
            o: "m 191 0 l 572 879 l 61 879 l 61 991 l 699 991 l 699 893 l 322 0 l 191 0 z "
        },
        8: {
            ha: 765,
            x_min: 72,
            x_max: 694,
            o: "m 383 1007 q 491 992 440 1007 q 579 947 541 977 q 640 873 618 918 q 663 768 663 828 q 649 686 663 723 q 612 620 635 650 q 555 567 588 591 q 485 525 523 544 q 562 478 524 504 q 629 420 600 452 q 676 348 659 388 q 694 258 694 308 q 672 145 694 196 q 608 60 649 95 q 510 5 567 24 q 383 -14 452 -14 q 251 5 309 -14 q 153 57 193 23 q 93 141 113 92 q 72 253 72 191 q 87 345 72 304 q 128 418 102 385 q 189 475 154 450 q 264 519 224 500 q 201 565 231 541 q 151 621 172 590 q 117 688 130 651 q 104 770 104 725 q 127 873 104 829 q 189 947 150 918 q 278 992 227 977 q 383 1007 328 1007 m 193 252 q 204 185 193 216 q 238 134 215 155 q 296 101 261 113 q 380 89 332 89 q 464 101 428 89 q 525 135 500 113 q 562 188 549 157 q 574 257 574 219 q 561 321 574 292 q 523 374 547 349 q 463 420 498 398 q 386 463 429 441 l 366 472 q 237 379 280 431 q 193 252 193 326 m 382 904 q 268 868 310 904 q 225 764 225 832 q 237 697 225 725 q 270 648 249 669 q 320 609 291 626 q 385 575 350 591 q 446 608 417 590 q 496 648 475 625 q 530 699 517 670 q 542 764 542 727 q 499 868 542 832 q 382 904 456 904 z "
        },
        9: {
            ha: 765,
            x_min: 72,
            x_max: 697,
            o: "m 697 568 q 690 426 697 497 q 665 291 683 355 q 616 171 647 227 q 536 74 585 115 q 421 10 488 33 q 264 -14 354 -14 q 235 -13 251 -14 q 204 -11 220 -12 q 174 -7 189 -9 q 147 -1 159 -5 l 147 104 q 201 92 171 96 q 260 87 231 87 q 410 119 351 87 q 504 206 469 151 q 553 333 538 260 q 571 486 568 406 l 562 486 q 530 441 549 462 q 485 404 511 420 q 427 380 459 389 q 354 371 394 371 q 237 391 290 371 q 149 450 185 411 q 92 544 112 488 q 72 672 72 600 q 93 811 72 749 q 154 917 115 873 q 249 983 193 960 q 374 1006 304 1006 q 501 979 442 1006 q 604 899 560 953 q 672 762 647 844 q 697 568 697 680 m 375 901 q 301 888 334 901 q 243 846 267 874 q 205 774 218 817 q 192 672 192 731 q 203 587 192 625 q 237 523 214 549 q 293 482 259 496 q 371 468 326 468 q 454 484 417 468 q 518 525 492 500 q 559 583 545 551 q 574 648 574 616 q 561 739 574 694 q 524 820 549 784 q 462 879 499 857 q 375 901 425 901 z "
        },
        " ": {
            ha: 361,
            x_min: 0,
            x_max: 0,
            o: ""
        },
        "!": {
            ha: 374,
            x_min: 100,
            x_max: 272,
            o: "m 228 281 l 146 281 l 111 991 l 262 991 l 228 281 m 100 75 q 106 119 100 101 q 125 148 113 137 q 152 164 136 159 q 186 170 168 170 q 219 164 203 170 q 247 148 235 159 q 265 119 258 137 q 272 75 272 101 q 265 32 272 50 q 247 3 258 14 q 219 -14 235 -9 q 186 -20 203 -20 q 152 -14 168 -20 q 125 3 136 -9 q 106 32 113 14 q 100 75 100 50 z "
        },
        '"': {
            ha: 558,
            x_min: 90,
            x_max: 468,
            o: "m 224 991 l 196 633 l 118 633 l 90 991 l 224 991 m 468 991 l 440 633 l 363 633 l 335 991 l 468 991 z "
        },
        "#": {
            ha: 897,
            x_min: 35,
            x_max: 863,
            o: "m 667 606 l 624 383 l 814 383 l 814 290 l 606 290 l 550 0 l 450 0 l 507 290 l 310 290 l 254 0 l 157 0 l 210 290 l 35 290 l 35 383 l 228 383 l 272 606 l 86 606 l 86 699 l 289 699 l 345 991 l 444 991 l 389 699 l 587 699 l 644 991 l 742 991 l 685 699 l 863 699 l 863 606 l 667 606 m 328 383 l 525 383 l 568 606 l 371 606 l 328 383 z "
        },
        $: {
            ha: 765,
            x_min: 83,
            x_max: 668,
            o: "m 668 302 q 651 216 668 255 q 603 149 634 178 q 526 102 571 121 q 424 75 481 83 l 424 -81 l 330 -81 l 330 69 q 262 72 296 69 q 195 81 227 75 q 134 96 162 87 q 83 117 105 105 l 83 233 q 135 211 106 222 q 197 191 165 200 q 264 177 230 182 q 330 171 298 171 l 330 465 q 225 508 270 486 q 152 559 181 530 q 109 625 123 588 q 94 713 94 663 q 111 796 94 758 q 158 862 127 833 q 233 908 189 890 q 330 932 277 926 l 330 1054 l 424 1054 l 424 935 q 549 917 492 931 q 652 882 606 903 l 607 783 q 522 814 569 800 q 424 832 474 828 l 424 546 q 529 503 484 525 q 606 452 575 480 q 652 388 637 424 q 668 302 668 351 m 549 302 q 542 343 549 325 q 520 377 535 362 q 482 406 506 393 q 424 431 458 418 l 424 178 q 518 220 487 187 q 549 302 549 254 m 214 711 q 219 668 214 687 q 239 632 225 648 q 275 604 252 616 q 330 579 297 591 l 330 829 q 242 788 270 819 q 214 711 214 758 z "
        },
        "%": {
            ha: 1146,
            x_min: 69,
            x_max: 1076,
            o: "m 170 696 q 194 528 170 584 q 272 472 218 472 q 378 696 378 472 q 272 918 378 918 q 194 863 218 918 q 170 696 170 808 m 478 696 q 466 564 478 623 q 429 466 454 506 q 365 405 404 426 q 272 383 326 383 q 184 405 222 383 q 121 466 146 426 q 82 564 95 506 q 69 696 69 623 q 81 827 69 769 q 118 924 93 884 q 181 985 142 964 q 272 1006 219 1006 q 361 985 323 1006 q 426 924 399 964 q 465 827 452 884 q 478 696 478 769 m 768 298 q 792 131 768 186 q 871 75 817 75 q 977 298 977 75 q 871 521 977 521 q 792 466 817 521 q 768 298 768 410 m 1076 298 q 1064 167 1076 225 q 1027 69 1053 109 q 963 8 1002 29 q 871 -14 924 -14 q 783 8 821 -14 q 719 69 745 29 q 681 167 694 109 q 668 298 668 225 q 680 429 668 372 q 716 527 692 487 q 780 587 741 566 q 871 608 818 608 q 960 587 922 608 q 1024 527 998 566 q 1063 429 1050 487 q 1076 298 1076 372 m 903 991 l 353 0 l 245 0 l 796 991 l 903 991 z "
        },
        "&": {
            ha: 975,
            x_min: 74,
            x_max: 953,
            o: "m 286 790 q 292 745 286 767 q 308 701 297 723 q 337 656 319 679 q 379 608 355 633 q 448 653 419 632 q 496 696 477 674 q 525 741 515 718 q 534 793 534 765 q 526 838 534 817 q 502 873 517 859 q 463 897 486 888 q 412 905 441 905 q 320 875 354 905 q 286 790 286 845 m 378 96 q 450 103 417 96 q 512 125 484 111 q 565 157 541 138 q 611 196 589 175 l 349 472 q 286 428 313 450 q 240 382 259 407 q 212 329 222 358 q 203 262 203 300 q 215 195 203 226 q 249 142 227 164 q 304 108 271 120 q 378 96 336 96 m 74 258 q 87 353 74 311 q 127 428 101 394 q 191 491 153 462 q 277 549 229 520 q 235 599 256 573 q 200 655 215 625 q 175 718 184 684 q 165 790 165 751 q 182 881 165 841 q 231 950 199 922 q 310 992 263 978 q 416 1007 357 1007 q 517 992 473 1007 q 592 950 562 978 q 640 881 623 922 q 656 790 656 841 q 639 710 656 747 q 593 641 622 673 q 528 583 565 610 q 450 532 491 556 l 689 279 q 722 319 707 299 q 748 363 736 340 q 769 412 760 386 q 785 471 778 439 l 909 471 q 885 388 899 426 q 853 317 871 351 q 813 255 836 284 q 765 199 791 227 l 953 0 l 800 0 l 686 117 q 621 62 653 86 q 551 21 588 38 q 473 -4 515 5 q 378 -14 431 -14 q 250 4 307 -14 q 154 57 193 22 q 95 143 115 92 q 74 258 74 193 z "
        },
        "'": {
            ha: 314,
            x_min: 90,
            x_max: 224,
            o: "m 224 991 l 196 633 l 118 633 l 90 991 l 224 991 z "
        },
        "(": {
            ha: 418,
            x_min: 56,
            x_max: 376,
            o: "m 56 380 q 68 548 56 465 q 105 708 80 630 q 169 857 130 785 q 260 991 207 928 l 376 991 q 232 704 281 861 q 183 382 183 547 q 196 221 183 301 q 232 64 208 141 q 292 -84 256 -12 q 375 -220 328 -156 l 260 -220 q 169 -89 207 -159 q 105 57 130 -19 q 68 215 80 134 q 56 380 56 296 z "
        },
        ")": {
            ha: 418,
            x_min: 41,
            x_max: 363,
            o: "m 363 380 q 351 215 363 296 q 313 57 338 134 q 249 -89 288 -19 q 158 -220 211 -159 l 43 -220 q 125 -84 90 -156 q 186 64 161 -12 q 222 221 210 141 q 235 382 235 301 q 186 704 235 547 q 41 991 137 861 l 158 991 q 249 857 211 928 q 313 708 288 785 q 351 548 338 630 q 363 380 363 465 z "
        },
        "*": {
            ha: 765,
            x_min: 56,
            x_max: 708,
            o: "m 450 1055 l 421 789 l 690 864 l 708 733 l 452 714 l 618 493 l 497 428 l 378 671 l 271 428 l 146 493 l 310 714 l 56 733 l 75 864 l 340 789 l 311 1055 l 450 1055 z "
        },
        "+": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 332 439 l 69 439 l 69 541 l 332 541 l 332 804 l 433 804 l 433 541 l 696 541 l 696 439 l 433 439 l 433 178 l 332 178 l 332 439 z "
        },
        ",": {
            ha: 347,
            x_min: 43,
            x_max: 256,
            o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 z "
        },
        "-": {
            ha: 447,
            x_min: 56,
            x_max: 392,
            o: "m 56 315 l 56 429 l 392 429 l 392 315 l 56 315 z "
        },
        ".": {
            ha: 372,
            x_min: 100,
            x_max: 272,
            o: "m 100 75 q 106 119 100 101 q 125 148 113 137 q 152 164 136 159 q 186 170 168 170 q 219 164 203 170 q 247 148 235 159 q 265 119 258 137 q 272 75 272 101 q 265 32 272 50 q 247 3 258 14 q 219 -14 235 -9 q 186 -20 203 -20 q 152 -14 168 -20 q 125 3 136 -9 q 106 32 113 14 q 100 75 100 50 z "
        },
        "/": {
            ha: 518,
            x_min: 14,
            x_max: 504,
            o: "m 504 991 l 135 0 l 14 0 l 383 991 l 504 991 z "
        },
        ":": {
            ha: 372,
            x_min: 100,
            x_max: 272,
            o: "m 100 75 q 106 119 100 101 q 125 148 113 137 q 152 164 136 159 q 186 170 168 170 q 219 164 203 170 q 247 148 235 159 q 265 119 258 137 q 272 75 272 101 q 265 32 272 50 q 247 3 258 14 q 219 -14 235 -9 q 186 -20 203 -20 q 152 -14 168 -20 q 125 3 136 -9 q 106 32 113 14 q 100 75 100 50 m 100 669 q 106 714 100 696 q 125 743 113 732 q 152 759 136 754 q 186 764 168 764 q 219 759 203 764 q 247 743 235 754 q 265 714 258 732 q 272 669 272 696 q 265 627 272 644 q 247 597 258 609 q 219 581 235 586 q 186 575 203 575 q 152 581 168 575 q 125 597 136 586 q 106 627 113 609 q 100 669 100 644 z "
        },
        ";": {
            ha: 372,
            x_min: 43,
            x_max: 272,
            o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 m 100 669 q 106 714 100 696 q 125 743 113 732 q 152 759 136 754 q 186 764 168 764 q 219 759 203 764 q 247 743 235 754 q 265 714 258 732 q 272 669 272 696 q 265 627 272 644 q 247 597 258 609 q 219 581 235 586 q 186 575 203 575 q 152 581 168 575 q 125 597 136 586 q 106 627 113 609 q 100 669 100 644 z "
        },
        "<": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 696 161 l 69 449 l 69 518 l 696 844 l 696 736 l 197 489 l 696 271 l 696 161 z "
        },
        "=": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 69 578 l 69 679 l 696 679 l 696 578 l 69 578 m 69 300 l 69 401 l 696 401 l 696 300 l 69 300 z "
        },
        ">": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 69 271 l 568 489 l 69 736 l 69 844 l 696 518 l 696 449 l 69 161 l 69 271 z "
        },
        "?": {
            ha: 591,
            x_min: 25,
            x_max: 546,
            o: "m 191 281 l 191 306 q 196 376 191 345 q 214 434 201 407 q 250 487 227 461 q 306 542 272 513 q 361 592 338 570 q 399 638 385 615 q 421 689 414 662 q 428 751 428 715 q 418 811 428 784 q 388 857 408 838 q 340 887 369 876 q 273 897 311 897 q 166 880 217 897 q 68 839 115 862 l 25 937 q 144 986 80 966 q 273 1006 208 1006 q 387 988 336 1006 q 473 939 437 971 q 527 859 508 906 q 546 753 546 812 q 537 672 546 707 q 509 606 528 636 q 464 547 491 575 q 400 486 437 518 q 342 433 365 456 q 307 389 320 410 q 290 345 294 368 q 285 293 285 323 l 285 281 l 191 281 m 158 75 q 165 119 158 101 q 183 148 172 137 q 210 164 195 159 q 244 170 226 170 q 278 164 262 170 q 305 148 294 159 q 323 119 317 137 q 330 75 330 101 q 323 32 330 50 q 305 3 317 14 q 278 -14 294 -9 q 244 -20 262 -20 q 210 -14 226 -20 q 183 3 195 -9 q 165 32 172 14 q 158 75 158 50 z "
        },
        "@": {
            ha: 1203,
            x_min: 74,
            x_max: 1129,
            o: "m 1129 496 q 1123 411 1129 454 q 1104 331 1116 369 q 1072 259 1091 292 q 1027 202 1053 227 q 968 164 1001 178 q 896 150 935 150 q 841 160 865 150 q 798 187 816 170 q 769 226 781 204 q 754 272 758 248 l 751 272 q 721 224 739 247 q 679 185 703 202 q 624 159 654 169 q 558 150 594 150 q 466 169 506 150 q 397 222 425 188 q 355 304 370 256 q 340 411 340 353 q 360 536 340 479 q 418 635 380 593 q 509 699 456 676 q 629 722 563 722 q 690 720 660 722 q 749 712 721 717 q 800 702 777 707 q 839 690 823 696 l 823 408 q 822 384 823 393 q 822 370 822 375 q 822 361 822 364 q 822 357 822 359 q 829 298 822 321 q 848 261 836 275 q 874 242 859 248 q 904 237 888 237 q 959 258 935 237 q 999 314 983 279 q 1023 397 1015 349 q 1031 497 1031 444 q 1002 668 1031 593 q 921 795 972 743 q 799 873 869 846 q 644 900 728 900 q 442 862 530 900 q 295 757 355 825 q 205 597 236 690 q 175 395 175 505 q 202 213 175 292 q 280 79 229 134 q 409 -3 332 25 q 586 -31 486 -31 q 668 -26 627 -31 q 746 -13 708 -21 q 817 6 783 -5 q 880 28 851 16 l 880 -68 q 749 -109 822 -94 q 587 -123 675 -123 q 371 -89 466 -123 q 209 12 275 -54 q 109 173 143 78 q 74 390 74 269 q 114 628 74 517 q 228 819 154 738 q 408 945 302 899 q 644 991 513 991 q 839 957 750 991 q 992 859 928 923 q 1093 703 1057 795 q 1129 496 1129 611 m 449 408 q 483 278 449 318 q 575 237 517 237 q 639 253 612 237 q 682 296 665 268 q 708 363 699 324 q 720 449 717 402 l 729 621 q 684 630 710 626 q 629 635 658 635 q 545 615 579 635 q 489 564 511 595 q 458 491 468 532 q 449 408 449 450 z "
        },
        A: {
            ha: 844,
            x_min: 0,
            x_max: 844,
            o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 z "
        },
        B: {
            ha: 863,
            x_min: 135,
            x_max: 786,
            o: "m 135 991 l 406 991 q 558 978 492 991 q 669 936 625 965 q 736 858 713 906 q 758 741 758 810 q 745 662 758 699 q 707 597 732 625 q 645 551 682 570 q 561 526 608 532 l 561 519 q 649 496 608 511 q 720 454 690 481 q 768 387 751 427 q 786 288 786 346 q 764 166 786 220 q 700 76 742 113 q 599 20 659 39 q 464 0 539 0 l 135 0 l 135 991 m 261 571 l 427 571 q 522 581 484 571 q 585 611 561 591 q 619 662 608 631 q 629 732 629 692 q 577 848 629 813 q 412 884 525 884 l 261 884 l 261 571 m 261 465 l 261 107 l 441 107 q 542 121 501 107 q 607 159 582 134 q 642 217 631 183 q 653 293 653 252 q 642 363 653 331 q 605 417 631 395 q 538 453 580 440 q 433 465 496 465 l 261 465 z "
        },
        C: {
            ha: 838,
            x_min: 85,
            x_max: 798,
            o: "m 538 895 q 406 867 465 895 q 306 788 347 840 q 241 663 264 736 q 218 496 218 589 q 238 326 218 400 q 298 201 258 252 q 398 123 338 150 q 538 97 458 97 q 652 109 598 97 q 760 136 707 121 l 760 26 q 707 8 733 16 q 651 -4 680 1 q 590 -11 623 -9 q 517 -14 557 -14 q 324 23 406 -14 q 190 127 243 60 q 111 288 136 194 q 85 497 85 382 q 114 703 85 610 q 201 864 144 797 q 343 968 258 931 q 538 1006 428 1006 q 677 991 611 1006 q 798 947 744 976 l 745 842 q 652 879 702 863 q 538 895 602 895 z "
        },
        D: {
            ha: 950,
            x_min: 135,
            x_max: 865,
            o: "m 865 505 q 833 285 865 380 q 739 127 800 191 q 587 32 677 64 q 383 0 497 0 l 135 0 l 135 991 l 411 991 q 599 960 515 991 q 742 868 683 929 q 833 715 801 806 q 865 505 865 625 m 732 501 q 709 672 732 600 q 644 791 687 745 q 539 861 602 838 q 397 884 477 884 l 261 884 l 261 109 l 371 109 q 641 208 550 109 q 732 501 732 307 z "
        },
        E: {
            ha: 733,
            x_min: 135,
            x_max: 650,
            o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 z "
        },
        F: {
            ha: 682,
            x_min: 135,
            x_max: 650,
            o: "m 261 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 530 l 624 530 l 624 419 l 261 419 l 261 0 z "
        },
        G: {
            ha: 958,
            x_min: 85,
            x_max: 859,
            o: "m 530 524 l 859 524 l 859 37 q 783 16 821 25 q 705 0 745 6 q 621 -10 665 -7 q 526 -14 577 -14 q 338 22 420 -14 q 199 124 256 58 q 114 284 143 190 q 85 497 85 379 q 117 708 85 614 q 211 868 149 802 q 363 970 273 935 q 570 1006 454 1006 q 714 991 645 1006 q 843 947 783 976 l 794 838 q 742 859 770 849 q 684 877 713 869 q 622 890 654 885 q 559 895 591 895 q 413 867 477 895 q 306 788 349 840 q 241 663 263 736 q 218 496 218 589 q 237 334 218 408 q 296 208 256 261 q 401 126 337 155 q 557 97 466 97 q 611 99 587 97 q 657 103 636 100 q 697 110 678 106 q 733 117 715 113 l 733 412 l 530 412 l 530 524 z "
        },
        H: {
            ha: 974,
            x_min: 135,
            x_max: 839,
            o: "m 839 0 l 713 0 l 713 463 l 261 463 l 261 0 l 135 0 l 135 991 l 261 991 l 261 574 l 713 574 l 713 991 l 839 991 l 839 0 z "
        },
        I: {
            ha: 471,
            x_min: 56,
            x_max: 415,
            o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 z "
        },
        J: {
            ha: 376,
            x_min: -125,
            x_max: 252,
            o: "m -20 -264 q -80 -259 -54 -264 q -125 -248 -106 -255 l -125 -139 q -75 -149 -102 -145 q -18 -153 -49 -153 q 32 -146 7 -153 q 78 -123 58 -140 q 112 -76 99 -106 q 125 0 125 -46 l 125 991 l 252 991 l 252 14 q 232 -110 252 -58 q 176 -196 212 -162 q 91 -247 140 -231 q -20 -264 41 -264 z "
        },
        K: {
            ha: 804,
            x_min: 135,
            x_max: 804,
            o: "m 804 0 l 661 0 l 355 473 l 261 396 l 261 0 l 135 0 l 135 991 l 261 991 l 261 496 l 343 610 l 650 991 l 791 991 l 439 559 l 804 0 z "
        },
        L: {
            ha: 682,
            x_min: 135,
            x_max: 650,
            o: "m 135 0 l 135 991 l 261 991 l 261 113 l 650 113 l 650 0 l 135 0 z "
        },
        M: {
            ha: 1208,
            x_min: 135,
            x_max: 1074,
            o: "m 545 0 l 244 868 l 239 868 q 245 768 243 818 q 250 679 248 726 q 252 593 252 631 l 252 0 l 135 0 l 135 991 l 322 991 l 602 183 l 606 183 l 886 991 l 1074 991 l 1074 0 l 947 0 l 947 602 q 949 682 947 637 q 952 769 950 728 q 957 867 955 817 l 951 867 l 648 0 l 545 0 z "
        },
        N: {
            ha: 1013,
            x_min: 135,
            x_max: 878,
            o: "m 878 0 l 732 0 l 244 821 l 239 821 q 245 717 243 768 q 250 625 248 673 q 252 538 252 576 l 252 0 l 135 0 l 135 991 l 279 991 l 765 175 l 770 175 q 765 277 768 227 q 763 321 764 298 q 761 367 762 344 q 760 410 760 389 q 760 449 760 431 l 760 991 l 878 991 l 878 0 z "
        },
        O: {
            ha: 1031,
            x_min: 85,
            x_max: 945,
            o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 z "
        },
        P: {
            ha: 800,
            x_min: 135,
            x_max: 729,
            o: "m 729 701 q 710 583 729 640 q 649 482 692 526 q 536 412 606 438 q 363 386 466 386 l 261 386 l 261 0 l 135 0 l 135 991 l 380 991 q 537 972 471 991 q 646 916 603 953 q 709 825 688 879 q 729 701 729 770 m 261 493 l 349 493 q 459 504 412 493 q 537 539 506 515 q 583 601 568 563 q 599 694 599 640 q 543 837 599 791 q 370 884 488 884 l 261 884 l 261 493 z "
        },
        Q: {
            ha: 1029,
            x_min: 85,
            x_max: 945,
            o: "m 945 497 q 928 332 945 408 q 879 194 911 255 q 799 87 847 132 q 688 17 751 43 q 763 -95 717 -47 q 871 -184 810 -144 l 789 -281 q 660 -164 719 -231 q 567 -11 602 -97 q 542 -13 555 -12 q 515 -14 528 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 z "
        },
        R: {
            ha: 819,
            x_min: 135,
            x_max: 803,
            o: "m 261 410 l 261 0 l 135 0 l 135 991 l 376 991 q 643 922 557 991 q 729 710 729 852 q 712 607 729 651 q 668 531 696 563 q 606 479 641 500 q 533 444 570 458 l 803 0 l 654 0 l 416 410 l 261 410 m 261 517 l 372 517 q 476 529 433 517 q 546 564 519 541 q 586 622 574 587 q 599 704 599 657 q 585 787 599 753 q 543 842 571 821 q 472 874 515 864 q 370 884 429 884 l 261 884 l 261 517 z "
        },
        S: {
            ha: 721,
            x_min: 71,
            x_max: 657,
            o: "m 657 265 q 634 148 657 199 q 567 60 610 96 q 461 5 524 24 q 321 -14 399 -14 q 180 -2 245 -14 q 71 33 115 10 l 71 154 q 123 133 94 143 q 185 114 153 122 q 252 101 218 106 q 321 96 287 96 q 481 136 429 96 q 533 253 533 177 q 523 317 533 290 q 489 367 513 344 q 422 411 464 389 q 318 457 381 432 q 213 509 258 481 q 140 572 169 537 q 97 652 111 608 q 83 754 83 697 q 105 861 83 814 q 166 940 127 907 q 260 989 205 972 q 380 1006 315 1006 q 526 990 461 1006 q 640 951 590 975 l 595 846 q 495 880 551 865 q 379 895 439 895 q 251 856 296 895 q 205 753 205 818 q 216 686 205 714 q 250 635 226 658 q 312 592 273 612 q 408 550 351 572 q 516 500 470 526 q 594 441 563 474 q 641 366 625 409 q 657 265 657 323 z "
        },
        T: {
            ha: 721,
            x_min: 14,
            x_max: 707,
            o: "m 424 0 l 297 0 l 297 880 l 14 880 l 14 991 l 707 991 l 707 880 l 424 880 l 424 0 z "
        },
        U: {
            ha: 970,
            x_min: 125,
            x_max: 844,
            o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 z "
        },
        V: {
            ha: 789,
            x_min: 0,
            x_max: 789,
            o: "m 654 991 l 789 991 l 457 0 l 330 0 l 0 991 l 134 991 l 334 363 q 368 244 353 301 q 393 136 382 186 q 419 244 404 186 q 456 367 435 301 l 654 991 z "
        },
        W: {
            ha: 1227,
            x_min: 14,
            x_max: 1214,
            o: "m 549 991 l 682 991 l 838 411 q 858 335 848 373 q 876 261 867 297 q 891 194 884 226 q 901 136 897 162 q 908 193 904 162 q 918 257 912 223 q 929 325 923 290 q 943 393 936 360 l 1079 991 l 1214 991 l 965 0 l 838 0 l 665 636 q 647 707 656 671 q 631 776 638 744 q 615 848 623 813 q 600 777 608 814 q 585 707 593 745 q 567 632 576 669 l 403 0 l 275 0 l 14 991 l 147 991 l 298 389 q 313 324 307 357 q 326 257 320 290 q 336 193 332 224 q 345 136 341 162 q 353 195 348 161 q 365 264 358 228 q 379 339 372 301 q 396 410 387 376 l 549 991 z "
        },
        X: {
            ha: 760,
            x_min: 0,
            x_max: 760,
            o: "m 760 0 l 616 0 l 376 431 l 127 0 l 0 0 l 307 518 l 21 991 l 155 991 l 380 612 l 607 991 l 736 991 l 450 522 l 760 0 z "
        },
        Y: {
            ha: 732,
            x_min: 0,
            x_max: 732,
            o: "m 366 490 l 596 991 l 732 991 l 429 386 l 429 0 l 302 0 l 302 379 l 0 991 l 138 991 l 366 490 z "
        },
        Z: {
            ha: 749,
            x_min: 56,
            x_max: 693,
            o: "m 693 0 l 56 0 l 56 98 l 538 879 l 69 879 l 69 991 l 679 991 l 679 893 l 197 113 l 693 113 l 693 0 z "
        },
        "[": {
            ha: 421,
            x_min: 111,
            x_max: 386,
            o: "m 386 -220 l 111 -220 l 111 991 l 386 991 l 386 890 l 235 890 l 235 -118 l 386 -118 l 386 -220 z "
        },
        "\\": {
            ha: 518,
            x_min: 16,
            x_max: 505,
            o: "m 136 991 l 505 0 l 385 0 l 16 991 l 136 991 z "
        },
        "]": {
            ha: 421,
            x_min: 35,
            x_max: 310,
            o: "m 35 -118 l 186 -118 l 186 890 l 35 890 l 35 991 l 310 991 l 310 -220 l 35 -220 l 35 -118 z "
        },
        "^": {
            ha: 739,
            x_min: 28,
            x_max: 711,
            o: "m 28 372 l 339 999 l 408 999 l 711 372 l 602 372 l 374 871 l 137 372 l 28 372 z "
        },
        _: {
            ha: 571,
            x_min: -3,
            x_max: 574,
            o: "m 574 -220 l -3 -220 l -3 -125 l 574 -125 l 574 -220 z "
        },
        "`": {
            ha: 802,
            x_min: 267,
            x_max: 533,
            o: "m 533 842 l 452 842 q 400 889 428 861 q 346 947 372 917 q 299 1004 320 977 q 267 1050 277 1031 l 267 1064 l 415 1064 q 440 1014 426 1041 q 471 959 455 986 q 503 905 486 931 q 533 860 519 880 l 533 842 z "
        },
        a: {
            ha: 737,
            x_min: 64,
            x_max: 627,
            o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 z "
        },
        b: {
            ha: 814,
            x_min: 118,
            x_max: 737,
            o: "m 454 758 q 570 734 518 758 q 660 661 623 709 q 717 541 696 612 q 737 374 737 469 q 717 206 737 278 q 660 85 696 134 q 570 11 623 36 q 454 -14 518 -14 q 382 -5 414 -14 q 323 19 349 4 q 277 53 297 33 q 241 94 257 73 l 233 94 l 208 0 l 118 0 l 118 1055 l 241 1055 l 241 800 q 241 750 241 777 q 239 700 240 723 q 236 647 237 673 l 241 647 q 277 691 257 671 q 322 726 296 711 q 381 750 349 741 q 454 758 414 758 m 431 656 q 340 638 376 656 q 282 586 304 621 q 251 498 260 551 q 241 374 241 445 q 251 252 241 305 q 282 162 260 199 q 340 107 304 126 q 432 89 377 89 q 567 163 524 89 q 610 375 610 237 q 567 586 610 516 q 431 656 524 656 z "
        },
        c: {
            ha: 643,
            x_min: 77,
            x_max: 596,
            o: "m 403 -14 q 275 8 334 -14 q 171 76 215 29 q 102 194 127 122 q 77 368 77 267 q 102 549 77 475 q 173 670 128 623 q 279 737 218 716 q 408 758 339 758 q 512 747 461 758 q 596 718 562 735 l 559 614 q 525 627 544 621 q 486 638 506 633 q 446 647 465 644 q 408 650 426 650 q 253 582 302 650 q 204 370 204 513 q 253 160 204 227 q 403 94 302 94 q 502 107 458 94 q 583 136 547 119 l 583 26 q 505 -3 547 7 q 403 -14 463 -14 z "
        },
        d: {
            ha: 814,
            x_min: 77,
            x_max: 696,
            o: "m 578 100 l 572 100 q 537 56 557 77 q 491 20 517 35 q 433 -5 465 4 q 359 -14 400 -14 q 244 11 296 -14 q 155 84 192 35 q 97 204 117 132 q 77 371 77 276 q 97 539 77 467 q 155 660 117 611 q 244 733 192 709 q 359 758 296 758 q 432 749 399 758 q 491 726 465 741 q 537 691 517 711 q 572 650 557 671 l 581 650 q 576 694 578 673 q 574 730 575 711 q 572 760 572 749 l 572 1055 l 696 1055 l 696 0 l 596 0 l 578 100 m 383 89 q 470 104 435 89 q 528 152 506 120 q 561 232 550 184 q 572 343 571 279 l 572 371 q 563 493 572 439 q 532 582 554 546 q 473 637 510 618 q 382 656 437 656 q 247 582 290 656 q 204 370 204 508 q 247 158 204 228 q 383 89 290 89 z "
        },
        e: {
            ha: 743,
            x_min: 77,
            x_max: 673,
            o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 z "
        },
        f: {
            ha: 457,
            x_min: 20,
            x_max: 510,
            o: "m 441 652 l 275 652 l 275 0 l 151 0 l 151 652 l 20 652 l 20 703 l 151 749 l 151 814 q 166 934 151 886 q 211 1010 182 982 q 281 1051 239 1039 q 376 1063 323 1063 q 450 1055 416 1063 q 510 1038 484 1047 l 478 942 q 432 955 457 949 q 380 961 408 961 q 334 955 353 961 q 301 932 314 948 q 282 887 288 916 q 275 815 275 859 l 275 745 l 441 745 l 441 652 z "
        },
        g: {
            ha: 720,
            x_min: 25,
            x_max: 692,
            o: "m 692 745 l 692 668 l 558 650 q 590 589 577 626 q 603 505 603 552 q 587 410 603 454 q 539 334 571 366 q 459 284 507 302 q 349 267 412 267 q 319 267 334 267 q 294 269 304 267 q 272 254 283 262 q 251 235 260 245 q 236 210 242 224 q 231 180 231 197 q 239 151 231 162 q 261 134 247 140 q 294 125 275 127 q 334 123 313 123 l 453 123 q 559 107 516 123 q 630 64 603 92 q 670 0 658 37 q 682 -78 682 -37 q 660 -185 682 -138 q 593 -266 638 -233 q 478 -316 547 -298 q 314 -334 408 -334 q 187 -319 241 -334 q 97 -278 133 -305 q 43 -213 61 -251 q 25 -126 25 -174 q 38 -55 25 -85 q 74 -1 52 -24 q 126 35 96 21 q 187 57 155 50 q 140 98 159 70 q 122 161 122 125 q 144 233 122 203 q 212 292 165 263 q 159 325 183 304 q 118 374 135 347 q 93 434 102 401 q 83 501 83 467 q 100 609 83 562 q 151 690 117 656 q 233 741 184 723 q 349 758 283 758 q 400 754 374 758 q 446 745 427 751 l 692 745 m 142 -122 q 151 -169 142 -147 q 179 -206 159 -191 q 232 -231 199 -222 q 314 -240 265 -240 q 503 -201 440 -240 q 566 -89 566 -162 q 557 -38 566 -58 q 531 -7 549 -18 q 481 8 512 4 q 407 12 451 12 l 288 12 q 238 7 264 12 q 191 -14 212 1 q 156 -55 170 -28 q 142 -122 142 -81 m 204 505 q 241 389 204 427 q 345 351 277 351 q 447 389 412 351 q 482 507 482 427 q 447 630 482 591 q 343 669 411 669 q 240 629 276 669 q 204 505 204 588 z "
        },
        h: {
            ha: 818,
            x_min: 118,
            x_max: 707,
            o: "m 583 0 l 583 479 q 548 612 583 568 q 436 656 512 656 q 344 638 381 656 q 284 586 307 621 q 251 501 261 551 q 241 386 241 451 l 241 0 l 118 0 l 118 1055 l 241 1055 l 241 742 l 236 644 l 243 644 q 283 695 260 673 q 334 730 307 716 q 393 751 362 745 q 457 758 425 758 q 644 693 581 758 q 707 486 707 629 l 707 0 l 583 0 z "
        },
        i: {
            ha: 359,
            x_min: 109,
            x_max: 253,
            o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 109 946 q 129 1005 109 987 q 180 1023 150 1023 q 209 1019 195 1023 q 232 1005 222 1015 q 247 981 241 996 q 253 946 253 966 q 232 887 253 907 q 180 868 210 868 q 129 887 150 868 q 109 946 109 906 z "
        },
        j: {
            ha: 359,
            x_min: -46,
            x_max: 253,
            o: "m 45 -334 q -9 -329 12 -334 q -46 -317 -31 -324 l -46 -216 q -10 -227 -28 -223 q 32 -231 8 -231 q 66 -225 50 -231 q 93 -207 81 -220 q 112 -172 105 -194 q 118 -115 118 -150 l 118 745 l 241 745 l 241 -107 q 230 -201 241 -159 q 194 -272 218 -243 q 133 -318 170 -302 q 45 -334 96 -334 m 109 946 q 129 1005 109 987 q 180 1023 150 1023 q 209 1019 195 1023 q 232 1005 222 1015 q 247 981 241 996 q 253 946 253 966 q 232 887 253 907 q 180 868 210 868 q 129 887 150 868 q 109 946 109 906 z "
        },
        k: {
            ha: 689,
            x_min: 118,
            x_max: 684,
            o: "m 232 385 l 323 500 l 522 745 l 665 745 l 393 422 l 684 0 l 542 0 l 314 342 l 240 286 l 240 0 l 118 0 l 118 1055 l 240 1055 l 240 571 l 229 385 l 232 385 z "
        },
        l: {
            ha: 359,
            x_min: 118,
            x_max: 241,
            o: "m 241 0 l 118 0 l 118 1055 l 241 1055 l 241 0 z "
        },
        m: {
            ha: 1244,
            x_min: 118,
            x_max: 1133,
            o: "m 1010 0 l 1010 479 q 976 612 1010 568 q 871 656 942 656 q 787 640 821 656 q 730 593 752 624 q 698 516 708 562 q 688 411 688 471 l 688 0 l 564 0 l 564 479 q 530 612 564 568 q 425 656 496 656 q 338 638 373 656 q 281 586 302 621 q 251 501 260 551 q 241 386 241 451 l 241 0 l 118 0 l 118 745 l 218 745 l 236 644 l 243 644 q 281 695 259 673 q 331 730 304 716 q 388 751 357 745 q 449 758 418 758 q 584 728 530 758 q 664 635 638 699 l 669 635 q 712 690 687 667 q 766 728 736 713 q 828 751 795 743 q 895 758 861 758 q 1073 693 1013 758 q 1133 486 1133 629 l 1133 0 l 1010 0 z "
        },
        n: {
            ha: 818,
            x_min: 118,
            x_max: 707,
            o: "m 583 0 l 583 479 q 548 612 583 568 q 436 656 512 656 q 344 638 381 656 q 284 586 307 621 q 251 501 261 551 q 241 386 241 451 l 241 0 l 118 0 l 118 745 l 218 745 l 236 644 l 243 644 q 283 695 260 673 q 334 730 307 716 q 393 751 362 745 q 457 758 425 758 q 644 693 581 758 q 707 486 707 629 l 707 0 l 583 0 z "
        },
        o: {
            ha: 802,
            x_min: 77,
            x_max: 725,
            o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 z "
        },
        p: {
            ha: 814,
            x_min: 118,
            x_max: 737,
            o: "m 454 -14 q 382 -5 414 -14 q 323 19 349 4 q 277 53 297 33 q 241 94 257 73 l 233 94 q 237 50 235 71 q 240 14 239 33 q 241 -16 241 -5 l 241 -334 l 118 -334 l 118 745 l 218 745 l 236 644 l 241 644 q 277 689 257 668 q 322 725 296 709 q 381 749 349 740 q 454 758 414 758 q 570 734 518 758 q 660 661 623 709 q 717 541 696 612 q 737 374 737 469 q 717 206 737 278 q 660 85 696 134 q 570 11 623 36 q 454 -14 518 -14 m 431 656 q 343 640 379 656 q 286 593 308 625 q 253 513 264 561 q 241 401 243 466 l 241 374 q 251 252 241 305 q 282 162 260 199 q 340 107 304 126 q 432 89 377 89 q 567 163 524 89 q 610 375 610 237 q 567 586 610 516 q 431 656 524 656 z "
        },
        q: {
            ha: 814,
            x_min: 77,
            x_max: 696,
            o: "m 383 89 q 470 104 435 89 q 528 152 506 120 q 561 232 550 184 q 572 343 571 279 l 572 371 q 563 493 572 439 q 532 582 554 546 q 473 637 510 618 q 382 656 437 656 q 247 582 290 656 q 204 370 204 508 q 247 158 204 228 q 383 89 290 89 m 359 -14 q 244 11 296 -14 q 155 84 192 35 q 97 204 117 132 q 77 371 77 276 q 97 539 77 467 q 155 660 117 611 q 244 733 192 709 q 359 758 296 758 q 432 749 399 758 q 490 725 465 740 q 536 689 516 709 q 572 644 557 668 l 578 644 l 596 745 l 696 745 l 696 -334 l 572 -334 l 572 -16 q 574 17 572 -3 q 576 55 575 37 q 581 100 578 77 l 572 100 q 537 56 557 77 q 491 20 517 35 q 433 -5 465 4 q 359 -14 400 -14 z "
        },
        r: {
            ha: 554,
            x_min: 118,
            x_max: 526,
            o: "m 440 758 q 484 756 460 758 q 526 751 509 755 l 510 637 q 471 643 491 641 q 433 646 451 646 q 355 628 391 646 q 295 579 320 611 q 255 502 269 547 q 241 401 241 456 l 241 0 l 118 0 l 118 745 l 218 745 l 233 608 l 239 608 q 275 665 256 637 q 318 712 294 692 q 372 746 342 733 q 440 758 402 758 z "
        },
        s: {
            ha: 627,
            x_min: 61,
            x_max: 564,
            o: "m 564 204 q 544 109 564 150 q 487 41 524 68 q 398 0 450 14 q 281 -14 346 -14 q 154 -2 207 -14 q 61 33 101 10 l 61 146 q 108 124 82 135 q 162 106 134 114 q 221 93 191 98 q 281 87 251 87 q 356 95 325 87 q 406 116 387 102 q 434 150 425 130 q 443 195 443 170 q 436 233 443 216 q 411 266 429 250 q 362 300 393 283 q 282 338 331 317 q 194 379 233 359 q 128 425 155 399 q 86 483 101 450 q 72 561 72 515 q 91 645 72 608 q 143 707 109 682 q 224 745 177 732 q 330 758 272 758 q 451 744 396 758 q 554 707 505 730 l 511 607 q 421 641 467 627 q 326 656 374 656 q 224 633 257 656 q 191 568 191 610 q 198 527 191 545 q 225 494 206 509 q 276 462 244 478 q 355 427 308 446 q 443 386 404 406 q 508 340 481 366 q 549 282 535 315 q 564 204 564 250 z "
        },
        t: {
            ha: 471,
            x_min: 22,
            x_max: 444,
            o: "m 343 87 q 371 89 355 87 q 400 92 386 90 q 426 97 414 94 q 444 102 438 100 l 444 8 q 422 0 435 4 q 392 -7 408 -4 q 358 -12 376 -10 q 323 -14 340 -14 q 245 -3 281 -14 q 183 35 210 8 q 142 106 157 61 q 127 220 127 151 l 127 652 l 22 652 l 22 707 l 127 760 l 180 916 l 252 916 l 252 745 l 439 745 l 439 652 l 252 652 l 252 220 q 273 121 252 154 q 343 87 294 87 z "
        },
        u: {
            ha: 818,
            x_min: 111,
            x_max: 700,
            o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 z "
        },
        v: {
            ha: 665,
            x_min: 0,
            x_max: 665,
            o: "m 254 0 l 0 745 l 127 745 l 262 330 q 280 273 270 308 q 300 201 290 237 q 319 132 311 164 q 330 82 328 99 l 335 82 q 347 132 338 99 q 365 201 355 164 q 385 273 375 237 q 403 330 395 308 l 538 745 l 665 745 l 411 0 l 254 0 z "
        },
        w: {
            ha: 1036,
            x_min: 14,
            x_max: 1022,
            o: "m 684 0 l 570 418 q 563 445 567 430 q 555 477 559 460 q 546 512 551 494 q 538 547 542 530 q 518 628 528 586 l 514 628 q 496 546 505 585 q 480 476 488 512 q 464 415 471 440 l 347 0 l 204 0 l 14 745 l 143 745 l 232 349 q 245 282 239 318 q 258 212 252 247 q 269 146 264 177 q 277 96 274 115 l 281 96 q 290 143 284 113 q 303 205 296 172 q 317 270 310 238 q 332 325 325 302 l 453 745 l 586 745 l 703 325 q 716 271 709 302 q 732 207 724 239 q 745 145 739 175 q 754 96 751 115 l 758 96 q 765 143 760 113 q 775 208 769 172 q 788 280 781 243 q 803 349 795 317 l 896 745 l 1022 745 l 829 0 l 684 0 z "
        },
        x: {
            ha: 694,
            x_min: 24,
            x_max: 669,
            o: "m 277 382 l 37 745 l 178 745 l 347 467 l 517 745 l 657 745 l 416 382 l 669 0 l 529 0 l 347 296 l 164 0 l 24 0 l 277 382 z "
        },
        y: {
            ha: 679,
            x_min: 7,
            x_max: 672,
            o: "m 7 745 l 135 745 l 281 329 q 300 272 290 302 q 318 212 310 242 q 333 155 327 182 q 342 103 339 127 l 346 103 q 357 149 349 120 q 373 211 364 178 q 392 276 382 244 q 410 330 402 308 l 545 745 l 672 745 l 378 -97 q 337 -196 359 -152 q 286 -270 315 -239 q 217 -317 256 -300 q 123 -334 178 -334 q 62 -330 88 -334 q 18 -322 37 -326 l 18 -224 q 54 -230 33 -227 q 100 -232 76 -232 q 156 -224 132 -232 q 197 -201 180 -216 q 228 -165 215 -186 q 250 -115 240 -143 l 289 -7 l 7 745 z "
        },
        z: {
            ha: 612,
            x_min: 56,
            x_max: 557,
            o: "m 557 0 l 56 0 l 56 85 l 419 652 l 78 652 l 78 745 l 545 745 l 545 646 l 189 93 l 557 93 l 557 0 z "
        },
        "{": {
            ha: 492,
            x_min: 41,
            x_max: 457,
            o: "m 339 -11 q 347 -64 339 -43 q 371 -97 355 -85 q 408 -113 386 -109 q 457 -118 430 -117 l 457 -220 q 360 -208 405 -219 q 284 -173 316 -197 q 233 -111 252 -149 q 215 -21 215 -74 l 215 205 q 171 304 215 275 q 41 334 126 334 l 41 439 q 171 468 126 439 q 215 567 215 497 l 215 793 q 233 883 215 846 q 284 944 252 920 q 360 980 316 968 q 457 991 405 991 l 457 890 q 408 885 430 890 q 371 869 386 881 q 347 837 355 857 q 339 783 339 816 l 339 558 q 299 445 339 487 q 180 390 258 404 l 180 382 q 299 327 258 368 q 339 214 339 286 l 339 -11 z "
        },
        "|": {
            ha: 765,
            x_min: 332,
            x_max: 433,
            o: "m 332 1055 l 433 1055 l 433 -334 l 332 -334 l 332 1055 z "
        },
        "}": {
            ha: 492,
            x_min: 35,
            x_max: 450,
            o: "m 153 214 q 193 327 153 286 q 311 382 233 368 l 311 390 q 193 445 233 404 q 153 558 153 487 l 153 783 q 144 837 153 816 q 121 869 136 857 q 84 885 106 881 q 35 890 62 890 l 35 991 q 131 980 87 991 q 208 944 176 968 q 258 883 240 920 q 277 793 277 846 l 277 567 q 288 507 277 532 q 321 468 299 483 q 376 446 343 452 q 450 439 408 439 l 450 334 q 321 304 366 334 q 277 205 277 275 l 277 -21 q 258 -111 277 -74 q 208 -173 240 -149 q 131 -208 176 -197 q 35 -220 87 -219 l 35 -118 q 84 -113 62 -117 q 121 -97 106 -109 q 144 -64 136 -85 q 153 -11 153 -43 l 153 214 z "
        },
        "~": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 359 441 q 316 460 334 452 q 282 472 297 467 q 253 478 267 476 q 224 479 239 479 q 184 473 205 479 q 144 455 164 467 q 105 429 124 444 q 69 397 86 414 l 69 507 q 237 581 137 581 q 274 579 257 581 q 310 573 291 577 q 351 560 328 568 q 406 538 374 551 q 449 519 431 527 q 484 508 468 512 q 513 502 500 503 q 542 500 527 500 q 581 506 561 500 q 622 524 602 513 q 661 550 642 535 q 696 582 680 565 l 696 472 q 528 399 629 399 q 491 400 508 399 q 455 407 474 402 q 414 419 437 411 q 359 441 391 428 z "
        },
        " ": {
            ha: 361,
            x_min: 0,
            x_max: 0,
            o: ""
        },
        "\xa1": {
            ha: 374,
            x_min: 100,
            x_max: 272,
            o: "m 144 458 l 227 458 l 261 -253 l 110 -253 l 144 458 m 272 664 q 266 620 272 638 q 247 591 259 602 q 220 575 235 580 q 186 570 204 570 q 153 575 168 570 q 125 591 137 580 q 106 620 113 602 q 100 664 100 638 q 106 707 100 689 q 125 736 113 724 q 153 753 137 747 q 186 758 168 758 q 220 753 204 758 q 247 736 235 747 q 266 707 259 724 q 272 664 272 689 z "
        },
        "\xa2": {
            ha: 765,
            x_min: 127,
            x_max: 647,
            o: "m 635 163 q 564 134 601 144 q 475 122 526 123 l 475 -14 l 382 -14 l 382 126 q 276 160 323 135 q 196 231 229 186 q 145 343 163 276 q 127 504 127 411 q 145 668 127 600 q 196 783 163 737 q 276 855 229 829 q 382 889 323 880 l 382 1006 l 475 1006 l 475 895 q 570 881 524 892 q 647 854 616 870 l 611 750 q 576 763 595 757 q 537 775 557 770 q 497 783 517 780 q 460 786 477 786 q 304 718 353 786 q 256 505 256 649 q 305 297 256 363 q 454 231 354 231 q 554 243 509 231 q 635 272 598 256 l 635 163 z "
        },
        "\xa3": {
            ha: 765,
            x_min: 46,
            x_max: 718,
            o: "m 452 1004 q 583 989 524 1004 q 686 950 642 974 l 642 852 q 556 887 604 872 q 457 901 508 901 q 397 892 425 901 q 349 863 369 883 q 317 811 328 843 q 306 734 306 779 l 306 534 l 561 534 l 561 441 l 306 441 l 306 298 q 298 226 306 256 q 277 174 290 196 q 247 138 264 153 q 211 113 229 123 l 718 113 l 718 0 l 46 0 l 46 104 q 101 126 76 112 q 143 163 125 140 q 172 219 161 186 q 182 297 182 252 l 182 441 l 47 441 l 47 534 l 182 534 l 182 754 q 202 860 182 813 q 257 938 222 906 q 342 987 293 970 q 452 1004 392 1004 z "
        },
        "\xa4": {
            ha: 765,
            x_min: 83,
            x_max: 681,
            o: "m 126 490 q 138 567 126 530 q 171 635 150 603 l 83 722 l 150 789 l 236 701 q 304 735 268 723 q 382 747 341 747 q 459 735 422 747 q 526 701 495 723 l 614 789 l 681 724 l 593 636 q 626 568 614 605 q 639 490 639 531 q 627 412 639 450 q 593 345 615 375 l 679 258 l 614 193 l 526 279 q 459 247 495 258 q 382 235 422 235 q 304 247 341 235 q 236 281 267 259 l 150 195 l 85 260 l 171 346 q 138 413 150 376 q 126 490 126 450 m 220 490 q 232 427 220 456 q 267 375 245 397 q 318 340 289 353 q 382 328 348 328 q 447 340 416 328 q 499 375 477 353 q 534 427 522 397 q 547 490 547 456 q 534 555 547 525 q 499 608 522 585 q 447 643 477 630 q 382 656 416 656 q 318 643 348 656 q 267 608 289 630 q 232 555 245 585 q 220 490 220 525 z "
        },
        "\xa5": {
            ha: 765,
            x_min: 20,
            x_max: 746,
            o: "m 382 490 l 616 991 l 746 991 l 485 471 l 647 471 l 647 378 l 443 378 l 443 271 l 647 271 l 647 178 l 443 178 l 443 0 l 322 0 l 322 178 l 118 178 l 118 271 l 322 271 l 322 378 l 118 378 l 118 471 l 277 471 l 20 991 l 150 991 l 382 490 z "
        },
        "\xa6": {
            ha: 765,
            x_min: 332,
            x_max: 433,
            o: "m 332 1055 l 433 1055 l 433 526 l 332 526 l 332 1055 m 332 196 l 433 196 l 433 -334 l 332 -334 l 332 196 z "
        },
        "\xa7": {
            ha: 675,
            x_min: 82,
            x_max: 585,
            o: "m 93 549 q 102 611 93 583 q 126 661 111 640 q 161 698 141 683 q 201 724 180 713 q 122 788 151 749 q 93 884 93 827 q 112 958 93 925 q 164 1015 130 991 q 245 1050 198 1038 q 351 1063 293 1063 q 470 1049 417 1063 q 572 1014 524 1036 l 534 920 q 443 952 490 939 q 347 965 395 965 q 245 945 280 965 q 211 886 211 925 q 219 852 211 868 q 247 822 227 837 q 298 791 266 807 q 378 755 330 775 q 465 714 427 736 q 530 666 503 692 q 570 607 556 640 q 585 532 585 574 q 576 468 585 496 q 554 416 568 439 q 523 376 541 393 q 486 349 505 359 q 559 286 533 323 q 585 196 585 249 q 565 110 585 148 q 508 46 545 73 q 419 7 471 20 q 301 -7 366 -7 q 175 4 228 -7 q 82 37 122 16 l 82 144 q 129 124 103 134 q 183 106 155 114 q 242 94 212 98 q 301 89 272 89 q 379 97 348 89 q 430 118 411 105 q 456 149 448 132 q 464 184 464 166 q 458 219 464 204 q 435 250 452 235 q 386 282 418 265 q 302 319 354 298 q 214 361 253 340 q 148 409 175 382 q 107 469 121 435 q 93 549 93 503 m 197 564 q 207 517 197 538 q 238 476 216 496 q 293 438 259 456 q 376 399 328 419 l 400 389 q 428 410 414 397 q 453 437 441 422 q 471 472 464 453 q 478 514 478 491 q 469 562 478 540 q 438 603 460 583 q 380 643 416 623 q 288 682 343 662 q 255 666 271 677 q 226 641 239 656 q 205 606 213 625 q 197 564 197 586 z "
        },
        "\xa8": {
            ha: 802,
            x_min: 208,
            x_max: 593,
            o: "m 208 946 q 227 999 208 983 q 273 1015 246 1015 q 319 999 300 1015 q 339 946 339 982 q 319 893 339 910 q 273 876 300 876 q 227 893 246 876 q 208 946 208 910 m 463 946 q 481 999 463 983 q 528 1015 500 1015 q 552 1011 541 1015 q 573 999 564 1007 q 587 977 582 990 q 593 946 593 964 q 573 893 593 910 q 528 876 553 876 q 481 893 500 876 q 463 946 463 910 z "
        },
        "\xa9": {
            ha: 1156,
            x_min: 68,
            x_max: 1088,
            o: "m 604 714 q 531 699 563 714 q 477 656 499 684 q 445 587 456 628 q 433 496 433 547 q 443 402 433 443 q 474 334 453 361 q 527 291 494 306 q 604 277 559 277 q 638 279 620 277 q 676 286 656 281 q 714 295 695 290 q 750 307 733 301 l 750 218 q 717 205 734 211 q 683 194 701 199 q 644 187 665 189 q 600 184 624 184 q 479 207 531 184 q 394 271 428 229 q 342 370 359 312 q 325 497 325 427 q 343 622 325 566 q 397 720 361 679 q 485 783 433 760 q 604 806 536 806 q 692 794 647 806 q 777 764 736 783 l 734 677 q 666 705 699 695 q 604 714 633 714 m 68 496 q 86 631 68 566 q 137 753 104 696 q 217 857 170 810 q 320 936 264 903 q 442 987 377 969 q 578 1006 507 1006 q 713 987 648 1006 q 835 936 779 969 q 939 857 892 903 q 1018 753 985 810 q 1069 631 1051 696 q 1088 496 1088 566 q 1069 360 1088 425 q 1018 238 1051 295 q 939 135 985 182 q 835 56 892 89 q 713 4 779 22 q 578 -14 648 -14 q 442 4 507 -14 q 320 56 377 22 q 217 135 264 89 q 137 238 170 182 q 86 360 104 295 q 68 496 68 425 m 142 496 q 176 326 142 406 q 270 188 210 247 q 408 94 329 128 q 578 60 488 60 q 747 94 668 60 q 886 188 827 128 q 980 326 945 247 q 1014 496 1014 406 q 980 665 1014 586 q 886 804 945 745 q 747 898 827 863 q 578 932 668 932 q 408 898 488 932 q 270 804 329 863 q 176 665 210 745 q 142 496 142 586 z "
        },
        "\xaa": {
            ha: 460,
            x_min: 46,
            x_max: 392,
            o: "m 330 541 l 311 596 q 286 569 299 581 q 257 549 273 557 q 222 536 241 541 q 179 532 203 532 q 125 541 150 532 q 83 567 101 549 q 56 610 66 584 q 46 671 46 636 q 94 777 46 740 q 239 817 142 813 l 306 819 l 306 840 q 285 908 306 889 q 227 928 264 928 q 163 918 194 928 q 104 893 133 908 l 72 961 q 146 991 106 979 q 227 1003 186 1003 q 352 967 311 1003 q 392 848 392 931 l 392 541 l 330 541 m 256 753 q 198 745 221 751 q 161 728 175 739 q 141 704 147 718 q 135 669 135 689 q 152 620 135 635 q 197 604 169 604 q 240 611 220 604 q 274 633 260 618 q 297 670 289 648 q 306 722 306 692 l 306 755 l 256 753 z "
        },
        "\xab": {
            ha: 676,
            x_min: 56,
            x_max: 621,
            o: "m 56 375 l 265 656 l 345 603 l 183 367 l 345 131 l 265 78 l 56 357 l 56 375 m 332 375 l 542 656 l 621 603 l 460 367 l 621 131 l 542 78 l 332 357 l 332 375 z "
        },
        "\xac": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 696 541 l 696 178 l 595 178 l 595 439 l 69 439 l 69 541 l 696 541 z "
        },
        "\xad": {
            ha: 447,
            x_min: 56,
            x_max: 392,
            o: "m 56 315 l 56 429 l 392 429 l 392 315 l 56 315 z "
        },
        "\xae": {
            ha: 1092,
            x_min: 61,
            x_max: 1023,
            o: "m 61 494 q 124 749 61 631 q 300 933 188 866 q 543 1001 412 1001 q 785 933 673 1001 q 960 749 897 866 q 1023 494 1023 631 q 962 244 1023 361 q 789 57 901 127 q 543 -14 677 -14 q 297 56 409 -14 q 123 243 184 126 q 61 494 61 359 m 139 494 q 193 278 139 378 q 341 123 248 179 q 543 66 434 66 q 745 124 652 66 q 892 279 839 181 q 945 494 945 378 q 892 708 945 610 q 745 863 839 806 q 543 920 652 920 q 340 864 434 920 q 193 709 247 808 q 139 494 139 610 m 443 444 l 443 214 l 347 214 l 347 790 l 534 790 q 695 746 638 790 q 753 616 753 701 q 666 489 753 533 q 749 351 749 455 l 749 309 q 761 225 749 251 l 761 214 l 663 214 q 653 301 653 239 q 651 376 653 364 q 562 444 640 441 l 443 444 m 443 530 l 549 530 q 627 554 597 532 q 657 613 657 576 q 631 683 657 663 q 536 704 604 704 l 443 704 l 443 530 z "
        },
        "\xaf": {
            ha: 694,
            x_min: -4,
            x_max: 699,
            o: "m 699 1055 l -4 1055 l -4 1150 l 699 1150 l 699 1055 z "
        },
        "\xb0": {
            ha: 595,
            x_min: 83,
            x_max: 511,
            o: "m 83 791 q 100 874 83 836 q 146 943 117 913 q 214 989 175 972 q 297 1006 253 1006 q 380 989 341 1006 q 448 943 419 972 q 494 874 477 913 q 511 791 511 836 q 494 709 511 747 q 448 641 477 670 q 380 596 419 612 q 297 579 341 579 q 214 596 253 579 q 146 641 175 612 q 100 709 117 670 q 83 791 83 747 m 167 791 q 177 742 167 765 q 205 701 187 718 q 246 673 222 683 q 297 663 270 663 q 348 673 324 663 q 390 701 372 683 q 418 742 408 718 q 428 791 428 765 q 418 843 428 819 q 390 885 408 867 q 348 913 372 903 q 297 924 324 924 q 246 913 270 924 q 205 885 222 903 q 177 843 187 867 q 167 791 167 819 z "
        },
        "\xb1": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 332 439 l 69 439 l 69 541 l 332 541 l 332 804 l 433 804 l 433 541 l 696 541 l 696 439 l 433 439 l 433 178 l 332 178 l 332 439 m 69 0 l 69 102 l 696 102 l 696 0 l 69 0 z "
        },
        "\xb2": {
            ha: 460,
            x_min: 33,
            x_max: 421,
            o: "m 421 397 l 33 397 l 33 473 l 175 628 q 238 699 214 670 q 276 750 262 728 q 295 793 290 773 q 300 836 300 813 q 277 902 300 880 q 218 924 255 924 q 152 907 184 924 q 90 864 121 890 l 37 928 q 119 982 74 960 q 220 1004 164 1004 q 293 993 260 1004 q 349 961 326 982 q 385 908 372 939 q 397 839 397 878 q 388 776 397 805 q 359 718 378 747 q 314 658 341 689 q 253 590 288 627 l 153 484 l 421 484 l 421 397 z "
        },
        "\xb3": {
            ha: 460,
            x_min: 21,
            x_max: 418,
            o: "m 400 851 q 373 762 400 798 q 298 710 345 726 q 388 659 358 694 q 418 570 418 623 q 404 495 418 529 q 362 437 391 461 q 292 399 334 413 q 191 386 249 386 q 101 394 143 386 q 21 424 60 403 l 21 514 q 109 478 64 491 q 189 465 153 465 q 286 493 256 465 q 315 571 315 522 q 279 644 315 621 q 178 667 243 667 l 111 667 l 111 743 l 178 743 q 269 770 240 743 q 297 840 297 797 q 290 878 297 862 q 272 904 283 894 q 244 919 260 914 q 210 924 228 924 q 137 910 170 924 q 69 871 104 896 l 22 936 q 63 964 42 951 q 106 985 83 977 q 155 999 130 994 q 211 1004 181 1004 q 293 993 258 1004 q 353 961 329 981 q 388 912 376 941 q 400 851 400 884 z "
        },
        "\xb4": {
            ha: 802,
            x_min: 267,
            x_max: 533,
            o: "m 267 860 q 297 905 281 880 q 329 959 313 931 q 359 1014 345 986 q 385 1064 374 1041 l 533 1064 l 533 1050 q 501 1004 522 1031 q 453 947 479 977 q 400 889 427 917 q 349 842 372 861 l 267 842 l 267 860 z "
        },
        "\xb5": {
            ha: 825,
            x_min: 118,
            x_max: 707,
            o: "m 241 265 q 277 133 241 177 q 389 89 313 89 q 481 106 444 89 q 542 158 519 124 q 574 243 564 193 q 583 358 583 293 l 583 745 l 707 745 l 707 0 l 607 0 l 589 100 l 582 100 q 500 15 549 43 q 382 -14 452 -14 q 297 2 333 -14 q 237 46 261 18 q 239 -7 238 20 q 241 -59 241 -31 q 241 -117 241 -88 l 241 -334 l 118 -334 l 118 745 l 241 745 l 241 265 z "
        },
        "\xb6": {
            ha: 909,
            x_min: 77,
            x_max: 764,
            o: "m 764 -176 l 682 -176 l 682 947 l 542 947 l 542 -176 l 460 -176 l 460 379 q 361 367 418 367 q 244 384 296 367 q 154 441 191 401 q 97 547 117 481 q 77 707 77 612 q 99 873 77 806 q 161 981 121 940 q 258 1038 201 1021 q 382 1055 314 1055 l 764 1055 l 764 -176 z "
        },
        "\xb7": {
            ha: 372,
            x_min: 100,
            x_max: 272,
            o: "m 100 490 q 106 534 100 516 q 125 563 113 552 q 152 579 136 574 q 186 585 168 585 q 219 579 203 585 q 247 563 235 574 q 265 534 258 552 q 272 490 272 516 q 265 448 272 465 q 247 418 258 430 q 219 401 235 407 q 186 396 203 396 q 152 401 168 396 q 125 418 136 407 q 106 448 113 430 q 100 490 100 465 z "
        },
        "\xb8": {
            ha: 285,
            x_min: 24,
            x_max: 277,
            o: "m 277 -195 q 229 -297 277 -260 q 79 -334 181 -334 q 49 -332 64 -334 q 24 -328 34 -330 l 24 -254 q 51 -257 34 -256 q 78 -258 67 -258 q 153 -244 126 -258 q 180 -196 180 -229 q 172 -168 180 -180 q 147 -147 163 -156 q 110 -132 132 -138 q 64 -119 89 -125 l 125 0 l 207 0 l 168 -78 q 211 -92 191 -83 q 245 -115 231 -101 q 268 -149 260 -129 q 277 -195 277 -168 z "
        },
        "\xb9": {
            ha: 460,
            x_min: 43,
            x_max: 300,
            o: "m 208 991 l 300 991 l 300 397 l 201 397 l 201 747 q 202 785 201 764 q 203 825 202 805 q 205 865 204 846 q 207 899 206 884 q 184 873 197 887 q 157 848 172 860 l 93 799 l 43 864 l 208 991 z "
        },
        "\xba": {
            ha: 486,
            x_min: 45,
            x_max: 441,
            o: "m 441 768 q 428 668 441 712 q 388 594 414 624 q 325 548 361 564 q 241 532 288 532 q 163 548 199 532 q 100 594 127 564 q 59 668 74 624 q 45 768 45 712 q 59 868 45 825 q 98 942 73 912 q 161 987 124 972 q 244 1003 198 1003 q 322 987 286 1003 q 385 942 359 972 q 427 868 412 912 q 441 768 441 825 m 134 768 q 159 647 134 688 q 243 606 184 606 q 326 647 300 606 q 351 768 351 688 q 326 889 351 850 q 243 928 300 928 q 159 889 184 928 q 134 768 134 850 z "
        },
        "\xbb": {
            ha: 676,
            x_min: 57,
            x_max: 623,
            o: "m 623 357 l 412 78 l 334 131 l 494 367 l 334 603 l 412 656 l 623 375 l 623 357 m 346 357 l 136 78 l 57 131 l 218 367 l 57 603 l 136 656 l 346 375 l 346 357 z "
        },
        "\xbc": {
            ha: 1023,
            x_min: 43,
            x_max: 962,
            o: "m 208 991 l 300 991 l 300 397 l 201 397 l 201 747 q 202 785 201 764 q 203 825 202 805 q 205 865 204 846 q 207 899 206 884 q 184 873 197 887 q 157 848 172 860 l 93 799 l 43 864 l 208 991 m 815 991 l 265 0 l 159 0 l 709 991 l 815 991 m 962 131 l 878 131 l 878 1 l 781 1 l 781 131 l 526 131 l 526 206 l 782 599 l 878 599 l 878 217 l 962 217 l 962 131 m 781 217 l 781 349 q 782 411 781 378 q 785 478 783 445 q 774 458 781 471 q 760 431 768 446 q 745 404 753 417 q 730 380 736 390 l 625 217 l 781 217 z "
        },
        "\xbd": {
            ha: 1023,
            x_min: 30,
            x_max: 977,
            o: "m 195 991 l 287 991 l 287 397 l 189 397 l 189 747 q 189 785 189 764 q 190 825 189 805 q 192 865 191 846 q 194 899 193 884 q 172 873 184 887 q 144 848 159 860 l 80 799 l 30 864 l 195 991 m 801 991 l 251 0 l 144 0 l 694 991 l 801 991 m 977 1 l 589 1 l 589 77 l 730 231 q 793 302 769 273 q 831 354 818 331 q 850 396 845 376 q 855 439 855 416 q 833 505 855 484 q 774 527 810 527 q 708 510 739 527 q 646 467 676 493 l 593 531 q 674 586 629 564 q 775 608 720 608 q 849 596 816 608 q 905 564 882 585 q 940 512 928 543 q 953 442 953 481 q 943 379 953 408 q 915 321 933 350 q 870 261 897 292 q 808 193 843 231 l 708 87 l 977 87 l 977 1 z "
        },
        "\xbe": {
            ha: 1023,
            x_min: 21,
            x_max: 1008,
            o: "m 400 851 q 373 762 400 798 q 298 710 345 726 q 388 659 358 694 q 418 570 418 623 q 404 495 418 529 q 362 437 391 461 q 292 399 334 413 q 191 386 249 386 q 101 394 143 386 q 21 424 60 403 l 21 514 q 109 478 64 491 q 189 465 153 465 q 286 493 256 465 q 315 571 315 522 q 279 644 315 621 q 178 667 243 667 l 111 667 l 111 743 l 178 743 q 269 770 240 743 q 297 840 297 797 q 290 878 297 862 q 272 904 283 894 q 244 919 260 914 q 210 924 228 924 q 137 910 170 924 q 69 871 104 896 l 22 936 q 63 964 42 951 q 106 985 83 977 q 155 999 130 994 q 211 1004 181 1004 q 293 993 258 1004 q 353 961 329 981 q 388 912 376 941 q 400 851 400 884 m 879 991 l 329 0 l 222 0 l 772 991 l 879 991 m 1008 131 l 923 131 l 923 1 l 826 1 l 826 131 l 572 131 l 572 206 l 827 599 l 923 599 l 923 217 l 1008 217 l 1008 131 m 826 217 l 826 349 q 827 411 826 378 q 830 478 828 445 q 820 458 827 471 q 806 431 813 446 q 790 404 798 417 q 776 380 782 390 l 671 217 l 826 217 z "
        },
        "\xbf": {
            ha: 591,
            x_min: 46,
            x_max: 567,
            o: "m 401 458 l 401 433 q 396 363 401 394 q 377 305 391 332 q 342 252 364 277 q 286 197 320 226 q 231 147 254 170 q 193 101 208 124 q 171 51 178 77 q 164 -12 164 24 q 174 -72 164 -45 q 204 -118 184 -98 q 252 -148 223 -137 q 318 -158 281 -158 q 426 -141 375 -158 q 524 -100 477 -123 l 567 -199 q 448 -247 511 -227 q 318 -267 384 -267 q 204 -249 255 -267 q 119 -199 154 -232 q 65 -120 84 -167 q 46 -14 46 -73 q 55 68 46 33 q 82 134 64 103 q 128 193 100 164 q 192 253 155 221 q 250 306 227 283 q 285 350 272 329 q 302 394 298 371 q 307 446 307 416 l 307 458 l 401 458 m 433 664 q 427 620 433 638 q 409 591 420 602 q 381 575 397 580 q 347 570 366 570 q 314 575 330 570 q 287 591 298 580 q 268 620 275 602 q 261 664 261 638 q 268 707 261 689 q 287 736 275 724 q 314 753 298 747 q 347 758 330 758 q 381 753 366 758 q 409 736 397 747 q 427 707 420 724 q 433 664 433 689 z "
        },
        "\xc0": {
            ha: 844,
            x_min: 0,
            x_max: 844,
            o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 488 1071 l 406 1071 q 355 1118 382 1090 q 301 1176 327 1146 q 253 1233 275 1206 q 221 1279 232 1261 l 221 1293 l 370 1293 q 395 1243 380 1270 q 425 1188 410 1215 q 457 1135 441 1160 q 488 1089 473 1109 l 488 1071 z "
        },
        "\xc1": {
            ha: 844,
            x_min: 0,
            x_max: 844,
            o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 362 1089 q 393 1135 377 1109 q 425 1188 409 1160 q 455 1243 441 1215 q 480 1293 469 1270 l 629 1293 l 629 1279 q 596 1233 618 1261 q 549 1176 575 1206 q 495 1118 523 1146 q 444 1071 468 1090 l 362 1071 l 362 1089 z "
        },
        "\xc2": {
            ha: 844,
            x_min: 0,
            x_max: 844,
            o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 646 1071 l 564 1071 q 493 1127 530 1094 q 421 1197 456 1160 q 349 1127 385 1160 q 278 1071 313 1094 l 196 1071 l 196 1089 q 237 1135 214 1109 q 282 1188 260 1160 q 325 1243 305 1215 q 356 1293 345 1270 l 486 1293 q 517 1243 497 1270 q 560 1188 537 1215 q 606 1135 583 1160 q 646 1089 629 1109 l 646 1071 z "
        },
        "\xc3": {
            ha: 844,
            x_min: 0,
            x_max: 844,
            o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 524 1072 q 470 1084 496 1072 q 417 1111 443 1096 q 368 1137 391 1125 q 322 1149 344 1149 q 275 1131 292 1149 q 250 1071 259 1113 l 179 1071 q 194 1145 182 1112 q 223 1201 205 1178 q 266 1237 241 1225 q 322 1250 291 1250 q 378 1238 351 1250 q 431 1212 406 1226 q 480 1186 457 1198 q 524 1174 504 1174 q 570 1192 554 1174 q 595 1251 585 1209 l 667 1251 q 652 1178 663 1211 q 623 1121 641 1145 q 580 1085 605 1098 q 524 1072 555 1072 z "
        },
        "\xc4": {
            ha: 844,
            x_min: 0,
            x_max: 844,
            o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 231 1175 q 250 1228 231 1212 q 296 1244 269 1244 q 342 1228 322 1244 q 361 1175 361 1211 q 342 1122 361 1139 q 296 1105 322 1105 q 250 1122 269 1105 q 231 1175 231 1139 m 485 1175 q 504 1228 485 1212 q 550 1244 523 1244 q 575 1240 563 1244 q 595 1228 587 1236 q 610 1206 604 1219 q 615 1175 615 1194 q 595 1122 615 1139 q 550 1105 576 1105 q 504 1122 523 1105 q 485 1175 485 1139 z "
        },
        "\xc5": {
            ha: 844,
            x_min: 0,
            x_max: 844,
            o: "m 715 0 l 607 307 l 237 307 l 127 0 l 0 0 l 364 996 l 479 996 l 844 0 l 715 0 m 567 419 l 467 707 q 457 736 463 719 q 445 774 451 754 q 433 817 439 795 q 421 860 427 839 q 410 817 416 839 q 398 773 404 794 q 386 735 392 753 q 376 707 380 718 l 278 419 l 567 419 m 575 1074 q 563 1011 575 1039 q 531 965 551 984 q 481 936 510 946 q 420 926 453 926 q 358 936 386 926 q 310 965 330 946 q 279 1011 290 984 q 269 1072 269 1038 q 279 1134 269 1107 q 310 1179 290 1160 q 358 1208 330 1198 q 420 1218 386 1218 q 481 1208 452 1218 q 530 1180 509 1198 q 563 1134 551 1161 q 575 1074 575 1107 m 496 1072 q 474 1128 496 1108 q 420 1149 453 1149 q 365 1128 386 1149 q 343 1072 343 1108 q 362 1016 343 1036 q 420 996 382 996 q 474 1016 453 996 q 496 1072 496 1036 z "
        },
        "\xc6": {
            ha: 1183,
            x_min: -1,
            x_max: 1100,
            o: "m 1100 0 l 585 0 l 585 307 l 262 307 l 125 0 l -1 0 l 443 991 l 1100 991 l 1100 880 l 711 880 l 711 574 l 1074 574 l 1074 464 l 711 464 l 711 111 l 1100 111 l 1100 0 m 311 419 l 585 419 l 585 880 l 511 880 l 311 419 z "
        },
        "\xc7": {
            ha: 838,
            x_min: 85,
            x_max: 798,
            o: "m 538 895 q 406 867 465 895 q 306 788 347 840 q 241 663 264 736 q 218 496 218 589 q 238 326 218 400 q 298 201 258 252 q 398 123 338 150 q 538 97 458 97 q 652 109 598 97 q 760 136 707 121 l 760 26 q 707 8 733 16 q 651 -4 680 1 q 590 -11 623 -9 q 517 -14 557 -14 q 324 23 406 -14 q 190 127 243 60 q 111 288 136 194 q 85 497 85 382 q 114 703 85 610 q 201 864 144 797 q 343 968 258 931 q 538 1006 428 1006 q 677 991 611 1006 q 798 947 744 976 l 745 842 q 652 879 702 863 q 538 895 602 895 m 621 -195 q 573 -297 621 -260 q 424 -334 526 -334 q 394 -332 409 -334 q 368 -328 378 -330 l 368 -254 q 395 -257 378 -256 q 422 -258 412 -258 q 498 -244 471 -258 q 525 -196 525 -229 q 516 -168 525 -180 q 492 -147 507 -156 q 455 -132 476 -138 q 408 -119 433 -125 l 469 0 l 551 0 l 513 -78 q 555 -92 536 -83 q 590 -115 575 -101 q 613 -149 604 -129 q 621 -195 621 -168 z "
        },
        "\xc8": {
            ha: 733,
            x_min: 135,
            x_max: 650,
            o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 484 1071 l 402 1071 q 351 1118 378 1090 q 297 1176 323 1146 q 249 1233 271 1206 q 217 1279 228 1261 l 217 1293 l 366 1293 q 391 1243 376 1270 q 421 1188 406 1215 q 453 1135 437 1160 q 484 1089 469 1109 l 484 1071 z "
        },
        "\xc9": {
            ha: 733,
            x_min: 135,
            x_max: 650,
            o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 309 1089 q 340 1135 324 1109 q 372 1188 356 1160 q 402 1243 388 1215 q 427 1293 416 1270 l 576 1293 l 576 1279 q 544 1233 565 1261 q 496 1176 522 1206 q 443 1118 470 1146 q 391 1071 415 1090 l 309 1071 l 309 1089 z "
        },
        "\xca": {
            ha: 733,
            x_min: 135,
            x_max: 650,
            o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 615 1071 l 533 1071 q 462 1127 498 1094 q 390 1197 425 1160 q 317 1127 353 1160 q 247 1071 281 1094 l 165 1071 l 165 1089 q 205 1135 182 1109 q 251 1188 229 1160 q 294 1243 274 1215 q 325 1293 314 1270 l 455 1293 q 486 1243 466 1270 q 529 1188 506 1215 q 575 1135 551 1160 q 615 1089 598 1109 l 615 1071 z "
        },
        "\xcb": {
            ha: 733,
            x_min: 135,
            x_max: 650,
            o: "m 650 0 l 135 0 l 135 991 l 650 991 l 650 880 l 261 880 l 261 574 l 624 574 l 624 464 l 261 464 l 261 111 l 650 111 l 650 0 m 201 1175 q 220 1228 201 1212 q 266 1244 239 1244 q 312 1228 292 1244 q 332 1175 332 1211 q 312 1122 332 1139 q 266 1105 292 1105 q 220 1122 239 1105 q 201 1175 201 1139 m 455 1175 q 474 1228 455 1212 q 520 1244 493 1244 q 545 1240 533 1244 q 566 1228 557 1236 q 580 1206 574 1219 q 585 1175 585 1194 q 566 1122 585 1139 q 520 1105 546 1105 q 474 1122 493 1105 q 455 1175 455 1139 z "
        },
        "\xcc": {
            ha: 471,
            x_min: 42,
            x_max: 415,
            o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 309 1071 l 227 1071 q 176 1118 203 1090 q 122 1176 148 1146 q 74 1233 96 1206 q 42 1279 53 1261 l 42 1293 l 191 1293 q 216 1243 201 1270 q 246 1188 231 1215 q 278 1135 262 1160 q 309 1089 294 1109 l 309 1071 z "
        },
        "\xcd": {
            ha: 471,
            x_min: 56,
            x_max: 441,
            o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 174 1089 q 205 1135 189 1109 q 237 1188 221 1160 q 267 1243 253 1215 q 292 1293 281 1270 l 441 1293 l 441 1279 q 409 1233 430 1261 q 361 1176 387 1206 q 308 1118 335 1146 q 256 1071 280 1090 l 174 1071 l 174 1089 z "
        },
        "\xce": {
            ha: 471,
            x_min: 12,
            x_max: 462,
            o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 462 1071 l 380 1071 q 309 1127 345 1094 q 237 1197 272 1160 q 164 1127 200 1160 q 94 1071 128 1094 l 12 1071 l 12 1089 q 52 1135 29 1109 q 98 1188 75 1160 q 141 1243 121 1215 q 172 1293 161 1270 l 302 1293 q 333 1243 313 1270 q 375 1188 353 1215 q 421 1135 398 1160 q 462 1089 445 1109 l 462 1071 z "
        },
        "\xcf": {
            ha: 471,
            x_min: 43,
            x_max: 428,
            o: "m 415 0 l 56 0 l 56 69 l 172 97 l 172 895 l 56 922 l 56 991 l 415 991 l 415 922 l 298 895 l 298 97 l 415 69 l 415 0 m 43 1175 q 62 1228 43 1212 q 109 1244 81 1244 q 155 1228 135 1244 q 174 1175 174 1211 q 155 1122 174 1139 q 109 1105 135 1105 q 62 1122 81 1105 q 43 1175 43 1139 m 298 1175 q 317 1228 298 1212 q 363 1244 336 1244 q 388 1240 376 1244 q 408 1228 399 1236 q 422 1206 417 1219 q 428 1175 428 1194 q 408 1122 428 1139 q 363 1105 389 1105 q 317 1122 336 1105 q 298 1175 298 1139 z "
        },
        "\xd0": {
            ha: 950,
            x_min: 32,
            x_max: 865,
            o: "m 32 546 l 135 546 l 135 991 l 411 991 q 599 960 515 991 q 742 868 683 929 q 833 715 801 806 q 865 505 865 625 q 833 285 865 380 q 739 127 800 191 q 587 32 677 64 q 383 0 497 0 l 135 0 l 135 436 l 32 436 l 32 546 m 732 501 q 709 672 732 600 q 644 791 687 745 q 539 861 602 838 q 397 884 477 884 l 261 884 l 261 546 l 489 546 l 489 436 l 261 436 l 261 109 l 371 109 q 641 208 550 109 q 732 501 732 307 z "
        },
        "\xd1": {
            ha: 1013,
            x_min: 135,
            x_max: 878,
            o: "m 878 0 l 732 0 l 244 821 l 239 821 q 245 717 243 768 q 250 625 248 673 q 252 538 252 576 l 252 0 l 135 0 l 135 991 l 279 991 l 765 175 l 770 175 q 765 277 768 227 q 763 321 764 298 q 761 367 762 344 q 760 410 760 389 q 760 449 760 431 l 760 991 l 878 991 l 878 0 m 614 1072 q 560 1084 587 1072 q 507 1111 533 1096 q 458 1137 481 1125 q 412 1149 434 1149 q 366 1131 382 1149 q 340 1071 349 1113 l 269 1071 q 284 1145 273 1112 q 313 1201 295 1178 q 356 1237 331 1225 q 412 1250 381 1250 q 468 1238 441 1250 q 522 1212 496 1226 q 571 1186 547 1198 q 614 1174 594 1174 q 660 1192 644 1174 q 686 1251 675 1209 l 757 1251 q 742 1178 753 1211 q 713 1121 731 1145 q 670 1085 695 1098 q 614 1072 645 1072 z "
        },
        "\xd2": {
            ha: 1031,
            x_min: 85,
            x_max: 945,
            o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 590 1071 l 509 1071 q 457 1118 485 1090 q 403 1176 429 1146 q 356 1233 377 1206 q 323 1279 334 1261 l 323 1293 l 472 1293 q 497 1243 483 1270 q 528 1188 512 1215 q 559 1135 543 1160 q 590 1089 576 1109 l 590 1071 z "
        },
        "\xd3": {
            ha: 1031,
            x_min: 85,
            x_max: 945,
            o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 441 1089 q 472 1135 456 1109 q 504 1188 488 1160 q 534 1243 520 1215 q 559 1293 549 1270 l 708 1293 l 708 1279 q 676 1233 697 1261 q 628 1176 654 1206 q 575 1118 602 1146 q 524 1071 547 1090 l 441 1071 l 441 1089 z "
        },
        "\xd4": {
            ha: 1031,
            x_min: 85,
            x_max: 945,
            o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 743 1071 l 661 1071 q 590 1127 627 1094 q 518 1197 553 1160 q 446 1127 481 1160 q 375 1071 410 1094 l 293 1071 l 293 1089 q 334 1135 311 1109 q 379 1188 357 1160 q 422 1243 402 1215 q 453 1293 442 1270 l 583 1293 q 614 1243 594 1270 q 657 1188 634 1215 q 703 1135 680 1160 q 743 1089 726 1109 l 743 1071 z "
        },
        "\xd5": {
            ha: 1031,
            x_min: 85,
            x_max: 945,
            o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 604 1072 q 550 1084 577 1072 q 498 1111 524 1096 q 448 1137 472 1125 q 403 1149 425 1149 q 356 1131 372 1149 q 330 1071 340 1113 l 260 1071 q 274 1145 263 1112 q 303 1201 286 1178 q 347 1237 321 1225 q 403 1250 372 1250 q 459 1238 431 1250 q 512 1212 486 1226 q 561 1186 538 1198 q 604 1174 585 1174 q 650 1192 635 1174 q 676 1251 666 1209 l 747 1251 q 733 1178 744 1211 q 704 1121 722 1145 q 661 1085 686 1098 q 604 1072 635 1072 z "
        },
        "\xd6": {
            ha: 1031,
            x_min: 85,
            x_max: 945,
            o: "m 945 497 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 324 23 405 -14 q 190 127 243 60 q 111 289 136 194 q 85 498 85 383 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 702 971 622 1007 q 836 868 781 935 q 917 707 890 801 q 945 497 945 613 m 218 497 q 236 330 218 404 q 290 204 254 256 q 382 124 326 152 q 515 97 438 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 q 794 665 811 591 q 741 790 777 739 q 650 868 705 841 q 517 896 594 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 323 1175 q 342 1228 323 1212 q 389 1244 361 1244 q 435 1228 415 1244 q 454 1175 454 1211 q 435 1122 454 1139 q 389 1105 415 1105 q 342 1122 361 1105 q 323 1175 323 1139 m 578 1175 q 597 1228 578 1212 q 643 1244 616 1244 q 668 1240 656 1244 q 688 1228 680 1236 q 703 1206 697 1219 q 708 1175 708 1194 q 688 1122 708 1139 q 643 1105 669 1105 q 597 1122 616 1105 q 578 1175 578 1139 z "
        },
        "\xd7": {
            ha: 765,
            x_min: 96,
            x_max: 671,
            o: "m 311 490 l 96 707 l 167 778 l 382 562 l 600 778 l 671 708 l 453 490 l 669 273 l 600 204 l 382 419 l 167 205 l 97 275 l 311 490 z "
        },
        "\xd8": {
            ha: 1031,
            x_min: 85,
            x_max: 945,
            o: "m 882 986 l 819 885 q 913 720 881 818 q 945 497 945 621 q 917 288 945 382 q 836 127 890 194 q 701 23 781 60 q 515 -14 621 -14 q 297 35 387 -14 l 244 -52 l 151 1 l 212 100 q 116 269 146 168 q 85 498 85 370 q 111 708 85 614 q 190 868 136 802 q 325 971 243 935 q 517 1007 406 1007 q 635 993 581 1007 q 734 953 690 979 l 789 1039 l 882 986 m 218 497 q 234 337 218 408 q 282 214 250 267 l 675 854 q 604 885 642 874 q 517 896 565 896 q 383 868 439 896 q 290 790 327 841 q 236 665 254 739 q 218 497 218 591 m 811 497 q 751 774 811 671 l 359 136 q 430 107 391 117 q 515 97 469 97 q 649 124 593 97 q 741 204 705 152 q 794 330 777 256 q 811 497 811 404 z "
        },
        "\xd9": {
            ha: 970,
            x_min: 125,
            x_max: 844,
            o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 574 1071 l 493 1071 q 441 1118 469 1090 q 388 1176 414 1146 q 340 1233 361 1206 q 308 1279 319 1261 l 308 1293 l 456 1293 q 482 1243 467 1270 q 512 1188 496 1215 q 544 1135 528 1160 q 574 1089 560 1109 l 574 1071 z "
        },
        "\xda": {
            ha: 970,
            x_min: 125,
            x_max: 844,
            o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 400 1089 q 431 1135 415 1109 q 463 1188 447 1160 q 493 1243 479 1215 q 518 1293 507 1270 l 667 1293 l 667 1279 q 634 1233 656 1261 q 587 1176 613 1206 q 533 1118 561 1146 q 482 1071 506 1090 l 400 1071 l 400 1089 z "
        },
        "\xdb": {
            ha: 970,
            x_min: 125,
            x_max: 844,
            o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 707 1071 l 625 1071 q 554 1127 591 1094 q 482 1197 517 1160 q 410 1127 446 1160 q 339 1071 374 1094 l 257 1071 l 257 1089 q 298 1135 275 1109 q 343 1188 321 1160 q 386 1243 366 1215 q 417 1293 406 1270 l 547 1293 q 578 1243 558 1270 q 621 1188 598 1215 q 667 1135 644 1160 q 707 1089 690 1109 l 707 1071 z "
        },
        "\xdc": {
            ha: 970,
            x_min: 125,
            x_max: 844,
            o: "m 844 993 l 844 350 q 822 206 844 273 q 754 91 800 140 q 641 14 709 42 q 481 -14 573 -14 q 328 13 394 -14 q 216 87 261 39 q 148 202 171 135 q 125 353 125 270 l 125 991 l 252 991 l 252 346 q 310 162 252 227 q 488 97 369 97 q 591 115 548 97 q 663 167 635 134 q 704 246 690 200 q 718 347 718 292 l 718 993 l 844 993 m 293 1175 q 312 1228 293 1212 q 358 1244 331 1244 q 404 1228 385 1244 q 424 1175 424 1211 q 404 1122 424 1139 q 358 1105 385 1105 q 312 1122 331 1105 q 293 1175 293 1139 m 547 1175 q 566 1228 547 1212 q 612 1244 585 1244 q 637 1240 625 1244 q 658 1228 649 1236 q 672 1206 667 1219 q 677 1175 677 1194 q 658 1122 677 1139 q 612 1105 638 1105 q 566 1122 585 1105 q 547 1175 547 1139 z "
        },
        "\xdd": {
            ha: 732,
            x_min: 0,
            x_max: 732,
            o: "m 366 490 l 596 991 l 732 991 l 429 386 l 429 0 l 302 0 l 302 379 l 0 991 l 138 991 l 366 490 m 300 1089 q 331 1135 315 1109 q 362 1188 347 1160 q 393 1243 378 1215 q 418 1293 407 1270 l 566 1293 l 566 1279 q 534 1233 555 1261 q 487 1176 513 1206 q 433 1118 460 1146 q 382 1071 406 1090 l 300 1071 l 300 1089 z "
        },
        "\xde": {
            ha: 800,
            x_min: 135,
            x_max: 729,
            o: "m 729 530 q 710 412 729 469 q 649 311 692 355 q 536 241 606 267 q 363 215 466 215 l 261 215 l 261 0 l 135 0 l 135 991 l 261 991 l 261 821 l 380 821 q 537 801 471 821 q 646 745 603 782 q 709 654 688 708 q 729 530 729 600 m 261 322 l 349 322 q 459 333 412 322 q 537 368 506 344 q 583 430 568 392 q 599 524 599 469 q 543 667 599 621 q 370 713 488 713 l 261 713 l 261 322 z "
        },
        "\xdf": {
            ha: 836,
            x_min: 118,
            x_max: 774,
            o: "m 685 854 q 670 786 685 816 q 634 731 656 755 q 588 686 613 706 q 541 647 562 665 q 505 610 519 628 q 490 571 490 591 q 495 546 490 557 q 513 521 500 534 q 550 491 526 508 q 612 449 574 475 q 680 399 650 424 q 731 347 710 375 q 763 287 751 319 q 774 212 774 254 q 755 111 774 153 q 702 40 736 68 q 620 0 667 13 q 514 -14 572 -14 q 401 -2 448 -14 q 318 33 354 10 l 318 146 q 358 124 336 135 q 404 106 380 114 q 454 93 429 98 q 505 87 480 87 q 571 96 543 87 q 616 120 598 104 q 642 157 633 135 q 650 205 650 178 q 644 250 650 230 q 624 289 638 270 q 585 328 609 308 q 522 371 560 347 q 451 421 479 398 q 404 467 422 444 q 378 513 386 490 q 371 566 371 537 q 385 629 371 602 q 420 677 399 656 q 465 717 441 699 q 511 755 490 735 q 546 797 532 774 q 559 850 559 820 q 548 899 559 878 q 517 934 537 920 q 468 955 496 948 q 406 961 440 961 q 342 955 372 961 q 290 932 313 948 q 255 887 268 916 q 241 815 241 859 l 241 0 l 118 0 l 118 814 q 139 932 118 884 q 199 1009 161 980 q 290 1050 237 1038 q 406 1063 343 1063 q 519 1050 468 1063 q 608 1011 571 1037 q 665 946 644 985 q 685 854 685 907 z "
        },
        "\xe0": {
            ha: 737,
            x_min: 64,
            x_max: 627,
            o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 460 842 l 378 842 q 327 889 355 861 q 273 947 299 917 q 225 1004 247 977 q 193 1050 204 1031 l 193 1064 l 342 1064 q 367 1014 353 1041 q 397 959 382 986 q 429 905 413 931 q 460 860 446 880 l 460 842 z "
        },
        "\xe1": {
            ha: 737,
            x_min: 64,
            x_max: 627,
            o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 302 860 q 333 905 317 880 q 365 959 349 931 q 395 1014 381 986 q 420 1064 410 1041 l 569 1064 l 569 1050 q 537 1004 558 1031 q 489 947 515 977 q 436 889 463 917 q 385 842 408 861 l 302 842 l 302 860 z "
        },
        "\xe2": {
            ha: 737,
            x_min: 64,
            x_max: 627,
            o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 605 842 l 523 842 q 452 898 488 865 q 380 968 415 930 q 307 898 343 930 q 237 842 271 865 l 155 842 l 155 860 q 195 905 172 880 q 241 959 218 931 q 284 1014 264 986 q 315 1064 304 1041 l 445 1064 q 476 1014 456 1041 q 518 959 496 986 q 565 905 541 931 q 605 860 588 880 l 605 842 z "
        },
        "\xe3": {
            ha: 737,
            x_min: 64,
            x_max: 627,
            o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 474 843 q 420 855 447 843 q 368 881 393 867 q 318 908 342 896 q 273 920 294 920 q 226 902 242 920 q 200 842 210 884 l 130 842 q 144 916 133 882 q 173 972 155 949 q 216 1008 191 996 q 273 1021 241 1021 q 329 1009 301 1021 q 382 983 356 997 q 431 957 408 968 q 474 945 454 945 q 520 962 505 945 q 546 1022 536 980 l 617 1022 q 603 948 614 981 q 573 892 591 916 q 530 856 555 869 q 474 843 505 843 z "
        },
        "\xe4": {
            ha: 737,
            x_min: 64,
            x_max: 627,
            o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 185 946 q 204 999 185 983 q 250 1015 223 1015 q 296 999 277 1015 q 316 946 316 982 q 296 893 316 910 q 250 876 277 876 q 204 893 223 876 q 185 946 185 910 m 439 946 q 458 999 439 983 q 505 1015 477 1015 q 529 1011 517 1015 q 550 999 541 1007 q 564 977 559 990 q 570 946 570 964 q 550 893 570 910 q 505 876 530 876 q 458 893 477 876 q 439 946 439 910 z "
        },
        "\xe5": {
            ha: 737,
            x_min: 64,
            x_max: 627,
            o: "m 538 0 l 513 103 l 507 103 q 463 51 485 73 q 414 14 440 28 q 355 -7 387 0 q 279 -14 322 -14 q 193 0 233 -14 q 125 40 154 13 q 80 110 96 68 q 64 208 64 151 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 478 744 427 758 q 561 700 528 730 q 610 623 594 670 q 627 510 627 576 l 627 0 l 538 0 m 311 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 q 225 115 192 144 q 311 86 258 86 m 531 989 q 519 927 531 954 q 487 880 507 899 q 437 851 466 861 q 376 842 409 842 q 314 851 342 842 q 266 880 286 861 q 235 926 246 899 q 224 987 224 953 q 235 1049 224 1022 q 266 1095 246 1076 q 314 1123 286 1114 q 376 1133 342 1133 q 437 1123 408 1133 q 486 1095 465 1114 q 519 1049 507 1076 q 531 989 531 1023 m 452 987 q 430 1044 452 1023 q 376 1064 409 1064 q 320 1044 342 1064 q 299 987 299 1023 q 318 931 299 951 q 376 911 338 911 q 430 931 409 911 q 452 987 452 951 z "
        },
        "\xe6": {
            ha: 1157,
            x_min: 64,
            x_max: 1088,
            o: "m 64 208 q 142 379 64 319 q 380 444 220 439 l 505 449 l 505 496 q 495 572 505 541 q 467 621 486 602 q 421 648 448 640 q 358 656 393 656 q 253 640 302 656 q 160 600 205 623 l 117 693 q 229 739 167 720 q 358 758 290 758 q 503 729 447 758 q 589 637 559 701 q 680 727 623 695 q 806 758 736 758 q 924 734 871 758 q 1013 666 976 710 q 1068 561 1049 623 q 1088 425 1088 500 l 1088 349 l 632 349 q 685 156 635 218 q 835 94 735 94 q 897 98 868 94 q 952 107 926 101 q 1004 124 979 114 q 1054 146 1029 134 l 1054 36 q 1002 14 1027 23 q 950 -2 977 4 q 894 -11 923 -8 q 832 -14 865 -14 q 670 25 739 -14 q 559 142 602 64 q 511 76 536 105 q 453 27 485 47 q 381 -3 420 7 q 292 -14 342 -14 q 202 0 243 -14 q 130 40 160 13 q 81 110 99 68 q 64 208 64 151 m 192 207 q 225 115 192 144 q 311 86 258 86 q 388 99 353 86 q 449 138 423 112 q 489 204 475 164 q 504 297 504 243 l 504 364 l 407 359 q 304 346 346 357 q 238 316 263 335 q 203 269 214 296 q 192 207 192 241 m 803 656 q 685 603 728 656 q 635 449 642 550 l 954 449 q 945 533 954 495 q 918 599 937 572 q 871 641 899 626 q 803 656 842 656 z "
        },
        "\xe7": {
            ha: 643,
            x_min: 77,
            x_max: 596,
            o: "m 403 -14 q 275 8 334 -14 q 171 76 215 29 q 102 194 127 122 q 77 368 77 267 q 102 549 77 475 q 173 670 128 623 q 279 737 218 716 q 408 758 339 758 q 512 747 461 758 q 596 718 562 735 l 559 614 q 525 627 544 621 q 486 638 506 633 q 446 647 465 644 q 408 650 426 650 q 253 582 302 650 q 204 370 204 513 q 253 160 204 227 q 403 94 302 94 q 502 107 458 94 q 583 136 547 119 l 583 26 q 505 -3 547 7 q 403 -14 463 -14 m 495 -195 q 447 -297 495 -260 q 298 -334 399 -334 q 268 -332 283 -334 q 242 -328 252 -330 l 242 -254 q 269 -257 252 -256 q 296 -258 286 -258 q 372 -244 345 -258 q 399 -196 399 -229 q 390 -168 399 -180 q 366 -147 381 -156 q 329 -132 350 -138 q 282 -119 307 -125 l 343 0 l 425 0 l 387 -78 q 429 -92 410 -83 q 464 -115 449 -101 q 487 -149 478 -129 q 495 -195 495 -168 z "
        },
        "\xe8": {
            ha: 743,
            x_min: 77,
            x_max: 673,
            o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 460 842 l 378 842 q 327 889 355 861 q 273 947 299 917 q 225 1004 247 977 q 193 1050 204 1031 l 193 1064 l 342 1064 q 367 1014 353 1041 q 397 959 382 986 q 429 905 413 931 q 460 860 446 880 l 460 842 z "
        },
        "\xe9": {
            ha: 743,
            x_min: 77,
            x_max: 673,
            o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 322 860 q 353 905 337 880 q 385 959 369 931 q 415 1014 401 986 q 440 1064 429 1041 l 589 1064 l 589 1050 q 556 1004 578 1031 q 509 947 535 977 q 455 889 483 917 q 404 842 428 861 l 322 842 l 322 860 z "
        },
        "\xea": {
            ha: 743,
            x_min: 77,
            x_max: 673,
            o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 602 842 l 520 842 q 449 898 486 865 q 377 968 412 930 q 304 898 340 930 q 234 842 269 865 l 152 842 l 152 860 q 193 905 170 880 q 238 959 216 931 q 281 1014 261 986 q 312 1064 301 1041 l 442 1064 q 473 1014 453 1041 q 516 959 493 986 q 562 905 538 931 q 602 860 585 880 l 602 842 z "
        },
        "\xeb": {
            ha: 743,
            x_min: 77,
            x_max: 673,
            o: "m 412 -14 q 276 12 338 -14 q 170 85 214 37 q 101 204 125 133 q 77 367 77 275 q 99 532 77 459 q 162 655 121 604 q 259 732 203 705 q 385 758 316 758 q 505 734 452 758 q 596 666 559 710 q 653 561 633 623 q 673 425 673 500 l 673 349 l 204 349 q 259 156 208 218 q 414 94 311 94 q 478 98 448 94 q 535 107 507 101 q 588 124 562 114 q 640 146 614 134 l 640 36 q 587 14 613 23 q 533 -2 561 4 q 476 -11 506 -8 q 412 -14 447 -14 m 382 656 q 259 603 304 656 q 207 449 214 550 l 541 449 q 531 533 541 495 q 503 599 522 572 q 454 641 484 626 q 382 656 424 656 m 182 946 q 201 999 182 983 q 248 1015 220 1015 q 294 999 274 1015 q 313 946 313 982 q 294 893 313 910 q 248 876 274 876 q 201 893 220 876 q 182 946 182 910 m 437 946 q 456 999 437 983 q 502 1015 475 1015 q 527 1011 515 1015 q 547 999 538 1007 q 562 977 556 990 q 567 946 567 964 q 547 893 567 910 q 502 876 528 876 q 456 893 475 876 q 437 946 437 910 z "
        },
        "\xec": {
            ha: 359,
            x_min: -23,
            x_max: 243,
            o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 243 842 l 162 842 q 111 889 138 861 q 57 947 83 917 q 9 1004 31 977 q -23 1050 -12 1031 l -23 1064 l 125 1064 q 151 1014 136 1041 q 181 959 165 986 q 213 905 197 931 q 243 860 229 880 l 243 842 z "
        },
        "\xed": {
            ha: 359,
            x_min: 118,
            x_max: 392,
            o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 125 860 q 156 905 140 880 q 188 959 172 931 q 218 1014 204 986 q 243 1064 233 1041 l 392 1064 l 392 1050 q 360 1004 381 1031 q 312 947 338 977 q 259 889 286 917 q 208 842 231 861 l 125 842 l 125 860 z "
        },
        "\xee": {
            ha: 359,
            x_min: -45,
            x_max: 405,
            o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m 405 842 l 323 842 q 252 898 288 865 q 180 968 215 930 q 107 898 143 930 q 37 842 71 865 l -45 842 l -45 860 q -5 905 -28 880 q 41 959 18 931 q 84 1014 64 986 q 115 1064 104 1041 l 245 1064 q 276 1014 256 1041 q 318 959 296 986 q 365 905 341 931 q 405 860 388 880 l 405 842 z "
        },
        "\xef": {
            ha: 359,
            x_min: -12,
            x_max: 372,
            o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 m -12 946 q 7 999 -12 983 q 53 1015 26 1015 q 99 999 79 1015 q 119 946 119 982 q 99 893 119 910 q 53 876 79 876 q 7 893 26 876 q -12 946 -12 910 m 242 946 q 261 999 242 983 q 307 1015 280 1015 q 332 1011 320 1015 q 353 999 344 1007 q 367 977 361 990 q 372 946 372 964 q 353 893 372 910 q 307 876 333 876 q 261 893 280 876 q 242 946 242 910 z "
        },
        "\xf0": {
            ha: 802,
            x_min: 75,
            x_max: 725,
            o: "m 725 389 q 702 218 725 292 q 637 92 680 143 q 534 13 595 40 q 399 -14 474 -14 q 269 9 328 -14 q 166 74 210 31 q 99 180 123 117 q 75 323 75 243 q 97 467 75 404 q 158 572 118 529 q 255 636 198 614 q 383 659 312 659 q 505 638 452 659 q 586 578 557 618 l 591 581 q 530 726 570 661 q 428 846 489 791 l 254 742 l 204 819 l 351 908 q 295 946 324 927 q 235 982 267 964 l 282 1065 q 368 1019 326 1044 q 449 965 409 995 l 603 1059 l 653 982 l 521 903 q 604 806 566 859 q 668 689 642 753 q 710 551 695 626 q 725 389 725 476 m 597 357 q 586 431 597 395 q 551 495 574 467 q 490 540 527 523 q 401 557 452 557 q 312 541 349 557 q 252 496 275 526 q 217 421 228 466 q 205 319 205 377 q 217 225 205 268 q 252 153 228 183 q 313 105 276 122 q 401 89 350 89 q 552 156 506 89 q 597 357 597 224 z "
        },
        "\xf1": {
            ha: 818,
            x_min: 118,
            x_max: 707,
            o: "m 583 0 l 583 479 q 548 612 583 568 q 436 656 512 656 q 344 638 381 656 q 284 586 307 621 q 251 501 261 551 q 241 386 241 451 l 241 0 l 118 0 l 118 745 l 218 745 l 236 644 l 243 644 q 283 695 260 673 q 334 730 307 716 q 393 751 362 745 q 457 758 425 758 q 644 693 581 758 q 707 486 707 629 l 707 0 l 583 0 m 515 843 q 461 855 488 843 q 408 881 434 867 q 359 908 382 896 q 313 920 335 920 q 267 902 283 920 q 241 842 250 884 l 170 842 q 185 916 174 882 q 214 972 196 949 q 257 1008 232 996 q 313 1021 282 1021 q 369 1009 342 1021 q 422 983 397 997 q 472 957 448 968 q 515 945 495 945 q 561 962 545 945 q 587 1022 576 980 l 658 1022 q 643 948 654 981 q 614 892 632 916 q 571 856 596 869 q 515 843 546 843 z "
        },
        "\xf2": {
            ha: 802,
            x_min: 77,
            x_max: 725,
            o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 506 842 l 425 842 q 373 889 401 861 q 319 947 345 917 q 272 1004 293 977 q 239 1050 250 1031 l 239 1064 l 388 1064 q 413 1014 399 1041 q 444 959 428 986 q 475 905 459 931 q 506 860 492 880 l 506 842 z "
        },
        "\xf3": {
            ha: 802,
            x_min: 77,
            x_max: 725,
            o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 321 860 q 352 905 336 880 q 384 959 368 931 q 414 1014 399 986 q 439 1064 428 1041 l 587 1064 l 587 1050 q 555 1004 576 1031 q 508 947 534 977 q 454 889 481 917 q 403 842 427 861 l 321 842 l 321 860 z "
        },
        "\xf4": {
            ha: 802,
            x_min: 77,
            x_max: 725,
            o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 622 842 l 540 842 q 469 898 505 865 q 397 968 432 930 q 324 898 360 930 q 254 842 288 865 l 172 842 l 172 860 q 212 905 189 880 q 258 959 235 931 q 301 1014 281 986 q 332 1064 321 1041 l 462 1064 q 493 1014 473 1041 q 535 959 513 986 q 582 905 558 931 q 622 860 605 880 l 622 842 z "
        },
        "\xf5": {
            ha: 802,
            x_min: 77,
            x_max: 725,
            o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 499 843 q 445 855 472 843 q 393 881 418 867 q 343 908 367 896 q 298 920 319 920 q 251 902 267 920 q 225 842 235 884 l 155 842 q 169 916 158 882 q 198 972 180 949 q 241 1008 216 996 q 298 1021 267 1021 q 354 1009 326 1021 q 407 983 381 997 q 456 957 433 968 q 499 945 479 945 q 545 962 530 945 q 571 1022 561 980 l 642 1022 q 628 948 639 981 q 598 892 616 916 q 555 856 581 869 q 499 843 530 843 z "
        },
        "\xf6": {
            ha: 802,
            x_min: 77,
            x_max: 725,
            o: "m 725 374 q 702 209 725 281 q 637 87 680 136 q 534 12 595 38 q 399 -14 474 -14 q 270 12 329 -14 q 168 87 211 38 q 101 209 125 136 q 77 374 77 281 q 99 537 77 466 q 164 658 122 609 q 267 733 206 707 q 403 758 328 758 q 532 733 473 758 q 634 658 591 707 q 701 537 677 609 q 725 374 725 466 m 204 374 q 251 160 204 232 q 401 89 297 89 q 552 160 506 89 q 597 374 597 232 q 551 586 597 515 q 400 656 505 656 q 250 586 296 656 q 204 374 204 515 m 203 946 q 222 999 203 983 q 269 1015 241 1015 q 315 999 295 1015 q 334 946 334 982 q 315 893 334 910 q 269 876 295 876 q 222 893 241 876 q 203 946 203 910 m 458 946 q 477 999 458 983 q 523 1015 496 1015 q 548 1011 536 1015 q 568 999 559 1007 q 583 977 577 990 q 588 946 588 964 q 568 893 588 910 q 523 876 549 876 q 477 893 496 876 q 458 946 458 910 z "
        },
        "\xf7": {
            ha: 765,
            x_min: 69,
            x_max: 696,
            o: "m 69 439 l 69 541 l 696 541 l 696 439 l 69 439 m 304 253 q 311 293 304 277 q 327 319 317 309 q 352 333 338 329 q 382 338 366 338 q 412 333 397 338 q 437 319 426 329 q 454 293 448 309 q 460 253 460 277 q 454 215 460 231 q 437 188 448 199 q 412 173 426 178 q 382 168 397 168 q 352 173 366 168 q 327 188 338 178 q 311 215 317 199 q 304 253 304 231 m 304 726 q 311 766 304 750 q 327 792 317 782 q 352 807 338 802 q 382 811 366 811 q 412 807 397 811 q 437 792 426 802 q 454 766 448 782 q 460 726 460 750 q 454 688 460 704 q 437 662 448 672 q 412 646 426 651 q 382 642 397 642 q 352 646 366 642 q 327 662 338 651 q 311 688 317 672 q 304 726 304 704 z "
        },
        "\xf8": {
            ha: 802,
            x_min: 78,
            x_max: 726,
            o: "m 726 374 q 704 209 726 281 q 638 87 681 136 q 536 12 596 38 q 400 -14 475 -14 q 249 22 315 -14 l 203 -52 l 114 -1 l 168 87 q 102 209 125 136 q 78 374 78 281 q 101 537 78 466 q 165 658 123 609 q 268 733 208 707 q 404 758 329 758 q 485 748 447 758 q 557 720 524 739 l 603 793 l 692 743 l 637 656 q 703 535 680 606 q 726 374 726 465 m 205 374 q 212 272 205 317 q 233 193 218 228 l 503 632 q 457 650 483 644 q 401 656 432 656 q 251 586 297 656 q 205 374 205 515 m 599 374 q 572 549 599 481 l 302 111 q 348 94 323 100 q 403 89 372 89 q 553 160 507 89 q 599 374 599 232 z "
        },
        "\xf9": {
            ha: 818,
            x_min: 111,
            x_max: 700,
            o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 470 842 l 389 842 q 337 889 365 861 q 283 947 309 917 q 236 1004 257 977 q 203 1050 214 1031 l 203 1064 l 352 1064 q 377 1014 363 1041 q 408 959 392 986 q 439 905 423 931 q 470 860 456 880 l 470 842 z "
        },
        "\xfa": {
            ha: 818,
            x_min: 111,
            x_max: 700,
            o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 332 860 q 362 905 347 880 q 394 959 378 931 q 425 1014 410 986 q 450 1064 439 1041 l 598 1064 l 598 1050 q 566 1004 587 1031 q 518 947 545 977 q 465 889 492 917 q 414 842 437 861 l 332 842 l 332 860 z "
        },
        "\xfb": {
            ha: 818,
            x_min: 111,
            x_max: 700,
            o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 631 842 l 549 842 q 477 898 514 865 q 406 968 441 930 q 333 898 369 930 q 262 842 297 865 l 180 842 l 180 860 q 221 905 198 880 q 267 959 244 931 q 310 1014 290 986 q 340 1064 330 1041 l 471 1064 q 502 1014 481 1041 q 544 959 522 986 q 590 905 567 931 q 631 860 614 880 l 631 842 z "
        },
        "\xfc": {
            ha: 818,
            x_min: 111,
            x_max: 700,
            o: "m 600 0 l 582 100 l 575 100 q 535 49 558 71 q 484 14 511 28 q 425 -7 456 0 q 361 -14 393 -14 q 252 2 299 -14 q 174 51 205 18 q 127 136 143 84 q 111 258 111 187 l 111 745 l 235 745 l 235 265 q 271 133 235 177 q 382 89 307 89 q 474 106 437 89 q 534 158 511 124 q 567 243 557 193 q 576 358 576 293 l 576 745 l 700 745 l 700 0 l 600 0 m 210 946 q 229 999 210 983 q 275 1015 248 1015 q 321 999 301 1015 q 340 946 340 982 q 321 893 340 910 q 275 876 301 876 q 229 893 248 876 q 210 946 210 910 m 464 946 q 483 999 464 983 q 529 1015 502 1015 q 554 1011 542 1015 q 574 999 566 1007 q 589 977 583 990 q 594 946 594 964 q 574 893 594 910 q 529 876 555 876 q 483 893 502 876 q 464 946 464 910 z "
        },
        "\xfd": {
            ha: 679,
            x_min: 7,
            x_max: 672,
            o: "m 7 745 l 135 745 l 281 329 q 300 272 290 302 q 318 212 310 242 q 333 155 327 182 q 342 103 339 127 l 346 103 q 357 149 349 120 q 373 211 364 178 q 392 276 382 244 q 410 330 402 308 l 545 745 l 672 745 l 378 -97 q 337 -196 359 -152 q 286 -270 315 -239 q 217 -317 256 -300 q 123 -334 178 -334 q 62 -330 88 -334 q 18 -322 37 -326 l 18 -224 q 54 -230 33 -227 q 100 -232 76 -232 q 156 -224 132 -232 q 197 -201 180 -216 q 228 -165 215 -186 q 250 -115 240 -143 l 289 -7 l 7 745 m 276 860 q 307 905 291 880 q 339 959 323 931 q 369 1014 355 986 q 394 1064 383 1041 l 543 1064 l 543 1050 q 510 1004 532 1031 q 463 947 489 977 q 409 889 437 917 q 358 842 382 861 l 276 842 l 276 860 z "
        },
        "\xfe": {
            ha: 814,
            x_min: 118,
            x_max: 737,
            o: "m 241 644 q 277 689 257 668 q 322 725 296 709 q 381 749 349 740 q 454 758 414 758 q 570 734 518 758 q 660 661 623 709 q 717 541 696 612 q 737 374 737 469 q 717 206 737 278 q 660 85 696 134 q 570 11 623 36 q 454 -14 518 -14 q 382 -5 414 -14 q 323 19 349 4 q 277 53 297 33 q 241 94 257 73 l 233 94 q 237 50 235 71 q 240 14 239 33 q 241 -16 241 -5 l 241 -334 l 118 -334 l 118 1055 l 241 1055 l 241 745 l 236 644 l 241 644 m 431 656 q 343 640 379 656 q 286 593 308 625 q 253 513 264 561 q 241 401 243 466 l 241 374 q 251 252 241 305 q 282 162 260 199 q 340 107 304 126 q 432 89 377 89 q 567 163 524 89 q 610 375 610 237 q 567 586 610 516 q 431 656 524 656 z "
        },
        "\xff": {
            ha: 679,
            x_min: 7,
            x_max: 672,
            o: "m 7 745 l 135 745 l 281 329 q 300 272 290 302 q 318 212 310 242 q 333 155 327 182 q 342 103 339 127 l 346 103 q 357 149 349 120 q 373 211 364 178 q 392 276 382 244 q 410 330 402 308 l 545 745 l 672 745 l 378 -97 q 337 -196 359 -152 q 286 -270 315 -239 q 217 -317 256 -300 q 123 -334 178 -334 q 62 -330 88 -334 q 18 -322 37 -326 l 18 -224 q 54 -230 33 -227 q 100 -232 76 -232 q 156 -224 132 -232 q 197 -201 180 -216 q 228 -165 215 -186 q 250 -115 240 -143 l 289 -7 l 7 745 m 155 946 q 174 999 155 983 q 220 1015 193 1015 q 266 999 246 1015 q 286 946 286 982 q 266 893 286 910 q 220 876 246 876 q 174 893 193 876 q 155 946 155 910 m 409 946 q 428 999 409 983 q 474 1015 447 1015 q 499 1011 487 1015 q 519 999 511 1007 q 534 977 528 990 q 539 946 539 964 q 519 893 539 910 q 474 876 500 876 q 428 893 447 876 q 409 946 409 910 z "
        },
        "\u0131": {
            ha: 359,
            x_min: 118,
            x_max: 241,
            o: "m 241 0 l 118 0 l 118 745 l 241 745 l 241 0 z "
        },
        "\u02C6": {
            ha: 802,
            x_min: 175,
            x_max: 625,
            o: "m 625 842 l 543 842 q 472 898 509 865 q 400 968 435 930 q 328 898 363 930 q 257 842 292 865 l 175 842 l 175 860 q 216 905 193 880 q 261 959 239 931 q 304 1014 284 986 q 335 1064 324 1041 l 465 1064 q 496 1014 476 1041 q 539 959 516 986 q 585 905 562 931 q 625 860 608 880 l 625 842 z "
        },
        "\u02DA": {
            ha: 802,
            x_min: 248,
            x_max: 554,
            o: "m 554 989 q 542 927 554 954 q 510 880 530 899 q 460 851 489 861 q 399 842 432 842 q 337 851 365 842 q 289 880 309 861 q 258 926 269 899 q 248 987 248 953 q 258 1049 248 1022 q 289 1095 269 1076 q 337 1123 309 1114 q 399 1133 365 1133 q 460 1123 431 1133 q 509 1095 488 1114 q 542 1049 530 1076 q 554 989 554 1023 m 475 987 q 453 1044 475 1023 q 399 1064 432 1064 q 343 1044 365 1064 q 322 987 322 1023 q 341 931 322 951 q 399 911 361 911 q 453 931 432 911 q 475 987 475 951 z "
        },
        "\u02DC": {
            ha: 802,
            x_min: 175,
            x_max: 663,
            o: "m 519 843 q 466 855 492 843 q 413 881 439 867 q 363 908 387 896 q 318 920 340 920 q 271 902 288 920 q 245 842 255 884 l 175 842 q 190 916 178 882 q 219 972 201 949 q 262 1008 237 996 q 318 1021 287 1021 q 374 1009 347 1021 q 427 983 401 997 q 476 957 453 968 q 519 945 500 945 q 566 962 550 945 q 591 1022 581 980 l 663 1022 q 648 948 659 981 q 619 892 637 916 q 576 856 601 869 q 519 843 551 843 z "
        },
        "\u2013": {
            ha: 694,
            x_min: 56,
            x_max: 639,
            o: "m 56 315 l 56 429 l 639 429 l 639 315 l 56 315 z "
        },
        "\u2014": {
            ha: 1389,
            x_min: 56,
            x_max: 1333,
            o: "m 56 315 l 56 429 l 1333 429 l 1333 315 l 56 315 z "
        },
        "\u2018": {
            ha: 243,
            x_min: 16,
            x_max: 228,
            o: "m 25 652 l 16 667 q 38 745 25 703 q 67 828 52 786 q 100 912 83 870 q 135 991 118 954 l 228 991 q 208 905 218 950 q 189 816 198 861 q 173 730 180 772 q 160 652 165 688 l 25 652 z "
        },
        "\u2019": {
            ha: 243,
            x_min: 16,
            x_max: 228,
            o: "m 218 991 l 228 977 q 205 898 218 939 q 176 815 192 857 q 143 731 160 772 q 109 652 125 690 l 16 652 q 35 737 25 692 q 54 827 45 782 q 71 913 63 871 q 83 991 78 956 l 218 991 z "
        },
        "\u201A": {
            ha: 347,
            x_min: 43,
            x_max: 256,
            o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 z "
        },
        "\u201C": {
            ha: 504,
            x_min: 16,
            x_max: 489,
            o: "m 286 652 l 277 667 q 299 745 286 703 q 328 828 313 786 q 361 912 344 870 q 396 991 379 954 l 489 991 q 469 905 479 950 q 450 816 459 861 q 434 730 441 772 q 421 652 427 688 l 286 652 m 25 652 l 16 667 q 38 745 25 703 q 67 828 52 786 q 100 912 83 870 q 135 991 118 954 l 228 991 q 208 905 218 950 q 189 816 198 861 q 173 730 180 772 q 160 652 165 688 l 25 652 z "
        },
        "\u201D": {
            ha: 504,
            x_min: 16,
            x_max: 489,
            o: "m 218 991 l 228 977 q 205 898 218 939 q 176 815 192 857 q 143 731 160 772 q 109 652 125 690 l 16 652 q 35 737 25 692 q 54 827 45 782 q 71 913 63 871 q 83 991 78 956 l 218 991 m 479 991 l 489 977 q 466 898 479 939 q 437 815 453 857 q 404 731 421 772 q 370 652 387 690 l 277 652 q 296 737 286 692 q 315 827 306 782 q 332 913 324 871 q 345 991 339 956 l 479 991 z "
        },
        "\u201E": {
            ha: 608,
            x_min: 43,
            x_max: 517,
            o: "m 245 161 l 256 146 q 233 68 246 109 q 204 -16 220 26 q 171 -99 188 -58 q 136 -179 153 -141 l 43 -179 q 63 -93 53 -138 q 82 -4 73 -48 q 98 83 91 41 q 111 161 106 125 l 245 161 m 507 161 l 517 146 q 494 68 507 109 q 465 -16 481 26 q 432 -99 449 -58 q 397 -179 414 -141 l 304 -179 q 324 -93 314 -138 q 343 -4 334 -48 q 359 83 352 41 q 372 161 367 125 l 507 161 z "
        },
        "\u2022": {
            ha: 522,
            x_min: 102,
            x_max: 421,
            o: "m 102 507 q 114 589 102 555 q 148 645 126 623 q 198 675 169 666 q 261 685 227 685 q 323 675 294 685 q 374 645 353 666 q 409 589 396 623 q 421 507 421 555 q 409 426 421 460 q 374 371 396 392 q 323 339 353 349 q 261 329 294 329 q 198 339 227 329 q 148 371 169 349 q 114 426 126 392 q 102 507 102 460 z "
        },
        "\u2039": {
            ha: 400,
            x_min: 56,
            x_max: 345,
            o: "m 56 375 l 265 656 l 345 603 l 183 367 l 345 131 l 265 78 l 56 357 l 56 375 z "
        },
        "\u203A": {
            ha: 400,
            x_min: 56,
            x_max: 345,
            o: "m 345 357 l 135 78 l 56 131 l 216 367 l 56 603 l 135 656 l 345 375 l 345 357 z "
        },
        "\u2044": {
            ha: 180,
            x_min: -239,
            x_max: 418,
            o: "m 418 991 l -132 0 l -239 0 l 311 991 l 418 991 z "
        }
    },
    familyName: "Droid Sans",
    ascender: 1293,
    descender: -334,
    underlinePosition: -154,
    underlineThickness: 102,
    boundingBox: {
        yMin: -492,
        xMin: -352,
        yMax: 1907,
        xMax: 1966
    },
    resolution: 1e3,
    original_font_information: {
        format: 0,
        copyright: "Digitized data copyright \xa9 2007, Google Corporation.",
        fontFamily: "Droid Sans",
        fontSubfamily: "Regular",
        uniqueID: "Ascender - Droid Sans",
        fullName: "Droid Sans",
        version: "Version 1.00 build 113",
        postScriptName: "DroidSans",
        trademark: "Droid is a trademark of Google and may be registered in certain jurisdictions.",
        manufacturer: "Ascender Corporation",
        description: "Droid Sans is a humanist sans serif typeface designed for user interfaces and electronic communication.",
        manufacturerURL: "http://www.ascendercorp.com/",
        designerURL: "http://www.ascendercorp.com/typedesigners.html",
        licence: "Licensed under the Apache License, Version 2.0",
        licenceURL: "http://\xaewww.apache.org/licenses/LICENSE-2.0",
        compatibleFullName: "Droid Sans"
    },
    cssFontWeight: "normal",
    cssFontStyle: "normal"
}, jT = class {
    constructor(){
        this.fonts = {}, this.getFont = this.getFont.bind(this);
    }
    getFont(e) {
        if (this.fonts[e]) return this.fonts[e];
        if (!e) return Promise.resolve(D8);
        switch(e){
            case "arrival":
                return this.fonts[e] = require("10456e581c28b1c").then((e)=>Ba(e)), this.fonts[e];
            case "chalet-parisnineteensixty":
                return this.fonts[e] = require("86069125e75c7bcc").then((e)=>Ba(e)), this.fonts[e];
            case "helvetica neue":
                return this.fonts[e] = require("acdec55bb19b447b").then((e)=>Ba(e)), this.fonts[e];
            case "helvetiker":
                return this.fonts[e] = require("e9d46027c034d000").then((e)=>Ba(e)), this.fonts[e];
            case "lato":
                return this.fonts[e] = require("e455ac7fb1276f9").then((e)=>Ba(e)), this.fonts[e];
            case "myriad pro":
                return this.fonts[e] = require("f94de3cd43c7a3f7").then((e)=>Ba(e)), this.fonts[e];
            case "proxima nova medium":
                return this.fonts[e] = require("925cc017cb2958e4").then((e)=>Ba(e)), this.fonts[e];
            case "simon circular book":
                return this.fonts[e] = require("d3f49d3b805ec5ae").then((e)=>Ba(e)), this.fonts[e];
            default:
                return Promise.resolve(D8);
        }
    }
};
(0, _chunkZRT45YCMJs.a)(jT, "FontLib");
var GT = jT, L8 = new GT, Ba = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = {}, i = {};
    Object.keys(ju.glyphs).forEach(function(e) {
        i[e] = ju.glyphs[e];
    }), Object.keys(e.glyphs).forEach(function(t) {
        i[t] = e.glyphs[t];
    }), Object.keys(ju).forEach(function(e) {
        t[e] = ju[e];
    }), t.glyphs = i;
    let n = new k1(t);
    n._mSupportedCharacters = Object.keys(t.glyphs).join("");
    let r = n._mSupportedCharacters.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
    return n._mInvalidCharacters = new RegExp("[^" + r + "]", "g"), n;
}, "createFont"), D8 = Ba(ju);
(0, _chunkA5C75TI6Js.a)();
var Zp = "x", Qp = "y", tl = "z";
function HT(e, t, i) {
    e.computeBoundingBox();
    let n = e.boundingBox, r = Math.max(i.width, i.height) / 1e3, o = Math.max(i.width * r, i.height * r), s = {
        min: new (0, _chunk4XLXKB34Js.S)(0, 0, 0),
        max: new (0, _chunk4XLXKB34Js.S)(1, 1, 1).multiplyScalar(o)
    }, a = {};
    t.forEach((e)=>{
        a[e.name] = e;
    });
    let h, c, u = e.getAttribute("position"), d = e.getAttribute("normal"), p = e.getAttribute("uv");
    R.assert(u.count == d.count), R.assert(u.count == p.count), e.index ? (R.assert(e.index.count % 3 == 0), h = e.index.count / 3, c = (0, _chunkZRT45YCMJs.a)(function(t, i) {
        return e.index.getX(3 * t + i);
    }, "meshIndex")) : (R.assert(u.count % 3 == 0), h = u.count / 3, c = (0, _chunkZRT45YCMJs.a)(function(e, t) {
        return 3 * e + t;
    }, "meshIndex"));
    let f = a.side || {}, m = a.front || {}, g = null != f.repeat ? f.repeat.u : 1, v = null != f.repeat ? f.repeat.v : 1, y = null != f.offset ? f.offset.u : 1, b = null != f.offset ? f.offset.v : 1, w = null != f.rotation ? f.rotation : 0, A = f.useLocalScaling || !1, x = null != m.repeat ? m.repeat.u : 1, E = null != m.repeat ? m.repeat.v : 1, M = null != m.offset ? m.offset.u : 1, q = null != m.offset ? m.offset.v : 1, C = null != m.rotation ? m.rotation : 0, T = m.useLocalScaling || !1;
    for(let e = 0; e < h; ++e){
        let t = d.getX(c(e, 0)) + d.getX(c(e, 1)) + d.getX(c(e, 2)), i = d.getY(c(e, 0)) + d.getY(c(e, 1)) + d.getY(c(e, 2)), r = d.getZ(c(e, 0)) + d.getZ(c(e, 1)) + d.getZ(c(e, 2)), o = Math.abs(t), a = Math.abs(i), l = Math.abs(r);
        var P, S, I, O, D, _, L, B;
        o <= a && o <= l ? (P = Zp, S = a <= l ? Qp : tl) : a <= o && a <= l ? (P = Qp, S = o <= l ? Zp : tl) : (P = tl, S = o <= a ? Zp : Qp), P === tl && (P = S, S = tl), S === tl || P === tl ? (I = g, O = v, D = y, _ = b, L = w, B = A ? n : s) : (I = x, O = E, D = M, _ = q, L = C, B = T ? n : s);
        let h = B.min, f = B.max, m = Math.abs(f[P] - h[P]), R = Math.abs(f[S] - h[S]), F = L * Math.PI / 180 || 0, z = Math.cos(F), j = Math.sin(F);
        for(let t = 0; t < 3; t++){
            let i = u.getX(c(e, t)), n = u.getY(c(e, t)), r = u.getZ(c(e, t));
            var N, k;
            N = P === Zp ? I * (i - h[P]) / m + D : P === Qp ? I * (n - h[P]) / m + D : I * (r - h[P]) / m + D, k = S === Zp ? O * (i - h[S]) / R + _ : S === Qp ? O * (n - h[S]) / R + _ : O * (r - h[S]) / R + _;
            let o = (N -= .5) * z - (k -= .5) * j + .5, s = N * j + k * z + .5;
            p.setX(c(e, t), o), p.setY(c(e, t), s);
        }
    }
    e.uvsNeedUpdate = !0;
}
(0, _chunkZRT45YCMJs.a)(HT, "updateUVs");
var Zj = .22, Oe = class e extends Gn {
    constructor(t, i, n, r, o = "SINGLE_GEOMETRY"){
        var s, a;
        super(), (0, _chunkZRT45YCMJs.f)(this, "polygon"), (0, _chunkZRT45YCMJs.f)(this, "mapClass"), (0, _chunkZRT45YCMJs.f)(this, "container"), (0, _chunkZRT45YCMJs.f)(this, "visible"), (0, _chunkZRT45YCMJs.f)(this, "mode"), (0, _chunkZRT45YCMJs.f)(this, "assetManager"), (0, _chunkZRT45YCMJs.f)(this, "imageVisible"), (0, _chunkZRT45YCMJs.f)(this, "labelVisible"), (0, _chunkZRT45YCMJs.f)(this, "polygonHeight"), (0, _chunkZRT45YCMJs.f)(this, "geometry"), (0, _chunkZRT45YCMJs.f)(this, "mesh"), (0, _chunkZRT45YCMJs.f)(this, "material"), (0, _chunkZRT45YCMJs.f)(this, "labelMesh"), (0, _chunkZRT45YCMJs.f)(this, "imageMesh"), (0, _chunkZRT45YCMJs.f)(this, "isInflated", !1), (0, _chunkZRT45YCMJs.f)(this, "sortScore", null), (0, _chunkZRT45YCMJs.f)(this, "boundingBox"), this.mode = o, this.polygon = t, this.mapClass = i, this.container = n, this.assetManager = r;
        let l = !1 !== t.geometry.visible, h = !0 === (null == (s = t.image) ? void 0 : s.visible) && (null != t.image.url || null != t.image.original), c = !0 === (null == (a = t.label) ? void 0 : a.visible) && null != t.label.text;
        (l || h || c) && e._setPolygonDefaults(t), this.visible = l, this.imageVisible = h, this.labelVisible = c, this.load = this.load.bind(this), h && (this.imageMesh = new (0, _chunk4XLXKB34Js.ba)(new (0, _chunk4XLXKB34Js.ha)(1, 1)));
    }
    static getDefaultMaterial() {
        return e.defaultMaterial || (e.defaultMaterial = new (0, _chunk4XLXKB34Js.Ea)({
            color: 0
        })), e.defaultMaterial;
    }
    static getWeightedCenter(e) {
        let t = e.reduce((e, t)=>({
                x: e.x + t.x,
                y: e.y + t.y
            }), {
            x: 0,
            y: 0
        });
        return t.x /= e.length, t.y /= e.length, t;
    }
    static getBoundingCentre(e) {
        let t = 1 / 0, i = 1 / 0, n = -1 / 0, r = -1 / 0;
        return e.forEach((e)=>{
            e.x > n && (n = e.x), e.x < t && (t = e.x), e.y > r && (r = e.y), e.y < i && (i = e.y);
        }), {
            x: (t + n) / 2,
            y: (i + r) / 2
        };
    }
    static _makeFromCoords(e, t, i, n) {
        let r = new e;
        null == n.boundingBox && (n.boundingBox = {
            min: {
                x: 1 / 0,
                y: 1 / 0,
                z: 0
            },
            max: {
                x: -1 / 0,
                y: -1 / 0,
                z: 0
            }
        });
        let o = n.boundingBox.min.x, s = n.boundingBox.min.y, a = n.boundingBox.max.x, l = n.boundingBox.max.y, h = -i.width / 2, c = i.height / 2;
        return t.forEach((e)=>{
            e.x + h > a && (a = e.x + h), e.x + h < o && (o = e.x + h), -e.y + c > l && (l = -e.y + c), -e.y + c < s && (s = -e.y + c);
        }), n.boundingBox = {
            min: {
                x: o,
                y: s,
                z: 0
            },
            max: {
                x: a,
                y: l,
                z: 0
            }
        }, r.moveTo(t[0].x - i.width / 2, -t[0].y + i.height / 2), t.slice(1).forEach((e)=>r.lineTo(e.x - i.width / 2, -e.y + i.height / 2)), r.lineTo(t[0].x - i.width / 2, -t[0].y + i.height / 2), r;
    }
    static _inflate(e, t) {
        let i = this.scale, n = new ka.ClipperOffset, r = e.map((e)=>e.map((e)=>({
                    X: e.x * i,
                    Y: e.y * i
                })));
        n.AddPaths(r, ka.JoinType.jtRound, ka.EndType.etOpenRound);
        let o = new ka.PolyTree;
        return n.Execute(o, t * i), o.m_AllPolys.map((e)=>!1 === e.IsHole() ? {
                coords: e.m_polygon.map((e)=>({
                        x: e.X / i,
                        y: e.Y / i
                    })),
                holes: e.m_Childs.map((e)=>e.m_polygon.map((e)=>({
                            x: e.X / i,
                            y: e.Y / i
                        })))
            } : void 0).filter(Boolean);
    }
    static _setPolygonDefaults(e) {
        let t = {
            visible: !0,
            position: {
                x: 0,
                y: 0,
                z: 0
            },
            rotation: {
                x: 0,
                y: 0,
                z: 0
            },
            scale: {
                x: 1,
                y: 1,
                z: 5
            },
            bevel: {
                size: 0,
                thickness: 0,
                segments: 1
            },
            offset: 0
        };
        return e.layer || (e.layer = "Polygon"), e.geometry = (0, Fa.default)(e.geometry, t), e.geometry.bevel = (0, Fa.default)(e.geometry.bevel, t.bevel), e.image && (e.image.position = (0, Fa.default)(e.image.position, t.position), e.image.rotation = (0, Fa.default)(e.image.rotation, t.rotation), e.image.scale = (0, Fa.default)(e.image.scale, t.scale)), e.label && (e.label.position = (0, Fa.default)(e.label.position, t.position), e.label.rotation = (0, Fa.default)(e.label.rotation, t.rotation), e.label.scale = (0, Fa.default)(e.label.scale, t.scale), e.label.color = e.label.color || "#000000", e.label.fontSize = e.label.fontSize || 20), e;
    }
    getBoundingBox() {
        if (this.boundingBox) return this.boundingBox;
        let e = 1 / 0, t = 1 / 0, i = -1 / 0, n = -1 / 0, r = -this.mapClass.width / 2, o = this.mapClass.height / 2;
        return this.polygon.vertexes.forEach((s)=>{
            s.x + r > i && (i = s.x + r), s.x + r < e && (e = s.x + r), -s.y + o > n && (n = -s.y + o), -s.y + o < t && (t = -s.y + o);
        }), this.boundingBox = {
            min: {
                x: e,
                y: t,
                z: 0
            },
            max: {
                x: i,
                y: n,
                z: 0
            }
        }, this.boundingBox;
    }
    async load() {
        var t;
        let i = this, n = i.polygon, r = i.mapClass;
        if (this.visible) {
            let o = n.vertexes, s = Math.max(r.width, r.height) / 1e3;
            (this.imageVisible || n.geometry.offset) && (o = e._clip(o, 0), o = e._clip(o, n.geometry.offset));
            let a, l = [];
            if (n.geometry.width) e._inflate(o, (n.geometry.width || Zj) / 2 / r.scale).forEach(({ coords: t, holes: n })=>{
                let o = e._makeFromCoords((0, _chunk4XLXKB34Js.za), t, r, i);
                o.holes = n.map((t)=>e._makeFromCoords((0, _chunk4XLXKB34Js.wa), t, r, i)), l.push(o);
            }), this.isInflated = !0;
            else {
                let t = e._makeFromCoords((0, _chunk4XLXKB34Js.za), o, r, i);
                n.holes && (t.holes = n.holes.map((t)=>e._makeFromCoords((0, _chunk4XLXKB34Js.wa), t, r, i))), l.push(t);
            }
            n.vertexes = o, a = n.geometry.bevel ? {
                bevelEnabled: !0,
                depth: n.geometry.scale.z * s,
                bevelThickness: n.geometry.bevel.thickness * n.geometry.scale.z * s,
                bevelSize: n.geometry.bevel.size * s,
                bevelSegments: n.geometry.bevel.segments || 1
            } : {
                bevelEnabled: !1,
                depth: n.geometry.scale.z * s
            }, this.polygonHeight = n.geometry.scale.z * Math.max(this.mapClass.width, this.mapClass.height) / 1e3;
            let h = Array.isArray(n.textures) && n.textures.filter((e)=>e.image && Object.keys(e.image).length).length, c = e._normalizeColor(n.material.color), u = null != (t = n.material.opacity) ? t : 1;
            if (l.length > 1 ? this.geometry = Cp(l.map((e)=>new (0, _chunk4XLXKB34Js.Aa)(e, a)), !1) : this.geometry = new (0, _chunk4XLXKB34Js.Aa)(l[0], a), h && Array.isArray(n.textures)) {
                let e, t, i = n.textures.find((e)=>"front" === e.name), o = n.textures.find((e)=>"side" === e.name), s = o && o.useFrontFaceImage, a = i && i.image && (i.image.url || i.image.original), l = o && o.image && (o.image.url || o.image.original);
                HT(this.geometry, n.textures, r);
                try {
                    a && (e = await this.assetManager.loadImage(a), e.mapping = (0, _chunk4XLXKB34Js.h), e.wrapS = (0, _chunk4XLXKB34Js.i), e.wrapT = (0, _chunk4XLXKB34Js.i), e.anisotropy = 16), !s && l ? (t = await this.assetManager.loadImage(l), t.mapping = (0, _chunk4XLXKB34Js.h), t.wrapS = (0, _chunk4XLXKB34Js.i), t.wrapT = (0, _chunk4XLXKB34Js.i), t.anisotropy = 16) : e && (t = e);
                } catch  {
                    R.error("Error loading texture", a || l, "for polygon", null == n ? void 0 : n.id);
                }
                let h = {
                    color: c,
                    transparent: !0,
                    opacity: u,
                    side: u < 1 ? (0, _chunk4XLXKB34Js.e) : (0, _chunk4XLXKB34Js.c)
                };
                this.material = t === e ? new (0, _chunk4XLXKB34Js.Ea)({
                    ...h,
                    map: e
                }) : [
                    new (0, _chunk4XLXKB34Js.Ea)({
                        ...h,
                        map: e
                    }),
                    new (0, _chunk4XLXKB34Js.Ea)({
                        ...h,
                        map: t
                    })
                ];
            } else this.material = e._getMaterial(n.material.color, u, n.map);
            this.mesh = new (0, _chunk4XLXKB34Js.ba)(this.geometry, "MULTI_GEOMETRY" === this.mode ? this.material : e.hoverMeshMaterial), this.mesh.name = n.id, Array.isArray(this.mesh.material) || (this.mesh.material.needsUpdate = !0), "MULTI_GEOMETRY" === this.mode ? (this.mesh.translateZ(n.geometry.position.z * s), this.container.add(this.mesh)) : (this.geometry.translate(0, 0, n.geometry.position.z * s), this.mesh.renderOrder = 1);
        }
        return this.imageVisible || this.labelVisible ? (this.imageVisible && this._addImage(n, r), this.labelVisible && this._addLabel(n, r), this) : this;
    }
    _addLabel(t, i) {
        var n;
        if (null == (null == (n = null == t ? void 0 : t.label) ? void 0 : n.text)) return;
        let r = Math.max(i.width, i.height) / 1e3, o = e.getWeightedCenter(t.vertexes), s = t.label.position, a = t.label.rotation.z, l = t.label.text.split("\n");
        L8.getFont(t.label.fontFamily).then((n)=>{
            if (!t.label) return;
            let h = {
                font: n,
                size: t.label.fontSize * r,
                height: e.overlayHeight,
                bevelEnabled: !1,
                curveSegments: 4,
                align: t.label.align || "left"
            }, c = 0, u = l.reverse().map((e, t)=>(e.length > l[c].length && (c = t), new D1(e, h))), d = u[c], p = new (0, _chunk4XLXKB34Js.ba)(d), f = (new (0, _chunk4XLXKB34Js.T)).setFromObject(p).getSize(new (0, _chunk4XLXKB34Js.S)).x, m = e._getMaterial(t.label.color, void 0, t.map), g = 0, v = Cp(l.map((e, t)=>{
                let i, n = u[t], r = new (0, _chunk4XLXKB34Js.ba)(n, m), o = (new (0, _chunk4XLXKB34Js.T)).setFromObject(r).getSize(new (0, _chunk4XLXKB34Js.S));
                return i = "left" === h.align ? 0 : "right" === h.align ? f - o.x : (f - o.x) / 2, r.position.set(i, g, 0), r.geometry.translate(i, g, 0), g += 1.25 * h.size, r.geometry;
            })), y = new (0, _chunk4XLXKB34Js.ba)(v, m);
            v.computeBoundingBox();
            let b = v.boundingBox, w = b.max.x - b.min.x, A = b.max.y - b.min.y, x = t.geometry.position.z + t.geometry.scale.z;
            y.translateX(o.x - i.width / 2 + s.x - w / 2), y.translateY(-o.y + i.height / 2 + s.y - A / 2), y.rotation.set(0, 0, a * Math.PI / 180), y.translateZ((e.overlayHeight + x) * r), this.labelMesh = y, this.container.add(y);
        });
    }
    _addImage(t, i) {
        var n, r;
        if (null == (null == t ? void 0 : t.image)) return;
        let o = t.image.url || t.image.original;
        o instanceof Blob && (o = URL.createObjectURL(o));
        let s, a = new (0, _chunk4XLXKB34Js.Ea)({
            transparent: !0,
            depthWrite: !1,
            side: (0, _chunk4XLXKB34Js.e)
        });
        a.userData = {
            isPolygonImage: !0,
            originalOpacity: null != (n = a.opacity) ? n : 1,
            originalTransparency: null != (r = a.transparent) && r
        }, this.imageMesh.material = a, this.imageMesh.renderOrder = Ou.POLYGON_IMAGE, this.imageMesh.name = t.id + "_image", this.container.add(this.imageMesh), this.imageMesh.visible = !1, e.imagesLoadingInProgress.has(o) ? s = e.imagesLoadingInProgress.get(o) : (s = this.assetManager.loadImage(o).then((e)=>(e.anisotropy = 16, [
                e
            ])), e.imagesLoadingInProgress.set(o, s)), s.then(([n])=>{
            if (null == t.image) return;
            a.map = n, a.needsUpdate = !0;
            let r, s = this.getBoundingBox(), l = Math.max(i.width, i.height) / 1e3, h = t.vertexes;
            r = t.image._isAbsolutelyPositioned ? {
                x: t.image.position.x,
                y: t.image.position.y
            } : t.image.fitToBounds ? e.getBoundingCentre(h) : e.getWeightedCenter(h);
            let c = t.image.fitToBounds || t.image._isAbsolutelyPositioned ? 0 : t.image.position.x, u = t.image.fitToBounds || t.image._isAbsolutelyPositioned ? 0 : t.image.position.y, d = t.geometry.position.z + t.geometry.scale.z;
            t.image.position && (this.imageMesh.position.x = r.x - i.width / 2 + c, this.imageMesh.position.y = -r.y + i.height / 2 + u, this.imageMesh.translateZ((d + t.image.position.z) * l)), t.image.rotation && this.imageMesh.rotation.set(t.image.rotation.x * Math.PI / 180, t.image.rotation.y * Math.PI / 180, t.image.rotation.z * Math.PI / 180);
            let p = n.image.width, f = n.image.height;
            "string" == typeof o && null != URL && "function" == typeof URL.revokeObjectURL && URL.revokeObjectURL(o);
            let m, g = {
                x: t.image.viewBox.width,
                y: t.image.viewBox.height
            };
            m = !1 === t.image.useLocalScaling ? l : Math.min(s.max.x - s.min.x, s.max.y - s.min.y) / Math.max(g.x, g.y), t.image.fitToBounds ? this.imageMesh.scale.set(s.max.x - s.min.x, s.max.y - s.min.y, 1) : t.image.scale && this.imageMesh.scale.set(t.image.scale.x * m * t.image.viewBox.width, t.image.scale.y * m * t.image.viewBox.height, 1), this.imageMesh.translateZ(e.overlayHeight * l), n.repeat = new (0, _chunk4XLXKB34Js.M)(t.image.viewBox.width / p, t.image.viewBox.height / f), n.offset = new (0, _chunk4XLXKB34Js.M)(0, (n.image.height - t.image.viewBox.height) / n.image.height), this.publish("texture-loaded", n);
        }).catch(()=>{
            R.error("Error loading image", o, "for polygon", null == t ? void 0 : t.id);
        });
    }
    static _normalizeColor(e) {
        let t = e.replace(/#/, "");
        return 3 === t.length && (t = "".concat(t[0]).concat(t[0]).concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2])), parseInt(t, 16);
    }
    static _getMaterial(t, i, n) {
        let r, o = e._normalizeColor(t), s = i < 1 ? o + "_" + i : o;
        if (e.materials[n] = e.materials[n] || {}, e.materials[n][s]) r = e.materials[n][s];
        else {
            let t = {
                color: o,
                side: i < 1 ? (0, _chunk4XLXKB34Js.e) : (0, _chunk4XLXKB34Js.c)
            };
            i < 1 && (t.transparent = !0, t.opacity = i), e.materials[n][s] = new (0, _chunk4XLXKB34Js.Ea)(t), r = e.materials[n][s];
        }
        return r;
    }
    static _clip(t, i) {
        i /= 2;
        let n = e.scale, r = t.map((e)=>({
                X: e.x * n,
                Y: e.y * n
            }));
        for(let e = 8; 0 !== e; e--){
            let e = new ka.ClipperOffset;
            e.AddPath(r, ka.JoinType.jtMiter, ka.EndType.etClosedPolygon);
            let t = new ka.Paths;
            try {
                if (e.Execute(t, i * n), t.length) return t[0].map((e)=>({
                        x: e.X / n,
                        y: e.Y / n
                    }));
                i /= 2;
            } catch  {
                i /= 2;
            }
        }
        return r;
    }
};
(0, _chunkZRT45YCMJs.a)(Oe, "Element"), (0, _chunkZRT45YCMJs.f)(Oe, "defaultMaterial"), (0, _chunkZRT45YCMJs.f)(Oe, "hoverMeshMaterial", new (0, _chunk4XLXKB34Js.Ea)({
    color: "#333"
})), (0, _chunkZRT45YCMJs.f)(Oe, "materials", {}), (0, _chunkZRT45YCMJs.f)(Oe, "defaultExtrudeSettings", {
    depth: 10,
    bevelEnabled: !1
}), (0, _chunkZRT45YCMJs.f)(Oe, "scale", 100), (0, _chunkZRT45YCMJs.f)(Oe, "overlayHeight", .15), (0, _chunkZRT45YCMJs.f)(Oe, "imagesLoadingInProgress", new Map);
var YT = Oe, jo = YT;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var B1 = 2 * Math.PI, Kp = Math.PI / 2, WT = 1.5 * Math.PI, Qj = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = e.image, i = e.rotation || 0, n = t.position.clone(), r = t.rotation.z, o = i, s = (0, _chunkZRT45YCMJs.a)(function() {
        let e = t.geometry;
        e.boundingBox || e.computeBoundingBox(), i = (i + Math.PI) % B1, t.rotation.z = t.rotation.z + Math.PI, t.translateX(-2 * (e.boundingBox.min.x + (e.boundingBox.max.x - e.boundingBox.min.x) / 2)), t.translateY(-2 * (e.boundingBox.min.y + (e.boundingBox.max.y - e.boundingBox.min.y) / 2));
    }, "flip");
    this.flipIfNeeded = function(e) {
        let t = (i - e + B1) % B1;
        (t > Kp && t < WT || t < -Kp && t > -WT) && s();
    }, this.reset = function() {
        t.position.x = n.x, t.position.y = n.y, t.rotation.z = r, i = o;
    };
}, "FlippableImage"), V4 = Qj;
function F1(e, t) {
    var i, n;
    let r = (null == (i = t.referenceMap) ? void 0 : i.scale) || 1, o = e.scale || 1, s = (null == (n = t.referenceMap) ? void 0 : n.getNorth()) || 0, a = e.getNorth() || 0, { x: l, y: h } = e.georeference[0].target, { x: c, y: u } = e.georeference[2].target, d = new Qe(l, h), p = new Qe(c, u), { lat: f, lon: m } = d.midpointTo(p), g = t.referenceMap.createCoordinate(f, m), { x: v, y: y } = t.convertTo3DMapPosition(g), b = o / r;
    return {
        position: [
            v,
            y,
            0
        ],
        scale: [
            b,
            b,
            b
        ],
        rotation: [
            0,
            0,
            a - s
        ]
    };
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(F1, "determineMapPositionAndRotation");
var QT = class {
    constructor(e, t, i, n, r, o){
        (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "layerGroup"), (0, _chunkZRT45YCMJs.f)(this, "mapGroup"), (0, _chunkZRT45YCMJs.f)(this, "defaultMap"), (0, _chunkZRT45YCMJs.f)(this, "activeMap"), (0, _chunkZRT45YCMJs.f)(this, "visibleMap"), (0, _chunkZRT45YCMJs.f)(this, "startingMap"), (0, _chunkZRT45YCMJs.f)(this, "baseMap"), (0, _chunkZRT45YCMJs.f)(this, "venue"), (0, _chunkZRT45YCMJs.f)(this, "object", new (0, _chunk4XLXKB34Js.X)), (0, _chunkZRT45YCMJs.f)(this, "mapObjects", []), (0, _chunkZRT45YCMJs.f)(this, "loading", !1), (0, _chunkZRT45YCMJs.f)(this, "activeMapOpacity", -1), (0, _chunkZRT45YCMJs.f)(this, "buildingOpacity", -1), (0, _chunkZRT45YCMJs.f)(this, "animating", !1), (0, _chunkZRT45YCMJs.f)(this, "processedMapObjects", new Set), (0, _chunkZRT45YCMJs.f)(this, "state", "out-of-view"), (0, _chunkZRT45YCMJs.f)(this, "determineMapPositionAndRotation", F1), this.core = e, this.venue = o, this.mapGroup = t, this.layerGroup = i, this.startingMap = n, this.defaultMap = n, this.activeMap = n, this.baseMap = r, this.mapObjects = t.maps.map((t)=>e.mapObjects.get(t.id)), i.mergedObjectsGroup.children.forEach((e)=>{
            e.userData.building = this;
        }), this.core.on(7, ()=>{
            this.determineMapVisibility();
        });
    }
    determineMapVisibility() {
        for (let e of this.mapObjects)this.core.currentMap === e.mapClass.id ? e.visible || e.onVisible() : e.visible && e.onInvisible();
    }
    setActiveMapOpacity(e, t) {
        var i, n;
        if (this.activeMapOpacity !== e) {
            if ("number" == typeof t) return void this.tweenActiveMapOpacity(e, t);
            this.animating || (this.activeMapOpacity = e, null != this.visibleMap && (null == (n = null == (i = this.visibleMapObject) ? void 0 : i.layerGroups.get("default")) || n.setOpacity(e)));
        }
    }
    tweenActiveMapOpacity(e, t = 300) {
        this.animating = !0, jn({
            from: {
                opacity: this.activeMapOpacity
            },
            to: {
                opacity: e
            },
            duration: t,
            onUpdate: ({ opacity: e })=>{
                var t, i;
                this.activeMapOpacity = e, null != this.visibleMap && (null == (i = null == (t = this.visibleMapObject) ? void 0 : t.layerGroups.get("default")) || i.setOpacity(e)), this.core.tryRendering();
            },
            onComplete: ()=>{
                this.animating = !1;
            }
        }).start(this.core);
    }
    setBuildingOutlineOpacity(e) {
        this.buildingOpacity !== e && (this.buildingOpacity = e, this.layerGroup.setOpacity(e));
    }
    get activeMapObject() {
        return this.activeMap ? this.core.mapObjects.get(this.activeMap.id) : void 0;
    }
    get visibleMapObject() {
        return this.visibleMap ? this.core.mapObjects.get(this.visibleMap.id) : void 0;
    }
    get defaultMapObject() {
        return this.core.mapObjects.get(this.defaultMap.id);
    }
    get baseMapObject() {
        return this.core.mapObjects.get(this.baseMap.id);
    }
    onInView() {
        "in-view" !== this.state && (this.visibleMap !== this.activeMap && (null == this.activeMap ? this.setMap(this.defaultMap) : this.setMap(this.activeMap)), this.state = "in-view");
    }
    onOutOfView() {
        "out-of-view" !== this.state && (this.visibleMap !== this.defaultMap && (this.activeMap = this.defaultMap), this.state = "out-of-view");
    }
    async setMap(e) {
        var t;
        this.loading = !0, this.visibleMap = void 0;
        let i = this.core.mapObjects.get(e.id);
        try {
            if (await i.load(), !this.processedMapObjects.has(i)) {
                let { position: t, rotation: n, scale: r } = this.determineMapPositionAndRotation(e, this.core);
                i.object.position.set(...t), i.object.rotation.set(...n), i.object.scale.set(...r), i.box = (new (0, _chunk4XLXKB34Js.T)).setFromObject(i.object), i.object.name = e.id, this.processedMapObjects.add(i);
            }
        } catch (e) {
            R.error(e);
        }
        this.object.children.length > 0 && this.object.children.forEach((e)=>{
            this.object.remove(e);
        }), -1 !== this.activeMapOpacity && (null == (t = i.layerGroups.get("default")) || t.setOpacity(this.activeMapOpacity)), i.layerGroups.get("default").isVisible = !0, this.object.add(i.object), this.visibleMap = e, this.activeMap = e, this.determineMapVisibility(), this.loading = !1, this.core.tryRendering();
    }
};
(0, _chunkZRT45YCMJs.a)(QT, "Building");
var XT = QT, ZT = XT;
(0, _chunkA5C75TI6Js.a)();
var Kj = 15.8, q8 = 17, N8 = new (0, _chunk4XLXKB34Js.ga), Jj = !1, JT = class {
    constructor(e, t){
        var i;
        (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "buildings", []), (0, _chunkZRT45YCMJs.f)(this, "object", new (0, _chunk4XLXKB34Js.X)), (0, _chunkZRT45YCMJs.f)(this, "panBounds"), (0, _chunkZRT45YCMJs.f)(this, "loaded", !1), (0, _chunkZRT45YCMJs.f)(this, "baseMapObject"), (0, _chunkZRT45YCMJs.f)(this, "raycasters"), (0, _chunkZRT45YCMJs.f)(this, "baseMap"), (0, _chunkZRT45YCMJs.f)(this, "options"), (0, _chunkZRT45YCMJs.f)(this, "resize", (0, _chunkZRT45YCMJs.a)(()=>{
            this.buildRaycasters();
        }, "resize")), (0, _chunkZRT45YCMJs.f)(this, "currentMap"), (0, _chunkZRT45YCMJs.f)(this, "buildingVisiblityMap", new Map), (0, _chunkZRT45YCMJs.f)(this, "buildingsByPolygonId", new Map), this.core = e, this.baseMap = t, this.baseMapObject = this.core.mapObjects.get(this.baseMap.id), this.currentMap = this.baseMap, this.options = {
            indoorsFullyVisibleZoomLevel: q8,
            buildingFullyVisibleZoomLevel: Kj,
            setMapAtZoomLevel: q8,
            preloadDefaultMaps: !1,
            baseMap: this.baseMap,
            keepLayersActiveOnBaseMap: [],
            ...null == (i = this.core.options) ? void 0 : i.dynamicFocus
        }, this.core.on(7, ()=>{
            this.core.currentMap === this.baseMap.id ? this.baseMapObject.onVisible() : this.baseMapObject.onInvisible(!0);
        }), this.buildRaycasters();
    }
    buildRaycasters() {
        let e = new (0, _chunk4XLXKB34Js.M)(this.core.canvasWidth / 2, this.core.canvasHeight / 2), t = new (0, _chunk4XLXKB34Js.M)(e.x / 1.2, e.y / 1.2), i = new (0, _chunk4XLXKB34Js.M)(e.x + (e.x - t.x), t.y), n = new (0, _chunk4XLXKB34Js.M)(t.x, e.y + (e.y - t.y)), r = new (0, _chunk4XLXKB34Js.M)(i.x, n.y);
        this.raycasters = [
            e,
            t,
            i,
            n,
            r
        ].map((e, t)=>{
            if (Jj) {
                let t = document.createElement("div");
                t.style.position = "absolute", t.style.top = e.y + "px", t.style.left = e.x + "px", t.style.width = "10px", t.style.height = "10px", t.style.backgroundColor = "red", document.body.append(t);
            }
            let i = e.x / this.core.canvasWidth * 2 - 1, n = -e.y / this.core.canvasHeight * 2 + 1, r = new (0, _chunk4XLXKB34Js.S)(i, n, 0), o = new (0, _chunk4XLXKB34Js.Oa);
            return o.setFromCamera(r, this.core.cameraObject), [
                o,
                r,
                0 === t ? 10 : 1
            ];
        });
    }
    updateRaycasters() {
        for (let [e, t] of this.raycasters)e.setFromCamera(t, this.core.cameraObject);
    }
    expandToBaseMapBounds() {
        this.baseMapObject.object.updateMatrixWorld();
        let e = this.baseMapObject.getMapScale() * this.baseMapObject.object.scale.x, t = O1(this.baseMapObject, this.core.controls.panBounds), i = this.core.loadOptions && this.core.loadOptions.zoomOverrides && this.core.loadOptions.zoomOverrides.zoomMultiplier || _1;
        l1(this.core.controls, "zoomFactor", e / i), this.panBounds = t, this.core.controls.panBounds = t;
        let { min: n, max: r } = t, o = [
            new (0, _chunk4XLXKB34Js.S)(n.x, n.y, n.z),
            new (0, _chunk4XLXKB34Js.S)(n.x, r.y, n.z),
            new (0, _chunk4XLXKB34Js.S)(r.x, n.y, n.z),
            new (0, _chunk4XLXKB34Js.S)(r.x, r.y, n.z),
            new (0, _chunk4XLXKB34Js.S)(n.x, n.y, r.z),
            new (0, _chunk4XLXKB34Js.S)(n.x, r.y, r.z),
            new (0, _chunk4XLXKB34Js.S)(r.x, n.y, r.z),
            new (0, _chunk4XLXKB34Js.S)(r.x, r.y, r.z)
        ], { zoom: s } = this.core.getCameraFrameForPoints(o, 1, 1, this.core.cachedPadding, !1);
        this.core.controls.setMulti(t.center, s, Ko, I1);
    }
    async load() {
        this.core.publish(6), await this.baseMapObject.load(), this.object = this.baseMapObject.object;
        let { position: e, rotation: t, scale: i } = F1(this.baseMap, this.core), n = this.baseMapObject.object;
        n.position.set(...e), n.rotation.set(...t), n.scale.set(...i), this.baseMapObject.box = (new (0, _chunk4XLXKB34Js.T)).setFromObject(this.baseMapObject.object), this.baseMapObject.object.name = this.baseMap.id;
        let r = Array.from(this.baseMapObject.layerGroups).filter(([e])=>e.includes("building"));
        this.buildings = await this.createBuildings(r), this.buildings.forEach((e)=>{
            this.object.add(e.object);
        }), this.expandToBaseMapBounds(), this.baseMapObject.onVisible(), this.core.publish(7), this.loaded = !0;
    }
    setMap(e, t = !1) {
        if (this.currentMap === e) return Promise.resolve();
        if (this.core.publish(6), e === this.baseMap) return this.currentMap = this.baseMap, t && (this.core.setMapReason = "dynamic-focus-user-interaction"), this.core.publish(7), Promise.resolve();
        let i = e.mapGroup;
        return this.buildings.find((e)=>e.mapGroup.id === i.id).setMap(e).then(()=>{
            this.currentMap = e, t && (this.core.setMapReason = "dynamic-focus-user-interaction"), this.core.publish(7);
        });
    }
    get buildingsInView() {
        return Array.from(this.buildingVisiblityMap.entries()).filter(([e, t])=>t).map(([e, t])=>e);
    }
    determineBuildingsInView() {
        if (this.core.controls.getZoomLevel() < this.options.buildingFullyVisibleZoomLevel) for (let e of this.buildings)this.buildingVisiblityMap.set(e, !1);
        let e = this.core.cameraObject;
        N8.setFromProjectionMatrix((new (0, _chunk4XLXKB34Js.V)).multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse));
        for (let e of this.buildings)for (let t of e.layerGroup.mergedObjectsGroup.children)N8.intersectsObject(t) ? this.buildingVisiblityMap.set(e, !0) : this.buildingVisiblityMap.set(e, !1);
        return this.buildingsInView;
    }
    determineCurrentMap() {
        if (this.core.controls.getZoomLevel() < this.options.setMapAtZoomLevel) return this.baseMap;
        this.updateRaycasters();
        let e = new Map, t = Array.from(this.buildingVisiblityMap.keys()).flatMap((e)=>e.layerGroup.mergedObjectsGroup.children), i = -1 / 0, n = null;
        for (let [r, o, s] of this.raycasters)r.intersectObjects(t).forEach((t)=>{
            let r = t.object.userData.building;
            e.has(r) || e.set(r, 0);
            let o = e.get(r) + s;
            e.set(r, o), o > i && (n = r, i = o);
        });
        return null != n ? n.activeMap : this.currentMap;
    }
    setOpacities(e = [], t) {
        let i = this.core.controls.getZoomLevel();
        if (i < this.options.buildingFullyVisibleZoomLevel) return void this.buildings.forEach((e)=>{
            e.onOutOfView(), e.setActiveMapOpacity(0), e.setBuildingOutlineOpacity(1);
        });
        let n = _a(i, this.options.buildingFullyVisibleZoomLevel, this.options.indoorsFullyVisibleZoomLevel, 0, 1, Sp), r = _a(n, 0, 1, 0, .6, Sp), o = _a(n, 0, 1, 1, 0, Sp);
        this.buildings.forEach((i)=>{
            e.includes(i) ? (i.onInView(), i.setBuildingOutlineOpacity(o), i.visibleMap === t && n > 0 ? i.setActiveMapOpacity(n, 300) : i.setActiveMapOpacity(r, 300)) : (i.onOutOfView(), i.setActiveMapOpacity(0), i.setBuildingOutlineOpacity(1));
        });
    }
    async createBuildings(e) {
        let t = [];
        return e.forEach(([e, i])=>{
            let n = this.core.venue.getCollectionItemById("maps", i.userData.toMapId), r = this.core.venue.getCollectionItemById("mapGroups", i.userData.mapGroupId), o = new ZT(this.core, r, i, n, this.baseMap, this.core.venue);
            t.push(o), this.buildingVisiblityMap.set(o, !1);
        }), this.options.preloadDefaultMaps && await Promise.all(t.map((e)=>e.setMap(e.startingMap))), t;
    }
};
(0, _chunkZRT45YCMJs.a)(JT, "DynamicFocusScene");
var KT = JT, S4 = KT;
(0, _chunkA5C75TI6Js.a)();
var jr = (0, _chunkZRT45YCMJs.e)(Vr()), R8 = "attribute float pathDistance;\nattribute vec3 pathNormal;\nattribute vec3 pathTangent;\n\nuniform vec2 uvScale;\nuniform float vertexes;\nuniform float complete;\nuniform float nearRadius;\nuniform float farRadius;\nuniform float nearZoom;\nuniform float farZoom;\nuniform float pulse;\nuniform float pulseLength;\nuniform bool pathIsVertical;\nuniform bool displayArrowsOnPath;\nuniform vec2 cameraParameters;\nuniform float flattenFactor;\n\nvarying float zoomLevel;\nvarying float radius;\nvarying vec2 fragTexcoord;\nvarying float fragTopTextureU;\nvarying float fragPathDistance;\n\n// Map the x value from the range [xMin, xMax] to the range [yMin, yMax] using\n// linear interpolation/extrapolation.\n//\n// This performs a pure linear mapping `y = mx + b` where\n// `m = (yMax - yMin) / (xMax - xMin)`,\n// `b = -xMin * (yMax - yMin) / (xMax - xMin) + yMin`.\nfloat remap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return (x - xMin) / (xMax - xMin) * (yMax - yMin) + yMin;\n}\n\n// Map the x value from [xMin, xMax] to the range [yMin, yMax] using linear\n// interpolation, clamping result values outside [yMin, yMax].\nfloat clampRemap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return clamp(remap(x, xMin, xMax, yMin, yMax), yMin, yMax);\n}\n\nvoid main() {\n	fragPathDistance = pathDistance;\n\n	// We can get an origin point for the cross-section of the path by\n	// subtracting the surface normal times the radius, since the surface normal\n	// points strictly away from the centre.\n	vec3 origin = position - nearRadius * normal;\n\n	// Inflate the path along its surface normal to increase its radius from\n	// `nearRadius` to `farRadius` when the camera is at `farZoom`.\n	vec3 adjustedPosition = position;\n	zoomLevel = clampRemap(cameraParameters.x, nearZoom, farZoom, 0.0, 1.0);\n	adjustedPosition += normal * (farRadius - nearRadius) * zoomLevel;\n\n	// Determine how far the path extends \"up\" or \"down\" in the direction of the\n	// path normal.\n	float height = dot(adjustedPosition - origin, pathNormal);\n\n	// Flatten the bottom half of the path entirely so that it's flat\n	// against the floor. This makes the path look nicer when it's\n	// semitransparent behind opaque geometry, so you don't see it\n	// peeking through.\n	float desiredHeight = max(height, 0.0);\n\n	desiredHeight = desiredHeight * flattenFactor;\n\n	float flattenMagnitude = height - desiredHeight;\n	adjustedPosition = adjustedPosition - pathNormal * flattenMagnitude;\n\n	// Transform the vertices into NDC.\n	vec4 mvPosition = modelViewMatrix * vec4(adjustedPosition, 1.0);\n	gl_Position = projectionMatrix * mvPosition;\n\n	fragTexcoord = uv;\n\n	// Compute a texture coordinate for mapping the arrow texture to the path.\n	// We don't want to use the u-value that Three.js provides, because the\n	// path may end up twisting arbitrarily -- but we want the arrow texture to\n	// always be on the top of the path.\n	vec3 bitangent = cross(normal, pathTangent);\n	fragTopTextureU = -dot(bitangent, pathNormal) * 0.5 + 0.5;\n\n	radius = mix(nearRadius, farRadius, zoomLevel);\n}\n", k8 = '#define ARROW_FADING_POINT 0.15\n\nuniform float complete;\nuniform float nearRadius;\nuniform float farRadius;\nuniform vec2 resolution;\nuniform vec2 cameraParameters;\nuniform vec3 color;\nuniform float pathLength;\nuniform bool showPulse;\nuniform vec3 pulseColor;\nuniform float pulse;\nuniform float pulseLength;\nuniform bool pathIsVertical;\nuniform bool displayArrowsOnPath;\nuniform float arrowAnimationTimer;\nuniform sampler2D arrowTexture;\n\nvarying float zoomLevel;\nvarying float radius;\nvarying vec2 fragTexcoord;\nvarying float fragTopTextureU;\nvarying float fragPathDistance;\n\n// How long the arrow should be, as a factor of `pathRadius`. Since we\'ve\n// mostly flattened the top of the path, values near 2.0 (the diameter)\n// will probably look best.\nconst float arrowLength = 2.0;\n\n// How much of a relative margin the arrow texture should have inside the\n// area laid out for it. Useful to pull the arrow away from the edges of the\n// path, which slope down.\nconst float arrowMargin = 0.1;\n\n// How many arrow-lengths of space should be between arrows on a short path.\nconst float arrowSpacingOnShortPath = 6.0;\n\n// How many arrow-lengths of space should be between arrows on a long path.\nconst float arrowSpacingOnLongPath = 7.5;\n\n// How long a path must be to be considered "long", as a factor of\n// the path radius.\nconst float longPathLength = 200.;\n\n// How long a path must be to be considered "short", as a factor of the\n// path radius.\nconst float shortPathLength = 75.;\n\n// How much of the path\'s length the fade-in should comprise when going from\n// zero opacity to full opacity.\nconst float completeLength = 0.1;\n\n// Map the x value from the range [xMin, xMax] to the range [yMin, yMax] using\n// linear interpolation/extrapolation.\n//\n// This performs a pure linear mapping `y = mx + b` where\n// `m = (yMax - yMin) / (xMax - xMin)`,\n// `b = -xMin * (yMax - yMin) / (xMax - xMin) + yMin`.\nfloat remap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return (x - xMin) / (xMax - xMin) * (yMax - yMin) + yMin;\n}\n\n// Map the x value from [xMin, xMax] to the range [yMin, yMax] using linear\n// interpolation, clamping result values outside [yMin, yMax].\nfloat clampRemap(float x, float xMin, float xMax, float yMin, float yMax) {\n	return clamp(remap(x, xMin, xMax, yMin, yMax), yMin, yMax);\n}\n\nvoid main(void) {\n	// Compute the opacity of the path based on the distance from the current\n	// fragment to the `complete` value as it varies from 0.0 to 1.0.\n	// Fragments that are at the `complete` value or past it will be fully\n	// transparent, while fragments that are at `complete - completeLength`\n	// or before it will be fully opaque. However, we adjust the `complete`\n	// value here so that it overshoots by one full `completeLength`, so that\n	// the entire path will be opaque when the `complete` value is at 1.0.\n	float completeLocation = complete * (1.0 + completeLength);\n	float completeAmount = clampRemap(\n		fragPathDistance,\n		completeLocation - completeLength,\n		completeLocation,\n		0.0,\n		1.0\n	);\n	float opacity = 1.0 - smoothstep(0.0, 1.0, completeAmount);\n\n	// 2020/01/09 Terence Dickson\n	// When we render the background and overlay for the mapbox outdoor context\n	// behind everything else in single-buffer rendering, the fact that the path\n	// writes to the depth buffer means that the background and overlay will not\n	// be drawn behind the path even when the path is still fading in. The effect\n	// is subtle and is only visible in single-buffer rendering so this quick fix\n	// prevents writes to the depth buffer for zero opacity fragments, which gets\n	// rid of the most visually-offensive ghosting.\n	if (opacity <= 0.0) {\n		discard;\n	}\n\n	// Push in the texture coordinates so that they ramp up\n	// at `arrowMargin` instead of at zero; this remapping looks somewhat\n	// like this:\n	// 1 ^        ___\n	//   |       /\n	//   |      /\n	//   |     /\n	//   |    /\n	//   |___/\n	// 0 +---------->\n	//   0   ^      1\n	//       arrowMargin\n	// Making the arrows narrower on the path.\n	float u = fragTopTextureU;\n	u = clamp(\n		u * (1. / (1. - arrowMargin * 2.)) - (1. / (1. - arrowMargin * 2.) - 1.) / 2.,\n		0.0,\n		1.0\n	);\n\n	float arrowSpacing = clampRemap(\n		pathLength,\n		shortPathLength * radius,\n		longPathLength * radius,\n		arrowSpacingOnShortPath,\n		arrowSpacingOnLongPath\n	);\n\n	// Reduce the spacing between arrows when the camera zooms out, as increasing\n	// the path radius will increase the arrow size and thus be able to fit\n	// fewer arrows on in total, and this secondary movement of the arrows\n	// "zooming off" the end of the path is unpleasant\n	float expandAmount = mix(1.0, farRadius / nearRadius, zoomLevel);\n	float effectiveArrowSpacing =\n		arrowSpacing * 1.0 / expandAmount +\n		arrowMargin * 2.0;\n\n	float effectiveArrowLength = arrowLength * radius * (1. - arrowMargin * 2.0);\n\n	// Adjust the slope of the vertical texture coordinate so that it goes\n	// from 0 to 1 along the length of the arrow plus the spacing between\n	// arrows, and adjust its x-intercept so that one arrow moves to the\n	// exact position of the next arrow as `arrowAnimationTimer` goes\n	// from 0 to 1\n	float v = (\n		fragTexcoord.x * (pathLength / effectiveArrowLength)\n		- arrowAnimationTimer * (1. + effectiveArrowSpacing)\n	);\n\n	// Compute a "looping sawtooth" wave for determining the vertical texture\n	// coordinates of the arrow texture, roughly as follows:\n	// 3 ^              /\n	//   |          ___/\n	// 2 |         /\n	//   |     ___/\n	// 1 |    /\n	//   |___/\n	// 0 +--------------->\n	//   0   ^ ^\n	//   ^   |_|\n	//   |   effectiveArrowLength\n	//   |___|\n	//   effectiveArrowSpacing\n	//\n	// This is effectively equivalent to this sort of sawtooth wave:\n	//   ^\n	// 1 |    /    /    /\n	//   |___/ ___/ ___/\n	// 0 +--------------->\n	//\n	// Causing the image of the arrow to repeat, with dead space (the bottom\n	// edge of the texture stretched out) between the arrows at the provided\n	// spacing. The reason why the "looping" design is preferred is because\n	// it takes advantage of WebGL\'s `GL_REPEAT` texture wrapping behaviour\n	// to avoid the discontinuity that can end up causing visual artifacts.\n	if (mod(v, (1. + effectiveArrowSpacing)) < 1.) {\n		v = v - effectiveArrowSpacing * floor(v / (1. + effectiveArrowSpacing));\n	} else {\n		v = ceil(v / (1. + effectiveArrowSpacing));\n	}\n\n	// Use the r-component of the texture to determine whether the arrow covers\n	// this fragment or not\n	vec2 sampleTexcoord = vec2(u, v);\n	float arrowAmount = 0.0;\n	vec3 secondColor = pulseColor;\n\n	if (displayArrowsOnPath) {\n		arrowAmount = texture2D(arrowTexture, sampleTexcoord).r;\n		float delta = 1.0 - abs(fragPathDistance * 2.0 - 1.0);\n		secondColor = mix(color, pulseColor, 1.0 - smoothstep(ARROW_FADING_POINT, 0.0, delta));\n	}\n\n	if (showPulse) {\n		// Add the pulse color to the path by determining how far the current fragment\n		// is from `pulse`\n		float pulseLocation = remap(\n		pulse,\n		0.0,\n		1.0,\n		-pulseLength,\n		1.0 + pulseLength\n		);\n		float pulseDistance = smoothstep(\n		0.0,\n		pulseLength,\n		abs(fragPathDistance - pulseLocation)\n		);\n\n		// Blend the pulse color to the path based on how close this fragment is to\n		// the `pulse` value and whether it\'s covered by an arrow -- but if it\'s\n		// covered by *both*, then we go back to using the regular path color\n		// (making arrows look like "holes" when they\'re overlapping the pulse.)\n		float pulseLevel = abs(1.0 - pulseDistance - arrowAmount);\n\n		gl_FragColor = vec4(mix(color, secondColor, pulseLevel), opacity);\n	} else if (displayArrowsOnPath) {\n		gl_FragColor = vec4(mix(color, pulseColor, arrowAmount), opacity);\n	} else {\n		gl_FragColor = vec4(color, opacity);\n	}\n	#include <encodings_fragment>\n}';
(0, _chunkA5C75TI6Js.a)();
var il, B8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M25.86,2.59A10.12,10.12,0,0,0,22.4.65a14,14,0,0,0-8.85.14A10.33,10.33,0,0,0,10,3.1,9.78,9.78,0,0,0,7.72,6.68,10,10,0,0,0,7,11h6a6.3,6.3,0,0,1,.18-2.33,5.57,5.57,0,0,1,1-1.77,4.05,4.05,0,0,1,1.5-1.13,6.87,6.87,0,0,1,4.5-.08,4.4,4.4,0,0,1,1.6.88,3.37,3.37,0,0,1,.93,1.22A3.84,3.84,0,0,1,23,9.29a3.15,3.15,0,0,1-.38,1.5,10.54,10.54,0,0,1-1.26,1.72,18.9,18.9,0,0,1-1.78,1.8c-.71.66-1.4,1.34-2,2C16.31,17.55,14,19,14,21v6h6V23c0-.63,0-1,1-2s1.24-1.3,2-2,1.69-1.66,2.5-2.52a14,14,0,0,0,2.28-2.81,7.51,7.51,0,0,0,1.08-4.05,9.68,9.68,0,0,0-.78-3.91A8.34,8.34,0,0,0,25.86,2.59Z"/><circle cx="17" cy="33" r="3"/></svg>', F8 = "data:image/png;base64,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", U8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="36 14.99 28 7.99 28 12.99 17 12.99 17 16.99 28 16.99 28 21.99 36 14.99"/><path d="M24,29H15V7L6,2H24v9h2V0H0V29l14.94,7L15,31H26V19H24Z"/></svg>', z8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M12.85,18.24H9.25a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.26,1.26,0,0,0,12.85,18.24Z"/><circle cx="11.05" cy="15.85" r="1.5"/><path d="M26.82,18.24h-3.6a1.26,1.26,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.27,1.27,0,0,0,26.82,18.24Z"/><circle cx="25.02" cy="15.85" r="1.5"/><path d="M19.79,18.24h-3.6a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.66,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42A1.68,1.68,0,0,0,21,24.24v-4.8A1.26,1.26,0,0,0,19.79,18.24Z"/><path d="M18,17.35a1.5,1.5,0,1,0-1.5-1.5A1.51,1.51,0,0,0,18,17.35Z"/><path d="M28.79,10H7.27c-2.82,0-5.11,2-5.11,4.51V31.6c0,2.49,2.29,4.51,5.11,4.51H28.79c2.82,0,5.12-2,5.12-4.51V14.51C33.91,12,31.61,10,28.79,10Zm2.85,21.6a2.7,2.7,0,0,1-2.85,2.51H7.27A2.7,2.7,0,0,1,4.42,31.6V14.51A2.7,2.7,0,0,1,7.27,12H28.79a2.7,2.7,0,0,1,2.85,2.51Z"/><polygon points="27 4 26 3 24 5 24 0 22 0 22 5 20 3 19 4 23 8 27 4"/><polygon points="17 4 16 5 14 3 14 8 12 8 12 3 10 5 9 4 13 0 17 4"/></svg>', V8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M12.85,18.24H9.25a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.26,1.26,0,0,0,12.85,18.24Z"/><circle cx="11.05" cy="15.85" r="1.5"/><path d="M26.82,18.24h-3.6a1.26,1.26,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.27,1.27,0,0,0,26.82,18.24Z"/><circle cx="25.02" cy="15.85" r="1.5"/><path d="M19.79,18.24h-3.6a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.66,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42A1.68,1.68,0,0,0,21,24.24v-4.8A1.26,1.26,0,0,0,19.79,18.24Z"/><path d="M18,17.35a1.5,1.5,0,1,0-1.5-1.5A1.51,1.51,0,0,0,18,17.35Z"/><path d="M28.79,10H7.27c-2.82,0-5.11,2-5.11,4.51V31.6c0,2.49,2.29,4.51,5.11,4.51H28.79c2.82,0,5.12-2,5.12-4.51V14.51C33.91,12,31.61,10,28.79,10Zm2.85,21.6a2.7,2.7,0,0,1-2.85,2.51H7.27A2.7,2.7,0,0,1,4.42,31.6V14.51A2.7,2.7,0,0,1,7.27,12H28.79a2.7,2.7,0,0,1,2.85,2.51Z"/><polygon points="22 4 21 5 19 3 19 8 17 8 17 3 15 5 14 4 18 0 22 4"/></svg>', G8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M12.85,18.24H9.25a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.26,1.26,0,0,0,12.85,18.24Z"/><circle cx="11.05" cy="15.85" r="1.5"/><path d="M26.82,18.24h-3.6a1.26,1.26,0,0,0-1.2,1.2v4.8c0,.43.65,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42c.43-.11,1.08-.75,1.08-1.18v-4.8A1.27,1.27,0,0,0,26.82,18.24Z"/><circle cx="25.02" cy="15.85" r="1.5"/><path d="M19.79,18.24h-3.6a1.27,1.27,0,0,0-1.2,1.2v4.8c0,.43.66,1.07,1.08,1.18v5.52c0,1.09,1.2,1.09,1.2,0v-5.5h1.44v5.5c0,1.09,1.2,1.09,1.2,0V25.42A1.68,1.68,0,0,0,21,24.24v-4.8A1.26,1.26,0,0,0,19.79,18.24Z"/><path d="M18,17.35a1.5,1.5,0,1,0-1.5-1.5A1.51,1.51,0,0,0,18,17.35Z"/><path d="M28.79,10H7.27c-2.82,0-5.11,2-5.11,4.51V31.6c0,2.49,2.29,4.51,5.11,4.51H28.79c2.82,0,5.12-2,5.12-4.51V14.51C33.91,12,31.61,10,28.79,10Zm2.85,21.6a2.7,2.7,0,0,1-2.85,2.51H7.27A2.7,2.7,0,0,1,4.42,31.6V14.51A2.7,2.7,0,0,1,7.27,12H28.79a2.7,2.7,0,0,1,2.85,2.51Z"/><polygon points="22 4 21 3 19 5 19 0 17 0 17 5 15 3 14 4 18 8 22 4"/></svg>', j8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="4 16 18 0 31.99 16 4 16"/><polygon points="31.99 20 18 36 4 20 31.99 20"/></svg>', H8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,8a3,3,0,1,0-3-3A3,3,0,0,0,18,8Z"/><path d="M33,10H27a3.65,3.65,0,0,0-3,1l-2.76,2.75V12.39a2.48,2.48,0,0,0-2.46-2.47H17.22a2.48,2.48,0,0,0-2.47,2.47v7.87L9,26a3.26,3.26,0,0,1-2,1H3c-2.28,0-3,1.79-3,3.93A2.76,2.76,0,0,0,3,34H9a3.77,3.77,0,0,0,3-1L27,18a3.29,3.29,0,0,1,2.49-1h3.26A3.43,3.43,0,0,0,36,13.44C36,12.08,35,10,33,10Zm0,5H29c-1.47,0-1.92-.08-3,1L11,31a3.15,3.15,0,0,1-2,1H3c-.82,0-1-.29-1-1.16S2.12,28.9,3,29H7a3.87,3.87,0,0,0,3-1L25,13a2.72,2.72,0,0,1,2-1h6c.68,0,1,1.05,1,1.44S34,15,33,15Z"/><polygon points="30.18 26.18 26 31 26 28 24 28 24 34 31 34 31 32 28 32 31.69 27.59 30.18 26.18"/></svg>', Y8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,8a3,3,0,1,0-3-3A3,3,0,0,0,18,8Z"/><path d="M33,10H27a3.65,3.65,0,0,0-3,1l-2.76,2.75V12.39a2.48,2.48,0,0,0-2.46-2.47H17.22a2.48,2.48,0,0,0-2.47,2.47v7.87L9,26a3.26,3.26,0,0,1-2,1H3c-2.28,0-3,1.79-3,3.93A2.76,2.76,0,0,0,3,34H9a3.77,3.77,0,0,0,3-1L27,18a3.29,3.29,0,0,1,2.49-1h3.26A3.43,3.43,0,0,0,36,13.44C36,12.08,35,10,33,10Zm0,5H29c-1.47,0-1.92-.08-3,1L11,31a3.15,3.15,0,0,1-2,1H3c-.82,0-1-.29-1-1.16S2.12,28.9,3,29H7a3.87,3.87,0,0,0,3-1L25,13a2.72,2.72,0,0,1,2-1h6c.68,0,1,1.05,1,1.44S34,15,33,15Z"/><polygon points="25.67 34 29.84 29.18 29.84 32.18 31.84 32.18 31.84 26.18 24.84 26.18 24.84 28.18 27.84 28.18 24.16 32.58 25.67 34"/></svg>', W8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M36,34H0L36,2ZM12,30H32V12Z"/></svg>', X8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M36,34H0L36,2ZM12,30H32V12Z"/><polygon points="18.18 4.18 14 9 14 6 12 6 12 12 19 12 19 10 16 10 19.69 5.59 18.18 4.18"/></svg>', Z8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M36,34H0L36,2ZM12,30H32V12Z"/><polygon points="13.82 13.82 18 9 18 12 20 12 20 6 13 6 13 8 16 8 12.31 12.41 13.82 13.82"/></svg>', Q8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M10,0,26,2s-5.59,5.68-5.56,5.71C23.32,10.88,23.94,15.27,24,18V36H20V18c-.05-2.09-.54-5.32-2.47-7.53L12,16Z"/></svg>', K8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M26,0,10,2s5.59,5.68,5.57,5.71C12.68,10.88,12.06,15.27,12,18V36h4V18c.06-2.09.54-5.32,2.47-7.53L24,16Z"/></svg>', J8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="35.99 2 30 2 25.99 2 25.99 6.59 25.99 8.84 24 8.84 19.99 8.84 19.99 13.43 19.99 15.67 13.99 15.67 13.99 15.69 13.99 20.27 13.99 22.52 12 22.52 7.99 22.52 7.99 27.12 7.99 29.36 0 29.36 0 33.95 7.99 33.95 11.99 33.95 12 33.95 12 27.12 13.99 27.12 18 27.12 18 22.52 18 20.27 19.99 20.27 24 20.27 24 15.67 24 13.43 25.99 13.43 30 13.43 30 8.84 30 6.59 35.99 6.59 35.99 2"/></svg>', $8 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="30 2.03 25.99 2.03 25.99 6.63 25.99 8.87 24 8.87 19.99 8.87 19.99 13.47 19.99 15.71 13.99 15.71 13.99 15.73 13.99 20.31 13.99 22.57 12 22.57 7.99 22.57 7.99 27.16 7.99 29.4 0 29.4 0 34 7.99 34 11.99 34 12 34 12 27.16 13.99 27.16 18 27.16 18 22.57 18 20.31 19.99 20.31 24 20.31 24 15.71 24 13.47 25.99 13.47 30 13.47 30 8.87 30 6.63 35.99 6.63 35.99 2.03 30 2.03"/><polygon points="30.17 26.18 26 31 26 28 24 28 24 34 31 34 31 32 28 32 31.68 27.59 30.17 26.18"/></svg>', e9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><polygon points="30 2.03 25.99 2.03 25.99 6.63 25.99 8.87 24 8.87 19.99 8.87 19.99 13.47 19.99 15.71 13.99 15.71 13.99 15.73 13.99 20.31 13.99 22.57 12 22.57 7.99 22.57 7.99 27.16 7.99 29.4 0 29.4 0 34 7.99 34 11.99 34 12 34 12 27.16 13.99 27.16 18 27.16 18 22.57 18 20.31 19.99 20.31 24 20.31 24 15.71 24 13.47 25.99 13.47 30 13.47 30 8.87 30 6.63 35.99 6.63 35.99 2.03 30 2.03"/><polygon points="24.83 33.82 29 29 29 32 31 32 31 26 24 26 24 28 27 28 23.32 32.41 24.83 33.82"/></svg>', t9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M5,10,17,0V8a11,11,0,0,1,8.44,3.5c2.88,3.2,3.5,7.8,3.56,10.5V36H25V22c-.05-2.11-.54-5.61-2.53-7.82A7.1,7.1,0,0,0,17,12v8Z"/></svg>', i9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M29,10,17,0V8a11,11,0,0,0-8.44,3.5C5.68,14.7,5.06,19.3,5,22V36H9V22c.06-2.11.54-5.61,2.53-7.82A7.1,7.1,0,0,1,17,12v8Z"/></svg>', n9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M20,0c-5.38,0-9.79,5.34-10,12H2L12,24,22,12H14c.19-4.39,2.86-8,6-8s6,4.58,6,10V36h4V14C30,6.13,25.6,0,20,0Z"/></svg>', r9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M21,3c-.44-.92-1-3-3-3s-2.63,2.16-3,3C15,3,2,29,2,33a2.65,2.65,0,0,0,3,3c2,0,6.1-2.2,9-4,2-1,3-2,4-2s2,1,4,2c0,0,7,4,9,4a2.65,2.65,0,0,0,3-3C34,29,21,3,21,3Z"/></svg>', a9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,4A14,14,0,1,1,4,18,14,14,0,0,1,18,4m0-4A18,18,0,1,0,36,18,18,18,0,0,0,18,0Z"/><circle cx="18" cy="18" r="6"/></svg>', s9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,0A13.83,13.83,0,0,0,4,14c0,4,1,9,7,12,2,1,6.15,8.67,7,10,3.38-5.44,5-9,7-10,6-3,7-8,7-12A13.83,13.83,0,0,0,18,0Zm0,19a5,5,0,1,1,5-5A5,5,0,0,1,18,19Z"/></svg>', o9 = '<svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 36 36"><title>mappedin-icon</title><path d="M18,0A13.83,13.83,0,0,0,4,14c0,4,1,9,7,12,2,1,6.15,8.67,7,10,3.38-5.44,5-9,7-10,6-3,7-8,7-12A13.83,13.83,0,0,0,18,0Z"/></svg>', l9 = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="25px" height="30px" viewBox="0 0 25 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <title>Marker Pin</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M5.5,15 C6.34615385,14.1176471 7.33333333,12.9411765 8.46153846,11.4705882 C10.1538462,9.26470588 11,7.18962511 11,5.73529412 C11,2.56777864 8.53756612,0 5.5,0 C2.46243388,0 0,2.56777864 0,5.73529412 C0,7.1924534 0.846153846,9.26470588 2.53846154,11.4705882 C3.66666667,12.9411765 4.65384615,14.1176471 5.5,15 Z" id="path-1"></path>\n        <filter x="-104.5%" y="-63.3%" width="309.1%" height="259.8%" filterUnits="objectBoundingBox" id="filter-2">\n            <feMorphology radius="2" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>\n            <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>\n            <feGaussianBlur stdDeviation="2.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n            <feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite>\n            <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n        </filter>\n    </defs>\n    <g id="CE-1261" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Final-MVP-Markers" transform="translate(-204.000000, -523.000000)">\n            <g id="Marker-Pin" transform="translate(211.000000, 528.000000)">\n                <g id="Oval-Copy-25">\n                    <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use>\n                    <path stroke="#FFFFFF" stroke-width="1.5" d="M4.95868222,15.5191099 C4.09118889,14.6145045 3.08708286,13.4178617 1.94340415,11.9271041 C0.219570966,9.68012899 -0.75,7.4435468 -0.75,5.73529412 C-0.75,2.16043095 2.04102866,-0.75 5.5,-0.75 C8.95897134,-0.75 11.75,2.16043095 11.75,5.73529412 C11.75,7.44173178 10.7794284,9.68143336 9.05659585,11.9271041 C7.91291714,13.4178617 6.90881111,14.6145045 6.04131778,15.5191099 L5.5,16.0835856 L4.95868222,15.5191099 Z" fill="#FFFFFF" fill-rule="evenodd"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n', u9 = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="23px" height="27px" viewBox="0 0 23 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <title>Oval Copy 25</title>\n    <desc>Created with Sketch.</desc>\n    <defs>\n        <path d="M5.5,15 C6.34615385,14.1176471 7.33333333,12.9411765 8.46153846,11.4705882 C10.1538462,9.26470588 11,7.18962511 11,5.73529412 C11,2.56777864 8.53756612,0 5.5,0 C2.46243388,0 0,2.56777864 0,5.73529412 C0,7.1924534 0.846153846,9.26470588 2.53846154,11.4705882 C3.66666667,12.9411765 4.65384615,14.1176471 5.5,15 Z" id="path-1"></path>\n        <filter x="-90.9%" y="-53.3%" width="281.8%" height="236.1%" filterUnits="objectBoundingBox" id="filter-2">\n            <feMorphology radius="0.5" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>\n            <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>\n            <feGaussianBlur stdDeviation="2.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n            <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.2 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n        </filter>\n    </defs>\n    <g id="CE-1261" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Final-MVP-Markers" transform="translate(-205.000000, -524.000000)">\n            <g id="Marker-Pin" transform="translate(211.000000, 528.000000)">\n                <g id="Oval-Copy-25">\n                    <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use>\n                    <use fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>\n', c9 = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="36px" height="36px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <defs>\n      <filter id="f3" x="-50%" y="-50%" width="200%" height="200%">\n        <feMorphology radius="3" operator="dilate" in="SourceAlpha" result="shadowSpreadOuter1"></feMorphology>\n        <feOffset dx="0" dy="2" in="shadowSpreadOuter1" result="shadowOffsetOuter1"></feOffset>\n        <feGaussianBlur stdDeviation="2.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n        <feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite>\n        <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.4 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix>\n      </filter>\n    </defs>\n    <circle cx="50" cy="50" r="40" fill="white" filter="url(#f3)"/>\n    <circle cx="50" cy="50" r="40" fill="white"/>\n</svg>\n', h9 = '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="36px" height="36px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <!-- Generator: Sketch 57.1 (83088) - https://sketch.com -->\n    <circle cx="50" cy="50" r="30" />\n</svg>\n', d9 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 468.614 468.614">\n    <g>\n        <path d="M291.299 116.517h-3.501c10.635-12.36 17.102-28.378 17.102-45.915C304.899 31.666 273.219 0 234.305 0c-38.93 0-70.584 31.666-70.584 70.602 0 17.537 6.477 33.555 17.093 45.915h-3.51c-19.645 0-35.626 15.997-35.626 35.645v117.105c0 19.648 15.982 35.633 35.626 35.633h1.372v128.07c0 20.332 10.697 35.645 24.884 35.645h61.468c14.208 0 24.908-15.312 24.908-35.645V304.9h1.363c19.642 0 35.639-15.984 35.639-35.633V152.161c-.006-19.647-15.998-35.644-35.639-35.644z" fill="#386460" />\n        <path d="M291.299 116.517h-3.501c10.635-12.36 17.102-28.378 17.102-45.915C304.899 31.666 273.219 0 234.305 0c-38.93 0-70.584 31.666-70.584 70.602 0 17.537 6.477 33.555 17.093 45.915h-3.51c-19.645 0-35.626 15.997-35.626 35.645v117.105c0 19.648 15.982 35.633 35.626 35.633h1.372v128.07c0 20.332 10.697 35.645 24.884 35.645h61.468c14.208 0 24.908-15.312 24.908-35.645V304.9h1.363c19.642 0 35.639-15.984 35.639-35.633V152.161c-.006-19.647-15.998-35.644-35.639-35.644z" style="fill:none;stroke-width:8px;stroke:white" />\n    </g>\n</svg>', p9 = '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n    <g>\n        <path d="M12 0a8 8 0 00-8 8c0 1.421.382 2.75 1.031 3.906.108.192.221.381.344.563L12 24l6.625-11.531c.102-.151.19-.311.281-.469l.063-.094A7.954 7.954 0 0020 8a8 8 0 00-8-8zm0 4a4 4 0 110 8 4 4 0 010-8z" fill="#e74c3c"/>\n        <path d="M12 0a8 8 0 00-8 8c0 1.421.382 2.75 1.031 3.906.108.192.221.381.344.563L12 24l6.625-11.531c.102-.151.19-.311.281-.469l.063-.094A7.954 7.954 0 0020 8a8 8 0 00-8-8zm0 4a4 4 0 110 8 4 4 0 010-8z" style="fill:none;stroke-width:1px;stroke-linecap:round;stroke:white"/>\n        <path d="M12 3a5 5 0 100 10 5 5 0 000-10zm0 2a3 3 0 110 6 3 3 0 010-6z" fill="#c0392b"/>\n    </g>\n</svg>', f9 = "data:image/png;base64,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", m9 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHYAAAC9CAYAAABmiIlmAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAhGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAAEgAAAABAAAASAAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAdqADAAQAAAABAAAAvQAAAACbCafQAAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAAYiUlEQVR4Ae1dC3Ad1XnePbtXFg+H2MFOTWkhroP1cCTZehibtlFJpiQNacZNlLR5lHRoO7wKuCRt4ynBPNJhAg0Nj9Ch0zaPCTCoTaeFSQp1a80wMbHlaz2wHhCHMaRgGxHixi9Jd/dsv+/s7vWVfC3pSlf3nn0cje6+zp799//O/+85//+fc0xj7sns7Oy0enp6nPCWNevXr6jxajZ7hrfZMLwGnF9tGsZFnmG8A/vYNY6Zhvk6jl9BnhHDM16wHGPX0FDv4bAMlGmjTBfHyJamcnGAzJ81TWd+Y3PHVdL0rsWNHxBCLDdNgV1A553+Z6GmCViDf+LsedKQUh7FpZ2eZ/7T6MCeZ5gPyWxtbbWz2WzOP0x/F8qBWYFtbGysGRoamuSD6ja0f9SUxpeFsNqAF0EimJQ0JXHYEThNlMNyeU0G/zxnAWjUA2bBBdft90zvntG+vf/K48Jn8ThN8+dACECxEvJS1NS08eJJIR+xLOt3mRGAhKozBHGmcgrLJtAh2AYqiO1XEPdZIeSN+7PZn0zXDoU3p/tz58DZABFGV5dpdHe79c0dWwzT+5Zl20tdx+H3lcBk5v6IGXMq1WtZdgZljwvTvHaof8/juMMXaV/aZywgvVicA1aR0z5Th4dl3fr2v7KE9Q/Is0RKdwIaloAWu6dIMXM6xbKE57mTUM+1whIfv3DlKjF25I2dwd2khRUpTSVyYDpIkOAuMHNY1je332Xb9l1Qu2QsVK9Zg+3ZJLzEx07JjjJNG2ccfq6tjN0JcM8fO/zGc4v0vCkPj+vBFGDRMs0cOrTDaWhp/wIYfA/UI7+lTFPy+afK/quk04NqsO3MrwNcY+zw6z385h48eDCV2hLZnQeMoLK7UdfccbWwrH8OJJUMzecpsez5ZFcaAa1tiYbale9auWp07+5dL/oV7hBb12maIwcC1doF8Lrddes2vtu1vRG0VJdBLbJhU65G0hzJyWdz0CmyQcMpfNbrR/p2vYrGnMXGXD5HujMjB/yGUpefR9rew5AUgsp+a7VAJTEEdRKt5XMML/eooq67O1XHihFz+xE0ClAS6po3/rYpzE+4rkOVx4ZStVMNaHHxWfhwXXP774EYqWitNlUReb4IrUqmKbfB/keydVJ3tFHSLLmNhAW0+lqGJ9J0Vg4oJtW1tHWCee9Hg4kZK9lYOithwQWBdpQnhNla37Lxd3gOUsuuUZpm4YACFsbbz0HlMSuMEHmrzyy3VuQy6cv5TgZ5DZ8IqWWjLmj08UyainFArG5tvQDq7sM06CPpqOYotaTtg01Nm1dii0bU9hRYcmSGJGqlaIPrbRUMA+SejmrOgruPjajlrjV5Od+lq2soBXYGUHlJoPpvDtxoNPDryDDSxH6tIT3jChI9NjamI50kTZsk4F9tjoCZHV561DrPbCLnEHGhdLM2XNSQEAEZXcPIBiQdv68hy+ABAo2meUlAZwpsyJmzbKmKfxlWHl7WGViTNOJveUtLC+OpmFJ17POh6C/BfGcArM6MCmk7N5fJ1AZvEp4r+mJJP0lgw5ZwFBhlIYhDZ82iTX0ik04G1Ch9rA1lxQmZgBlKBdbhchToLf4WFThLYN9Ulh30JirwvPk+ggZj3nts6emKON+yEnEfgX0VXh3Wf52BlezHIh1GMECUNEzVKpFAXO9owDSdVZunaDTNlxSn6HRP04wcQDivsSf4WmnfeAKBvXybztTyNCOovGg70tsl4NDGYAxETChLhW6tTn4iahBYB1e7/CGJ7lmxQmftQhKrnpSU1re070JIzCYE+LPFqUP0RCFjJuEAqPFcd2C4v3cDLhBoVj6d2wSF9FdlP5BO76mg1UmgdZIG0oJmEwd0Gf+CfclwVG7xn6YZOKCAtRzrCai6n6GBwgA2nZjG1nAGsU8nDJH5Dt/j2DGMzEzTrBxQwWz79+8+Am49hkFSvEErYBVNnvcdhqCGsc+zvlWawRANDQ1+oJM7fh8kY0xJralFQFsorb8QjnknsVq9erVOlU7r6mMNDw97lIT+/v4TK1ZddMQS9hYOswDV1e4r5jDCzwItfz78Yu9O0rhjx478aHqtuaoBcQXfq+343m6X9evbn0Sg9qfcnDOONkvoSak0qacA6jn47j8z0t/7UTycdOrUqKs0P0p+XtAqxn1BHNGpC877vHTcEcu2asHK8ZJLXPAN3gS6NwT1YG6J+AyL6+riCMA0lcKBAok1jLBxsgYj2GuEzJqWtRKxxgxJXVJKoQvIO4HG0hLErh0VlmzjCPeQpgWUmchbp0gCR9uRkQcGd/+v5Rqb8Kn9KdQyQaXhYjEbLix7AkYSDrAeA7ibU1AXVh+nSGxYVDjJB6f7yXjW05hJYCNUI79xBLjc0kuNkME3VUjHGbCluHoQFSukIaQp3ZbGgaLAsohCFQiT4wPw2d5K9x5UMyPxmRY6Gk+Vg+9phmYllPv3IwNX38gGXAqqz+CF/J61S3Po0CFlvsNocvnW4Teefdeqi3rQmKqDar4EACOIW0XAFet+TK8sYWuWW6pcdqWgbS2LP1C9+xCBeM3IwN4HYd73aDLs7e0NK89C3i3R904HoRgzBJgtwhnZGlo6ujC70y2Y4eUKAANh44A4Nd8T7yVwBDAEk+XzH9nDybwEnDQuhXQ3Mj046s8SYxBQ5bVJBzeDXQtPcwGWT8nP+RQ+8rKW9nZY47cAnA/gXB2AewdHFPgFhsUyZBQoq4m+5HEUM4r/nYD5eyP7dv8oLCtQ+5T+sEKEl9LtPDkQIjDX28P5FKlO8yCwe2SZznstQ1yK4KSVGDhyPgtEhhOQ0zHsvQqP/stD2exrBQ8qWlbB9XS3Ghyg6mQjp9Rn8x7eW+p9af7SOFCqxBYrXUkeBkrl+8S1tbVKmsfHx/Pl8xz6yam6LcbB9FzKgZQDKQdSDqQcSDmQciDlQMqBlAMpB1IOpBxIOAfyBoRZ+KAcAcxT7rjepUuXeiswZKPbnwRzMZ35s7ziolw2GdbDWW4Wg2+kOJhopSS+0aJE01/eorQorz6tUD4TzKA7ca6VbloJGhyC/gqbTUOs8jzL70xlx3aAuT1fCxobNy2XVu4izxJLhWtg5Q0z7wCYel+pR47hWvYpmXNOSPvcnx3oex4Og9OJAEOSVdzz6bN67xHQ0MUJr9W5x3PmrwjDWoYYhbLaxx3T9WzDPCEteWQkmz0UciXkWRFgT4Pa2NLxaSD4x3C+NePGYOGkoAjeSXinb3m58ByPw1SYPzyHQuDTJXhw6xmvo9C9cN0+Ody39wfMUhjJwWO9kz+hd2NLewuk4jawoROvvAqCAA1EpgSpGH9C3oR5Co+5zxTe5x8pPzh2j+F/BP+Pv/ud5z3CSsXKVfA0lZtql5JqIhzmSczN/0lJJ7ryp6rS+RM+Rt1Qhh/SgHcPHPFCEGg8033WEfKzL2ezb0UB3FBS61o6roF0fhPBIQz3Ue8S8KzcfCPrgwAGYWAFFMPJ5fZmZOYjg4O73iz8fppqrR3kbljf9vVMpuaTjjM5AeImwehQLRME3lPOf1UP8QzUHzzNcfjMHEKhrrJdsZsTYzJ6kozDc7VMrHiUlLr1HZswBe83SSQD7gO+EdDF4JvCzucbnpbLnbAzNW05kXuKz+cD/cQGi5ppvOMyfEIp2ryRbrZqMJTMGA9GA+zFaIB2HDORprCSqRMa/JCH/JfQck8jlOtqV7rj0GuVHkWBGAeE8Aq71pG5TyjUyZxw+D804ZUIWON5hppWA1SSQ0ZhNEBuAuC21bd0fI0nIRlnDb7j9WokaBLSJLlQBraXcxJZfEkWGsE5n1fhfJMKT9MTH88Dy74kS8OE3vWBHC/GN6FEgjE2FlMU4Pu7FWOKfpMqeT5RGyU+tKTsYf9UCudS1McLoRpJb0lllDEzpwBGcV5rHtjuoHQ0YZaV8UELLUppDjVdkWE8jMJMXdcF8ASD+QJAsYbqQl98nveHk3Zfkgc2X9CZZ/KXqrRTwwYcPg/va2hu304adFTJVeLN9MeGFWqJfjBOJ9U/VioZcvDltRs2NuneSi7+CpU9eyaw1VMjM705a2KOfUPomkeZMbDuhDV0pnsTee1MYPVlQ4a9XKjkzVjTdivJREOqGq1PfTlUQFmUgCXZJoeHYA75r1z2vvbVbEjpbLgo4HPFd6MGLAeDYRytfY5lmRjEpVQy7cypSp5WdaIGLMlfQrsjLDwfqV/f8Yc45uQo1TKkTGOnPodRBJbc81Wy5z1wWWvrhWwlq2VI9eFr1SmJKrBUyXAU2Mst11IqOTSJVp2jmhAQVWDJPhsqWcKb8gcNLRs/xu6PbubGamIcZWDZYGLDCbZv7+tNTU3nKXOjH1ZTTZ5q8ewoA0sGZuBNgQfIusSxau/liVQlkwu+f9Pfi+4vJ6mmS+UmeoCokun4ju7rlIfyqEssuaBUMrxS1MnK3KhayfGotPNGOQ7A8uVtWKTYSm6ob2m7hyfQkEp03zYuwBJLC61kbMxtDc1t69mQSrJKjhOwfBf4bS2sRmrSKW8EKjmR5sY4AUssa7hgBeKkNkMl38oTSTU3xg1YYmnDvcftvWubOt5DqQ2GjPBcYlIcgcUiwsrcuARhtN8gkt1+QFeiVHIcgSWWWPnDdTDz/IcQJ/VHgNZds2ZNyXNSsaCoprgCq/BAKK2BOKn7GfN74MCBiSQ55eMMrI0YWwacL5e2VAHnSVo6Lc7AUmppbnQxBf6nG1raPsYhLEnp28YdWDaYOE4TG/NhgHpuUsyNcQeWUgtzo8wJ2774pCvu5wkArN0YINJVzpQEYMkvmx4gjKm5fm1z629RauPulE8KsFTJDteiF6Z4iAYLfwzQ9ti+f2xfrIhag1NemRsb9x84eAevt7Y+HVuVnCRgiSVVMptTt3OeCKrkuPZtkwYs31eNAYLtIhwDFMuA86QBS6nlGCCudHl5w/r223DsxXEMUBKBJbhc7wca2binccOmNXF0yicVWHqAJjkRB3wFDxFpfG9V+AX345CSCiyx49rvOdu2P4SG1OdxHKsxQEkGln1bjKN2Mb+Q+bVwPimsVhuLLlCSgQWuBscAIZTGWpazcv4YoM4xAh75lHRgCaDyAGEdxk9hpPwWBpzDKV/upVQrXlFSYH2Wc/ZGOIC8v1u79oqlcXDKp8D6wNqYyJFO+V8V50yqMUAVF7EyPzAF9jRDOeWQJ4S4oW59+/ujPgYoBfY0sOQF+7LQyMY3OEI+cMpHsjGVAnsaWO5xWCYDzhsafnzwbp6IqrkxBZboTU3+LHCG8aX6ptYNNDdG0SmfAjsVVB5R9SoPEFaSV2OAfKe8P2Xsmdn1PJMCWxwXDhOhSt6EhhQ9QJGLk0qBLQ4spdbiGCA0pP5mXWvrr7EhFaUxQCmwxYHlWd/caNk1UopHeCJY9Im72qcU2JkhwrBMxxHCugqzwF2LrDIq5sYU2JmB5VXMAofp2D3vvsb29l+iuTEKowlSYGcHNvAA2cvkpPEAs+N7m4+T4tp8sxdR+RwpsHPjOaMbXWFbv08PEG6RkFo1eUm42MPciqlcrhTYufGafILrltNJeQ/SAxSYG0UqsXNj4PRcVHO6qDp6gCY5BkjUTnyVhOo8BkhnieVYG/YndTLCKw8QhmVe19jUcSWl9u2339bSKa8rsJRSE6rvF5QMJF2klpXM5Y8njIc5imBwcPAkCaSOVltNfnQFlgHdFNVnwK3vYp+8zGnCMw7LhEq26g8fPXknaPIB1Wz1E12BxdQRplqdsNbI3YQW6UloZU58qeb50QBgCzRh5J6xraGpdSPpwUfD1kavgB5dgaUaBrTeBf39/UchElu55g6SWriNO1VOJCZnCqx1awk15RCozenUGtAVWKKKJFREw2h/72OQkB2YBJNSq4tKVmOAbCuzoa6l/U+kKd7023p6yK2uwBJVpPyCxNgXN7jSGQfzOF8TJVeHFEzMadxjebIT3iAMrq7eUpSFDNEdWCW3l3Z21o707/4x2p23BypZl28txwCxW7YSX447wFjJTwiSoruQ0ZXe1xxYnx0He3q4SLEx3N97P1TyCwBXJ5WMpoACdzlIpDYhsimwYMJckheOPJfCvY4OcCSCq4tKZmMvpKXqoJI5kZBY0GmGcb4v7ds3iKj97eznIqnGFXc0SFrxUitiZgMnu3q1korR/r13SscZgEqm6tOllTwb+RW9HilgOWVeGAoKhG+AUZ7MokpWLZaKck7zh0ULWDAzjPNF33YX2qB/G6jkVGqnVbTIAUv6Aa4/FMM5uc113AMYb0OVrNP3dhqbK38YSWDBJkYwZCi9cKpcF7CNZr6wZVp5Tmr2xKgCq1boYJzvcF/vf+Nb+5hmHqCqwxxZYMm5sTF/WgH3VM0XYM37KYzydHqnKhlMiDSw4bQCL730w2OGNG9Ry6BF/J1YYcuRIg0sGcA4X1qlRgb2/Jsn3cfhAeI7KRNkORgU1TIiDywZD8lVjSbHkrdAJb8deIASrZJjASywVa3kl7PZt2CovRndn1DQEmu4yHMg5ERUt4gYpIQKeIC+67ry36GSaUxOrOEiNsACRE6Zp+JnhOXejAlOjwcqWRffbUVlJk7Aqr4tR8MNZbOvIbrsLzBKjsxMpNEiVsASRbaSsREjfb2POtL5Hyw7qpNTniRWJMUOWHINFinl7DY9cR3XuINKJriJUsmxBBYjz9WKWIyTwqd3W0GcVGJaybEEllKLVrKS0JH+vfcFcVKJ8gDFFlhgK0OnvCHlTQVxUomQ2jgDm3fKjwxm9yF09S4N46SoXBYlxRpYcgw+W2WkGB7ovQMqeQhdoES0kmMPLLDNh65CB/9pECVKcGPdv00CsHQSOPQAMU4KwD6QBJWcCGCpklesWKEaTaeOnp+IOKnEAMu+Lc2NBw/2jGNAxo0EG4nvH8tWcmKAJYo0NzIIbnRg93Po/vxj4JSPpQcoUcAS3NBwIZzzb4W18RDipGJpuEgcsMA2CF3tOY4RjzfBjky8+RMrlZxEYCm1Duf8Hx3o/Z50nSfQSqZ/L1ZxUokEltLZ+sor6t0tx9oKwwXjpBi6GhsPUFKBzTvl9+/ffQQzSm0N4qRio44TCyyks8Apv/fbiJP6fhAnFQuVnGhgCS6+tar1hDip69FKPhGXOKkU2MApr+KkDO8vA6c87ciRVsspsEAw7NvCKf+IdHI74xAnlQJLdVzglLcs7wbGSaFrS8NFZD1AKbAK19Mj5V/MZkcxkePtkFpeiWz3JwU2AJab0Ck/2td7LwwXvZrNJ1VA6ey7KbBTeXTaKS/ldWr1Dk5eYkZPclNgpwKrnPL0ADFOCg3ju5VT3kuBncamaB6G80mtW3PpnX6clPIARcq9l0pssboXzCdF57wpzeuDiS8ZJxWZvm0KbDFgcY4z0lAlDw/ueR69noeCOKnISG0K7FmA5Wnl3sN28tiKL2KKv1eiNJ9UCuwMwOISx9xmDhz4wYQpjMI4Ke0NFymwMwOrpJbzSQ3t6/1PFSdlq8lLtJ/fIgV2FmApteF8UhO2d5ubcw5HIU4qBXZ2YFXflqGrr2Sz/we33s3BfFLK3TeH26uSJQV2jmxn6CpHEwz37+mW0u2GU17rOKkU2DkCy2w9Pf5oAssRfwYH0NHAKa/l9/ZMYDVbo60Evlcgqz9SnnFSWBjo1mDyEj5XO8PFmcBqtkZbBdAq6RFB31aM9u/5Fvy2iJOytJxP6kxgNfJBmsFKWSVxfvEz5+eT8gxxI7pAXHdPF6d8qDlyeWC78gwxj+R3q7yD1TrGFAlBwFmVyck/HlKb4zQIo/0/OgiX3pcKJi/J56nSDhZ3IqTmG3lgw74aTgxggSDSlb9WBSKxSJH6cPXx2Z3BvMRVoOOsj6QtGRdNTIT9oOvknoMtOQOax896Q2UuOH58tOzLgxe2+CbM3H/h2/FzqBc6mKtB6ARVG0NBpWd/n/wIx7ZWhjclPKWrS/EvI2s+B/feGCS3Fnf7CwWXUEyZskpULMlRSJ4pnsoDaxjdLvtpB/r6qP7+2vdmmLVBLaRXIwzJpDiX+59lc5lOVqQlatFJz7z75YEXXidNdJ/hvH4pCF0dHNz1JpbKugr925NoS50LQinNnCGOXaHF5Btx4DPUszI1NbVY/OK50b49T0y3noTHXn1L2xehab5KgOmP5Bo3gV8S5ZQ3QUINrsXKLaftkZ7czkWTgqeQJr6AtomOAn531224vN6V7rcBbpuSnDzfSHr5X0HxLeAdP5/g3X+YufM+MzTUczwEspBp4TlvbVPbWmGZnwVNv4EM78X/MvwXSHnhbfPcR50BE36OSvQTfFifl658YvTF7ItBadqDGr51CC6P65s7tmBzNd6rEYBejHe7AFs46gluyF7mnG/Kl3MCJbwGULPCEN1DA3ueVSXCafH/Wli7LdW6m9UAAAAASUVORK5CYII=", Ua = new Map([
    [
        "journey-departure",
        d9
    ],
    [
        "journey-destination",
        p9
    ],
    [
        "question-mark",
        B8
    ],
    [
        "arrow",
        F8
    ],
    [
        "door",
        U8
    ],
    [
        "elevator",
        z8
    ],
    [
        "elevator-up",
        V8
    ],
    [
        "elevator-down",
        G8
    ],
    [
        "elevator-alt",
        j8
    ],
    [
        "escalator-down",
        H8
    ],
    [
        "escalator-up",
        Y8
    ],
    [
        "ramp",
        W8
    ],
    [
        "ramp-down",
        X8
    ],
    [
        "ramp-up",
        Z8
    ],
    [
        "sligntTurnLeft",
        Q8
    ],
    [
        "sightTurnRight",
        K8
    ],
    [
        "stairs",
        J8
    ],
    [
        "stairs-down",
        $8
    ],
    [
        "stairs-up",
        e9
    ],
    [
        "turnLeft",
        t9
    ],
    [
        "turnRight",
        i9
    ],
    [
        "uTurn",
        n9
    ],
    [
        "blue-arrow",
        r9
    ],
    [
        "start",
        a9
    ],
    [
        "destination-marker-back",
        s9
    ],
    [
        "destination-marker-front",
        o9
    ],
    [
        "smart-label-pin-back",
        l9
    ],
    [
        "smart-label-pin-front",
        u9
    ],
    [
        "smart-label-circle-back",
        c9
    ],
    [
        "smart-label-circle-front",
        h9
    ],
    [
        "logo",
        f9
    ],
    [
        "logo-icon-slate",
        m9
    ]
]), LH = 10, qH = new (0, _chunk4XLXKB34Js.Ga), U1 = {
    adjustedAltitude: !1,
    color: "#4b90e2",
    pulseColor: "#ffffff",
    pulseIterations: 1,
    nearRadius: 1.8,
    nearZoom: 375,
    farZoom: 1e4,
    drawDuration: 1200,
    maxAdjustedAltitude: 1 / 0,
    minAdjustedAltitude: -1 / 0,
    curve: jr.default.Easing.Cubic.InOut,
    displayArrowsOnPath: !1,
    animateArrowsOnPath: !0
}, NH = {
    color: "#7ed321",
    pulseColor: "#ffffff",
    nearRadius: 1.8,
    nearZoom: 375,
    farZoom: 1e4,
    drawDuration: 800,
    curve: jr.default.Easing.Cubic.InOut,
    displayArrowsOnPath: !1,
    animateArrowsOnPath: !0
}, g9 = 2.3, RH = 600, oE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, il, void 0), (0, _chunkZRT45YCMJs.i)(this, il, e);
    }
    get id() {
        return (0, _chunkZRT45YCMJs.g)(this, il).id;
    }
    get nodes() {
        return (0, _chunkZRT45YCMJs.g)(this, il).nodes;
    }
    get coordinates() {
        return (0, _chunkZRT45YCMJs.g)(this, il).coordinates;
    }
};
il = new WeakMap, (0, _chunkZRT45YCMJs.a)(oE, "Path");
var z1 = oE, lE = class {
    constructor(e, t, i){
        (0, _chunkZRT45YCMJs.f)(this, "id"), (0, _chunkZRT45YCMJs.f)(this, "nodes", []), (0, _chunkZRT45YCMJs.f)(this, "coordinates", []), (0, _chunkZRT45YCMJs.f)(this, "pathSegments"), (0, _chunkZRT45YCMJs.f)(this, "options"), this.id = Bt(), e.forEach((e)=>{
            e instanceof di ? this.nodes.push(e) : e instanceof dn && this.coordinates.push(e);
        }), this.pathSegments = t, this.options = i;
    }
};
(0, _chunkZRT45YCMJs.a)(lE, "InternalPath");
var Jp, tE, $p, iE, ef, nE, tf, rE, V1, v9, G1, y9, nf, aE, $T = lE, uE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Jp), (0, _chunkZRT45YCMJs.h)(this, $p), (0, _chunkZRT45YCMJs.h)(this, ef), (0, _chunkZRT45YCMJs.h)(this, tf), (0, _chunkZRT45YCMJs.h)(this, V1), (0, _chunkZRT45YCMJs.h)(this, G1), (0, _chunkZRT45YCMJs.h)(this, nf), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "altitudeAdjustmentMap"), (0, _chunkZRT45YCMJs.f)(this, "maxAdjustedAltitude"), (0, _chunkZRT45YCMJs.f)(this, "minAdjustedAltitude"), (0, _chunkZRT45YCMJs.f)(this, "adjustedAltitude"), (0, _chunkZRT45YCMJs.f)(this, "pathSegments", new Map), (0, _chunkZRT45YCMJs.f)(this, "pathsById", new Map), (0, _chunkZRT45YCMJs.f)(this, "pathsByMeshId", new Map), (0, _chunkZRT45YCMJs.f)(this, "connectionsPathMeshes", new (0, _chunk4XLXKB34Js.la)), this.core = e, this.core.scene.add(this.connectionsPathMeshes), this.altitudeAdjustmentMap = new Map, this.adjustedAltitude = !!U1.adjustedAltitude, this.maxAdjustedAltitude = U1.maxAdjustedAltitude, this.minAdjustedAltitude = U1.minAdjustedAltitude;
    }
    get altitudeAdjustment() {
        var e;
        let t = this.core.currentMap, { mapClass: i } = this.core.mapObjects.get(t), n = i.scale, r = Math.max(i.width, i.height) / 1e3;
        if (!this.adjustedAltitude) return 0;
        if (this.altitudeAdjustmentMap.has(t)) return this.altitudeAdjustmentMap.get(t);
        let o = this.maxAdjustedAltitude / n, s = this.minAdjustedAltitude / n, a = null == (e = i.polygons) ? void 0 : e.reduce((e, { geometry: t, image: i, label: n })=>{
            var a;
            if (void 0 !== (null == (a = null == t ? void 0 : t.scale) ? void 0 : a.z)) {
                let a = t.scale.z * r, l = !1 !== t.visible, h = !0 === (null == i ? void 0 : i.visible) && (null != i.url || null != i.original), c = !0 === (null == n ? void 0 : n.visible) && null != n.text;
                l && !h && !c && a <= o && a >= s && (e = Math.max(e, a));
            }
            return e;
        }, 0);
        return this.altitudeAdjustmentMap.set(t, a || 0), a;
    }
    getPathLength(e) {
        let t = 0;
        for(let i = 0, n = e.length - 1; i < n; ++i){
            let n = e[i], r = e[i + 1];
            n.path.includes(r) && (t += Math.sqrt(Math.pow(r.x - n.x, 2) + Math.pow(r.y - n.y, 2)));
        }
        return t;
    }
    drawPath(e, t = {}) {
        let i = (0, _chunkZRT45YCMJs.k)(this, ef, nE).call(this, e, t), n = new $T(e, i, t), r = new z1(n);
        return (0, _chunkZRT45YCMJs.k)(this, Jp, tE).call(this, r, n), r;
    }
    redrawPath(e, t = {}) {
        var i;
        let n = null == (i = this.pathsById.get(e.id)) ? void 0 : i.internalPath;
        if (null == n) return void R.warn("A path that does not exist cannot be redrawn.");
        (null == t || Object.keys(t).length < 1) && (t = n.options), n.pathSegments.forEach((e)=>{
            (0, _chunkZRT45YCMJs.k)(this, nf, aE).call(this, e);
        });
        let r = (0, _chunkZRT45YCMJs.k)(this, ef, nE).call(this, n.nodes, t);
        n.pathSegments = r, (0, _chunkZRT45YCMJs.k)(this, $p, iE).call(this, e), (0, _chunkZRT45YCMJs.k)(this, Jp, tE).call(this, e, n);
    }
    removePath(e) {
        let t;
        t = "string" == typeof e ? e : e.id;
        let i = this.pathsById.get(t);
        if (null == i) return;
        let n = i.internalPath.pathSegments;
        if (n) for (let e of n){
            let t = this.pathSegments.get(e.id);
            (0, _chunkZRT45YCMJs.k)(this, nf, aE).call(this, t);
        }
        (0, _chunkZRT45YCMJs.k)(this, $p, iE).call(this, i.path);
    }
    hideConnectionSegments() {
        this.connectionsPathMeshes.children.forEach((e)=>{
            e.visible = !1;
        }), this.core.tryRendering();
    }
    showConnectionSegments() {
        this.connectionsPathMeshes.children.forEach((e)=>{
            e.visible = !0;
        }), this.core.tryRendering();
    }
    removeAllPaths() {
        for (let { path: e } of this.pathsById.values())this.removePath(e);
        this.pathSegments.clear(), this.core.renderer.disposeOfRenderLists(), this.core.tryRendering();
    }
};
Jp = new WeakSet, tE = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    for (let i of t.pathSegments)this.pathSegments.set(i.id, i), this.pathsByMeshId.set(i.object.uuid, {
        path: e,
        internalPath: t
    });
    this.pathsById.set(t.id, {
        path: e,
        internalPath: t
    });
}, "#addPathToCache"), $p = new WeakSet, iE = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = this.pathsById.get(e.id);
    if (null == t) return;
    let i = t.internalPath;
    for (let e of i.pathSegments)this.pathSegments.delete(e.id), this.pathsByMeshId.delete(e.object.uuid);
    this.pathsById.delete(i.id);
}, "#removePathFromCache"), ef = new WeakSet, nE = (0, _chunkZRT45YCMJs.a)(function(e, t = {}) {
    let i = {
        ...U1,
        ...t,
        connectionPathOptions: {
            ...NH,
            ...t.connectionPathOptions
        }
    };
    this.maxAdjustedAltitude = i.maxAdjustedAltitude, this.minAdjustedAltitude = i.minAdjustedAltitude, this.adjustedAltitude = !!i.adjustedAltitude;
    let n = t.pulsePauseDuration || RH;
    null == i.connectionPathOptions.farRadius && null != i.connectionPathOptions.nearRadius && (i.connectionPathOptions.farRadius = i.connectionPathOptions.nearRadius * g9), null == i.farRadius && null != i.nearRadius && (i.farRadius = i.nearRadius * g9);
    let r, o, s, a = 0, l = e.reduce((t, n, l)=>{
        let h = e[l + 1], c = e[l - 1];
        if (0 === l) r = n.map.id;
        else if (n.map.id != r || null == h) {
            let u = null == h && n.map.id === r ? l : l - 1;
            s = (0, _chunkZRT45YCMJs.k)(this, V1, v9).call(this, e.slice(a, u + 1), r, {
                ...i,
                animateDrawing: r === this.core.currentMap && i.animateDrawing,
                drawDuration: r === this.core.currentMap ? i.drawDuration : 0
            }), a = l, t.push(s), null != o && (o.tween.chain(s.tween), o.pulseTween.chain(s.pulseTween), o.pulseTween.onComplete(o.resetPulse)), o = s, null != c && c.map.id !== n.map.id && !0 === i.drawConnectionSegments && this.core.visibleMapsInCurrentScene.length > 1 && this.core.stackedMaps.enabled && (s = (0, _chunkZRT45YCMJs.k)(this, G1, y9).call(this, [
                c,
                n
            ], i.connectionPathOptions), t.push(s), null != o && (o.tween.chain(s.tween), o.pulseTween.chain(s.pulseTween), o.pulseTween.onComplete(o.resetPulse)), o = s), r = n.map.id;
        }
        return t;
    }, []), h = 1, c = i.pulseIterations || 1 / 0;
    if (l.length > 0) {
        let e = l[0], t = l[l.length - 1];
        e.tween.start(), e.tween.onComplete(()=>{
            e.pulseTween.start();
        }), t.endPauseTween = new jr.default.Tween({}).to({
            value: 1
        }, n).chain(e.pulseTween).onUpdate(()=>this.core.tryRendering(Re.TWEEN)), c > 1 && t.pulseTween.chain(t.endPauseTween), t.pulseTween.onComplete(()=>{
            h + 1 >= c ? l.forEach((e)=>{
                e.pulseTween.onComplete(()=>{}), e.pulseTween.stop(), e.endPauseTween && e.endPauseTween.stop(), e.resetPulse(), this.core.tryRendering(Re.ANIMATED);
            }) : (t.resetPulse(), e.resetPulse()), h++;
        });
    }
    return this.core.tryRendering(Re.ANIMATED), l;
}, "#drawAllPathSegments"), tf = new WeakSet, rE = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    let n = (i = i || {}).color || "#ff834c", r = i.pulseColor || "#000000", o = void 0 !== i.nearRadius ? i.nearRadius : 1.8, s = void 0 !== i.farRadius ? i.farRadius : o, a = void 0 !== i.nearZoom ? i.nearZoom : 375, h = void 0 !== i.farZoom ? i.farZoom : 1e4, c = void 0 !== i.drawDuration ? i.drawDuration : 1500, u = i.curve || jr.default.Easing.Cubic.InOut, d = i.displayArrowsOnPath || !1, p = i.animateArrowsOnPath || !1, f = i.isConnectionPathSegment || !1, m = i.displayArrowsOnPath || i.flattenPath || !1, g = void 0 === i.showPulse || i.showPulse, v = void 0 === i.animateDrawing || i.animateDrawing, y = 0;
    if (f) for(let t = 1; t < e.length; ++t){
        let i = e[t].x - e[t - 1].x, n = e[t].z - e[t - 1].z;
        y += Math.sqrt(i * i + n * n);
    }
    else {
        e[0].z += this.altitudeAdjustment;
        for(let t = 1; t < e.length; ++t){
            e[t].z += this.altitudeAdjustment;
            let i = e[t].x - e[t - 1].x, n = e[t].y - e[t - 1].y, r = e[t].z - e[t - 1].z;
            y += Math.sqrt(i * i + n * n + r * r);
        }
    }
    let b = qH.load(Ua.get("arrow"));
    b.colorSpace = (0, _chunk4XLXKB34Js.E);
    let w = {
        vertexes: {
            type: "f",
            value: 1
        },
        resolution: {
            type: "v2",
            value: this.core.resolution
        },
        cameraParameters: {
            type: "v2",
            value: new (0, _chunk4XLXKB34Js.M)(this.core.controls.getZoom(), this.core.controls.getTilt())
        },
        complete: {
            type: "f",
            value: v ? 0 : 1
        },
        color: {
            type: "c",
            value: new (0, _chunk4XLXKB34Js.Y)(n)
        },
        pathLength: {
            type: "f",
            value: y
        },
        nearRadius: {
            type: "f",
            value: o
        },
        farRadius: {
            type: "f",
            value: s
        },
        nearZoom: {
            type: "f",
            value: a
        },
        farZoom: {
            type: "f",
            value: h
        },
        pulseColor: {
            type: "c",
            value: new (0, _chunk4XLXKB34Js.Y)(r)
        },
        pulse: {
            type: "f",
            value: 0
        },
        pulseLength: {
            type: "f",
            value: .075
        },
        pathIsVertical: {
            type: "b",
            value: f
        },
        arrowAnimationTimer: {
            type: "f",
            value: 0
        },
        arrowTexture: {
            type: "t",
            value: b
        },
        displayArrowsOnPath: {
            type: "b",
            value: d
        },
        flattenFactor: {
            type: "f",
            value: m ? .05 : 1
        },
        showPulse: {
            type: "b",
            value: g
        }
    }, A = new (0, _chunk4XLXKB34Js.va)(e);
    A.curveType = "catmullrom", A.tension = 0;
    let x = 30 * t.length, E = new (0, _chunk4XLXKB34Js.Ba)(A, x, o, 8, !1), M = new Float32Array(E.attributes.position.count);
    for(let e = t.length; e < M.length; e++)M[e] = e;
    E.setAttribute("vertexIndex", new (0, _chunk4XLXKB34Js.$)(M, 1));
    let q = new Float32Array(E.attributes.position.count), C = new (0, _chunk4XLXKB34Js.$)(q, 1);
    for(let e = 0; e <= x; e++)for(let t = 0; t <= 8; ++t)C.setX(9 * e + t, e / x);
    E.setAttribute("pathDistance", C);
    let T = new Float32Array(3 * E.attributes.normal.count), P = new (0, _chunk4XLXKB34Js.$)(T, 3);
    for(let e = 0; e < x; e++){
        let t = E.tangents[e];
        for(let i = 0; i <= 8; ++i)P.setXYZ(9 * e + i, t.x, t.y, t.z);
    }
    E.setAttribute("pathTangent", P);
    let S = new Float32Array(3 * E.attributes.normal.count), I = new (0, _chunk4XLXKB34Js.$)(S, 3);
    for(let e = 0; e < x; e++){
        let t = E.tangents[e];
        var O, D, _;
        f ? (O = t.x * t.y, D = t.y * t.y - 1, _ = t.z * t.y) : (O = -t.x * t.z, D = -t.y * t.z, _ = 1 - t.z * t.z);
        let i = Math.sqrt(O * O + D * D + _ * _);
        0 === i && (i = 1);
        let n = O / i, r = D / i, o = _ / i;
        for(let t = 0; t <= 8; ++t)I.setXYZ(9 * e + t, n, r, o);
    }
    E.setAttribute("pathNormal", I);
    let L = new (0, _chunk4XLXKB34Js.da)({
        uniforms: w,
        vertexShader: R8,
        fragmentShader: k8
    });
    L.transparent = !0, L.alphaTest = .5, w.resolution.value.x = this.core.renderer.getBufferSize().width, w.resolution.value.y = this.core.renderer.getBufferSize().height, w.vertexes.value = M.length, w.arrowTexture.value.wrapS = (0, _chunk4XLXKB34Js.i), w.arrowTexture.value.wrapT = (0, _chunk4XLXKB34Js.i), w.arrowTexture.value.anisotropy = this.core.renderer.getMaxAnisotropy();
    let B = new (0, _chunk4XLXKB34Js.ba)(E, L), R = (0, _chunkZRT45YCMJs.a)(()=>{
        this.core.tryRendering(Re.ANIMATED);
    }, "tryRenderingAnimated"), N = new jr.default.Tween(w.pulse).to({
        value: 1
    }, c).easing(u).onUpdate(R), k = new jr.default.Tween(w.complete).to({
        value: 1
    }, c).easing(u).onUpdate(R), F = new jr.default.Tween(w.arrowAnimationTimer).to({
        value: 1
    }, 3e3).easing(jr.default.Easing.Linear.None).repeat(1 / 0).onUpdate(R);
    d && p && F.start();
    let z = {
        id: B.id,
        nodes: t,
        mapId: i.mapId,
        object: B,
        tween: k,
        pulseTween: N,
        arrowAnimationTween: F,
        reset: function() {
            w.complete.value = 0;
        },
        resetPulse: function() {
            w.pulse.value = 0;
        }
    };
    return L.userData = {
        layer: f ? "vertical-path" : "path"
    }, z;
}, "#drawSegment"), V1 = new WeakSet, v9 = (0, _chunkZRT45YCMJs.a)(function(e, t, i = {
    color: "#ff834c",
    pulseColor: "white",
    pulseIterations: 1 / 0,
    nearRadius: 1.8,
    nearZoom: 375,
    farZoom: 1e4,
    drawDuration: 1500,
    displayArrowsOnPath: !1
}) {
    let n = i.nearRadius || 2, r = i.farRadius || i.nearRadius || 2, o = t ? this.core.venue.maps.find((e)=>e.id === t) : this.core.venue.maps.find((e)=>e.id === this.core.currentMap), s = (null == o ? void 0 : o.scale) || 1;
    if (n /= s, r /= s, null == this.core.currentMap) throw new Error("Unable to retrieve the current map");
    let a = t ? ut(t) : this.core.currentMap, l = [], h = n / 2;
    for(let t = 0; t < e.length; t++){
        let i = e[t], n = new (0, _chunk4XLXKB34Js.S)(i.x - o.width / 2, -i.y + o.height / 2, h);
        l.push(n);
    }
    let c = h - .1;
    l.push(l[l.length - 1].clone().setZ(c)), l.unshift(l[0].clone().setZ(c));
    let u = (0, _chunkZRT45YCMJs.k)(this, tf, rE).call(this, l, e, {
        ...i,
        nearRadius: n,
        farRadius: r,
        mapId: a
    });
    u.object.name = "path", u.object.layers.set(Zt.ANIMATED);
    let d = this.core.mapObjects.get(a);
    return this.core.visibleMapObjectsInCurrentScene.includes(d) || (u.object.visible = !1), d.add(u.object), u;
}, "#drawPathSegment"), G1 = new WeakSet, y9 = (0, _chunkZRT45YCMJs.a)(function(e, t = {
    color: "#7dd322",
    pulseColor: "#ffffff",
    pulseIterations: 1 / 0,
    nearRadius: 1.8,
    nearZoom: 375,
    farZoom: 1e4,
    drawDuration: 1500,
    curve: jr.default.Easing.Cubic.InOut,
    displayArrowsOnPath: !1
}) {
    let i = t.nearRadius || 2, n = t.farRadius || t.nearRadius || 2, r = this.core.referenceMap, o = (null == r ? void 0 : r.scale) || 1;
    i /= o, n /= o;
    let s = p7(this.core.convertTo3DMapPosition(e[0]), this.core.convertTo3DMapPosition(e[1]), LH), a = (0, _chunkZRT45YCMJs.k)(this, tf, rE).call(this, s, e, {
        ...t,
        nearRadius: i,
        farRadius: n,
        mapId: this.core.referenceMap.id,
        isConnectionPathSegment: !0
    }), l = (new (0, _chunk4XLXKB34Js.T)).setFromObject(a.object), h = new (0, _chunk4XLXKB34Js.S);
    return l.getCenter(h), a.object.layers.set(Zt.ANIMATED), a.object.geometry.center(), a.object.position.copy(h), this.core.billboardManager.add(a.object), this.connectionsPathMeshes.add(a.object), a;
}, "#drawConnectionPathSegment"), nf = new WeakSet, aE = (0, _chunkZRT45YCMJs.a)(function(e) {
    e && (this.core.scene.remove(e.object), "function" == typeof e.object.destroy && e.object.destroy(), e.pulseTween.stop(), e.endPauseTween && e.endPauseTween.stop(), e.tween.stop(), e.arrowAnimationTween.stop(), e.pulseTween = void 0, e.tween = void 0, e.arrowAnimationTween = void 0, this.pathSegments.delete(e.id), this.connectionsPathMeshes.remove(e.object), this.core.billboardManager.remove(e.object));
}, "#removePathSegment"), (0, _chunkZRT45YCMJs.a)(uE, "PathsController");
var eE = uE, sE = eE;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var kH = (0, _chunkZRT45YCMJs.a)(({ image: e })=>!(null == e || !e.visible) && !(!e.url && !e.original), "imageVisible"), j1 = (0, _chunkZRT45YCMJs.a)((e, t)=>kH(e) && t[e.id + "_image"], "imageVisibleAndRendered");
function b9(e, t, i, n) {
    let r = [], o = (null == i ? void 0 : i.locations) || e.locations;
    for (let s of e.polygons){
        let a, [l] = s.entrances;
        if (l && (null == n || !n.id || n.id === l.map.id) && s.geometry.visible && (a = Ms(s, e))) {
            let e = (null == i ? void 0 : i.createDespiteImage) || a.showLabelWhenImagePresent || a.showSmartLabelWhenImagePresent;
            if (j1(s, t) && !e || !o.includes(a)) continue;
            let n = (null == i ? void 0 : i.excludeTypes) || [];
            if (n.length > 0 && n.includes(a.type)) continue;
            let h = BH(s, l, a, i || {});
            null != h && r.push(h);
        }
    }
    return r;
}
function BH(e, t, i, n) {
    var r, o, s, a, l;
    let h = "test" === (0, _chunkA5C75TI6Js.b).env.NODE_ENV ? Yi.testId : Math.random();
    Yi.testId++;
    let c, u, d = i.name, p = i.shortName;
    return i.states && i.states.length > 0 && (c = (null == (r = i.state) ? void 0 : r.id) && (null == (s = null == n ? void 0 : n.translationMap) ? void 0 : s[null == (o = i.state) ? void 0 : o.id]) || (null == (a = i.state) ? void 0 : a.name) || null), n.groupRankingByCategory && (u = null == e ? void 0 : e.categoryRank), {
        interactive: n.interactive,
        polygon: e,
        rank: u || (null == (l = e.rank) ? void 0 : l.score) || h,
        text: null == c ? p || d : (p || d) + " (".concat(c, ")"),
        appearance: n.appearance,
        createDespiteImage: n.createDespiteImage,
        mapId: t.map.id,
        position: {
            nodeOrCoordinate: t
        }
    };
}
(0, _chunkZRT45YCMJs.a)(b9, "createLabelObjects"), (0, _chunkZRT45YCMJs.a)(BH, "createLabelOptionsObject");
var dE = (0, _chunkZRT45YCMJs.e)(Rp());
(0, _chunkA5C75TI6Js.a)();
var hE = class extends zi {
    constructor(){
        var e;
        super(), (0, _chunkZRT45YCMJs.f)(this, "_recalculateDebounced"), (0, _chunkZRT45YCMJs.f)(this, "totalZoomLevel", 0), (0, _chunkZRT45YCMJs.f)(this, "fontZoomLevel", 0), (0, _chunkZRT45YCMJs.f)(this, "pageZoomLevel", 0), this._recalculateDebounced = mn(this.recalculate, 100), window.addEventListener("resize", ()=>{
            this._recalculateDebounced();
        }), null == (e = window.visualViewport) || e.addEventListener("resize", ()=>{
            this._recalculateDebounced();
        }), this.recalculate();
    }
    detectSafari() {
        let { userAgent: e } = navigator;
        return e.indexOf("Safari") > -1 && -1 === e.indexOf("Chrome");
    }
    recalculate() {
        var e;
        let t = 1;
        this.detectSafari() && (t = Math.max(1, window.outerWidth / window.innerWidth)), this.fontZoomLevel = window.devicePixelRatio * t, this.pageZoomLevel = (null == (e = window.visualViewport) ? void 0 : e.scale) || 1, this.totalZoomLevel = this.fontZoomLevel * this.pageZoomLevel, this.publish("FONT_ZOOM_CHANGED", this.fontZoomLevel), this.publish("PAGE_ZOOM_CHANGED", this.pageZoomLevel), this.publish("TOTAL_ZOOM_CHANGED", this.totalZoomLevel);
    }
};
(0, _chunkZRT45YCMJs.a)(hE, "ZoomListener");
var Hr, cE = hE, x9 = new cE, rf = (0, _chunkZRT45YCMJs.a)((e)=>{
    let t = e.toJSON();
    return 5 === Object.keys(t).length && "lat" in t && "lon" in t && "map" in t && "x" in t && "y" in t;
}, "isMappedinCoordinate"), H1 = "Adding or removing individual labels after calling labelAllLocations() may cause unexpected behaviour. We recommend adding all labels individually if more specific control is desired. https://developer.mappedin.com/web-sdk-api/v5/latest/classes/floatinglabels#add", TE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Hr, void 0), (0, _chunkZRT45YCMJs.i)(this, Hr, e);
    }
    get id() {
        return (0, _chunkZRT45YCMJs.g)(this, Hr).id;
    }
    get text() {
        return (0, _chunkZRT45YCMJs.g)(this, Hr).options.text;
    }
    get appearance() {
        return (0, _chunkZRT45YCMJs.g)(this, Hr).appearance;
    }
    get nodeOrCoordinate() {
        return (0, _chunkZRT45YCMJs.g)(this, Hr).options.position.nodeOrCoordinate;
    }
    get rank() {
        return (0, _chunkZRT45YCMJs.g)(this, Hr).rank;
    }
    __updateInstance(e) {
        (0, _chunkZRT45YCMJs.i)(this, Hr, e);
    }
    toJSON() {
        return {
            id: this.id,
            text: this.text,
            appearance: this.appearance,
            nodeOrCoordinate: this.nodeOrCoordinate.toJSON(),
            rank: this.rank
        };
    }
};
Hr = new WeakMap, (0, _chunkZRT45YCMJs.a)(TE, "FloatingLabel");
var fr, Bs, af, sf, fE, of, mE, Hu, Y1, K1, T9, J1, E9, Yu, W1, lf, gE, Wu, X1, $1, M9, ev, w9, uf, vE, tv, A9, iv, C9, cf, yE, nv, P9, Xu, Z1, rv, S9, hf, bE, av, I9, Q1 = TE, EE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, sf), (0, _chunkZRT45YCMJs.h)(this, of), (0, _chunkZRT45YCMJs.h)(this, Hu), (0, _chunkZRT45YCMJs.h)(this, K1), (0, _chunkZRT45YCMJs.h)(this, J1), (0, _chunkZRT45YCMJs.h)(this, Yu), (0, _chunkZRT45YCMJs.h)(this, lf), (0, _chunkZRT45YCMJs.h)(this, Wu), (0, _chunkZRT45YCMJs.h)(this, $1), (0, _chunkZRT45YCMJs.h)(this, ev), (0, _chunkZRT45YCMJs.h)(this, uf), (0, _chunkZRT45YCMJs.h)(this, tv), (0, _chunkZRT45YCMJs.h)(this, iv), (0, _chunkZRT45YCMJs.h)(this, cf), (0, _chunkZRT45YCMJs.h)(this, nv), (0, _chunkZRT45YCMJs.h)(this, Xu), (0, _chunkZRT45YCMJs.h)(this, rv), (0, _chunkZRT45YCMJs.h)(this, hf), (0, _chunkZRT45YCMJs.h)(this, av), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.h)(this, fr, !1), (0, _chunkZRT45YCMJs.f)(this, "internalFloatingLabels", {}), (0, _chunkZRT45YCMJs.f)(this, "internalFloatingLabelsByNodeOrCoordinate", new WeakMap), (0, _chunkZRT45YCMJs.f)(this, "floatingLabels", {}), (0, _chunkZRT45YCMJs.h)(this, Bs, {}), (0, _chunkZRT45YCMJs.h)(this, af, {}), this.core = e, e.on(8, ()=>{
            e.visibleMapsInCurrentScene.forEach((e)=>{
                !(0, _chunkZRT45YCMJs.g)(this, Bs)[e.id] && (0, _chunkZRT45YCMJs.g)(this, fr) && (0, _chunkZRT45YCMJs.k)(this, sf, fE).call(this, e);
            });
        }), x9.on("FONT_ZOOM_CHANGED", ()=>{
            (0, _chunkZRT45YCMJs.k)(this, J1, E9).call(this);
        });
    }
    addLabel(e, t, i) {
        if (rf(e)) {
            let { label: n } = (0, _chunkZRT45YCMJs.k)(this, of, mE).call(this, e, t, i);
            return n;
        }
        if (null != this.core.venue.getCollectionItemById("nodes", e.id)) {
            let { label: n } = (0, _chunkZRT45YCMJs.k)(this, Hu, Y1).call(this, e, t, i);
            return n;
        }
        return (0, _chunkZRT45YCMJs.k)(this, K1, T9).call(this, e, t, i).map((e)=>e.label);
    }
    removeLabel(e, t = !1) {
        if (rf(e)) return (0, _chunkZRT45YCMJs.k)(this, lf, gE).call(this, e, t);
        null != this.core.venue.getCollectionItemById("nodes", e.id) ? (0, _chunkZRT45YCMJs.k)(this, Wu, X1).call(this, e, t) : (0, _chunkZRT45YCMJs.k)(this, $1, M9).call(this, e, t), delete (0, _chunkZRT45YCMJs.g)(this, Bs)[e.map.id];
    }
    setPriority(e, t) {
        if (rf(e)) return (0, _chunkZRT45YCMJs.k)(this, ev, w9).call(this, e, t);
        null != this.core.venue.getCollectionItemById("nodes", e.id) ? (0, _chunkZRT45YCMJs.k)(this, uf, vE).call(this, e, t) : (0, _chunkZRT45YCMJs.k)(this, tv, A9).call(this, e, t);
    }
    resetPriority(e) {
        if (rf(e)) return (0, _chunkZRT45YCMJs.k)(this, iv, C9).call(this, e);
        null != this.core.venue.getCollectionItemById("nodes", e.id) ? (0, _chunkZRT45YCMJs.k)(this, cf, yE).call(this, e) : (0, _chunkZRT45YCMJs.k)(this, nv, P9).call(this, e);
    }
    removeAllLabels() {
        (0, _chunkZRT45YCMJs.i)(this, fr, !1);
        for(let e in this.internalFloatingLabels){
            let t = this.internalFloatingLabels[e].options.position.nodeOrCoordinate;
            t instanceof di ? (0, _chunkZRT45YCMJs.k)(this, Wu, X1).call(this, t, !0) : (0, _chunkZRT45YCMJs.k)(this, lf, gE).call(this, t, !0);
        }
        Array.from(this.core.mapObjects.values()).forEach((e)=>{
            e.labels.clear();
        }), this.internalFloatingLabels = {}, this.floatingLabels = {}, this.internalFloatingLabelsByNodeOrCoordinate = new WeakMap, (0, _chunkZRT45YCMJs.i)(this, Bs, {}), this.core.smartCollisionEngine.debouncedUpdate(), this.core.renderer.disposeOfRenderLists(), this.core.tryRendering();
    }
    setAppearance(e, t) {
        if (rf(e)) return (0, _chunkZRT45YCMJs.k)(this, rv, S9).call(this, e, t);
        let i = null != this.core.venue.getCollectionItemById("nodes", e.id);
        i && (0, _chunkZRT45YCMJs.k)(this, hf, bE).call(this, e, t);
        let n = null != this.core.venue.getCollectionItemById("polygons", e.id);
        n && (0, _chunkZRT45YCMJs.k)(this, av, I9).call(this, e, t), !i && !n && R.warn("No label found for target", e), this.core.tryRendering();
    }
    labelAllLocations(e) {
        (0, _chunkZRT45YCMJs.i)(this, fr, !0), null != e && (0, _chunkZRT45YCMJs.i)(this, af, e);
        let t = [];
        return this.core.visibleMapsInCurrentScene.forEach((e)=>{
            !(0, _chunkZRT45YCMJs.g)(this, Bs)[e.id] && (0, _chunkZRT45YCMJs.g)(this, fr) && t.push(...(0, _chunkZRT45YCMJs.k)(this, sf, fE).call(this, e));
        }), t.map((e)=>new Q1(e));
    }
};
fr = new WeakMap, Bs = new WeakMap, af = new WeakMap, sf = new WeakSet, fE = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = b9(this.core.venue, this.core.polygonMeshesById, (0, _chunkZRT45YCMJs.g)(this, af), e);
    if (null == t) return [];
    let i = t.reduce((e, t)=>{
        let { internalLabel: i } = (0, _chunkZRT45YCMJs.k)(this, Xu, Z1).call(this, t, !0);
        return i && e.push(i), e;
    }, []);
    return this.core.taskScheduler.scheduleTask(new Tt({
        name: "addFloatingLabel",
        callback: ()=>{
            i.forEach((e)=>{
                e.enable(!1);
            }), (0, _chunkZRT45YCMJs.g)(this, Bs)[e.id] = !0, this.core.determineNewLabelSize(), this.core.smartCollisionEngine.debouncedUpdate();
        }
    })), i;
}, "#processLabelsForMap"), of = new WeakSet, mE = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    (0, _chunkZRT45YCMJs.g)(this, fr) && R.warn(H1);
    let n = "test" === (0, _chunkA5C75TI6Js.b).env.NODE_ENV ? Yi.testId : Math.random();
    Yi.testId++;
    let r = {
        polygon: void 0,
        rank: n,
        text: t,
        appearance: null == i ? void 0 : i.appearance,
        createDespiteImage: !0,
        position: {
            nodeOrCoordinate: e
        },
        mapId: e.map.id,
        ...i || {}
    };
    return (0, _chunkZRT45YCMJs.k)(this, Xu, Z1).call(this, r);
}, "#labelCoordinate"), Hu = new WeakSet, Y1 = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    var n, r, o;
    (0, _chunkZRT45YCMJs.g)(this, fr) && R.warn(H1);
    let s, a = "test" === (0, _chunkA5C75TI6Js.b).env.NODE_ENV ? Yi.testId : Math.random();
    Yi.testId++, null != i && i.groupRankingByCategory && (s = null == (n = e.polygon) ? void 0 : n.categoryRank);
    let l = {
        polygon: e.polygon,
        rank: s || (null == (o = null == (r = e.polygon) ? void 0 : r.rank) ? void 0 : o.score) || a,
        position: {
            nodeOrCoordinate: e
        },
        text: t,
        appearance: null == i ? void 0 : i.appearance,
        createDespiteImage: !0,
        mapId: e.map.id,
        ...i || {}
    };
    return (0, _chunkZRT45YCMJs.k)(this, Xu, Z1).call(this, l);
}, "#labelNode"), K1 = new WeakSet, T9 = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    var n, r;
    let o = [];
    for (let s of e.entrances){
        if (null != (null == (n = e.rank) ? void 0 : n.node) && (null == (r = e.rank) ? void 0 : r.node) != s.id) continue;
        let a = (0, _chunkZRT45YCMJs.k)(this, Hu, Y1).call(this, s, t, i);
        a && o.push(a);
    }
    return 0 === o.length ? (R.warn("No entrances found on this polygon. Skipping."), []) : o;
}, "#labelPolygon"), J1 = new WeakSet, E9 = (0, _chunkZRT45YCMJs.a)(function() {
    Object.values(this.internalFloatingLabels).forEach((e)=>{
        e.invalidate();
    }), this.core.smartCollisionEngine.debouncedUpdate();
}, "#invalidateAll"), Yu = new WeakSet, W1 = (0, _chunkZRT45YCMJs.a)(function(e, t = !0) {
    this.core.smartCollisionEngine.remove(e.id), delete this.internalFloatingLabels[e.id], this.internalFloatingLabelsByNodeOrCoordinate.delete(e.options.position.nodeOrCoordinate), t && delete this.floatingLabels[e.id];
}, "#removeLabelInstance"), lf = new WeakSet, gE = (0, _chunkZRT45YCMJs.a)(function(e, t = !1) {
    (0, _chunkZRT45YCMJs.g)(this, fr) && R.warn(H1);
    let i = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    i ? ((0, _chunkZRT45YCMJs.k)(this, Yu, W1).call(this, i), t || this.core.smartCollisionEngine.debouncedUpdate()) : R.warn("No label found for coordinate", e);
}, "#removeLabelCoordinate"), Wu = new WeakSet, X1 = (0, _chunkZRT45YCMJs.a)(function(e, t = !1) {
    (0, _chunkZRT45YCMJs.g)(this, fr) && R.warn(H1);
    let i = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    i ? ((0, _chunkZRT45YCMJs.k)(this, Yu, W1).call(this, i), t || this.core.smartCollisionEngine.debouncedUpdate()) : R.warn("No label found for node", e);
}, "#removeLabelNode"), $1 = new WeakSet, M9 = (0, _chunkZRT45YCMJs.a)(function(e, t = !1) {
    e.entrances.forEach((e)=>(0, _chunkZRT45YCMJs.k)(this, Wu, X1).call(this, e, t));
}, "#removeLabelPolygon"), ev = new WeakSet, w9 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    let i = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    null != i && i.setPriority(t);
}, "#setPriorityCoordinate"), uf = new WeakSet, vE = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    let i = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    null != i && i.setPriority(t);
}, "#setPriorityNode"), tv = new WeakSet, A9 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    e.entrances.forEach((e)=>(0, _chunkZRT45YCMJs.k)(this, uf, vE).call(this, e, t));
}, "#setPriorityPolygon"), iv = new WeakSet, C9 = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    null != t && t.resetPriority();
}, "#resetPriorityCoordinate"), cf = new WeakSet, yE = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    null != t && t.resetPriority();
}, "#resetPriorityNode"), nv = new WeakSet, P9 = (0, _chunkZRT45YCMJs.a)(function(e) {
    e.entrances.forEach((e)=>(0, _chunkZRT45YCMJs.k)(this, cf, yE).call(this, e));
}, "#resetPriorityPolygon"), Xu = new WeakSet, Z1 = (0, _chunkZRT45YCMJs.a)(function(e, t = !1) {
    var i, n;
    let r = this.internalFloatingLabelsByNodeOrCoordinate.get(e.position.nodeOrCoordinate);
    if (null != r) {
        let t = null != e.id && r.id === e.id;
        (0, _chunkZRT45YCMJs.k)(this, Yu, W1).call(this, r, !t);
    }
    let { polygon: o, mapId: s } = e, a = this.core.mapObjects.get(s), l = null != (i = e.polygonHeight) ? i : 0;
    null != o && null != l && (l = o.geometry.scale.z * Math.max(a.mapClass.width, a.mapClass.height) / 1e3);
    let h = new Yi({
        ...e,
        polygonHeight: l,
        position: {
            nodeOrCoordinate: e.position.nodeOrCoordinate,
            height: l
        }
    }, this.core);
    this.internalFloatingLabels[h.id] = h, this.internalFloatingLabelsByNodeOrCoordinate.set(e.position.nodeOrCoordinate, h), a.labels.add(h), this.core.smartCollisionEngine.add(h.id, h);
    let c = this.floatingLabels[null != (n = e.id) ? n : ""];
    return null == c ? c = new Q1(h) : c.__updateInstance(h), this.floatingLabels[c.id] = c, this.core.taskScheduler.scheduleUpdate(new si({
        name: "addFloatingLabel",
        ordering: wn.BEFORE_CAMERA,
        callback: ()=>{
            t || (h.enable(!1), this.core.determineNewLabelSize(), this.core.smartCollisionEngine.debouncedUpdate());
        }
    })), t || this.core.tryRendering(), {
        internalLabel: h,
        label: c
    };
}, "#renderLabel"), rv = new WeakSet, S9 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i;
    let n = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    if (!n) return void R.warn("No label found for coordinate", e);
    let r = {
        id: n.id,
        appearance: (0, dE.default)(t, n.appearance),
        interactive: n.options.interactive
    };
    (0, _chunkZRT45YCMJs.k)(this, of, mE).call(this, e, null != (i = n.options.text) ? i : "", r);
}, "#setCoordinateAppearance"), hf = new WeakSet, bE = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    var i;
    let n = this.internalFloatingLabelsByNodeOrCoordinate.get(e);
    if (!n) return void R.warn("No label found for this node. Skipping...");
    let r = {
        id: n.id,
        appearance: (0, dE.default)(t, n.appearance),
        interactive: n.options.interactive
    };
    (0, _chunkZRT45YCMJs.k)(this, Hu, Y1).call(this, e, null != (i = n.options.text) ? i : "", r);
}, "#setNodeAppearance"), av = new WeakSet, I9 = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    for (let i of e.entrances)(0, _chunkZRT45YCMJs.k)(this, hf, bE).call(this, i, t);
}, "#setPolygonAppearance"), (0, _chunkZRT45YCMJs.a)(EE, "FloatingLabelsController");
var pE = EE, xE = pE;
function _9(e, t, i, n) {
    let r = (null == n ? void 0 : n.excludeTypes) || [], o = null == n ? void 0 : n.sortFunction, s = ((null == n ? void 0 : n.locations) || []).filter((e)=>-1 === r.indexOf(e.type)), a = s;
    null != o && (a = s.sort(o));
    let l = {};
    for(let r = 0, o = a.length; r < o; ++r){
        let o = a[r], s = o.polygons;
        for(let r = 0, a = s.length; r < a; ++r){
            let a = s[r];
            if (j1(a, e.polygonMeshesById) || !a.geometry.visible) continue;
            let h = FH(s[r], o, i, e.venue, t, n);
            null != h && (l[a.id] = h);
        }
    }
    return Object.values(l);
}
function FH(e, t, i, n, r, o) {
    var s, a, l;
    let h = null == o ? void 0 : o.sortFunction, c = (null == o ? void 0 : o.translationMap) || {}, u = i[e.id];
    if (!0 === u) return null;
    {
        let d = e.canvasBounds;
        i[e.id] = !0;
        let p = r, f = 0;
        if (d) {
            let e = d.x - p.width / 2, t = -d.y + p.height / 2;
            f = Math.sqrt(Math.pow(e, 2) + Math.pow(t, 2));
        }
        let m = t;
        if (h ? i[e.id] = !0 : !1 === u ? (m = Ms(e, n), i[e.id] = !0) : i[e.id] = !1, null == m) return null;
        let g = m.name, v = m.shortName, y = e.rank, b = "";
        return m.states && m.states.length > 0 && (b = (null == (s = m.state) ? void 0 : s.id) && c[null == (a = m.state) ? void 0 : a.id] || (null == (l = m.state) ? void 0 : l.name) || ""), {
            ...null == o ? void 0 : o.appearance,
            polygon: e,
            text: g,
            shortText: v,
            stateText: b,
            distance: f,
            rank: y,
            createDispiteImage: m.showLabelWhenImagePresent
        };
    }
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(_9, "createLabelObjects"), (0, _chunkZRT45YCMJs.a)(FH, "createLabelOptionsObject");
var Fs, sv, Us, za, df, wE, pf, AE, D9 = (0, _chunkZRT45YCMJs.e)(Rp()), UH = "Sans-Serif", zH = {}, O9 = "Adding or removing individual labels after calling labelAllLocations() may cause unexpected behaviour. We recommend adding all labels individually if more specific control is desired. https://developer.mappedin.com/web-sdk-api/v5/latest/classes/flatlabels#add", PE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, df), (0, _chunkZRT45YCMJs.h)(this, pf), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.h)(this, Fs, !1), (0, _chunkZRT45YCMJs.h)(this, sv, new Yo), (0, _chunkZRT45YCMJs.h)(this, Us, {}), (0, _chunkZRT45YCMJs.h)(this, za, {}), (0, _chunkZRT45YCMJs.f)(this, "flatLabels", {}), (0, _chunkZRT45YCMJs.f)(this, "labeledPolygons", {}), this.core = e, e.on(8, ()=>{
            e.visibleMapsInCurrentScene.forEach((e)=>{
                !(0, _chunkZRT45YCMJs.g)(this, Us)[e.id] && (0, _chunkZRT45YCMJs.g)(this, Fs) && (0, _chunkZRT45YCMJs.k)(this, df, wE).call(this, e);
            });
        });
    }
    labelAllLocations(e) {
        this.removeAllLabels(), (0, _chunkZRT45YCMJs.i)(this, Fs, !0), null != e && (0, _chunkZRT45YCMJs.i)(this, za, {
            ...e,
            ...null == e ? void 0 : e.appearance
        });
        let t = [];
        return this.core.visibleMapsInCurrentScene.forEach((e)=>{
            (0, _chunkZRT45YCMJs.g)(this, Us)[e.id] || t.push(...(0, _chunkZRT45YCMJs.k)(this, df, wE).call(this, e));
        }), t;
    }
    labelPolygon(e, t, i) {
        (0, _chunkZRT45YCMJs.g)(this, Fs) && R.warn(O9);
        let n = {
            polygon: "string" == typeof e ? this.core.venue.getCollectionItemById("polygons", e) : e,
            showLabelWhenImagePresent: !0,
            text: t,
            ...i,
            ...null == i ? void 0 : i.appearance
        };
        return (0, _chunkZRT45YCMJs.k)(this, pf, AE).call(this, n);
    }
    removeLabel(e, { warnOnLabelAllLocations: t = !0 } = {
        warnOnLabelAllLocations: !0
    }) {
        t && (0, _chunkZRT45YCMJs.g)(this, Fs) && R.warn(O9);
        let i = "string" == typeof e ? this.core.venue.getCollectionItemById("polygons", e) : e;
        if (!this.core.textLabelsByPolygonId[i.id]) return;
        let n = this.core.textLabelsByPolygonId[i.id];
        n.removeSelf();
        let { textObjects: r } = this.core.mapObjects.get(n.map.mapClass.id);
        r.splice(r.indexOf(n), 1), delete this.core.textLabelsByPolygonId[i.id], delete this.flatLabels[i.id], delete (0, _chunkZRT45YCMJs.g)(this, Us)[i.map.id], this.core.tryRendering();
    }
    setAppearance(e, t) {
        let i = this.flatLabels[e.id];
        if (i) {
            if (1 === Object.keys(t).length && null != t.color) i.baseColor = t.color, i.setColor(t.color);
            else {
                let n = i.fullText;
                this.removeLabel(e), this.labelPolygon(e, n, {
                    appearance: (0, D9.default)(t, {
                        height: i.height,
                        margin: i.margin / i.mapScale,
                        color: i.color,
                        hoverColor: i.hoverColor,
                        fontSize: i.fontSize / i.mapScale,
                        font: i.font,
                        scaleMin: i.scaleMin,
                        scaleStep: i.scaleStep
                    })
                });
            }
            this.core.tryRendering();
        }
    }
    setHoverColorForAll(e) {
        (0, _chunkZRT45YCMJs.g)(this, za).appearance || ((0, _chunkZRT45YCMJs.g)(this, za).appearance = {}), (0, _chunkZRT45YCMJs.g)(this, za).appearance.hoverColor = e;
        for(let t in this.flatLabels)this.flatLabels.hasOwnProperty(t) && this.flatLabels[t].setHoverColor(e);
    }
    removeAllLabels() {
        (0, _chunkZRT45YCMJs.i)(this, Fs, !1), Array.from(this.core.mapObjects.values()).forEach((e)=>{
            e.textObjects.forEach((e)=>e.removeSelf()), e.labels.clear(), e.textObjects = [];
        }), this.core.textLabelsByPolygonId = {}, this.flatLabels = {}, this.labeledPolygons = {}, (0, _chunkZRT45YCMJs.i)(this, Us, {}), this.core.tryRendering();
    }
};
Fs = new WeakMap, sv = new WeakMap, Us = new WeakMap, za = new WeakMap, df = new WeakSet, wE = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t;
    let i = [], n = _9(this.core, e, this.labeledPolygons, {
        ...(0, _chunkZRT45YCMJs.g)(this, za),
        locations: (null == (t = (0, _chunkZRT45YCMJs.g)(this, za)) ? void 0 : t.locations) || this.core.venue.getCollectionItemById("maps", e.id).locations
    });
    for(let e = 0, t = n.length; e < t; ++e){
        let t = n[e];
        i.push((0, _chunkZRT45YCMJs.k)(this, pf, AE).call(this, t));
    }
    return (0, _chunkZRT45YCMJs.g)(this, Us)[e.id] = !0, i;
}, "#processLabelsForMap"), pf = new WeakSet, AE = (0, _chunkZRT45YCMJs.a)(function(e) {
    let t = this.core.mapObjects.get(e.polygon.map.id), i = new _p(e, this.core.venue, t, UH, this.core.polygonMeshesById, this.core.textLabelsByPolygonId, zH, this.core, (0, _chunkZRT45YCMJs.g)(this, sv));
    return e.polygon && this.core.textLabelsByPolygonId[e.polygon.id] && this.removeLabel(e.polygon, {
        warnOnLabelAllLocations: !1
    }), this.flatLabels[e.polygon.id] = i, t.addPendingLowPriorityTask("addFlatLabel", ()=>{
        i.create(), this.core.tryRendering();
    }), this.core.textLabelsByPolygonId[e.polygon.id] = i, i;
}, "#renderLabel"), (0, _chunkZRT45YCMJs.a)(PE, "FlatLabelsController");
var ME = PE, CE = ME;
function VH(e) {
    return "string" != typeof e;
}
function L9(e, t) {
    return e.polygonMeshesById[ut(t)];
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(VH, "isMIPolygon"), (0, _chunkZRT45YCMJs.a)(L9, "getPolygonMesh");
var ke, ov, q9, ff, IE, lv, N9, mf, _E, GH = "#4ca1fc", DE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, ov), (0, _chunkZRT45YCMJs.h)(this, ff), (0, _chunkZRT45YCMJs.h)(this, lv), (0, _chunkZRT45YCMJs.h)(this, mf), (0, _chunkZRT45YCMJs.h)(this, ke, void 0), (0, _chunkZRT45YCMJs.i)(this, ke, e);
    }
    async setPolygonColor(...e) {
        var t;
        let [i] = e;
        if (void 0 === L9((0, _chunkZRT45YCMJs.g)(this, ke), i)) {
            let n = Mn(i, (0, _chunkZRT45YCMJs.g)(this, ke).venue.polygons);
            return void 0 !== n && null !== n.map.id && null != (t = (0, _chunkZRT45YCMJs.g)(this, ke).mapObjects.get(n.map.id)) && t.object ? void await (0, _chunkZRT45YCMJs.k)(this, ov, q9).call(this, ...e) : void R.error("Cannot set color of polygon " + (null == n ? void 0 : n.id) + ", could be bad polygon or data mismatch.");
        }
        (0, _chunkZRT45YCMJs.k)(this, ff, IE).call(this, ...e);
    }
    clearPolygonColor(e) {
        var t;
        let i = e;
        "string" == typeof e && (i = (0, _chunkZRT45YCMJs.g)(this, ke).venue.getCollectionItemById("polygons", e));
        let n = (0, _chunkZRT45YCMJs.g)(this, ke).polygonMeshesById[i.id];
        n && (n._MIOriginalMaterial && ((n.material.length ? n.material : [
            n.material
        ]).forEach((e)=>Os(e)), n.material = n._MIOriginalMaterial, delete n._MIOriginalMaterial), delete (0, _chunkZRT45YCMJs.g)(this, ke).highlightedPolygons[i.id], "SINGLE_GEOMETRY" === (null == (t = (0, _chunkZRT45YCMJs.g)(this, ke).loadOptions) ? void 0 : t.mapRenderStrategy) && (n.visible = !1), (0, _chunkZRT45YCMJs.g)(this, ke).tryRendering());
    }
    clearAllPolygonColors() {
        let e = Object.keys((0, _chunkZRT45YCMJs.g)(this, ke).highlightedPolygons);
        for(let t = 0, i = e.length; t < i; ++t)this.clearPolygonColor(e[t]);
        (0, _chunkZRT45YCMJs.g)(this, ke).highlightedPolygons = {}, (0, _chunkZRT45YCMJs.g)(this, ke).tryRendering(), (0, _chunkZRT45YCMJs.g)(this, ke).renderer.disposeOfRenderLists();
    }
    setPolygonOutlineColor(e) {
        (0, _chunkZRT45YCMJs.g)(this, ke).renderer.implementation.effectComposer.setPolygonOutlineColor(e), (0, _chunkZRT45YCMJs.g)(this, ke).tryRendering();
    }
    addPolygonOutline(e) {
        if (void 0 === (0, _chunkZRT45YCMJs.g)(this, ke).polygonMeshesById[e.id]) {
            let t = Mn(e, (0, _chunkZRT45YCMJs.g)(this, ke).venue.polygons);
            return void 0 !== t && null !== t.map.id && null !== (0, _chunkZRT45YCMJs.g)(this, ke).mapObjects.get(t.map.id).object ? void (0, _chunkZRT45YCMJs.k)(this, lv, N9).call(this, t) : void R.error("Cannot outline the polygon " + (null == t ? void 0 : t.id) + ", could be bad polygon or data mismatch.");
        }
        (0, _chunkZRT45YCMJs.k)(this, mf, _E).call(this, e);
    }
    removePolygonOutline(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, ke).polygonMeshesById[e.id];
        (0, _chunkZRT45YCMJs.g)(this, ke).outlinedPolygons.delete(e.id), (0, _chunkZRT45YCMJs.g)(this, ke).renderer.implementation.effectComposer.removeSelectionForOutline(t), (0, _chunkZRT45YCMJs.g)(this, ke).tryRendering();
    }
    removeAllPolygonOutlines() {
        for (let e of (0, _chunkZRT45YCMJs.g)(this, ke).outlinedPolygons.values())this.removePolygonOutline(e);
    }
};
ke = new WeakMap, ov = new WeakSet, q9 = (0, _chunkZRT45YCMJs.a)(async function(...e) {
    var t;
    let [i] = e, n = VH(i) ? i.map.id : null == (t = Mn(i, (0, _chunkZRT45YCMJs.g)(this, ke).venue.polygons)) ? void 0 : t.map.id;
    if (!n) return void R.error("Cannot set color of polygon ".concat(ut(i), " due to missing mapId for polygon"));
    let r = (0, _chunkZRT45YCMJs.g)(this, ke).mapObjects.get(n);
    r ? (await r.load(), (0, _chunkZRT45YCMJs.k)(this, ff, IE).call(this, ...e)) : R.error("Cannot set color of polygon ".concat(ut(i), " due to map object is missing ").concat(n));
}, "#setPolygonColorLater"), ff = new WeakSet, IE = (0, _chunkZRT45YCMJs.a)(function(...e) {
    var t;
    let [i, n, { highlighted: r = !0, visible: o = !0 } = {}] = e, s = L9((0, _chunkZRT45YCMJs.g)(this, ke), i);
    if (null != s) {
        if (r) {
            let e = ut(i);
            (0, _chunkZRT45YCMJs.g)(this, ke).highlightedPolygons[e] = n;
        }
        s._MIOriginalMaterial || (s._MIOriginalMaterial = s.material.length ? [
            ...s.material
        ] : s.material);
        let e = (s.material.length ? s.material : [
            s.material
        ]).map((e)=>{
            let t = e.clone();
            return t.color.set(n || GH), t;
        });
        1 === e.length ? s.material = e[0] : s.material = e, "SINGLE_GEOMETRY" === (null == (t = (0, _chunkZRT45YCMJs.g)(this, ke).loadOptions) ? void 0 : t.mapRenderStrategy) && (s.visible = o), (0, _chunkZRT45YCMJs.g)(this, ke).tryRendering();
    } else R.error("Cannot set color of polygon " + ut(i) + ", could be bad polygon or data mismatch.");
}, "#setPolygonColorNow"), lv = new WeakSet, N9 = (0, _chunkZRT45YCMJs.a)(function(e) {
    (0, _chunkZRT45YCMJs.g)(this, ke).mapObjects.get(e.map.id).load().then(()=>{
        (0, _chunkZRT45YCMJs.g)(this, ke).mapObjects.get(e.map.id).elements && (0, _chunkZRT45YCMJs.g)(this, ke).mapObjects.get(e.map.id).loadPolygonNow(e.id), (0, _chunkZRT45YCMJs.k)(this, mf, _E).call(this, e);
    });
}, "#addPolygonOutlineLater"), mf = new WeakSet, _E = (0, _chunkZRT45YCMJs.a)(function(e) {
    var t;
    let i = (0, _chunkZRT45YCMJs.g)(this, ke).polygonMeshesById[e.id];
    null != i ? ((0, _chunkZRT45YCMJs.g)(this, ke).outlinedPolygons.set(e.id, e), (0, _chunkZRT45YCMJs.g)(this, ke).renderer.implementation.effectComposer.addSelectionForOutline(i), "SINGLE_GEOMETRY" === (null == (t = (0, _chunkZRT45YCMJs.g)(this, ke).loadOptions) ? void 0 : t.mapRenderStrategy) && (i.visible = !0), (0, _chunkZRT45YCMJs.g)(this, ke).tryRendering()) : R.error("Cannot outline the polygon " + e.id + ", could be bad polygon or data mismatch.");
}, "#addPolygonOutlineNow"), (0, _chunkZRT45YCMJs.a)(DE, "PolygonColorsController");
var SE = DE, OE = SE;
(0, _chunkA5C75TI6Js.a)();
var Yr, NE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Yr, void 0), (0, _chunkZRT45YCMJs.i)(this, Yr, e);
    }
    setPolygonHoverColor(e, t) {
        let i = ut(e);
        i && ((0, _chunkZRT45YCMJs.g)(this, Yr).polygonHoverColorsById[i] = new (0, _chunk4XLXKB34Js.Y)(t));
    }
    clearPolygonHoverColor(e) {
        let t = ut(e);
        t && (delete (0, _chunkZRT45YCMJs.g)(this, Yr).polygonHoverColorsById[t], (0, _chunkZRT45YCMJs.g)(this, Yr).eventSystem.currentHover === t && (0, _chunkZRT45YCMJs.g)(this, Yr).eventSystem.onPolygonHoverOver(t));
    }
    clearAllPolygonHoverColors() {
        for(let e in (0, _chunkZRT45YCMJs.g)(this, Yr).polygonHoverColorsById)this.clearPolygonHoverColor(e);
        (0, _chunkZRT45YCMJs.g)(this, Yr).polygonHoverColorsById = {};
    }
};
Yr = new WeakMap, (0, _chunkZRT45YCMJs.a)(NE, "PolygonHoverColorsController");
var LE = NE, qE = LE;
(0, _chunkA5C75TI6Js.a)();
var zs, BE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, zs, void 0), (0, _chunkZRT45YCMJs.i)(this, zs, e);
    }
    addInteractivePolygon(e) {
        let t = ut(e);
        (0, _chunkZRT45YCMJs.g)(this, zs).interactivePolygons[t] = !0;
    }
    addInteractivePolygonsForAllLocations(e) {
        e || (e = {});
        let t = e.excludeTypes || [], i = (e.locations || (0, _chunkZRT45YCMJs.g)(this, zs).venue.locations.slice()).filter((e)=>!t.includes(e.type)), n = {};
        for(let e = 0, t = i.length; e < t; ++e){
            let t = i[e].polygons;
            for(let e = 0, i = t.length; e < i; ++e){
                let i = t[e];
                n[i.id] || (n[i.id] = !0, this.addInteractivePolygon(i));
            }
        }
    }
    removeInteractivePolygon(e) {
        let t = ut(e);
        delete (0, _chunkZRT45YCMJs.g)(this, zs).interactivePolygons[t];
    }
    removeAllInteractivePolygons() {
        for(let e in (0, _chunkZRT45YCMJs.g)(this, zs).interactivePolygons)this.removeInteractivePolygon(e);
    }
};
zs = new WeakMap, (0, _chunkZRT45YCMJs.a)(BE, "PolygonInteractionController");
var RE = BE, kE = RE;
(0, _chunkA5C75TI6Js.a)();
var Xi, zE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Xi, void 0), (0, _chunkZRT45YCMJs.i)(this, Xi, e);
    }
    createTooltip(e, t, i) {
        return this.createTooltipInternal({
            nodeOrCoordinate: e,
            contentHtml: t,
            options: i
        });
    }
    createCustomTooltip(e, t, i, n) {
        return this.createTooltipInternal({
            nodeOrCoordinate: e,
            html: t,
            selector: i,
            options: n
        });
    }
    createTooltipInternal({ nodeOrCoordinate: e, html: t, contentHtml: i, selector: n, options: r }) {
        let o = e.map.id, s = (0, _chunkZRT45YCMJs.g)(this, Xi).mapObjects.get(o), a = 0;
        if (e instanceof di) {
            let t = e.polygon;
            null != t && (a = t.geometry.scale.z * Math.max(s.mapClass.width, s.mapClass.height) / 1e3);
        }
        let l = new Qo({
            ...r,
            map: o,
            position: {
                nodeOrCoordinate: e,
                height: a
            },
            html: t,
            contentHtml: i,
            selector: n
        });
        return (0, _chunkZRT45YCMJs.g)(this, Xi).smartCollisionEngine.add(l.id, l), s.tooltips.add(l), (0, _chunkZRT45YCMJs.g)(this, Xi).taskScheduler.scheduleTask(new Tt({
            name: "addTooltip",
            callback: ()=>{
                l.enable(), (0, _chunkZRT45YCMJs.g)(this, Xi).smartCollisionEngine.debouncedUpdate();
            }
        })), (0, _chunkZRT45YCMJs.g)(this, Xi).tryRendering(), l;
    }
    removeTooltip(e) {
        (0, _chunkZRT45YCMJs.g)(this, Xi).smartCollisionEngine.remove("string" == typeof e ? e : e.id), (0, _chunkZRT45YCMJs.g)(this, Xi).smartCollisionEngine.debouncedUpdate(), (0, _chunkZRT45YCMJs.g)(this, Xi).tryRendering();
    }
    removeAllTooltips() {
        Array.from((0, _chunkZRT45YCMJs.g)(this, Xi).mapObjects.values()).forEach((e)=>{
            e.tooltips.forEach((e)=>{
                (0, _chunkZRT45YCMJs.g)(this, Xi).smartCollisionEngine.remove(e.id);
            });
        }), (0, _chunkZRT45YCMJs.g)(this, Xi).tryRendering();
    }
};
Xi = new WeakMap, (0, _chunkZRT45YCMJs.a)(zE, "TooltipsController");
var FE = zE, UE = FE;
(0, _chunkA5C75TI6Js.a)();
var Yn, Vs, jE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Yn, void 0), (0, _chunkZRT45YCMJs.h)(this, Vs, void 0), (0, _chunkZRT45YCMJs.i)(this, Yn, e), (0, _chunkZRT45YCMJs.i)(this, Vs, new HE({
            scene: (0, _chunkZRT45YCMJs.g)(this, Yn).scene,
            tryRendering: ()=>(0, _chunkZRT45YCMJs.g)(this, Yn).tryRendering(),
            getPolygonMeshFromId: (e)=>(0, _chunkZRT45YCMJs.g)(this, Yn).polygonMeshesById[e]
        }));
    }
    updateClosedStateForPolygon(e) {
        if (null == e || null == e.polygon) return;
        let t, i = ut(e.polygon);
        if ("string" != typeof i) return void R.error("Invalid or no polygon provided. Expecting a MappedinPolygon or a string id. Received: ".concat(e.polygon, " of type ").concat(typeof e.polygon));
        if (null != e.closed) t = !!e.closed;
        else {
            if (null == e.open) return;
            t = !e.open;
        }
        let n = Mn(i, (0, _chunkZRT45YCMJs.g)(this, Yn).venue.polygons), r = (null == n ? void 0 : n.map.id) || (0, _chunkZRT45YCMJs.g)(this, Yn).currentMap;
        r ? (0, _chunkZRT45YCMJs.g)(this, Yn).mapObjects.get(r).addPendingMapLoadedTask("Set closed status of polygon ".concat(i, " to ").concat(t), ()=>{
            t ? (0, _chunkZRT45YCMJs.g)(this, Vs).markPolygonAsClosed(i) : (0, _chunkZRT45YCMJs.g)(this, Vs).markPolygonAsOpen(i);
        }) : R.error("Update closed state for polygon failed due to missing active map");
    }
    openAllPolygons() {
        [
            ...(0, _chunkZRT45YCMJs.g)(this, Yn).mapObjects.values()
        ].reduce((e, t)=>(e.set(t, (0, _chunkZRT45YCMJs.g)(this, Yn).venue.polygons.filter((e)=>e.map === t.mapClass)), e), new Map).forEach((e, t)=>{
            t.addPendingMapLoadedTask("Open all polygons belonging to map ".concat(t.id), ()=>e.forEach((e)=>(0, _chunkZRT45YCMJs.g)(this, Vs).markPolygonAsOpen(e.id)));
        });
    }
    destroy() {
        (0, _chunkZRT45YCMJs.g)(this, Vs).dispose();
    }
};
Yn = new WeakMap, Vs = new WeakMap, (0, _chunkZRT45YCMJs.a)(jE, "PolygonStatesController");
var VE = jE, GE = VE;
(0, _chunkA5C75TI6Js.a)();
var Zi, XE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Zi, void 0), (0, _chunkZRT45YCMJs.i)(this, Zi, e);
    }
    enableImageFlippingForAllLocations(e) {
        (0, _chunkZRT45YCMJs.g)(this, Zi).imageFlippingEnabled = !0, e || (e = {});
        let t = e.excludeTypes || [], i = (e.locations || (0, _chunkZRT45YCMJs.g)(this, Zi).venue.locations.slice()).filter(function(e) {
            return -1 === t.indexOf(e.type);
        }), n = {};
        for(let e = 0, t = i.length; e < t; ++e){
            let t = i[e].polygons;
            for(let e = 0, i = t.length; e < i; ++e){
                let i = t[e];
                n[i.id] || (n[i.id] = !0, this.enableImageFlippingForPolygon(i));
            }
        }
    }
    enableImageFlippingForPolygon(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, Zi).mapObjects.get(e.map.id), i = 0, n = (0, _chunkZRT45YCMJs.g)(this, Zi).venue.maps.find((e)=>e.id === (0, _chunkZRT45YCMJs.g)(this, Zi).currentMap).perspectiveId;
        n && e && e.perspectives && e.perspectives[n] && e.perspectives[n].image && e.perspectives[n].image.rotation && !isNaN(e.perspectives[n].image.rotation.z) ? i = e.perspectives[n].image.rotation.z * (Math.PI / 180) : e && e.image && e.image.rotation && !isNaN(e.image.rotation.z) && (i = e.image.rotation.z * (Math.PI / 180)), (0, _chunkZRT45YCMJs.g)(this, Zi).imageFlippingCache[e.map.id] = (0, _chunkZRT45YCMJs.g)(this, Zi).imageFlippingCache[e.map.id] || [], (0, _chunkZRT45YCMJs.g)(this, Zi).imageFlippingCache[e.map.id].push([
            e.id,
            i
        ]), t.mapClass.id === (0, _chunkZRT45YCMJs.g)(this, Zi).currentMap && t.load().then(()=>{
            t.enableImageFlipping(e.id, i);
        });
    }
    disableImageFlippingForAllPolygons() {
        let e = Object.keys((0, _chunkZRT45YCMJs.g)(this, Zi).mapObjects);
        for(let t = 0, i = e.length; t < i; t++){
            let i = e[t];
            (0, _chunkZRT45YCMJs.g)(this, Zi).mapObjects.get(i).disableAllImageFlipping();
        }
    }
};
Zi = new WeakMap, (0, _chunkZRT45YCMJs.a)(XE, "PolygonImagesController");
var YE = XE, WE = YE;
(0, _chunkA5C75TI6Js.a)();
var Va, gf, QE = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Va, void 0), (0, _chunkZRT45YCMJs.h)(this, gf, new Set), (0, _chunkZRT45YCMJs.i)(this, Va, e);
    }
    createThreeJSMarker(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, Va).currentMap;
        null != e.mapOrMapId && (t = "string" == typeof e.mapOrMapId ? e.mapOrMapId : e.mapOrMapId.id);
        let i = (0, _chunkZRT45YCMJs.g)(this, Va).mapObjects.get(t).addThreeJSMarker(e);
        return (0, _chunkZRT45YCMJs.g)(this, gf).add(i), (0, _chunkZRT45YCMJs.g)(this, Va).tryRendering(Re.ANIMATED), i;
    }
    removeThreeJSMarker(e) {
        if (null == e._mapId) return !1;
        let t = !1, i = (0, _chunkZRT45YCMJs.g)(this, Va).mapObjects.get(e._mapId);
        return i && (t = i.removeThreeJSMarker(e)), (0, _chunkZRT45YCMJs.g)(this, Va).tryRendering(Re.ANIMATED), t;
    }
    removeAllThreeJSMarkers() {
        (0, _chunkZRT45YCMJs.g)(this, gf).forEach((e)=>{
            this.removeThreeJSMarker(e);
        });
    }
};
Va = new WeakMap, gf = new WeakMap, (0, _chunkZRT45YCMJs.a)(QE, "ThreeDMarkersController");
var ZE = QE, vf = ZE;
(0, _chunkA5C75TI6Js.a)();
var Wn, yf, uv, R9, $E = class extends zi {
    constructor(e){
        super(), (0, _chunkZRT45YCMJs.h)(this, uv), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "blueDotCore"), (0, _chunkZRT45YCMJs.h)(this, Wn, void 0), (0, _chunkZRT45YCMJs.h)(this, yf, void 0), this.core = e, (0, _chunkZRT45YCMJs.i)(this, yf, Pp(this.core.venue, this.core.options));
        let t = new vf(this.core);
        (0, _chunkZRT45YCMJs.i)(this, Wn, new t5({
            threeDMarkerLayer: t,
            core: this.core
        })), this.core.eventSystem.setBlueDotManager((0, _chunkZRT45YCMJs.g)(this, Wn)), this.blueDotCore = e5({
            data: this.core.venue,
            core: this.core,
            manager: (0, _chunkZRT45YCMJs.g)(this, Wn)
        });
        let i = i5({
            core: this.core,
            blueDotManager: (0, _chunkZRT45YCMJs.g)(this, Wn),
            controller: this.blueDotCore,
            data: this.core.venue
        });
        i.on("isFollowingChanged", ({ newValue: e })=>{
            !1 === e && "follow" === this.core.state && (this.core.state = "explore", this.core.publish(12, {
                state: "explore"
            }));
        }), this.core.on(14, (e)=>{
            i.isFollowing = e, this.blueDotCore.enabled && i.isFollowing && i.centerBlueDot();
        }), this.core.on(13, ({ x: e, y: t })=>{
            (0, _chunkZRT45YCMJs.g)(this, Wn).publish("update-position", {
                x: e,
                y: t
            });
        });
        let n = mn((0, _chunkZRT45YCMJs.k)(this, uv, R9).bind(this), 300);
        this.core.on(11, n), this.core.on(10, (e)=>{
            (0, _chunkZRT45YCMJs.g)(this, Wn).setBlueDotSizeFromZoom(e);
        });
    }
    enable(e) {
        this.blueDotCore.enableBlueDot(e);
    }
    disable() {
        this.blueDotCore.disableBlueDot();
    }
};
Wn = new WeakMap, yf = new WeakMap, uv = new WeakSet, R9 = (0, _chunkZRT45YCMJs.a)(function() {
    if (!(0, _chunkZRT45YCMJs.g)(this, Wn).blueDots) return;
    let e = (0, _chunkZRT45YCMJs.g)(this, Wn).blueDots.filter((e)=>e.handle._mapId === this.core.currentMap)[0];
    if (null == e) return;
    let t = e.handle.object.position.clone(), i = this.core.mapObjects.get((0, _chunkZRT45YCMJs.g)(this, yf).id || this.core.venue.venue.defaultMap);
    if (!i) throw new Error("Unable to retrieve the target map");
    let n = t.applyMatrix4(i.object.matrix).project(this.core.cameraObject), r = (n.x + 1) / 2 * this.core.canvasWidth, o = (1 - n.y) / 2 * this.core.canvasHeight;
    (0, _chunkZRT45YCMJs.g)(this, Wn).publish("update-position", {
        x: r,
        y: o
    });
}, "#publishBlueDot"), (0, _chunkZRT45YCMJs.a)($E, "BlueDotController");
var KE = $E, JE = KE;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var k9 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAkklEQVRoge3awQ3AIAxD0VAMYf+F0yUixbL8JshXuLSwIqJCwDc9QBeZEOy9p2doAQDTM7TQ2cg5Z3qGFjpHS2YjDiGDe+/0DC0cwkYpJKdnaIFMkY1kymzEIVQcwsYhbPDem56hhc5GHELGIWwcwsYhbJS+2R1CxSFsdH5iO4SMr97Y6FxPqxytVVV+HcTEIWx+9mcIqHSOm9QAAAAASUVORK5CYII=";
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var r5 = class {
    constructor(e){
        this.active = !1, this.positions = [], this.positionIndex = 0, this.timerList = [], this.timeElapsed = 0, this.startTime = void 0, this.startPos = 0, this.endPos = 0, this.smoothingType = void 0, this.isActive = this.isActive.bind(this), this.setCallbacks = this.setCallbacks.bind(this), this.watchPosition = this.watchPosition.bind(this), this.sendPositionResponse = this.sendPositionResponse.bind(this), this.start = this.start.bind(this), this.pause = this.pause.bind(this), this.speed = e.speed || 10, window.positions && this.setPositions(window.positions);
    }
    isActive() {
        return this.active;
    }
    setPositions(e) {
        this.reset(), this.positions = e, this.endPos = e.length - 1;
    }
    setCallbacks(e, t, i) {
        this.successCallback = e, this.errorCallback = t, this.options = i;
    }
    clearWatch() {
        this.reset();
    }
    watchPosition(e, t, i) {
        this.setCallbacks(e, t, i), this.start();
    }
    sendPositionResponse(e) {
        switch(this.timeElapsed = Date.now() - this.startTime, e.type){
            case "ERROR":
                this.errorCallback({
                    code: e.code,
                    message: e.message,
                    timestamp: Date.now()
                });
                break;
            case "ANNOTATION":
                R.log("Annotation Update: ".concat(e.annotation));
                break;
            default:
                this.successCallback({
                    coords: e.coords,
                    timestamp: e.timestamp,
                    positionIndex: this.positionIndex
                });
        }
        this.positionIndex === this.endPos ? this.reset() : this.positionIndex += 1;
    }
    start() {
        let e = 0;
        this.positions[this.positionIndex - 1] ? e = this.positions[this.positionIndex - 1].timestamp : this.positions[0].timestamp > 1e6 && (e = this.positions[0].timestamp), this.startTime = Date.now(), this.positions.slice(this.positionIndex, this.endPos + 1).forEach((t)=>{
            let { timestamp: i } = t;
            this.timerList.push(setTimeout(()=>this.sendPositionResponse(t), (i - e) / this.speed));
        }), this.active = !0;
    }
    pause() {
        this.timerList.forEach((e)=>{
            clearTimeout(e);
        }), this.timerList = [], this.active = !1;
    }
    reset() {
        this.pause(), this.positionIndex = this.startPos;
    }
};
(0, _chunkZRT45YCMJs.a)(r5, "FakeGeolocation");
var n5 = r5, B9 = n5;
(0, _chunkA5C75TI6Js.a)();
var a5 = {
    0: {
        actions: {
            5: 1
        }
    },
    1: {
        actions: {
            0: 2,
            1: 3,
            3: 4,
            4: 0
        },
        markerState: 0
    },
    2: {
        actions: {
            1: 3,
            3: 4,
            2: 1,
            4: 0
        },
        markerState: 1
    },
    3: {
        actions: {
            0: 2,
            3: 4,
            2: 1,
            4: 0
        },
        markerState: 2
    },
    4: {
        actions: {
            0: 2,
            1: 3,
            3: 4,
            2: 1,
            4: 0
        },
        markerState: 3
    }
}, HH = (0, _chunkZRT45YCMJs.a)(()=>{
    let e = _s({
        state: 0,
        markerState: 0,
        transition: (t)=>{
            if (null == a5[e.state]) return;
            let i = a5[e.state].actions[t];
            null != i && e.state !== i && (e.state = i, e.markerState = a5[e.state].markerState);
        },
        reset: ()=>{
            e.state = 0;
        }
    });
    return e;
}, "StateMachine"), F9 = HH;
(0, _chunkA5C75TI6Js.a)();
var s5 = (0, _chunkZRT45YCMJs.a)((e, t, i, n = 4)=>{
    let r = !1;
    return (i ? [
        i
    ] : t).forEach((t)=>{
        Math.abs(e.x) < t.width * n && Math.abs(e.y) < t.height * n && (r = !0);
    }), !r;
}, "isOutsideMap");
(0, _chunkA5C75TI6Js.a)();
var h5 = (0, _chunkZRT45YCMJs.e)(V9());
function o5(e) {
    return null === e || "number" == typeof e;
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(o5, "isValidLevel");
var u5 = class {
    constructor(e = 2){
        this.nextLevel = void 0, this.inertia = e, this.levelConfirmations = 0;
    }
    _resetConfirmations() {
        this.levelConfirmations = 0, this.nextLevel = void 0;
    }
    _resetFilter() {
        this._resetConfirmations(), this.previousLevel = void 0;
    }
    filter(e) {
        let t = null, i = void 0 === e ? null : e;
        if (!o5(i)) throw new TypeError("The argument given to filter() must be null, undefined, or a number");
        return null === i ? this._resetFilter() : (o5(this.previousLevel) && i !== this.previousLevel ? o5(this.nextLevel) && i === this.nextLevel ? this.levelConfirmations >= this.inertia ? (this._resetConfirmations(), t = i) : (this.levelConfirmations++, t = this.previousLevel) : (this.levelConfirmations++, this.nextLevel = i, t = this.previousLevel) : t = i, this.previousLevel = t), t;
    }
};
(0, _chunkZRT45YCMJs.a)(u5, "LevelFilter");
var l5 = u5, cv = l5, ZH = 1.4, c5 = {
    NONE: "none",
    KALMAN: "kalman"
}, QH = (0, _chunkZRT45YCMJs.a)((e)=>({
        floorLevel: e.coords.floorLevel,
        timestamp: e.timestamp,
        latitude: e.coords.latitude,
        longitude: e.coords.longitude,
        accuracy: e.coords.accuracy,
        speed: -1,
        type: e.type
    }), "parseLocation"), p5 = class {
    constructor(e){
        this.smooth = this.smooth.bind(this), this.smoothingType = window.mappedin && window.mappedin.smoothingType || c5.KALMAN, this.lastLocation = null, this.levelFilter = e;
    }
    formatLocation(e) {
        return {
            type: "SUCCESS",
            timestamp: e.timestamp,
            coords: {
                latitude: e.latitude,
                longitude: e.longitude,
                accuracy: e.accuracy,
                floorLevel: this.levelFilter.filter(e.floorLevel)
            }
        };
    }
    kalman(e, t) {
        if (t) {
            let i = e.timestamp - t.timestamp, n = ZH * i / 1e3;
            this.latitudeKF.setProcessNoise(n), this.longitudeKF.setProcessNoise(n), this.latitudeKF.setMeasurementNoise(e.accuracy), this.longitudeKF.setMeasurementNoise(e.accuracy);
        } else this.latitudeKF = new h5.default({
            R: 1,
            Q: e.accuracy
        }), this.longitudeKF = new h5.default({
            R: 1,
            Q: e.accuracy
        });
        return {
            ...e,
            latitude: this.latitudeKF.filter(e.latitude),
            longitude: this.longitudeKF.filter(e.longitude)
        };
    }
    setSmoothingType(e) {
        this.smoothingType = e;
    }
    smooth(e) {
        let t;
        switch(this.smoothingType){
            case c5.KALMAN:
                return t = this.kalman(QH(e), this.lastLocation), null == t.latitude || isNaN(t.latitude) || null == t.longitude || isNaN(t.longitude) ? e : (this.lastLocation = t, this.formatLocation(t));
            case c5.NONE:
            default:
                return e;
        }
    }
    reset() {
        this.lastLocation = null, this.levelFilter = new cv(this.levelFilter.inertia);
    }
};
(0, _chunkZRT45YCMJs.a)(p5, "PositionSmoothing");
var d5 = p5, G9 = d5;
(0, _chunkA5C75TI6Js.a)();
var hv = (0, _chunkZRT45YCMJs.a)((e)=>e * Math.PI / 180, "toRadians"), KH = (0, _chunkZRT45YCMJs.a)((e)=>180 * e / Math.PI, "toDegrees"), JH = (0, _chunkZRT45YCMJs.a)(function() {
    let e, t = _s({
        bearingExpired: !1,
        previousLat: null,
        previousLong: null,
        calculateHeading (e, i, n) {
            t.previousLat || (t.previousLat = e), t.previousLong || (t.previousLong = i);
            let r = ((t.previousLat - e) ** 2 + (t.previousLong - i) ** 2) ** .5, o = n && n.coords.accuracy < 20, s = parseFloat(r.toFixed(5)) > 0;
            if (o && s) {
                t.resetBearingExpirationTimer();
                let n = t.getBearing([
                    t.previousLat,
                    t.previousLong
                ], [
                    e,
                    i
                ]);
                return t.previousLat = e, t.previousLong = i, n;
            }
            return !1;
        },
        getBearing ([e, t], [i, n]) {
            let r = hv(e), o = hv(t), s = hv(i), a = hv(n), l = Math.sin(a - o) * Math.cos(s), h = Math.cos(r) * Math.sin(s) - Math.sin(r) * Math.cos(s) * Math.cos(a - o), c = Math.atan2(l, h);
            return c = KH(c), (c + 360) % 360;
        },
        resetBearingExpirationTimer () {
            null !== e && t.clearBearingExpirationTimer(), e = setTimeout(()=>{
                t.bearingExpired = !0, t.clearBearingExpirationTimer();
            }, 5e3);
        },
        clearBearingExpirationTimer () {
            null !== e && (clearTimeout(e), e = null);
        }
    });
    return t;
}, "BlueDotBearing"), j9 = JH, pv = "#2266ff", m5 = class extends Gn {
    constructor(){
        super(...arguments), (0, _chunkZRT45YCMJs.f)(this, "update", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.publish(0, e);
        }, "update")), (0, _chunkZRT45YCMJs.f)(this, "throwError", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.publish(1, e);
        }, "throwError"));
    }
};
(0, _chunkZRT45YCMJs.a)(m5, "PositionUpdater");
var bf, dv = m5, H9 = {
    showBearing: !1,
    allowImplicitFloorLevel: !1,
    smoothing: !0,
    positionUpdater: void 0,
    baseColor: pv,
    useRotationMode: !1
}, g5 = class extends dv {
    constructor(){
        super(...arguments), (0, _chunkZRT45YCMJs.h)(this, bf, -1);
    }
    start(e) {
        (0, _chunkZRT45YCMJs.i)(this, bf, globalThis.navigator.geolocation.watchPosition(this.update, this.throwError, e));
    }
    stop() {
        globalThis.navigator.geolocation.clearWatch((0, _chunkZRT45YCMJs.g)(this, bf));
    }
};
bf = new WeakMap, (0, _chunkZRT45YCMJs.a)(g5, "GeolocationUpdater");
var f5 = g5, $H = 3e4, eY = 1e4, Y9 = (0, _chunkZRT45YCMJs.a)(({ data: e, core: t, manager: i })=>{
    let n, r, o, { maps: s, venue: a } = e, h = {
        enableHighAccuracy: !0
    }, c = F9(), u = (0, _chunkZRT45YCMJs.a)(()=>{
        null != n && (clearTimeout(n), n = null);
    }, "clearFallbackToGPSTimer"), d = s.length > 1, p = j9();
    p.on("bearingExpiredChanged", (e)=>{
        e.newValue && (w.bearing = null, m(w.userPosition, null));
    });
    let f = (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
        "string" == typeof e && (v(t, i), w.stateMachine.transition(2), m(null, null));
    }, "setError"), m = (0, _chunkZRT45YCMJs.a)((e, i, n)=>{
        if (w.userPosition = e, null != i) {
            w.userMap = i;
            let r = (w.userMap || t.venue.maps.find((e)=>e.id === t.currentMap)).createCoordinate(e.coords.latitude, e.coords.longitude);
            w.nearestNode = n || r.nearestNode;
        }
        w.userData = {
            state: c.state,
            position: w.userPosition,
            map: w.userMap,
            bearing: w.bearing,
            nearestNode: w.nearestNode,
            hasEverReceivedFloorLevel: w.hasEverReceivedFloorLevel
        }, t.blueDot.publish("POSITION_UPDATE", {
            nearestNode: w.nearestNode,
            bearing: w.bearing,
            map: w.userMap,
            position: w.userPosition
        });
    }, "updateInternalState"), g = (0, _chunkZRT45YCMJs.a)((e)=>{
        f("position-error", e.code, e.message), R.warn("ERROR(".concat(e.code, "): ").concat(e.message));
    }, "onPositionError");
    function v(e, i) {
        w.state = {
            reason: e,
            message: i,
            markerVisibility: c.markerState,
            name: c.state
        }, t.blueDot.publish("STATE_CHANGE", w.state);
    }
    (0, _chunkZRT45YCMJs.a)(v, "setReason");
    let y = (0, _chunkZRT45YCMJs.a)((e, t)=>{
        let i = s, n = e.coords.latitude, r = e.coords.longitude;
        null != t && (i = s.filter((e)=>e.elevation === t));
        let o = i.reduce((e, t)=>{
            var i;
            if (0 === (null == (i = t.nodes) ? void 0 : i.length)) return e;
            let o = t.createCoordinate(n, r), s = o.nearestNode, a = t.createCoordinateByXY(s.x, s.y).absoluteDistanceTo(o);
            return a < e[1] ? [
                t,
                a,
                s
            ] : e;
        }, [
            i[0],
            1 / 0,
            null
        ]);
        return {
            targetMap: o[0],
            nearestNode: o[2]
        };
    }, "determineCurrentMapFromCoordinates"), b = (0, _chunkZRT45YCMJs.a)((e)=>{
        var i, l;
        {
            let h = e.coords.floorLevel;
            void 0 !== window.floorLevel && (h = window.floorLevel);
            let f = {
                timestamp: e.timestamp,
                type: e.type,
                coords: {
                    accuracy: e.coords.accuracy,
                    latitude: e.coords.latitude,
                    longitude: e.coords.longitude,
                    floorLevel: h
                },
                bearing: e.bearing
            };
            null != h && (w.hasEverReceivedFloorLevel = !0), window.mappedin && (Array.isArray(window.mappedin.bluedotCaptureData) ? window.mappedin.bluedotCaptureData.push(f) : window.mappedin.bluedotCaptureData = [
                f
            ]), o && clearTimeout(o), o = setTimeout(()=>{
                c.transition(3), v(), w.positionSmoothing.reset(), m(w.userPosition, null);
            }, w.locationUncertainTimeoutPeriod);
            let g = t.getPositionLatLon(f.coords.latitude, f.coords.longitude), b = s5(g, s);
            if (null == f.coords.latitude || null == f.coords.longitude) return w.positionSmoothing.reset(), void v(1);
            if (b) return w.positionSmoothing.reset(), w.stateMachine.transition(2), v(0), void (w.userData = {
                state: c.state,
                position: null,
                map: null,
                bearing: null,
                nearestNode: null,
                hasEverReceivedFloorLevel: !1
            });
            let A, x = null == (i = w.enableBlueDotOptions) ? void 0 : i.smoothing;
            A = !0 === x || void 0 === x && null == f.coords.floorLevel ? w.positionSmoothing.smooth(f) : f, h = A.coords.floorLevel;
            let E = A.coords.latitude, M = A.coords.longitude;
            if (null != (l = w.enableBlueDotOptions) && l.showBearing) {
                let t = e.bearing;
                if ("number" == typeof t) w.bearing = t;
                else {
                    let e = p.calculateHeading(E, M, A);
                    !1 !== e && (w.bearing = e);
                }
            }
            let q = null, C = null, T = a.isMultiBuilding;
            if (T && "hudson-yards" !== a.slug && null != h) {
                let e = y(A, h);
                q = e.targetMap, C = e.nearestNode;
            }
            if ("hudson-yards" === a.slug) {
                let e = w.userMap;
                if (null == h && s5(g, s, e, .55) && (q = s.filter((e)=>"5b5f5becadd5444692000001" === e.id)[0]), null != h) {
                    let e = s.filter((e)=>e.elevation === h);
                    e.length > 1 && (e = e.filter((e)=>"5b5f20e3f3ea231068000000" === e.group)), q = e[0];
                }
            }
            if (!q && null != h) {
                let e = s.filter((e)=>e.elevation === h);
                1 === e.length && (q = e[0]);
            }
            if (w.forceBlueDot && w.userMap && !w.hasEverReceivedFloorLevel ? q = w.userMap : d || (q = s[0]), q || w.forceBlueDot && 3 !== c.state) c.transition(1), u();
            else {
                if (3 === c.state) return r = {
                    ...A
                }, void (null == n && (n = setTimeout(()=>{
                    if (c.transition(0), T) {
                        let e = y(r);
                        q = e.targetMap, C = e.nearestNode;
                    }
                    m(r, q, C), n = null;
                }, w.fallbackToGPSTimeoutPeriod)));
                c.transition(0);
            }
            v(), m(A, q);
        }
    }, "onPositionReceived"), w = _s({
        bearing: null,
        state: {
            reason: void 0,
            message: void 0,
            markerVisibility: c.markerState,
            name: c.state
        },
        positionUpdater: null,
        positionSmoothing: new G9(new cv),
        locationUncertainTimeoutPeriod: $H,
        fallbackToGPSTimeoutPeriod: eY,
        userMap: s.find((e)=>e.id === a.defaultMap),
        userPosition: null,
        nearestNode: null,
        forceBlueDot: !1,
        hasEverReceivedFloorLevel: !1,
        userData: null,
        enabled: !1,
        stateMachine: c,
        enableBlueDotOptions: H9,
        enableBlueDot: (e)=>{
            var t, i, n, r, o;
            w.enableBlueDotOptions = {
                ...H9,
                ...e
            }, w.enabled = !0, w.enableBlueDotOptions && w.enableBlueDotOptions.allowImplicitFloorLevel && (w.forceBlueDot = w.enableBlueDotOptions.allowImplicitFloorLevel), null != (null == (t = w.enableBlueDotOptions) ? void 0 : t.positionUpdater) ? (w.positionUpdater = w.enableBlueDotOptions.positionUpdater, "function" == typeof (null == (i = null == w ? void 0 : w.positionUpdater) ? void 0 : i.start) && (null == (n = null == w ? void 0 : w.positionUpdater) || n.start())) : (w.positionUpdater = new f5, null == (o = null == (r = w.positionUpdater) ? void 0 : r.start) || o.call(r, h)), w.positionUpdater.on(0, b), w.positionUpdater.on(1, g), c.transition(5);
        },
        disableBlueDot () {
            var e, t, n, r;
            w.enabled = !1, "function" == typeof (null == (e = null == w ? void 0 : w.positionUpdater) ? void 0 : e.stop) && (null == (t = null == w ? void 0 : w.positionUpdater) || t.stop()), null == (n = w.positionUpdater) || n.off(0, b), null == (r = w.positionUpdater) || r.off(1, g), c.transition(4), i.cleanup();
        }
    });
    return w;
}, "BlueDot");
Y9.FakeGeolocation = B9;
var e5 = Y9, nl = {
    GHOST: "ghost",
    GREY: "grey",
    BLUE: "blue"
}, Ga = (0, _chunkZRT45YCMJs.a)((e, t)=>new (0, _chunk4XLXKB34Js._)({
        color: e,
        transparent: !0,
        depthTest: !1,
        opacity: t
    }), "makeMeshBasicMaterial"), W9 = (0, _chunkZRT45YCMJs.a)((e)=>{
    let t = new (0, _chunk4XLXKB34Js.za), i = 0;
    for(t.moveTo(e, 0); i <= 2 * Math.PI;)t.lineTo(Math.cos(i) * e, Math.sin(i) * e), i += Math.PI / 16;
    return t;
}, "drawCircle"), tY = (0, _chunkZRT45YCMJs.a)(({ baseColor: e = pv })=>({
        outer: {
            blue: Ga(16777215, 1),
            ghost: Ga(16777215, .5)
        },
        inner: {
            blue: Ga(e, 1),
            grey: Ga(14540253, 1),
            ghost: Ga(e, .5)
        },
        aura: {
            inner: Ga(e, .2),
            outer: Ga(e, .3)
        },
        bearing: {
            blue: Ga(e, .7),
            ghost: Ga(e, .4)
        }
    }), "makeMaterials"), X9 = (0, _chunkZRT45YCMJs.a)((e, t)=>{
    let i = W9(e);
    if (t && t < e) {
        let e = W9(t);
        i.holes = [
            e
        ];
    }
    return new (0, _chunk4XLXKB34Js.Aa)(i, {
        depth: 0,
        bevelEnabled: !1,
        steps: 2
    });
}, "createAnnularGeometry"), v5 = (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
    let n = Math.sqrt(Math.pow(e, 2) + Math.pow(t, 2)) / i;
    return n > 1 ? n = 1 : n < 0 && (n = 0), new (0, _chunk4XLXKB34Js.M)(0, n);
}, "generateRadialUV"), iY = (0, _chunkZRT45YCMJs.a)((e)=>({
        generateTopUV: (t, i, n, r, o)=>{
            let s = i[3 * n], a = i[3 * n + 1], l = i[3 * r], h = i[3 * r + 1], c = i[3 * o], u = i[3 * o + 1];
            return [
                v5(s, a, e),
                v5(l, h, e),
                v5(c, u, e)
            ];
        },
        generateSideWallUV: ()=>[
                new (0, _chunk4XLXKB34Js.M)(0, 1),
                new (0, _chunk4XLXKB34Js.M)(0, 1),
                new (0, _chunk4XLXKB34Js.M)(0, 1),
                new (0, _chunk4XLXKB34Js.M)(0, 1)
            ]
    }), "radialUVGenerator"), nY = (0, _chunkZRT45YCMJs.a)((e, t, i = 0)=>{
    if (Math.abs(e) >= Math.PI) throw new Error("Sector angle too wide!");
    let n = i / Math.tan(e / 2), r = i / Math.sin(e / 2), o = r + t, s = 10, a = new (0, _chunk4XLXKB34Js.za);
    a.moveTo(r * Math.cos(e / 2) - n, r * Math.sin(e / 2));
    for(let t = 0; t < s; t++)a.lineTo(o * Math.cos(e / 2 - e / s * t) - n, o * Math.sin(e / 2 - e / s * t));
    for(let e = 0; e < s; e++)a.lineTo(i * Math.cos(Math.PI / -2 + Math.PI / s * e), i * Math.sin(Math.PI / -2 + Math.PI / s * e));
    return new (0, _chunk4XLXKB34Js.Aa)(a, {
        depth: 1,
        bevelEnabled: !1,
        UVGenerator: iY(t)
    });
}, "createSectorGeometry"), Z9 = (0, _chunkZRT45YCMJs.a)(function(e, t = 0, i = 0, { baseColor: n = pv }) {
    let r, o, s = new (0, _chunk4XLXKB34Js.X), a = new (0, _chunk4XLXKB34Js.X), l = tY({
        baseColor: new (0, _chunk4XLXKB34Js.Y)(n)
    });
    if (l.outer.grey = l.outer.blue, t >= 0) {
        let e = new (0, _chunk4XLXKB34Js.xa)(1, 1, 10, 32), i = l.aura.inner;
        r = new (0, _chunk4XLXKB34Js.ba)(e, i), r.position.set(0, 0, 0), r.rotation.set(Math.PI / 2, 0, 0), r.scale.set(t, 1, t), a.add(r);
    }
    let h = nY(Math.PI / 6, 120, 30), c = l.bearing[e];
    c && (new (0, _chunk4XLXKB34Js.Ga)).load(k9, (e)=>{
        c.colorSpace = (0, _chunk4XLXKB34Js.E), c.alphaMap = e, c.needsUpdate = !0;
    }), o = new (0, _chunk4XLXKB34Js.ba)(h, c), o.rotation.set(0, 0, i), a.add(o);
    let u = X9(30, 22.5), d = X9(22.5), p = new (0, _chunk4XLXKB34Js.ba)(u, l.outer[e]), f = new (0, _chunk4XLXKB34Js.ba)(d, l.inner[e]);
    return s.add(p), s.add(f), a.add(s), [
        a,
        s,
        p,
        f,
        o,
        r
    ].forEach((e)=>{
        e.renderOrder = 999, e.layers.set(Zt.ALWAYS_ON_TOP);
    }), {
        outerObject: a,
        radiusObject: r,
        dotObject: s,
        bearingObject: o
    };
}, "makeBlueDot"), rY = (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
    let n = (t.x - i.x) ** 2 + (t.y - i.y) ** 2, r = 0;
    n && (r = ((e.x - t.x) * (i.x - t.x) + (e.y - t.y) * (i.y - t.y)) / n), r > 1 && (r = 1), r < 0 && (r = 0);
    let o = t.x + r * (i.x - t.x), s = t.y + r * (i.y - t.y);
    return {
        proportion: r,
        distance: Math.sqrt((e.x - o) ** 2 + (e.y - s) ** 2)
    };
}, "distanceToSegment"), y5 = (0, _chunkZRT45YCMJs.a)((e, t)=>null != e ? fv(-e) - t + Math.PI / 2 : null, "getBearing"), fv = (0, _chunkZRT45YCMJs.a)((e)=>e * Math.PI / 180, "degToRadians"), Q9 = (0, _chunkZRT45YCMJs.a)((e, t)=>{
    let i, n, r, o = Number.MAX_SAFE_INTEGER;
    for(let s = 0; s < e.length - 1; s++){
        let a = e[s], l = e[s + 1], h = rY(t, a, l);
        h.distance <= o && (o = h.distance, n = h.proportion, r = s, i = h.proportion > .5 ? l : a);
    }
    return {
        nearestNode: i,
        proportion: n,
        index: r
    };
}, "getNearestPathSegment"), K9 = (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
    let n = [], r = [];
    for(let t = 0; t < e.length - 1; t++){
        let i = e[t], o = e[t + 1], s = o.x - i.x, a = o.y - i.y, l = Math.atan2(s, a);
        n.push(l);
        let h = Math.sqrt(s ** 2 + a ** 2);
        r.push(h);
    }
    let o, s = [];
    for(let t = 0; t < n.length; t++){
        let i = n[t], a = r[t];
        null == o || Math.abs(o - i) > .2 ? (o = i, s.push({
            angle: i,
            distance: a,
            nodes: [
                e[t]
            ]
        })) : (s[s.length - 1].distance += a, s[s.length - 1].nodes.push(e[t]));
    }
    s[s.length - 1].nodes.push(e[e.length - 1]);
    let a = i || 100, h = (0, _chunkZRT45YCMJs.a)(()=>s.filter((e)=>e.distance >= a).length, "validGroups");
    for(; !h();)a /= 2;
    let c = s.find((e)=>e.nodes.indexOf(t) > -1), u = s.indexOf(c);
    for(; u > 0 && s[u].distance < a;)u -= 1;
    return s[u].angle;
}, "getHeadingOnPath"), J9 = (0, _chunkZRT45YCMJs.a)((e, t, i, n, r = .8)=>{
    let o = i * (n ? .05 : 0), s = null != t ? Math.cos(t - Math.PI / 2) * o : 0, a = null != t ? Math.sin(t - Math.PI / 2) * o : 0;
    return {
        position: {
            x: e.x - s,
            y: e.y - a
        },
        rotation: t || void 0,
        zoom: i,
        tilt: r
    };
}, "getCameraLookahead"), rl = (0, _chunkZRT45YCMJs.e)(Vr()), aY = 2e3, sY = 8, oY = 65, lY = 3, uY = {
    duration: 2e3,
    easing: rl.default.Easing.Cubic.Out
};
function mv(e) {
    return "number" == typeof e && !isNaN(e) && e >= 0;
}
(0, _chunkZRT45YCMJs.a)(mv, "isNonNegativeNumber");
var cY = (0, _chunkZRT45YCMJs.a)((e, t, i)=>e < t ? e : e < i ? t : e * t / i, "ledge"), x5 = class extends Gn {
    constructor({ threeDMarkerLayer: e, core: t, minRadius: i = sY, maxRadius: n = oY, radiusUpdateInterval: r = lY, radiusTweenOptions: o = uY }){
        if (super(), this.threeDMarkerLayer = e, this.core = t, !mv(i)) throw new Error("Expecting minRadius parameter to be a valid number >= 0. Provided: ".concat(i));
        if (this.minRadius = i, !mv(n)) throw new Error("Expecting maxRadius parameter to be a valid number >= 0. Provided: ".concat(n));
        if (n < this.minRadius) throw new Error("Expecting maxRadius parameter to be >= minRadius parameter. Provided: ".concat(n, "; minRadius = ").concat(this.minRadius));
        if (this.maxRadius = n, !mv(r)) throw new Error("Expecting radiusUpdateInterval parameter to be a valid number >= 0. Provided: ".concat(r));
        this.radiusUpdateInterval = r, this.radiusTweenOptions = o, this.state = null, this.prevRadius = null, this.radiusTween = null, this.prevBearing = null, this.bearingTween = null, this.currentX = null;
    }
    computeNewRadius(e) {
        if (!mv(e) || e < this.minRadius) return 0;
        if (e >= this.maxRadius) return this.maxRadius;
        if (0 === this.radiusUpdateInterval) return e;
        {
            let t = e - this.minRadius;
            return t - t % this.radiusUpdateInterval + this.minRadius;
        }
    }
    updateBlueDotSize() {
        this.blueDots && this.blueDots.forEach((e)=>{
            let t = this.core.controls.getZoomScaledMin(), i = 3 * t, n = 5 * t, r = cY(this.currentX, i, n) / 2e3;
            e.dotObject.scale.set(r, r, r), e.bearing && e.bearing.scale.set(r, r, r);
        });
    }
    setBlueDotSizeFromZoom(e) {
        this.currentX = e, this.updateBlueDotSize();
    }
    update(e) {
        var t, i, n, r, o, s, a;
        let l = e.mode || this.state.mode, h = e.mapId || e.map && e.map.id || this.core.currentMap;
        null == e.bearing && (this.prevBearing = null), this.positionTween && this.positionTween.stop();
        let c = "OVERVIEW" === this.core.stackedMaps.currentState, u = this.core.currentMap === (null != (null == (i = null == (t = this.core.options) ? void 0 : t.dynamicFocus) ? void 0 : i.baseMap) ? null == (o = null == (r = null == (n = this.core.options) ? void 0 : n.dynamicFocus) ? void 0 : r.baseMap) ? void 0 : o.id : null);
        this.state && (l !== this.state.mode || h !== this.state.targetMap || c !== this.state.isStackedMapsOverview || u !== this.state.isDynamicFocusBaseMap) && this.cleanup();
        let d = this.computeNewRadius(e.radius), p = this.core.mapObjects.get(h);
        if (!this.blueDots) {
            let t = [];
            for (let i of this.core.mapObjects.values()){
                let n = null != p && i === p, r = null != p && p.mapClass.mapGroup.maps.includes(i.mapClass);
                if (n || !c && r) {
                    let n = i.getPositionLatLon(e.coordinates.latitude, e.coordinates.longitude), r = i.id === p.id || u || l !== nl.BLUE ? l : nl.GHOST, o = Z9(r, 0, y5(e.bearing, this.core.venue.maps.find((e)=>e.id === this.core.currentMap).getNorth()), {
                        baseColor: e.baseColor
                    });
                    this.prevRadius = 0;
                    let s = this.threeDMarkerLayer.createThreeJSMarker({
                        object: o.outerObject,
                        mapOrMapId: i,
                        position: n
                    });
                    t.push({
                        handle: s,
                        radius: o.radiusObject,
                        dotObject: o.dotObject,
                        bearing: o.bearingObject
                    });
                }
                this.blueDots = t, this.currentX && this.updateBlueDotSize();
            }
        }
        this.currentPositionLatLon ? (this.positionTween = new rl.default.Tween(this.currentPositionLatLon).to({
            lat: e.coordinates.latitude,
            lon: e.coordinates.longitude
        }, aY).easing(rl.default.Easing.Cubic.Out).onUpdate((e)=>{
            this.currentPositionLatLon = e, this.blueDots.forEach((t)=>{
                let i = t.handle._mapId, n = this.core.mapObjects.get(i), r = n.getPositionLatLon(e.lat, e.lon);
                n.translateChild(t.handle.object, r);
            }), this.core.tryRendering(Re.ALWAYS_ON_TOP);
        }), this.positionTween.start()) : (this.currentPositionLatLon = {
            lat: e.coordinates.latitude,
            lon: e.coordinates.longitude
        }, null == (s = this.blueDots) || s.forEach((t)=>{
            let i = t.handle._mapId, n = this.core.mapObjects.get(i), r = n.getPositionLatLon(e.coordinates.latitude, e.coordinates.longitude);
            n.translateChild(t.handle.object, r);
        })), Math.abs(d - this.prevRadius) >= Number.EPSILON && (null != this.radiusTween && this.radiusTween.stop(), this.radiusTween = new rl.default.Tween({
            value: this.prevRadius
        }).to({
            value: d
        }, this.radiusTweenOptions.duration).easing(this.radiusTweenOptions.easing).onUpdate(({ value: e })=>{
            this.prevRadius = e, null != this.blueDots && this.blueDots.forEach((t)=>{
                if (t.radius) {
                    let i = t.handle._mapId, n = this.core.mapObjects.get(i), r = e * n.getMapScale();
                    t.radius.scale.set(r, 1, r);
                }
            }), this.core.tryRendering(Re.ALWAYS_ON_TOP);
        }).start());
        let f = e.bearing;
        if (null != e.bearing) {
            if (null == this.prevBearing) this.prevBearing = e.bearing, this.setBearing(e.bearing);
            else if (Math.abs(f - this.prevBearing) >= Number.EPSILON) {
                let e = (null != (a = this.prevBearing) ? a : f) % 360, t = f % 360;
                Math.abs(e - t) > 180 && (e > t ? t += 360 : e += 360), this.animateBearing(e, t);
            }
        } else null != this.blueDots && this.blueDots.forEach((e)=>{
            e.bearing && (e.bearing.visible = !1);
        });
        this.state = {
            mode: l,
            targetMap: h,
            isStackedMapsOverview: c,
            isDynamicFocusBaseMap: u
        }, this.core.tryRendering(Re.ALWAYS_ON_TOP);
    }
    animateBearing(e, t) {
        this.bearingTween = new rl.default.Tween({
            value: e
        }).to({
            value: t
        }, 1e3).easing(rl.default.Easing.Cubic.Out).onUpdate(({ value: e })=>{
            this.prevBearing = e, this.setBearing(e), this.core.tryRendering(Re.ALWAYS_ON_TOP);
        }).start();
    }
    setBearing(e) {
        null != this.blueDots && this.blueDots.forEach((t)=>{
            t.bearing && (t.bearing.visible = !0, t.bearing.rotation.set(0, 0, y5(e, this.core.venue.maps.find((e)=>e.id === this.core.currentMap).getNorth())));
        });
    }
    getBlueDotForMap(e) {
        if (!Array.isArray(this.blueDots)) return;
        let t = ("string" == typeof e && e.length > 0 ? e : "object" == typeof e ? e.id : void 0) || this.core.currentMap, i = this.blueDots.filter((e)=>e.handle._mapId === t);
        if (i.length > 0) {
            let e = new (0, _chunk4XLXKB34Js.S), t = new (0, _chunk4XLXKB34Js.S);
            return i[0].dotObject.updateMatrixWorld(), i[0].dotObject.getWorldPosition(e), i[0].dotObject.getWorldScale(t), t.divideScalar(2), t.setZ(0), e.sub(t), i[0].dotObject;
        }
    }
    cleanup() {
        this.blueDots && (this.blueDots.forEach((e)=>{
            e.handle._object.children.forEach((e)=>{
                e.geometry ? e.geometry.dispose() : e.children.forEach((e)=>{
                    e.geometry.dispose();
                });
            }), this.threeDMarkerLayer.removeThreeJSMarker(e.handle);
        }), delete this.blueDots), this.state = null, null != this.positionTween && this.positionTween.stop(), null != this.radiusTween && this.radiusTween.stop();
    }
};
(0, _chunkZRT45YCMJs.a)(x5, "BlueDotManager");
var b5 = x5, t5 = b5;
(0, _chunkA5C75TI6Js.a)();
var Wr, ja, al, M5 = class extends zi {
    constructor(e){
        super(), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "currentAnimation"), (0, _chunkZRT45YCMJs.h)(this, Wr, void 0), (0, _chunkZRT45YCMJs.h)(this, ja, void 0), (0, _chunkZRT45YCMJs.h)(this, al, void 0), (0, _chunkZRT45YCMJs.f)(this, "interactions", {
            set: (e)=>{
                null != (null == e ? void 0 : e.pan) && (this.core.controls.enablePan = e.pan), null != (null == e ? void 0 : e.zoom) && (this.core.controls.enableZoom = e.zoom), null != (null == e ? void 0 : e.rotationAndTilt) && (this.core.controls.enableRotate = e.rotationAndTilt);
            },
            enable: ()=>{
                this.core.controls.enablePan = !0, this.core.controls.enableZoom = !0, this.core.controls.enableRotate = !0;
            },
            disable: ()=>{
                this.core.controls.enablePan = !1, this.core.controls.enableZoom = !1, this.core.controls.enableRotate = !1;
            }
        }), this.core = e, (0, _chunkZRT45YCMJs.i)(this, al, !1);
        let t = mn(()=>{
            this._subscribers.CHANGED && this.publish("CHANGED", {
                tilt: this.tilt,
                zoom: this.zoom,
                rotation: this.rotation,
                position: this.position
            });
        }, 0, !0);
        this.core.controls.dispatcher.addEventListener("positionUpdated", ()=>{
            this._subscribers.POSITION_CHANGED && this.publish("POSITION_CHANGED", this.position), t();
        }), this.core.controls.dispatcher.addEventListener("zoomUpdated", ()=>{
            this._subscribers.ZOOM_CHANGED && this.publish("ZOOM_CHANGED", this.zoom), t();
        }), this.core.controls.dispatcher.addEventListener("rotationUpdated", ()=>{
            this._subscribers.ROTATION_CHANGED && this.publish("ROTATION_CHANGED", this.rotation), t();
        }), this.core.controls.dispatcher.addEventListener("tiltUpdated", ()=>{
            this._subscribers.TILT_CHANGED && this.publish("TILT_CHANGED", this.tilt), t();
        });
        let i = (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.g)(this, al) || (this.publish("USER_INTERACTION_START", void 0), this.core.publish(33, void 0), (0, _chunkZRT45YCMJs.i)(this, al, !0));
        }, "publishVoidEventStart"), n = (0, _chunkZRT45YCMJs.a)(()=>{
            this.publish("USER_INTERACTION_END", void 0), this.core.publish(34, void 0), (0, _chunkZRT45YCMJs.i)(this, al, !1);
        }, "publishVoidEventEnd");
        this.core.controls.dispatcher.addEventListener("userPanStart", i), this.core.controls.dispatcher.addEventListener("userZoomStart", i), this.core.controls.dispatcher.addEventListener("userRotateStart", i), this.core.controls.dispatcher.addEventListener("userTiltStart", i), this.core.controls.dispatcher.addEventListener("userPedestalStart", i), this.core.controls.dispatcher.addEventListener("userDollyStart", i), this.core.controls.dispatcher.addEventListener("userPanEnd", n), this.core.controls.dispatcher.addEventListener("userPedestalEnd", n), this.core.controls.dispatcher.addEventListener("userZoomEnd", n), this.core.controls.dispatcher.addEventListener("userRotateEnd", n), this.core.controls.dispatcher.addEventListener("userDollyEnd", n), this.core.controls.dispatcher.addEventListener("userTiltEnd", n);
    }
    get zoom() {
        return this.core.controls.getZoom();
    }
    get rotation() {
        return this.core.controls.getRotation();
    }
    get tilt() {
        return this.core.controls.getTilt();
    }
    get minZoom() {
        return this.core.controls.minZoom;
    }
    set minZoom(e) {
        this.core.controls.minZoom = e;
    }
    get maxZoom() {
        return this.core.controls.maxZoom;
    }
    set maxZoom(e) {
        this.core.controls.maxZoom = e;
    }
    get maxTilt() {
        return this.core.controls.maxTilt;
    }
    set maxTilt(e) {
        this.core.controls.maxTilt = Math.max(0, Math.min(e, Kp));
    }
    get position() {
        let e = this.core.controls.getPosition();
        return this.core.convert3DMapPositionToCoordinate(e);
    }
    setSafeAreaInsets(e) {
        this.core.setPadding(e);
    }
    convertZoomLevelToAltitude(e) {
        return this.core.controls.convertZoomToAltitude(e);
    }
    convertAltitudeToZoomLevel(e) {
        return this.core.controls.convertAltitudeToZoomLevel(e);
    }
    getSafeAreaInsets() {
        return this.core.cachedPadding;
    }
    focusOn(e, t) {
        var i, n;
        if ("OVERVIEW" === this.core.stackedMaps.currentState) return Promise.reject(new Error("Cannot focus on a map when in overview mode"));
        let r = this.core.currentMap, o = null == (n = null == (i = e.coordinates) ? void 0 : i.filter((e)=>e.map.id === r)) ? void 0 : n.map((e)=>this.core.convertTo3DMapPosition({
                x: e.x,
                y: e.y
            })), s = new Promise((e, t)=>{
            (0, _chunkZRT45YCMJs.i)(this, Wr, e), (0, _chunkZRT45YCMJs.i)(this, ja, t);
        });
        return this.core.focusOn({
            changeZoom: null == t ? void 0 : t.changeZoom,
            duration: null == t ? void 0 : t.duration,
            focusZoomFactor: 1,
            curve: (null == t ? void 0 : t.easing) && fn[t.easing],
            minZoom: null == t ? void 0 : t.minZoom,
            maxZoom: null == t ? void 0 : t.maxZoom,
            updateZoomLimits: null == t ? void 0 : t.updateZoomLimits,
            nodes: e.nodes,
            points: o,
            polygons: e.polygons,
            padding: null == t ? void 0 : t.safeAreaInsets,
            tilt: null == t ? void 0 : t.tilt,
            rotation: null == t ? void 0 : t.rotation,
            callback: ()=>{
                this.currentAnimation = void 0, (0, _chunkZRT45YCMJs.g)(this, Wr).call(this), (0, _chunkZRT45YCMJs.i)(this, Wr, void 0), (0, _chunkZRT45YCMJs.i)(this, ja, void 0);
            }
        }), this.currentAnimation = s, s;
    }
    set(e) {
        if (!e) return;
        if ("OVERVIEW" === this.core.stackedMaps.currentState) throw new Error("Cannot set camera on a map when in overview mode");
        let t, { zoom: i, rotation: n, tilt: r, position: o } = e;
        o && (t = this.core.convertTo3DMapPosition(o)), this.core.controls.setMulti(t || this.core.controls.getPosition(), i, n, r);
    }
    animate(e, t) {
        if ("OVERVIEW" === this.core.stackedMaps.currentState) return Promise.reject(new Error("Cannot animate on a map when in overview mode"));
        let i;
        e.position && (i = this.core.convertTo3DMapPosition(e.position));
        let n = {
            position: i,
            zoom: e.zoom,
            tilt: e.tilt,
            rotation: e.rotation
        }, r = new Promise((e, t)=>{
            (0, _chunkZRT45YCMJs.i)(this, Wr, e), (0, _chunkZRT45YCMJs.i)(this, ja, t);
        });
        return this.core.controls.animateCamera(n, null == t ? void 0 : t.duration, (null == t ? void 0 : t.easing) && fn[t.easing], ()=>{
            this.currentAnimation = void 0, (0, _chunkZRT45YCMJs.g)(this, Wr).call(this), (0, _chunkZRT45YCMJs.i)(this, Wr, void 0), (0, _chunkZRT45YCMJs.i)(this, ja, void 0);
        }), this.currentAnimation = r, r;
    }
    async translate(e, t, i) {
        if ("OVERVIEW" === this.core.stackedMaps.currentState) return Promise.reject(new Error("Cannot translate a map when in overview mode"));
        if (!e || !t || null == this.core.currentMap) return;
        let n = this.core.mapObjects.get(this.core.currentMap).mapClass, r = this.rotation, o = r + fv(90), s = r - fv(90), a = r + Math.PI, l = r, h = this.position, { x: c, y: u } = this.position, d = o1(n);
        if (1 === d) {
            c += t * Math.cos(o), u -= t * Math.sin(o);
            let e = this.core.convertTo3DMapPosition(n.createCoordinateByXY(c, u)), i = this.core.convert3DMapPositionToCoordinate(e);
            d = t / h.absoluteDistanceTo(i);
        }
        let p = t * d;
        switch(e){
            case "up":
                c += p * Math.cos(o), u -= p * Math.sin(o);
                break;
            case "down":
                c += p * Math.cos(s), u -= p * Math.sin(s);
                break;
            case "left":
                c += p * Math.cos(a), u -= p * Math.sin(a);
                break;
            case "right":
                c += p * Math.cos(l), u -= p * Math.sin(l);
        }
        return 0 !== this.tilt && t && await this.animate({
            tilt: 0
        }, i), this.animate({
            position: n.createCoordinateByXY(c, u)
        }, i);
    }
    cancelAnimation() {
        this.currentAnimation && (this.core.controls.cancelAnimation(), (0, _chunkZRT45YCMJs.g)(this, ja).call(this), this.currentAnimation = void 0, (0, _chunkZRT45YCMJs.i)(this, Wr, void 0), (0, _chunkZRT45YCMJs.i)(this, ja, void 0));
    }
};
Wr = new WeakMap, ja = new WeakMap, al = new WeakMap, (0, _chunkZRT45YCMJs.a)(M5, "CameraController");
var T5 = M5, E5 = T5;
(0, _chunkA5C75TI6Js.a)();
var C5 = (0, _chunkZRT45YCMJs.e)(Q3());
(0, _chunkA5C75TI6Js.a)();
var Et, Xr, sl, Qi, vv, yv, bv, iI, xv, nI, Tv, Ev, rI, Zu, gv, Qu, $9 = "uniform vec4 uSize;\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  // Scale the position by the size of the quad\n  // and shift to top left corner for 0,0\n	vec2 transformed = position.xy * uSize.xy - vec2(1.0, -1.0);\n  // Apply width .x and height .y of image\n  transformed += vec2(uSize.x, -uSize.y);\n  // Apply left .w and top .z offset\n  transformed += vec2(uSize.w, -uSize.z) * 2.0;\n  gl_Position = vec4(transformed, 1.0, 1.0);\n}", eI = "varying vec2 vUv;\nuniform sampler2D uTexture;\nuniform float uOpacity;\nvoid main() {\n  #ifndef debug\n  vec4 texture = texture2D(uTexture, vUv);\n  gl_FragColor = vec4(texture.rgb, texture.a * uOpacity);\n  #else\n  gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  #endif\n}", tI = !1, pY = 75, fY = 150, mY = 15, gY = 25, gn = class e {
    constructor(t){
        (0, _chunkZRT45YCMJs.h)(this, bv), (0, _chunkZRT45YCMJs.h)(this, xv), (0, _chunkZRT45YCMJs.h)(this, Ev), (0, _chunkZRT45YCMJs.h)(this, Zu), (0, _chunkZRT45YCMJs.h)(this, Et, void 0), (0, _chunkZRT45YCMJs.h)(this, Xr, new (0, _chunk4XLXKB34Js.ba)), (0, _chunkZRT45YCMJs.h)(this, sl, null), (0, _chunkZRT45YCMJs.h)(this, Qi, null), (0, _chunkZRT45YCMJs.f)(this, "position", {
            x: 0,
            y: 0,
            width: 0,
            height: 0
        }), (0, _chunkZRT45YCMJs.h)(this, vv, (0, _chunkZRT45YCMJs.a)(()=>{
            var t, i, n, r;
            let o = e.OPTIONS.padding;
            if ("number" == typeof o) return ({
                "top-left": {
                    x: o,
                    y: o
                },
                "top-right": {
                    x: -o,
                    y: o
                },
                "bottom-left": {
                    x: o,
                    y: -o
                },
                "bottom-right": {
                    x: -o,
                    y: -o
                },
                center: {
                    x: 0,
                    y: 0
                },
                top: {
                    x: 0,
                    y: o
                },
                bottom: {
                    x: 0,
                    y: -o
                },
                left: {
                    x: o,
                    y: 0
                },
                right: {
                    x: -o,
                    y: 0
                }
            })[e.OPTIONS.position];
            let s = null != (t = o.top) ? t : 0, a = null != (i = o.right) ? i : 0, l = null != (n = o.bottom) ? n : 0;
            return {
                x: (null != (r = o.left) ? r : 0) - a,
                y: s - l
            };
        }, "#getPositionAlignedPadding")), (0, _chunkZRT45YCMJs.h)(this, yv, (0, _chunkZRT45YCMJs.a)((t = e.OPTIONS.position)=>({
                "top-left": {
                    x: 0,
                    y: 0
                },
                "top-right": {
                    x: (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth,
                    y: 0
                },
                "bottom-left": {
                    x: 0,
                    y: (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight
                },
                "bottom-right": {
                    x: (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth,
                    y: (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight
                },
                center: {
                    x: (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth / 2,
                    y: (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight / 2
                },
                top: {
                    x: (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth / 2,
                    y: 0
                },
                bottom: {
                    x: (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth / 2,
                    y: (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight
                },
                left: {
                    x: 0,
                    y: (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight / 2
                },
                right: {
                    x: (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth,
                    y: (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight / 2
                }
            })[t], "#getPositionAlignedCanvasCoordinates")), (0, _chunkZRT45YCMJs.h)(this, Tv, (0, _chunkZRT45YCMJs.a)(()=>{
            let t = e.OPTIONS.iconOnly ? "logo-icon-slate" : "logo";
            (new (0, _chunk4XLXKB34Js.Ga)).load(Ua.get(t), (e)=>{
                e.colorSpace = (0, _chunk4XLXKB34Js.E), (0, _chunkZRT45YCMJs.i)(this, sl, e);
                let t = new (0, _chunk4XLXKB34Js.ha)(2, 2, 1, 1);
                (0, _chunkZRT45YCMJs.i)(this, Qi, new (0, _chunk4XLXKB34Js.da)({
                    uniforms: {
                        uTexture: {
                            value: e
                        },
                        uSize: {
                            value: new (0, _chunk4XLXKB34Js.P)(0, 0, 0, 0)
                        },
                        uOpacity: {
                            value: .6
                        }
                    },
                    vertexShader: $9,
                    fragmentShader: eI,
                    depthWrite: !1,
                    defines: {
                        debug: tI
                    },
                    wireframe: tI,
                    transparent: !0
                })), (0, _chunkZRT45YCMJs.i)(this, Xr, new (0, _chunk4XLXKB34Js.ba)(t, (0, _chunkZRT45YCMJs.g)(this, Qi))), (0, _chunkZRT45YCMJs.g)(this, Xr).position.set(0, 0, -1), (0, _chunkZRT45YCMJs.g)(this, Xr).frustumCulled = !1, (0, _chunkZRT45YCMJs.g)(this, Xr).renderOrder = 999, (0, _chunkZRT45YCMJs.g)(this, Xr).layers.set(Zt.ALWAYS_ON_TOP), (0, _chunkZRT45YCMJs.g)(this, Et).cameraObject.add((0, _chunkZRT45YCMJs.g)(this, Xr)), (0, _chunkZRT45YCMJs.g)(this, Qu).call(this);
            });
        }, "#renderWatermark")), (0, _chunkZRT45YCMJs.h)(this, Qu, (0, _chunkZRT45YCMJs.a)(()=>{
            if (null == (0, _chunkZRT45YCMJs.g)(this, sl)) return;
            let t = e.OPTIONS.scale, i = (0, _chunkZRT45YCMJs.g)(this, sl).image.width / (0, _chunkZRT45YCMJs.g)(this, sl).image.height, n = e.OPTIONS.iconOnly ? mY : pY, r = e.OPTIONS.iconOnly ? gY : fY, o = (0, _chunkZRT45YCMJs.k)(this, Zu, gv).call(this, r * t, n, (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth, "width"), s = o / i, a = (0, _chunkZRT45YCMJs.g)(this, yv).call(this), l = (0, _chunkZRT45YCMJs.g)(this, vv).call(this), c = (0, _chunkZRT45YCMJs.k)(this, Ev, rI).call(this, o, s), u = (0, _chunkZRT45YCMJs.k)(this, Zu, gv).call(this, a.x + l.x + c.x, 0, Math.floor((0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth - o), "x"), d = (0, _chunkZRT45YCMJs.k)(this, Zu, gv).call(this, a.y + l.y + c.y, 0, Math.floor((0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight - s), "y");
            (0, _chunkZRT45YCMJs.k)(this, bv, iI).call(this, o / (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth, s / (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight), (0, _chunkZRT45YCMJs.k)(this, xv, nI).call(this, u / (0, _chunkZRT45YCMJs.g)(this, Et).canvasWidth, d / (0, _chunkZRT45YCMJs.g)(this, Et).canvasHeight), this.position = {
                x: u,
                y: d,
                width: o,
                height: s
            }, (0, _chunkZRT45YCMJs.g)(this, Et).tryRendering(Re.ALWAYS_ON_TOP);
        }, "#updateWatermark")), (0, _chunkZRT45YCMJs.f)(this, "show", (0, _chunkZRT45YCMJs.a)(()=>{
            null == (0, _chunkZRT45YCMJs.g)(this, Qi) || null == (0, _chunkZRT45YCMJs.g)(this, Xr) ? (0, _chunkZRT45YCMJs.g)(this, Tv).call(this) : ((0, _chunkZRT45YCMJs.g)(this, Qi).visible = !0, (0, _chunkZRT45YCMJs.g)(this, Qu).call(this));
        }, "show")), (0, _chunkZRT45YCMJs.f)(this, "hide", (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.g)(this, Qi) && ((0, _chunkZRT45YCMJs.g)(this, Qi).visible = !1), (0, _chunkZRT45YCMJs.g)(this, Et).tryRendering(Re.ALWAYS_ON_TOP);
        }, "hide")), (0, _chunkZRT45YCMJs.f)(this, "resize", (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.g)(this, Qu).call(this);
        }, "resize")), (0, _chunkZRT45YCMJs.i)(this, Et, t), e.ENABLED && this.show();
    }
};
Et = new WeakMap, Xr = new WeakMap, sl = new WeakMap, Qi = new WeakMap, vv = new WeakMap, yv = new WeakMap, bv = new WeakSet, iI = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    (0, _chunkZRT45YCMJs.g)(this, Qi) && ((0, _chunkZRT45YCMJs.g)(this, Qi).uniforms.uSize.value.x = e, (0, _chunkZRT45YCMJs.g)(this, Qi).uniforms.uSize.value.y = t);
}, "#setSize"), xv = new WeakSet, nI = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    (0, _chunkZRT45YCMJs.g)(this, Qi) && ((0, _chunkZRT45YCMJs.g)(this, Qi).uniforms.uSize.value.w = e, (0, _chunkZRT45YCMJs.g)(this, Qi).uniforms.uSize.value.z = t);
}, "#setXY"), Tv = new WeakMap, Ev = new WeakSet, rI = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    return ({
        "top-left": {
            x: 0,
            y: 0
        },
        "top-right": {
            x: -e,
            y: 0
        },
        "bottom-left": {
            x: 0,
            y: -t
        },
        "bottom-right": {
            x: -e,
            y: -t
        },
        center: {
            x: -e / 2,
            y: -t / 2
        },
        top: {
            x: -e / 2,
            y: 0
        },
        bottom: {
            x: -e / 2,
            y: -t
        },
        left: {
            x: 0,
            y: -t / 2
        },
        right: {
            x: -e,
            y: -t / 2
        }
    })[gn.OPTIONS.position];
}, "#getPositionAlignedOffset"), Zu = new WeakSet, gv = (0, _chunkZRT45YCMJs.a)(function(e, t, i, n) {
    return t >= i ? (R.warn("Watermark ".concat(n, " does not fit within given space.")), t) : e < t || e > i ? (R.warn("Watermark ".concat(n, " must be between ").concat(t, " and ").concat(i, ".")), (0, _chunk4XLXKB34Js.L).clamp(e, t, i)) : e;
}, "#clampWithWarning"), Qu = new WeakMap, (0, _chunkZRT45YCMJs.a)(gn, "WatermarkController"), (0, _chunkZRT45YCMJs.f)(gn, "ENABLED", !1), (0, _chunkZRT45YCMJs.f)(gn, "OPTIONS", {
    padding: 16,
    scale: 1,
    iconOnly: !1,
    position: "bottom-left",
    onClick: ()=>{
        null != window && window.open("https://www.mappedin.com");
    }
});
var Ku, w5 = gn, mr = w5, vY = 300, yY = 30, bY = 1.5, aI = 250, sI = 300, xY = 50, fi = [];
function A5() {
    fi = [], Ku && (clearTimeout(Ku), Ku = null);
}
(0, _chunkZRT45YCMJs.a)(A5, "flushTapEvents");
var O5 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "type", "SINGLE"), (0, _chunkZRT45YCMJs.f)(this, "event"), (0, _chunkZRT45YCMJs.f)(this, "timestamp"), this.event = e, this.timestamp = performance.now();
    }
};
(0, _chunkZRT45YCMJs.a)(O5, "Tap");
var P5 = O5;
function S5(e) {
    let { position: { nodeOrCoordinate: t } } = e, i = {
        id: e.id
    };
    return t instanceof di ? i.node = t : t instanceof dn && (i.coordinate = t), i;
}
function TY(e) {
    let t = S5(e);
    return delete t.coordinate, {
        text: e.options.text,
        ...t
    };
}
function EY(e) {
    return e.reduce((e, t)=>(t instanceof Yi ? e.labels.push(TY(t)) : t instanceof Ns ? e.markers.push(S5(t)) : t instanceof Qo && e.tooltips.push(S5(t)), e), {
        labels: [],
        markers: [],
        tooltips: []
    });
}
(0, _chunkZRT45YCMJs.a)(S5, "getClickEventPayloadFromCollider"), (0, _chunkZRT45YCMJs.a)(TY, "getClickEventPayloadFromFloatingLabels"), (0, _chunkZRT45YCMJs.a)(EY, "categorizeColliders");
var D5 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "blueDotManager"), (0, _chunkZRT45YCMJs.f)(this, "rendererDomElement"), (0, _chunkZRT45YCMJs.f)(this, "currentHover", null), (0, _chunkZRT45YCMJs.f)(this, "hoverLabel"), (0, _chunkZRT45YCMJs.f)(this, "hoverColor", new (0, _chunk4XLXKB34Js.Y)("#cccccc")), (0, _chunkZRT45YCMJs.f)(this, "options", {
            disableHover: !1
        }), (0, _chunkZRT45YCMJs.f)(this, "setBlueDotManager", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.blueDotManager = e;
        }, "setBlueDotManager")), (0, _chunkZRT45YCMJs.f)(this, "touchCount", 0), (0, _chunkZRT45YCMJs.f)(this, "onPointerMove", (0, _chunkZRT45YCMJs.a)((e)=>{
            e.preventDefault(), !this.core.controls.isUserInteracting() && (this.calculateMouseCoordinates(e), ("touch" !== e.pointerType || null == e.pointerType && this.hasTouched) && (this.doHoverEffect(e), this.hoverLabel.setPosition(this.cursorPos.x, this.cursorPos.y)));
        }, "onPointerMove")), (0, _chunkZRT45YCMJs.f)(this, "onPointerUp", (0, _chunkZRT45YCMJs.a)((e)=>{
            if ("touch" === e.pointerType && (fi = fi.filter((e)=>performance.now() - e.timestamp < sI)), "grabbing" === this.rendererDomElement.style.cursor && (this.rendererDomElement.style.cursor = "grab"), this.touchCount && this.decrementTouches(e), e.target.parentNode != this.core.container) return;
            let t = Math.sqrt(Math.pow(e.clientX - this.mouseDownStart.clientX, 2) + Math.pow(e.clientY - this.mouseDownStart.clientY, 2));
            Date.now() < this.mouseDownStart.time + vY && t <= yY ? "touch" === e.pointerType ? 1 === fi.length && "TWO_FINGER" === fi[0].type && this.core.controls.enableZoom ? (this.zoomOut(), A5()) : 1 !== fi.length || "SINGLE" !== fi[0].type || this.touchCount ? 2 === fi.length && "SINGLE" === fi[0].type && "SINGLE" === fi[1].type && this.core.controls.enableZoom && (this.zoomIn(fi[1].event), A5()) : (null != Ku && clearTimeout(Ku), Ku = setTimeout(()=>{
                this.handleMapClick(fi[0].event), A5();
            }, sI)) : this.handleMapClick(e) : this.touchCount || (this.core.publish(this.core.currentInteractionEvent), this.core.currentInteractionEvent = void 0);
        }, "onPointerUp")), (0, _chunkZRT45YCMJs.f)(this, "onPointerDown", (0, _chunkZRT45YCMJs.a)((e)=>{
            if ("pointer" !== this.rendererDomElement.style.cursor && (this.rendererDomElement.style.cursor = "grabbing"), this.mouseDownStart = {
                time: Date.now(),
                clientX: e.clientX,
                clientY: e.clientY
            }, this.incrementTouches(e), "touch" === e.pointerType) {
                let t = new P5(e);
                fi.length >= 1 && t.timestamp - fi[fi.length - 1].timestamp < xY ? fi[fi.length - 1].type = "TWO_FINGER" : fi.push(t);
            }
        }, "onPointerDown")), (0, _chunkZRT45YCMJs.f)(this, "incrementTouches", (0, _chunkZRT45YCMJs.a)((e)=>{
            window.PointerEvent && "touch" === e.pointerType && (this.touchCount = (this.touchCount || 0) + 1, 1 === this.touchCount && this.core.publish(27));
        }, "incrementTouches")), (0, _chunkZRT45YCMJs.f)(this, "decrementTouches", (0, _chunkZRT45YCMJs.a)((e)=>{
            window.PointerEvent && "touch" === e.pointerType && (this.touchCount--, this.touchCount || this.core.publish(28));
        }, "decrementTouches")), (0, _chunkZRT45YCMJs.f)(this, "clearMouse", (0, _chunkZRT45YCMJs.a)(()=>{
            this.mouse.x = 1 / 0, this.mouse.y = 1 / 0;
        }, "clearMouse")), (0, _chunkZRT45YCMJs.f)(this, "getMousePos", (0, _chunkZRT45YCMJs.a)((e)=>({
                x: e.offsetX,
                y: e.offsetY
            }), "getMousePos")), (0, _chunkZRT45YCMJs.f)(this, "getScaledMousePos", (0, _chunkZRT45YCMJs.a)((e)=>({
                x: e.offsetX * devicePixelRatio,
                y: e.offsetY * devicePixelRatio
            }), "getScaledMousePos")), (0, _chunkZRT45YCMJs.f)(this, "cursorPos", {
            x: 0,
            y: 0
        }), (0, _chunkZRT45YCMJs.f)(this, "mouse", {
            x: 0,
            y: 0
        }), (0, _chunkZRT45YCMJs.f)(this, "mouseDownStart", {
            time: 0,
            clientX: 0,
            clientY: 0
        }), (0, _chunkZRT45YCMJs.f)(this, "scaledCursorPos", {
            x: 0,
            y: 0
        }), (0, _chunkZRT45YCMJs.f)(this, "hasTouched", !1), (0, _chunkZRT45YCMJs.f)(this, "calculateMouseCoordinates", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.cursorPos = this.getMousePos(e), this.scaledCursorPos = this.getScaledMousePos(e), this.mouse.x = this.cursorPos.x / this.core.canvasWidth * 2 - 1, this.mouse.y = -this.cursorPos.y / this.core.canvasHeight * 2 + 1;
        }, "calculateMouseCoordinates")), (0, _chunkZRT45YCMJs.f)(this, "getMouseRayIntersects", (0, _chunkZRT45YCMJs.a)((e)=>(wi.setFromCamera(this.mouse, this.core.cameraObject), Array.isArray(e) ? wi.intersectObjects(e, !0) : wi.intersectObject(e, !0)), "getMouseRayIntersects")), (0, _chunkZRT45YCMJs.f)(this, "detectCollidersUnderMouse", (0, _chunkZRT45YCMJs.a)(()=>{
            let { interactiveCollidersQTree: e } = this.core.smartCollisionEngine;
            if (null != e) {
                let { x: t, y: i } = this.scaledCursorPos, n = [
                    t,
                    i
                ];
                return e.queryPoint(n).filter((e)=>e.intersectsPoint(n)).map((e)=>e.userData.collider);
            }
            return [];
        }, "detectCollidersUnderMouse")), (0, _chunkZRT45YCMJs.f)(this, "detectPolygonsUnderMouse", (0, _chunkZRT45YCMJs.a)(()=>{
            let e = this.core.visibleMapObjectsInCurrentScene.flatMap((e)=>e.hoverableMeshChildren), t = this.getMouseRayIntersects(e).map(function(e) {
                return e.object.name;
            });
            (0, C5.default)(t);
            let i = [];
            for(let e = 0, n = t.length; e < n; ++e){
                let n = t[e];
                n && this.core.interactivePolygons[n] && i.push(n);
            }
            return i;
        }, "detectPolygonsUnderMouse")), (0, _chunkZRT45YCMJs.f)(this, "detectPathsUnderMouse", (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            wi.setFromCamera(this.mouse, this.core.cameraObject), wi.layers.set(Zt.ANIMATED);
            let t = [];
            this.core.paths.pathsById.forEach(({ internalPath: e })=>{
                e.options.interactive && e.pathSegments.forEach((e)=>{
                    let i = e.object;
                    t.push(i);
                });
            });
            let i = null != (e = wi.intersectObjects(t)) ? e : [];
            wi.layers.set(Zt.STATIC);
            let n = new Map;
            return i.reduce((e, t)=>{
                var i;
                return n.has(t.object.uuid) || e.push(null == (i = this.core.paths.pathsByMeshId.get(t.object.uuid)) ? void 0 : i.path), n.set(t.object.uuid, !0), e;
            }, []);
        }, "detectPathsUnderMouse")), (0, _chunkZRT45YCMJs.f)(this, "detectWatermarkUnderMouse", (0, _chunkZRT45YCMJs.a)((e)=>{
            if (!mr.ENABLED || !this.core.watermark.position || !e) return !1;
            let t = e.offsetX, i = e.offsetY, n = this.core.watermark.position;
            return t >= n.x && t <= n.x + n.width && i >= n.y && i <= n.y + n.height;
        }, "detectWatermarkUnderMouse")), (0, _chunkZRT45YCMJs.f)(this, "detectMapsUnderMouse", (0, _chunkZRT45YCMJs.a)(()=>{
            wi.setFromCamera(this.mouse, this.core.cameraObject);
            let e = Array.from(this.core.mapObjects.values()).filter((e)=>{
                var t, i;
                return (null == (i = null == (t = this.core.options) ? void 0 : t.dynamicFocus) ? void 0 : i.baseMap) === e.mapClass || e.visible;
            }).map((e)=>e.object), t = wi.intersectObjects(e, !0).map(function(e) {
                var t;
                return (null == (t = e.object) ? void 0 : t.parent).name;
            }).filter((e)=>e);
            return (0, C5.default)(t), t.map((e)=>this.core.venue.getCollectionItemById("maps", e));
        }, "detectMapsUnderMouse")), (0, _chunkZRT45YCMJs.f)(this, "getMouseMapPosition", (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            let t = this.core.visibleMapObjectsInCurrentScene.map((e)=>e.object), i = this.getMouseRayIntersects([
                ...t,
                this.core.worldPlane
            ]);
            if (i.length > 0) {
                let t = i[0], n = null != (e = this.core.mapObjects.get(t.object.userData.mapId)) ? e : this.core.mapObjects.get(this.core.currentMap), r = t.point.applyMatrix4((new (0, _chunk4XLXKB34Js.V)).copy(n.object.matrix).invert());
                return {
                    x: r.x + n.mapClass.width / 2,
                    y: -r.y + n.mapClass.height / 2
                };
            }
            return {
                x: NaN,
                y: NaN
            };
        }, "getMouseMapPosition")), (0, _chunkZRT45YCMJs.f)(this, "checkMouseIntersectsBlueDot", (0, _chunkZRT45YCMJs.a)(()=>{
            if (!this.blueDotManager) return !1;
            let e = this.blueDotManager.getBlueDotForMap(this.core.venue.maps.find((e)=>e.id === this.core.currentMap));
            if (e) {
                let t = new (0, _chunk4XLXKB34Js.S), i = new (0, _chunk4XLXKB34Js.S);
                e.updateMatrixWorld(), e.getWorldPosition(t), e.getWorldScale(i), i.divideScalar(2), i.setZ(0), t.sub(i);
                let n = this.core.canvasWidth / 2, r = this.core.canvasHeight / 2;
                this.core.cameraObject.updateProjectionMatrix(), this.core.cameraObject.updateMatrixWorld(!0), t.project(this.core.cameraObject);
                let o = {
                    x: t.x * n + n,
                    y: -t.y * r + r
                }, s = Math.pow(this.cursorPos.x - o.x, 2), a = Math.pow(this.cursorPos.y - o.y, 2);
                return Math.sqrt(s + a) <= 23;
            }
            return !1;
        }, "checkMouseIntersectsBlueDot")), (0, _chunkZRT45YCMJs.f)(this, "doHoverEffect", (0, _chunkZRT45YCMJs.a)((e)=>{
            if (this.options.disableHover) return;
            let t = this.detectPolygonsUnderMouse(), i = this.detectCollidersUnderMouse(), n = this.detectPathsUnderMouse(), r = this.detectWatermarkUnderMouse(e), o = !1;
            for(let e = 0, i = t.length; e < i; ++e){
                let i = t[e];
                if (this.core.interactivePolygons[i]) {
                    if (i != this.currentHover) {
                        this.currentHover && (this.onPolygonHoverOut(this.currentHover), this.currentHover = null), this.currentHover = i, this.onPolygonHoverOver(i);
                        let e = this.core.textLabelsByPolygonId[ut(i)];
                        e && e.showHoverLabel ? this.hoverLabel.show(e) : this.hoverLabel.hide();
                    }
                    o = !0;
                    break;
                }
            }
            o || (this.currentHover && (this.onPolygonHoverOut(this.currentHover), this.currentHover = null), this.hoverLabel.hide()), o || i.length > 0 || n.length > 0 || r ? this.rendererDomElement.style.cursor = "pointer" : this.rendererDomElement.style.cursor = "grab";
        }, "doHoverEffect")), (0, _chunkZRT45YCMJs.f)(this, "onPolygonHoverOut", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t, i, n;
            let r = this.core.polygonMeshesById[e], o = this.core.venue.getCollectionItemById("polygons", e);
            if (!r) return;
            let s = this.core.textLabelsByPolygonId[e];
            s && s.setColor(s.baseColor);
            let a = this.core.highlightedPolygons[e], l = a || (null == (t = r._MIOriginalMaterial) ? void 0 : t.color.getHex()) || (null == (n = null == (i = r._MIOriginalMaterial) ? void 0 : i[0]) ? void 0 : n.color.getHex());
            return this.core.polygonColors.setPolygonColor(o, l, {
                highlighted: !1,
                visible: !!a
            }), !1;
        }, "onPolygonHoverOut")), (0, _chunkZRT45YCMJs.f)(this, "onPolygonHoverOver", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            let i = ut(e), n = this.core.polygonMeshesById[i], r = this.core.textLabelsByPolygonId[i];
            if (!n) return;
            let o = null != (t = this.core.polygonHoverColorsById[i]) ? t : this.hoverColor;
            return this.core.polygonColors.setPolygonColor(e, "#".concat(o.getHexString()), {
                highlighted: !1
            }), r && (r.setColor(r.hoverColor), this.core.tryRendering()), !1;
        }, "onPolygonHoverOver")), (0, _chunkZRT45YCMJs.f)(this, "setHoverColor", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.hoverColor = new (0, _chunk4XLXKB34Js.Y)(e);
        }, "setHoverColor")), this.core = e;
        let t = this.core.renderer.domElement();
        this.core.container.style.touchAction = "auto", this.rendererDomElement = t, this.hoverLabel = new Gr(this.core.container), this.core.on(15, this.clearMouse), this.core.on(9, ()=>{
            this.currentHover && (this.onPolygonHoverOut(this.currentHover), this.currentHover = null), this.hoverLabel.hovering && this.hoverLabel.hide();
        }), t.addEventListener("pointerdown", this.onPointerDown, !1), t.addEventListener("pointermove", this.onPointerMove, !1), t.addEventListener("pointerup", this.onPointerUp, !1), t.addEventListener("pointercancel", this.onPointerUp, !1);
    }
    zoomOut() {
        this.core.controls.zoomOut(aI, fn["ease-out"]);
    }
    zoomIn(e) {
        let t = this.getMousePos(e), i = this.core.convertScreenCoordinateToMapCoordinate(t.x, t.y, this.core.venue.maps.find((e)=>e.id === this.core.currentMap)), n = this.core.convertTo3DMapPosition(i), r = this.core.controls.getZoom();
        this.core.controls.animateCamera({
            position: n,
            zoom: r / bY
        }, aI, fn["ease-in"]);
    }
    handleMapClick(e) {
        this.calculateMouseCoordinates(e);
        let t = this.detectPolygonsUnderMouse(), i = this.detectMapsUnderMouse(), n = this.detectCollidersUnderMouse(), r = this.detectPathsUnderMouse(), o = this.detectWatermarkUnderMouse(e), { labels: s, markers: a, tooltips: l } = EY(n), h = this.getMouseMapPosition(), c = {
            lat: NaN,
            lon: NaN
        };
        !isNaN(h.x) && !isNaN(h.y) && (c = this.core.venue.maps.find((e)=>e.id === this.core.currentMap).createCoordinateByXY(h.x, h.y)), this.core.publish(16, {
            position: {
                latitude: c.lat,
                longitude: c.lon
            },
            polygons: t.filter((e)=>this.core.interactivePolygons[e]).map((e)=>this.core.venue.getCollectionItemById("polygons", e)),
            floatingLabels: s,
            markers: a,
            tooltips: l,
            maps: i || [],
            nearBlueDot: this.checkMouseIntersectsBlueDot(),
            paths: r
        }), o && "function" == typeof mr.OPTIONS.onClick && mr.OPTIONS.onClick();
        for(let e = 0, i = t.length; e < i; ++e){
            let i = t[e];
            if (this.core.interactivePolygons[i] && "function" == typeof this.core.onPolygonClicked && !this.core.onPolygonClicked(i)) return;
        }
        "function" == typeof this.core.onNothingClicked && this.core.onNothingClicked();
    }
    destroy() {
        this.rendererDomElement.removeEventListener("pointerdown", this.onPointerDown, !1), this.rendererDomElement.removeEventListener("pointermove", this.onPointerMove, !1), this.rendererDomElement.removeEventListener("pointerup", this.onPointerUp, !1), this.rendererDomElement.removeEventListener("pointercancel", this.onPointerUp, !1);
    }
};
(0, _chunkZRT45YCMJs.a)(D5, "EventSystem");
var I5 = D5, _5 = I5;
(0, _chunkA5C75TI6Js.a)();
var oI = "varying vec2 vUV;\n\nvoid main() {\n   vUV = uv;\n\n   gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.0);\n}", lI = 'precision mediump float;\n\n// The following uniforms are documented in Mappedin.ClosedPolygonManager.js\nuniform vec3 stripe1_color;\nuniform vec3 stripe2_color;\nuniform vec2 surface_dimensions;\nuniform float stripe1_width;\nuniform float stripe1_proportion;\nuniform float stripes_direction; \n\nvarying vec2 vUV;\n\nvec4 stripes(vec2 coord) {\n   vec4 color1 = vec4(stripe1_color, 1.0);\n   vec4 color2 = vec4(stripe2_color, 1.0);\n\n   // Transform the uv to surface coordinates in world space units\n   vec2 coord_absolute = coord * surface_dimensions;\n   \n   // Compute the width of a single texture "tile"\n   // For example, if the first stripe is 10 units and it forms 25% of the tile, we know that the tile itself is 40 units wide\n   float tile_width = stripe1_width / stripe1_proportion;\n\n   // Lerp the x and y coordinates of the component using the "direction" parameter; clever way of "rotating" the stripe without using trig functions, courtesy of https://andreashackel.de/tech-art/stripes-shader-1/\n   float stripe_coord = mix(coord_absolute.x, coord_absolute.y, stripes_direction);\n\n   // Normalize the above "coordinate" to obtain its position within a single texture "tile"\n   float stripe_coord_normalized = mod(stripe_coord, tile_width) / tile_width;\n\n   // Decide which of the two stripes this coordinate belongs to!\n   return mix(color1, color2, step(1. - stripe1_proportion, stripe_coord_normalized));\n}\n\nvoid main() {   \n   gl_FragColor = vec4(stripes(vUV).rgb, 1);\n}\n';
function AY(e) {
    let t = new (0, _chunk4XLXKB34Js.ha)(1, 1, 1, 1), i = 500, n = 500, r = new (0, _chunk4XLXKB34Js.S)(0, 0, 0), o = 0;
    if (null != e && null != e.boundingBox && null != e.boundingBox.min && null != e.boundingBox.max) {
        let t = new (0, _chunk4XLXKB34Js.T)(e.boundingBox.min, e.boundingBox.max), s = t.getSize(new (0, _chunk4XLXKB34Js.S));
        i = s.x, n = s.y, t.getCenter(r), o = (isNaN(t.max.z) ? 0 : t.max.z) + 10;
    }
    let s = new (0, _chunk4XLXKB34Js.da)({
        vertexShader: oI,
        fragmentShader: lI,
        uniforms: {
            stripe1_color: {
                type: "c",
                value: new (0, _chunk4XLXKB34Js.Y)(.91372549019, .91372549019, .91372549019)
            },
            stripe2_color: {
                type: "c",
                value: new (0, _chunk4XLXKB34Js.Y)(.80784313725, .80784313725, .80784313725)
            },
            stripe1_width: {
                type: "f",
                value: 7
            },
            stripe1_proportion: {
                type: "f",
                value: .3
            },
            stripes_direction: {
                type: "f",
                value: 2 / 3
            },
            surface_dimensions: {
                type: "v2",
                value: new (0, _chunk4XLXKB34Js.M)(i, n)
            }
        }
    });
    s.transparent = !0, s.blending = (0, _chunk4XLXKB34Js.g), s.depthTest = !1, s.stencilWrite = !0, s.stencilFunc = (0, _chunk4XLXKB34Js.I), s.stencilFuncMask = 255, s.stencilRef = 1, s.stencilFail = (0, _chunk4XLXKB34Js.G), s.stencilZFail = (0, _chunk4XLXKB34Js.G), s.stencilZPass = (0, _chunk4XLXKB34Js.G);
    let a = new (0, _chunk4XLXKB34Js.ba)(t, s);
    return a.position.set(r.x, r.y, o), a.rotation.set(0, 0, 0), a.scale.set(i, n, 1), a;
}
function uI(e) {
    null != e && Os(e.material);
}
function cI(e) {
    return e.stencilWrite = !0, e.stencilFunc = (0, _chunk4XLXKB34Js.J), e.stencilRef = 1, e.stencilFuncMask = 255, e.stencilFail = (0, _chunk4XLXKB34Js.G), e.stencilZFail = (0, _chunk4XLXKB34Js.G), e.stencilZPass = (0, _chunk4XLXKB34Js.H), e;
}
function CY(e, t, i) {
    null == t || null == i || (null != e && i.remove(e), i.add(t));
}
function PY(e, t) {
    return Math.abs(e - t) < Number.EPSILON;
}
(0, _chunkZRT45YCMJs.a)(AY, "makeStencilSheet"), (0, _chunkZRT45YCMJs.a)(uI, "destroyStencilSheet"), (0, _chunkZRT45YCMJs.a)(cI, "enableStencilTestingAndConfigure"), (0, _chunkZRT45YCMJs.a)(CY, "replaceObjectInScene"), (0, _chunkZRT45YCMJs.a)(PY, "almostEqual");
var q5 = class {
    constructor({ scene: e, getPolygonMeshFromId: t, tryRendering: i }){
        this.scene = e, this.getPolygonMeshFromId = t, this.tryRendering = i, this.stencilSheet = null, this.polygonsMarkedAsClosed = {};
    }
    onMapChanged(e) {
        e.load().then(()=>{
            this.currentMap = e, uI(this.stencilSheet);
            let t = AY(e);
            CY(this.stencilSheet, t, this.scene), this.stencilSheet = t, this.tryRendering();
        });
    }
    dispose() {
        this.markAllPolygonsAsOpen(), uI(this.stencilSheet);
    }
    markPolygonAsClosed(e) {
        if ("string" != typeof e || null != this.polygonsMarkedAsClosed[e]) return;
        let t = this.getPolygonMeshFromId(e);
        if (null == t || null == t.material) return;
        let i = t.geometry;
        if (R.assert(i instanceof (0, _chunk4XLXKB34Js.aa)), R.assert(null == i.index), t.material.length) return;
        let n = {};
        n.geometryGroups = [
            ...i.groups
        ], i.clearGroups();
        let r = t.material, o = cI(t.material.clone());
        t.material = [
            r,
            o
        ], t._MIOriginalMaterial && (t._MIOriginalMaterial.length || (t._MIOriginalMaterial = [
            t._MIOriginalMaterial,
            cI(t._MIOriginalMaterial.clone())
        ]));
        let s = i.getAttribute("normal");
        R.assert(3 === s.itemSize), R.assert(s.array.length / 3 === s.count), R.assert(s.count % 3 == 0);
        let a = new (0, _chunk4XLXKB34Js.S)(0, 0, 1);
        for(let e = 0; e < s.count; e += 3){
            let t = (s.getX(e) + s.getX(e + 1) + s.getX(e + 2)) / 3, n = (s.getY(e) + s.getY(e + 1) + s.getY(e + 2)) / 3, r = (s.getZ(e) + s.getZ(e + 1) + s.getZ(e + 2)) / 3;
            PY(new (0, _chunk4XLXKB34Js.S)(t, n, r).normalize().dot(a), 1) ? i.addGroup(e, 3, 1) : i.addGroup(e, 3, 0);
        }
        this.tryRendering(), this.polygonsMarkedAsClosed[e] = n;
    }
    markPolygonAsOpen(e) {
        if ("string" != typeof e || null == this.polygonsMarkedAsClosed[e]) return;
        let t = this.polygonsMarkedAsClosed[e], i = this.getPolygonMeshFromId(e), n = i.geometry;
        n.clearGroups(), t.geometryGroups.forEach(({ start: e, count: t, materialIndex: i })=>n.addGroup(e, t, i)), Os(i.material[1]), i.material = i.material[0], i._MIOriginalMaterial && i._MIOriginalMaterial.length && (i._MIOriginalMaterial = i._MIOriginalMaterial[0]), delete this.polygonsMarkedAsClosed[e], this.tryRendering();
    }
    markAllPolygonsAsOpen() {
        for(let e in this.polygonsMarkedAsClosed)this.markPolygonAsOpen(e);
    }
};
(0, _chunkZRT45YCMJs.a)(q5, "ClosedPolygonManager");
var L5 = q5, HE = L5;
(0, _chunkA5C75TI6Js.a)();
var SY = !1, N5 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "textureLoader", new (0, _chunk4XLXKB34Js.Ga)), (0, _chunkZRT45YCMJs.f)(this, "data"), this.data = e;
    }
    async loadMapPolygons() {}
    loadImage(e) {
        let t = this.data.get(e.split(/[\/\.]/)[1]);
        return new Promise((i, n)=>{
            SY && R.log("loading image: ", e);
            let r = new Blob([
                t
            ]), o = URL.createObjectURL(r);
            this.textureLoader.load(o, (e)=>{
                e.colorSpace = (0, _chunk4XLXKB34Js.E), i(e);
            }, ()=>{}, n);
        });
    }
};
(0, _chunkZRT45YCMJs.a)(N5, "BinaryAssetManager");
var Ju = N5;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var Mv = 1 * devicePixelRatio;
function IY(e, t) {
    return t.x + t.w < e.x + e.w && t.x > e.x && t.y > e.y && t.y + t.h < e.y + e.h;
}
function R5(e, t) {
    let i = t.x, n = t.y, r = t.x + t.w, o = t.y + t.h, s = e.x, a = e.y, l = e.x + e.w, h = e.y + e.h;
    return i < l && s < r && n < h && a < o;
}
function _Y(e, t) {
    let [i, n] = t;
    return i >= e.x && i <= e.x + e.w && n >= e.y && n <= e.y + e.h;
}
(0, _chunkZRT45YCMJs.a)(IY, "contains"), (0, _chunkZRT45YCMJs.a)(R5, "intersects"), (0, _chunkZRT45YCMJs.a)(_Y, "intersectPoint");
var k5 = class {
    constructor(e, t, i, n, r){
        (0, _chunkZRT45YCMJs.f)(this, "x"), (0, _chunkZRT45YCMJs.f)(this, "y"), (0, _chunkZRT45YCMJs.f)(this, "w"), (0, _chunkZRT45YCMJs.f)(this, "h"), (0, _chunkZRT45YCMJs.f)(this, "userData"), this.userData = typeof r > "u" ? null : r, this.x = e - Mv, this.y = t - Mv, this.w = i + 2 * Mv, this.h = n + 2 * Mv;
    }
    contains(e) {
        return e !== this && IY(this, e);
    }
    intersects(e) {
        return R5(this, e);
    }
    intersectsPoint(e) {
        return _Y(this, e);
    }
    draw(e) {
        e.fillStyle = "rgba(123,222,26, 0.5)", e.fillRect(this.x, this.y, this.w, this.h);
    }
};
(0, _chunkZRT45YCMJs.a)(k5, "Rectangle");
var An = k5, ol = class e {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.f)(this, "boundary"), (0, _chunkZRT45YCMJs.f)(this, "capacity", 4), (0, _chunkZRT45YCMJs.f)(this, "objects", []), (0, _chunkZRT45YCMJs.f)(this, "topLeft"), (0, _chunkZRT45YCMJs.f)(this, "topRight"), (0, _chunkZRT45YCMJs.f)(this, "bottomLeft"), (0, _chunkZRT45YCMJs.f)(this, "bottomRight"), (0, _chunkZRT45YCMJs.f)(this, "divided", !1), (0, _chunkZRT45YCMJs.f)(this, "parent"), this.parent = t, this.boundary = e;
    }
    getSize() {
        return this.divided ? this.objects.length + this.topLeft.getSize() + this.topRight.getSize() + this.bottomLeft.getSize() + this.bottomRight.getSize() : this.objects.length;
    }
    subdivide() {
        let { x: t, y: i, w: n, h: r } = this.boundary;
        this.topLeft = new e(new An(t, i, n / 2, r / 2), this), this.topRight = new e(new An(t + n / 2, i, n / 2, r / 2), this), this.bottomLeft = new e(new An(t, i + r / 2, n / 2, r / 2), this), this.bottomRight = new e(new An(t + n / 2, i + r / 2, n / 2, r / 2), this), this.divided = !0;
    }
    queryRect(e) {
        let t = [];
        return this.boundary.intersects(e) ? (t.push(...this.objects), this.divided && (Ia(t, this.topLeft.queryRect(e)), Ia(t, this.topRight.queryRect(e)), Ia(t, this.bottomLeft.queryRect(e)), Ia(t, this.bottomRight.queryRect(e))), t) : [];
    }
    queryPoint(e) {
        let t = [];
        return this.boundary.intersectsPoint(e) ? (t.push(...this.objects), this.divided && (Ia(t, this.topLeft.queryPoint(e)), Ia(t, this.topRight.queryPoint(e)), Ia(t, this.bottomLeft.queryPoint(e)), Ia(t, this.bottomRight.queryPoint(e))), t) : [];
    }
    insert(e) {
        return !!this.boundary.contains(e) && (this.objects.length < this.capacity ? (this.objects.push(e), !0) : (this.divided || this.subdivide(), !1 === (this.topLeft.insert(e) || this.topRight.insert(e) || this.bottomLeft.insert(e) || this.bottomRight.insert(e)) && this.objects.push(e), !0));
    }
    drawObjects(e) {
        this.objects.forEach((t)=>t.draw(e)), this.divided && (this.topLeft.drawObjects(e), this.topRight.drawObjects(e), this.bottomLeft.drawObjects(e), this.bottomRight.drawObjects(e));
    }
    draw(e) {
        e.rect(this.boundary.x, this.boundary.y, this.boundary.w, this.boundary.h), this.divided && (this.topLeft.draw(e), this.topRight.draw(e), this.bottomLeft.draw(e), this.bottomRight.draw(e)), e.strokeStyle = "black", e.lineWidth = 4, e.stroke();
    }
};
(0, _chunkZRT45YCMJs.a)(ol, "QuadTree");
var xf = ol, B5 = !1, OY = !1, DY = !1, wv = 10 * devicePixelRatio, Av = 100, gT = "LOW_PRIORITY", G5 = class extends Wo {
    get strategies() {
        let e = (0, _chunkZRT45YCMJs.a)(()=>{}, "noop");
        return [
            {
                name: "left",
                getBoundingBox: (0, _chunkZRT45YCMJs.a)((e)=>[
                        0,
                        e.totalHeight,
                        -wv,
                        5
                    ], "leftBoundingBox"),
                onStrategySelected: e
            },
            {
                name: "top",
                getBoundingBox: (0, _chunkZRT45YCMJs.a)((e)=>[
                        -wv,
                        5,
                        0,
                        e.totalWidth
                    ], "topBoundingBox"),
                onStrategySelected: e
            },
            {
                name: "right",
                getBoundingBox: (0, _chunkZRT45YCMJs.a)((e)=>[
                        0,
                        e.totalHeight,
                        e.totalWidth - 5,
                        e.totalWidth + wv
                    ], "rightBoundingBox"),
                onStrategySelected: e
            },
            {
                name: "bottom",
                getBoundingBox: (0, _chunkZRT45YCMJs.a)((e)=>[
                        e.totalHeight - 5,
                        e.totalHeight + wv,
                        0,
                        e.totalWidth
                    ], "bottomBoundingBox"),
                onStrategySelected: e
            }
        ];
    }
};
(0, _chunkZRT45YCMJs.a)(G5, "OffscreenCollider");
var Mt, ll, Cv, Pv, $u, ul, F5 = G5, hI = (0, _chunkZRT45YCMJs.a)((e, t)=>t.length ? (t.splice(U5(e, t), 0, e), t) : (t.push(e), t), "insertOne"), dI = (0, _chunkZRT45YCMJs.a)((e, t)=>(t.length && t.splice(t.indexOf(e), 1), t), "removeOne"), U5 = (0, _chunkZRT45YCMJs.a)((e, t, i, n)=>{
    let r = i || 0, o = n || t.length, s = Math.floor(r + (o - r) / 2);
    return t[s].rank === e.rank ? s : o - r <= 1 ? t[s].rank < e.rank ? s : s + 1 : t[s].rank > e.rank ? U5(e, t, s, n) : U5(e, t, i, s);
}, "locationOf"), j5 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "colliderCanvas"), (0, _chunkZRT45YCMJs.f)(this, "debugCanvas"), (0, _chunkZRT45YCMJs.f)(this, "colliderCanvasContext"), (0, _chunkZRT45YCMJs.f)(this, "debugCanvasContext"), (0, _chunkZRT45YCMJs.f)(this, "collisionEngineContainerEl"), (0, _chunkZRT45YCMJs.f)(this, "stepsX"), (0, _chunkZRT45YCMJs.f)(this, "stepsY"), (0, _chunkZRT45YCMJs.f)(this, "totalWidth"), (0, _chunkZRT45YCMJs.f)(this, "totalHeight"), (0, _chunkZRT45YCMJs.f)(this, "project"), (0, _chunkZRT45YCMJs.f)(this, "colliders", new Map), (0, _chunkZRT45YCMJs.f)(this, "offscreenRanges", []), (0, _chunkZRT45YCMJs.h)(this, Mt, {}), (0, _chunkZRT45YCMJs.h)(this, ll, !1), (0, _chunkZRT45YCMJs.f)(this, "initialized", !1), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "screen"), (0, _chunkZRT45YCMJs.f)(this, "debouncedUpdate"), (0, _chunkZRT45YCMJs.f)(this, "updateStartEvents"), (0, _chunkZRT45YCMJs.f)(this, "updateEndEvents"), (0, _chunkZRT45YCMJs.f)(this, "init", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            this.project = t, e.appendChild(this.collisionEngineContainerEl), e.appendChild(this.colliderCanvas), this.totalWidth = e.clientWidth, this.totalHeight = e.clientHeight, this.screen = new An(0, 0, this.totalWidth, this.totalHeight), this.colliderCanvas.width = this.totalWidth * devicePixelRatio, this.colliderCanvas.height = this.totalHeight * devicePixelRatio, this.colliderCanvas.style.width = this.totalWidth + "px", this.colliderCanvas.style.height = this.totalHeight + "px", B5 && (this.debugCanvasContext = this.debugCanvas.getContext("2d"), e.appendChild(this.debugCanvas), this.debugCanvas.width = this.totalWidth, this.debugCanvas.height = this.totalHeight, this.debugCanvas.style.width = this.totalWidth + "px", this.debugCanvas.style.height = this.totalHeight + "px", this.debugCanvas.style.opacity = "0.4");
            let i = new F5({
                rank: 999
            });
            this.offscreenRanges = i.strategies.map(({ getBoundingBox: e })=>e({
                    x: 0,
                    y: 0,
                    totalHeight: this.totalHeight,
                    totalWidth: this.totalWidth
                }).map((e)=>Math.round(e))), this.initialized = !0, (0, _chunkZRT45YCMJs.g)(this, ll) || ((0, _chunkZRT45YCMJs.g)(this, Cv).call(this), (0, _chunkZRT45YCMJs.i)(this, ll, !0)), (0, _chunkZRT45YCMJs.g)(this, ul).call(this);
        }, "init")), (0, _chunkZRT45YCMJs.f)(this, "handleBeginUpdate", (0, _chunkZRT45YCMJs.a)((e)=>{
            if (!1 === this.updateStartEvents[e.type]) this.beginUpdate();
            else if (null != e.message) {
                let { zooming: t, rotating: i, tilting: n } = e.message;
                (t || i || n) && this.beginUpdate();
            }
        }, "handleBeginUpdate")), (0, _chunkZRT45YCMJs.f)(this, "handleEndUpdate", (0, _chunkZRT45YCMJs.a)((e)=>{
            if (!1 === this.updateEndEvents[e.type]) this.update();
            else if (null != e.message) {
                let { zooming: t, rotating: i, tilting: n } = e.message;
                (t || i || n) && this.update();
            }
        }, "handleEndUpdate")), (0, _chunkZRT45YCMJs.h)(this, Cv, (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.i)(this, ll, !0);
            for(let e in this.updateStartEvents)this.core.controls.dispatcher.addEventListener(e, this.handleBeginUpdate);
            for(let e in this.updateEndEvents)this.core.controls.dispatcher.addEventListener(e, this.handleEndUpdate);
            this.core.on(6, (0, _chunkZRT45YCMJs.g)(this, $u)), this.core.on(7, (0, _chunkZRT45YCMJs.g)(this, ul)), this.core.on(8, (0, _chunkZRT45YCMJs.g)(this, $u)), this.core.on(32, (0, _chunkZRT45YCMJs.g)(this, ul));
        }, "#addListeners")), (0, _chunkZRT45YCMJs.h)(this, Pv, (0, _chunkZRT45YCMJs.a)(()=>{
            for(let e in this.updateStartEvents)this.core.controls.dispatcher.removeEventListener(e, this.handleBeginUpdate);
            for(let e in this.updateEndEvents)this.core.controls.dispatcher.removeEventListener(e, this.handleEndUpdate);
            this.core.off(6, (0, _chunkZRT45YCMJs.g)(this, $u)), this.core.off(7, (0, _chunkZRT45YCMJs.g)(this, ul)), (0, _chunkZRT45YCMJs.i)(this, ll, !1);
        }, "#removeListeners")), (0, _chunkZRT45YCMJs.h)(this, $u, (0, _chunkZRT45YCMJs.a)(()=>{
            let e = this.core.visibleMapsInCurrentScene.map((e)=>e.id) || [];
            this.colliders.forEach((e)=>{
                e.disable(!1);
            }), e.forEach((e)=>{
                null != (0, _chunkZRT45YCMJs.g)(this, Mt)[e] && ((0, _chunkZRT45YCMJs.g)(this, Mt)[e].needsSort = !0);
            }), this.update();
        }, "#onSetSceneStart")), (0, _chunkZRT45YCMJs.h)(this, ul, (0, _chunkZRT45YCMJs.a)(()=>{
            let e = this.core.visibleMapsInCurrentScene.map((e)=>e.id) || [];
            this.colliders.forEach((t)=>{
                var i;
                (e.includes(t.mapId) || pI(t, null == (i = this.core.options) ? void 0 : i.dynamicFocus)) && t.enable(!1);
            }), e.forEach((e)=>{
                null != (0, _chunkZRT45YCMJs.g)(this, Mt)[e] && ((0, _chunkZRT45YCMJs.g)(this, Mt)[e].needsSort = !0);
            }), this.update();
        }, "#onSetSceneEnd")), (0, _chunkZRT45YCMJs.f)(this, "qtree"), (0, _chunkZRT45YCMJs.f)(this, "interactiveCollidersQTree"), (0, _chunkZRT45YCMJs.f)(this, "recompute", (0, _chunkZRT45YCMJs.a)(()=>{
            if (!this.initialized) return;
            let e, t, i, [n, r, o, s] = [
                1 / 0,
                1 / 0,
                -1 / 0,
                -1 / 0
            ], a = this.offscreenRanges.map((e)=>{
                let t = e[3] - e[2], i = e[1] - e[0];
                return n = Math.min(n, e[2]), o = Math.max(o, e[3]), r = Math.min(r, e[0]), s = Math.max(s, e[1]), new An(Math.round(e[2] * devicePixelRatio), Math.round(e[0] * devicePixelRatio), Math.round(t * devicePixelRatio), Math.round(i * devicePixelRatio));
            }), l = this.sortedColliders;
            for (let a of l)e = a.position, t = a.mapId, a.getBoundingBoxForCurrentStrategy = void 0, a.enabled && (i = this.project(e, t), "function" == typeof a.colliderDidUpdatePosition && a.colliderDidUpdatePosition([
                i.x,
                i.y
            ]), a._bboxes = a.strategies.map(({ name: e, getBoundingBox: t, onStrategySelected: l })=>{
                let h = t({
                    x: i.x,
                    y: i.y
                }), c = h[3] - h[2], u = h[1] - h[0];
                return n = Math.min(n, h[2]), o = Math.max(o, h[3]), r = Math.min(r, h[0]), s = Math.max(s, h[1]), null == a._bboxes && (a._bboxes = []), [
                    e,
                    new An(Math.round(h[2] * devicePixelRatio), Math.round(h[0] * devicePixelRatio), Math.round(c * devicePixelRatio), Math.round(u * devicePixelRatio), {
                        collider: a
                    }),
                    l,
                    t
                ];
            }));
            let h, c = new An(Math.round(n * devicePixelRatio) - Av, Math.round(r * devicePixelRatio) - Av, Math.round(o * devicePixelRatio - n * devicePixelRatio) + 2 * Av, Math.round(s * devicePixelRatio - r * devicePixelRatio) + 2 * Av);
            this.qtree = new xf(c), a.forEach((e)=>{
                this.qtree.insert(e);
            });
            for(let e = 0; e < l.length; e++){
                let t = !1;
                if (h = l[e], null == h._bboxes || !h.enabled) continue;
                let i, [n, r] = [
                    1 / 0,
                    null
                ];
                for (let [, e, o, s] of h._bboxes){
                    let l = this.qtree.queryRect(e).filter((t)=>e.intersects(t));
                    if (i = l.every((e)=>a.includes(e)), (l.length <= n || i) && (r = [
                        e,
                        o,
                        s
                    ]), 0 === l.length) {
                        this.qtree.insert(e), h.getBoundingBoxForCurrentStrategy = s, t = !0, h.setAction(1), o(h);
                        break;
                    }
                }
                if (4 === h.rank && null != r) {
                    let [e, i, n] = r;
                    this.qtree.insert(e), h.getBoundingBoxForCurrentStrategy = n, t = !0, h.setAction(1), i(h);
                }
                if (!t && null != r && i) {
                    let [e, t, i] = r;
                    this.qtree.insert(e), h.setAction(1), t(h);
                } else !t && "function" == typeof h.colliderDidNotFindAHome && h.colliderDidNotFindAHome();
                "function" == typeof h.colliderDidUpdateVisiblity && h.colliderDidUpdateVisiblity();
            }
            this.draw(), this.colliderCanvas.classList.remove("interacting");
        }, "recompute")), (0, _chunkZRT45YCMJs.f)(this, "draw", (0, _chunkZRT45YCMJs.a)(()=>{
            let e = this.sortedColliders;
            this.colliderCanvasContext.clearRect(0, 0, this.totalWidth * devicePixelRatio, this.totalHeight * devicePixelRatio);
            for (let t of e)t.offscreen || t instanceof Yi && t.draw(this.colliderCanvasContext);
            B5 && this.qtree && (this.colliderCanvasContext.beginPath(), DY && this.qtree.draw(this.colliderCanvasContext), this.qtree.drawObjects(this.colliderCanvasContext)), OY && null != this.interactiveCollidersQTree && this.interactiveCollidersQTree.drawObjects(this.colliderCanvasContext);
        }, "draw")), (0, _chunkZRT45YCMJs.f)(this, "reposition", (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            if (!this.initialized) return;
            this.interactiveCollidersQTree = new xf(new An(0, 0, this.totalWidth * devicePixelRatio, this.totalHeight * devicePixelRatio));
            let t, i, n, r = this.sortedColliders;
            for (let o of r)if (t = o.position, i = o.mapId, n = this.project(t, i), o.enabled) {
                if ("function" == typeof o.getBoundingBoxForCurrentStrategy) {
                    let [t, i, r, s] = o.getBoundingBoxForCurrentStrategy({
                        x: n.x,
                        y: n.y
                    });
                    LY(o) && null != (e = o.options) && e.interactive && this.interactiveCollidersQTree.insert(new An(r * devicePixelRatio, t * devicePixelRatio, (s - r) * devicePixelRatio, (i - t) * devicePixelRatio, {
                        collider: o
                    })), R5(this.screen, {
                        x: r,
                        y: t,
                        w: s - r,
                        h: i - t
                    }) ? o.offscreen = !1 : o.offscreen = !0;
                }
                "function" == typeof o.colliderDidUpdatePosition && o.colliderDidUpdatePosition([
                    n.x,
                    n.y
                ]);
            }
            this.draw();
        }, "reposition")), (0, _chunkZRT45YCMJs.f)(this, "add", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            t.__engine = this, "function" == typeof t.colliderDidMount && t.colliderDidMount(), this.colliders.set(e, t), null == (0, _chunkZRT45YCMJs.g)(this, Mt)[t.mapId] && ((0, _chunkZRT45YCMJs.g)(this, Mt)[t.mapId] = {
                needsSort: !1,
                colliders: []
            }), hI(t, (0, _chunkZRT45YCMJs.g)(this, Mt)[t.mapId].colliders);
        }, "add")), (0, _chunkZRT45YCMJs.f)(this, "remove", (0, _chunkZRT45YCMJs.a)((e)=>{
            let t = this.colliders.get(e);
            null != t && (t.disable(), t.__engine = void 0, this.colliders.delete(e), dI(t, (0, _chunkZRT45YCMJs.g)(this, Mt)[t.mapId].colliders));
        }, "remove")), (0, _chunkZRT45YCMJs.f)(this, "updateMap", (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
            let n = this.colliders.get(e);
            if (null == n) return;
            n.mapId = i, dI(n, (0, _chunkZRT45YCMJs.g)(this, Mt)[t].colliders), null == (0, _chunkZRT45YCMJs.g)(this, Mt)[i] && ((0, _chunkZRT45YCMJs.g)(this, Mt)[i] = {
                needsSort: !1,
                colliders: []
            }), hI(n, (0, _chunkZRT45YCMJs.g)(this, Mt)[i].colliders);
            let r = this.core.visibleMapsInCurrentScene.map((e)=>e.id) || [];
            r.includes(t) && n.disable(), r.includes(i) && n.enable();
        }, "updateMap")), (0, _chunkZRT45YCMJs.f)(this, "update", (0, _chunkZRT45YCMJs.a)(()=>{
            this.initialized && ((this.core.visibleMapsInCurrentScene.map((e)=>e.id) || []).forEach((e)=>{
                (0, _chunkZRT45YCMJs.g)(this, Mt)[e] && ((0, _chunkZRT45YCMJs.g)(this, Mt)[e].needsSort = !0);
            }), this.recompute(), this.reposition());
        }, "update")), (0, _chunkZRT45YCMJs.f)(this, "resize", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.initialized && ((0, _chunkZRT45YCMJs.g)(this, Pv).call(this), this.init(e, this.project), this.update());
        }, "resize")), (0, _chunkZRT45YCMJs.f)(this, "destroy", (0, _chunkZRT45YCMJs.a)(()=>{
            for (let e of Array.from(this.colliders.values()))this.remove(e.id);
        }, "destroy")), this.core = e, this.colliderCanvas = document.createElement("canvas"), this.collisionEngineContainerEl = document.createElement("div"), B5 && (this.debugCanvas = document.createElement("canvas"), this.debugCanvas.classList.add("mappedin__smart-collision-engine-debug__container")), this.colliderCanvas.classList.add("mappedin__smart-collision-engine-debug__container"), this.collisionEngineContainerEl.classList.add("mappedin__smart-collision-engine__container"), this.colliderCanvasContext = this.colliderCanvas.getContext("2d");
        let { INTERACTION_EVENTS: t, CAMERA_EVENTS: i } = this.core.controls;
        this.updateStartEvents = {
            [t.USER_DOLLY_START_EVENT.type]: !1,
            [i.ROTATE_START_EVENT.type]: !1,
            [i.ZOOM_START_EVENT.type]: !1,
            [t.USER_TILT_START_EVENT.type]: !1,
            [i.MULTI_START_EVENT.type]: !0,
            [i.PEDESTAL_START_EVENT.type]: !1
        }, this.updateEndEvents = {
            [t.USER_DOLLY_END_EVENT.type]: !1,
            [i.ROTATE_END_EVENT.type]: !1,
            [i.ZOOM_END_EVENT.type]: !1,
            [t.USER_TILT_END_EVENT.type]: !1,
            [i.MULTI_END_EVENT.type]: !0,
            [i.MULTI_CANCEL_EVENT.type]: !0,
            [i.PEDESTAL_END_EVENT.type]: !1
        }, this.debouncedUpdate = mn(()=>{
            this.update();
        }, 10, !0);
    }
    get sortedColliders() {
        return this.initialized ? this.core.visibleMapsInCurrentScene.flatMap((e)=>{
            var t;
            return (0, _chunkZRT45YCMJs.g)(this, Mt)[e.id] && (null == (t = (0, _chunkZRT45YCMJs.g)(this, Mt)[e.id].colliders) ? void 0 : t.length) > 0 && !1 === (0, _chunkZRT45YCMJs.g)(this, Mt)[e.id].needsSort || (null == (0, _chunkZRT45YCMJs.g)(this, Mt)[e.id] && ((0, _chunkZRT45YCMJs.g)(this, Mt)[e.id] = {
                needsSort: !0,
                colliders: []
            }), (0, _chunkZRT45YCMJs.g)(this, Mt)[e.id].colliders = Array.from(this.colliders.values()).filter((t)=>{
                var i;
                return qY(t, e.id, null == (i = this.core.options) ? void 0 : i.dynamicFocus, this.core.visibleLayersInCurrentScene);
            }).sort((e, t)=>t.rank - e.rank), (0, _chunkZRT45YCMJs.g)(this, Mt)[e.id].needsSort = !1), (0, _chunkZRT45YCMJs.g)(this, Mt)[e.id].colliders;
        }) : [];
    }
    beginUpdate() {
        this.colliderCanvas.classList.add("interacting");
    }
};
Mt = new WeakMap, ll = new WeakMap, Cv = new WeakMap, Pv = new WeakMap, $u = new WeakMap, ul = new WeakMap, (0, _chunkZRT45YCMJs.a)(j5, "SmartCollisionEngine");
var z5 = j5;
function LY(e) {
    return e instanceof Yi || e instanceof Ns || e instanceof Qo;
}
function qY(e, t, i, n) {
    var r;
    return !!(pI(e, i) || "" !== e.layer && null != (r = n[e.mapId]) && r.includes(e.layer) && e.mapId === t) || e.mapId === t;
}
function pI(e, t) {
    var i, n;
    let r = null != (i = null == t ? void 0 : t.keepLayersActiveOnBaseMap) ? i : [];
    return (null == (n = null == t ? void 0 : t.baseMap) ? void 0 : n.id) === e.mapId && r.length > 0 && r.includes(e.layer);
}
(0, _chunkZRT45YCMJs.a)(LY, "isCollider"), (0, _chunkZRT45YCMJs.a)(qY, "isColliderVisible"), (0, _chunkZRT45YCMJs.a)(pI, "shouldKeepActiveOnBaseMap");
var V5 = z5;
(0, _chunkA5C75TI6Js.a)();
var W5 = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "orbit"), (0, _chunkZRT45YCMJs.f)(this, "billboards", new Map), this.orbit = e;
    }
    add(e, t = "Z") {
        this.billboards.set(e.uuid, [
            e,
            t
        ]);
    }
    remove(e) {
        this.billboards.delete(e.uuid);
    }
    update() {
        for (let [e, t] of this.billboards.values())t.includes("Z") && (e.rotation.z = this.orbit.rotation.z);
    }
    destroy() {
        this.billboards.clear();
    }
};
(0, _chunkZRT45YCMJs.a)(W5, "BillboardManager");
var H5 = W5, Y5 = H5;
(0, _chunkA5C75TI6Js.a)();
var vI = (0, _chunkZRT45YCMJs.e)(Rp());
(0, _chunkA5C75TI6Js.a)();
var gr, NY = "white", fI = (0, _chunkZRT45YCMJs.a)((e = 1)=>'<div style="width: '.concat(32 * e, "px; height: ").concat(32 * e, 'px;">').concat(Ua.get("journey-departure"), "<div>"), "generateDepartureMarker"), mI = (0, _chunkZRT45YCMJs.a)((e = 1)=>'<div style="width: '.concat(32 * e, "px; height: ").concat(32 * e, 'px;">').concat(Ua.get("journey-destination"), "</div>"), "generateDestinationMarker"), RY = (0, _chunkZRT45YCMJs.a)((e)=>{
    let t = null == e.direction ? e.type : "".concat(e.type, "-").concat(e.direction);
    return '<div style="width: 40px;\n            height: 40px;\n			cursor: pointer;\n            border-radius: 50%;\n			background: green;\n			display: flex;\n			align-items: center;\n			justify-content: center;">\n          <svg\n            height="16"\n            viewBox="0 0 36 36"\n            width="16"\n          >\n            <g fill="'.concat(NY, '">\n              ').concat(Ua.get(t), "\n            </g>\n          </svg><div>");
}, "defaultConnectionFn"), Z5 = class {
    constructor(e, t = RY, i){
        var n, r;
        (0, _chunkZRT45YCMJs.f)(this, "tooltip"), (0, _chunkZRT45YCMJs.f)(this, "mapId"), (0, _chunkZRT45YCMJs.f)(this, "toMapId"), (0, _chunkZRT45YCMJs.h)(this, gr, void 0), (0, _chunkZRT45YCMJs.f)(this, "handleClick", (0, _chunkZRT45YCMJs.a)((e)=>{
            e && 0 !== e.tooltips.length && e.tooltips.find((e)=>{
                var t;
                return e.id === (null == (t = this.tooltip) ? void 0 : t.id);
            }) && ("OVERVIEW" === (0, _chunkZRT45YCMJs.g)(this, gr).stackedMaps.currentState ? (0, _chunkZRT45YCMJs.g)(this, gr).setMapWithReason(this.mapId, "journey-connection-click") : (0, _chunkZRT45YCMJs.g)(this, gr).setMapWithReason(this.toMapId, "journey-connection-click"));
        }, "handleClick")), (0, _chunkZRT45YCMJs.f)(this, "determineDirection", (0, _chunkZRT45YCMJs.a)(()=>{
            var e, t, i, n;
            let { mapObjects: r } = (0, _chunkZRT45YCMJs.g)(this, gr), o = null != (t = null == (e = r.get(this.mapId)) ? void 0 : e.mapClass.elevation) ? t : 0, s = null != (n = null == (i = r.get(this.toMapId)) ? void 0 : i.mapClass.elevation) ? n : 0;
            if (o !== s) return o < s ? "up" : "down";
        }, "determineDirection")), this.mapId = e.node.map.id, this.toMapId = "TakeVortex" === (null == (n = e.action) ? void 0 : n.type) ? e.action.toMap.id : e.action.fromMap.id, (0, _chunkZRT45YCMJs.i)(this, gr, i);
        let o = e.atLocation.type, s = this.determineDirection(), a = t({
            type: o,
            direction: s,
            toMapName: e.action.toMap.name,
            icon: Ua.get(null == s ? o : "".concat(o, "-").concat(s)),
            isEntering: "TakeVortex" === (null == (r = e.action) ? void 0 : r.type)
        });
        this.tooltip = i.tooltips.createTooltip(e.node, a, {
            collisionRank: 4,
            padding: 0,
            defaultAnchorType: "top",
            interactive: !0
        }), (0, _chunkZRT45YCMJs.g)(this, gr).on(16, this.handleClick), this.tooltip.updateDimensions();
    }
    destroy() {
        (0, _chunkZRT45YCMJs.g)(this, gr).off(16, this.handleClick), (0, _chunkZRT45YCMJs.g)(this, gr).tooltips.removeTooltip(this.tooltip), this.tooltip = null;
    }
};
gr = new WeakMap, (0, _chunkZRT45YCMJs.a)(Z5, "Connection");
var Sv, pt, Cn, ec, Dt, Gs, cl, Ha, js, Tf, Iv, hl, Ef, Mf, X5 = Z5, kY = {
    displayArrowsOnPath: !0,
    nearRadius: 1.8,
    farRadius: 5.4,
    color: "#ff834c",
    flattenPath: !0
}, BY = {
    color: "#f5c7b3",
    displayArrowsOnPath: !1,
    flattenPath: !0,
    nearRadius: 1.6,
    farRadius: 4.8,
    showPulse: !1,
    animateDrawing: !1
}, FY = {
    displayArrowsOnPath: !0,
    nearRadius: 1.8,
    farRadius: 5.4,
    color: "#ff834c",
    flattenPath: !0
}, gI = 3, Zr = class e {
    constructor(e, t = {}, i){
        var n, r;
        (0, _chunkZRT45YCMJs.f)(this, "distance", 0), (0, _chunkZRT45YCMJs.f)(this, "accessible", !1), (0, _chunkZRT45YCMJs.h)(this, Sv, {}), (0, _chunkZRT45YCMJs.h)(this, pt, void 0), (0, _chunkZRT45YCMJs.f)(this, "activeDirections"), (0, _chunkZRT45YCMJs.h)(this, Cn, void 0), (0, _chunkZRT45YCMJs.h)(this, ec, void 0), (0, _chunkZRT45YCMJs.h)(this, Dt, {}), (0, _chunkZRT45YCMJs.h)(this, Gs, []), (0, _chunkZRT45YCMJs.h)(this, cl, void 0), (0, _chunkZRT45YCMJs.h)(this, Ha, []), (0, _chunkZRT45YCMJs.h)(this, js, new Map), (0, _chunkZRT45YCMJs.f)(this, "setStep", (0, _chunkZRT45YCMJs.a)((e)=>{
            e !== (0, _chunkZRT45YCMJs.g)(this, ec) && ((0, _chunkZRT45YCMJs.g)(this, Cn).length < 2 || e < 0 || e > (0, _chunkZRT45YCMJs.g)(this, Cn).length || ((0, _chunkZRT45YCMJs.g)(this, Mf).call(this), (0, _chunkZRT45YCMJs.g)(this, Ef).call(this), (0, _chunkZRT45YCMJs.i)(this, ec, e), this.activeDirections = (0, _chunkZRT45YCMJs.g)(this, Cn)[e], (0, _chunkZRT45YCMJs.g)(this, pt).currentPath = this.activeDirections.path, (0, _chunkZRT45YCMJs.g)(this, hl).call(this), (0, _chunkZRT45YCMJs.g)(this, Tf).call(this)));
        }, "setStep")), (0, _chunkZRT45YCMJs.f)(this, "setStepByPath", (0, _chunkZRT45YCMJs.a)((e)=>{
            let t = (0, _chunkZRT45YCMJs.g)(this, js).get(e);
            if (null == t) return void R.warn("Cannot set step. Path is not part of journey.");
            let i = (0, _chunkZRT45YCMJs.g)(this, Cn).indexOf(t);
            i < 0 ? R.warn("There was a problem setting this step of the journey.") : this.setStep(i);
        }, "setStepByPath")), (0, _chunkZRT45YCMJs.h)(this, Tf, (0, _chunkZRT45YCMJs.a)(()=>{
            var e, t;
            let i = this.activeDirections.path[this.activeDirections.path.length - 1], n = this.activeDirections.path[0];
            "string" == typeof (0, _chunkZRT45YCMJs.g)(this, Dt).polygonHighlightColor && (null == (e = n.locations) || e.forEach((e)=>{
                e.polygons.forEach((e)=>{
                    (0, _chunkZRT45YCMJs.g)(this, pt).polygonColors.setPolygonColor(e, (0, _chunkZRT45YCMJs.g)(this, Dt).polygonHighlightColor);
                });
            }), null == (t = i.locations) || t.forEach((e)=>{
                e.polygons.forEach((e)=>{
                    (0, _chunkZRT45YCMJs.g)(this, pt).polygonColors.setPolygonColor(e, (0, _chunkZRT45YCMJs.g)(this, Dt).polygonHighlightColor);
                });
            }));
            let r = ((0, _chunkZRT45YCMJs.g)(this, Cn) || [
                this.activeDirections
            ]).map((e)=>e.path[e.path.length - 1]);
            null == r || r.forEach((e)=>{
                var t;
                let i = mI((0, _chunkZRT45YCMJs.g)(this, Dt).scale);
                if ("function" == typeof (0, _chunkZRT45YCMJs.g)(this, Dt).destinationMarkerTemplate) {
                    if ((0, _chunkZRT45YCMJs.g)(this, Ha) || (0, _chunkZRT45YCMJs.i)(this, Ha, []), null == (null == (t = e.locations) ? void 0 : t[0])) return;
                    (0, _chunkZRT45YCMJs.g)(this, Ha).push((0, _chunkZRT45YCMJs.g)(this, pt).markers.add(e, (0, _chunkZRT45YCMJs.g)(this, Dt).destinationMarkerTemplate({
                        icon: i,
                        location: e.locations[0]
                    }), {
                        rank: 4,
                        anchor: 1
                    }));
                }
            });
            let o = fI((0, _chunkZRT45YCMJs.g)(this, Dt).scale);
            "function" == typeof (0, _chunkZRT45YCMJs.g)(this, Dt).departureMarkerTemplate && (0, _chunkZRT45YCMJs.i)(this, cl, (0, _chunkZRT45YCMJs.g)(this, pt).markers.add(n, (0, _chunkZRT45YCMJs.g)(this, Dt).departureMarkerTemplate({
                icon: o
            }), {
                rank: 4,
                anchor: 1
            })), (0, _chunkZRT45YCMJs.g)(this, pt).tryRendering();
        }, "#updateForJourneyStartOrStepChange")), (0, _chunkZRT45YCMJs.h)(this, Iv, (0, _chunkZRT45YCMJs.a)(()=>{
            let e = {
                drawConnectionSegments: this.isMultiFloor,
                connectionPathOptions: (0, _chunkZRT45YCMJs.g)(this, Dt).connectionPathOptions
            };
            if (0 === (0, _chunkZRT45YCMJs.g)(this, js).size) {
                (0, _chunkZRT45YCMJs.g)(this, Cn).forEach((t)=>{
                    if (t !== this.activeDirections) {
                        let i = (0, _chunkZRT45YCMJs.g)(this, pt).paths.drawPath(t.path, {
                            ...(0, _chunkZRT45YCMJs.g)(this, Dt).inactivePathOptions,
                            ...e
                        });
                        (0, _chunkZRT45YCMJs.g)(this, js).set(i, t);
                    }
                });
                let t = (0, _chunkZRT45YCMJs.g)(this, pt).paths.drawPath(this.activeDirections.path, {
                    ...(0, _chunkZRT45YCMJs.g)(this, Dt).pathOptions,
                    ...e
                });
                (0, _chunkZRT45YCMJs.g)(this, js).set(t, this.activeDirections);
            } else (0, _chunkZRT45YCMJs.g)(this, js).forEach((t, i)=>{
                (0, _chunkZRT45YCMJs.g)(this, pt).paths.redrawPath(i, t === this.activeDirections ? {
                    ...(0, _chunkZRT45YCMJs.g)(this, Dt).pathOptions,
                    ...e
                } : {
                    ...(0, _chunkZRT45YCMJs.g)(this, Dt).inactivePathOptions,
                    ...e
                });
            });
        }, "#redrawAllPaths")), (0, _chunkZRT45YCMJs.h)(this, hl, (0, _chunkZRT45YCMJs.a)(()=>{
            this.isMultiFloor && ((0, _chunkZRT45YCMJs.g)(this, Gs).forEach((e)=>e.destroy()), (0, _chunkZRT45YCMJs.i)(this, Gs, []), (0, _chunkZRT45YCMJs.i)(this, Gs, this.activeDirections.instructions.filter((e)=>{
                var t, i;
                return "TakeVortex" === (null == (t = e.action) ? void 0 : t.type) || "ExitVortex" === (null == (i = e.action) ? void 0 : i.type);
            }).map((e)=>new X5(e, (0, _chunkZRT45YCMJs.g)(this, Dt).connectionTemplate, (0, _chunkZRT45YCMJs.g)(this, pt))).filter((e)=>e))), (0, _chunkZRT45YCMJs.g)(this, Iv).call(this), (0, _chunkZRT45YCMJs.g)(this, pt).tryRendering();
        }, "#updateForMapChange")), (0, _chunkZRT45YCMJs.h)(this, Ef, (0, _chunkZRT45YCMJs.a)(()=>{
            var e, t;
            if (!1 !== (0, _chunkZRT45YCMJs.g)(this, Dt).polygonHighlightColor) {
                let i = this.activeDirections.path[this.activeDirections.path.length - 1];
                null == (e = this.activeDirections.path[0].locations) || e.forEach((e)=>{
                    e.polygons.forEach((e)=>{
                        (0, _chunkZRT45YCMJs.g)(this, pt).polygonColors.clearPolygonColor(e.id);
                    });
                }), null == (t = i.locations) || t.forEach((e)=>{
                    e.polygons.forEach((e)=>{
                        (0, _chunkZRT45YCMJs.g)(this, pt).polygonColors.clearPolygonColor(e.id);
                    });
                });
            }
        }, "#unhighlightPolygons")), (0, _chunkZRT45YCMJs.h)(this, Mf, (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.g)(this, Ha).length && (0, _chunkZRT45YCMJs.g)(this, Ha).forEach((e)=>{
                (0, _chunkZRT45YCMJs.g)(this, pt).markers.remove(e);
            }), (0, _chunkZRT45YCMJs.i)(this, Ha, []), null != (0, _chunkZRT45YCMJs.g)(this, cl) && (0, _chunkZRT45YCMJs.g)(this, pt).markers.remove((0, _chunkZRT45YCMJs.g)(this, cl)), (0, _chunkZRT45YCMJs.i)(this, cl, void 0), (0, _chunkZRT45YCMJs.g)(this, Gs).forEach((e)=>e.destroy()), (0, _chunkZRT45YCMJs.i)(this, Gs, []);
        }, "#removeAllMarkers")), (0, _chunkZRT45YCMJs.i)(this, pt, i), (0, _chunkZRT45YCMJs.i)(this, Dt, {
            scale: 1,
            polygonHighlightColor: "#7babc8",
            destinationMarkerTemplate: ()=>mI(),
            departureMarkerTemplate: ()=>fI(),
            ...t,
            pathOptions: {
                ...kY,
                ...null == t ? void 0 : t.pathOptions
            },
            inactivePathOptions: {
                ...BY,
                ...null == t ? void 0 : t.inactivePathOptions
            },
            connectionPathOptions: {
                ...FY,
                ...null == t ? void 0 : t.connectionPathOptions
            }
        }), null != (n = null == t ? void 0 : t.pathOptions) && n.farRadius || ((0, _chunkZRT45YCMJs.g)(this, Dt).pathOptions.farRadius = (0, _chunkZRT45YCMJs.g)(this, Dt).pathOptions.nearRadius * gI), null != (r = null == t ? void 0 : t.inactivePathOptions) && r.farRadius || ((0, _chunkZRT45YCMJs.g)(this, Dt).inactivePathOptions.farRadius = (0, _chunkZRT45YCMJs.g)(this, Dt).inactivePathOptions.nearRadius * gI), Array.isArray(e) ? ((0, _chunkZRT45YCMJs.i)(this, Cn, e), this.activeDirections = (0, _chunkZRT45YCMJs.g)(this, Cn)[0], (0, _chunkZRT45YCMJs.i)(this, ec, 0), (0, _chunkZRT45YCMJs.g)(this, pt).currentPath = e[0].path) : ((0, _chunkZRT45YCMJs.i)(this, Cn, [
            e
        ]), this.activeDirections = e, (0, _chunkZRT45YCMJs.g)(this, pt).currentPath = e.path), (0, _chunkZRT45YCMJs.i)(this, pt, i), (0, _chunkZRT45YCMJs.g)(this, pt).on(7, (0, _chunkZRT45YCMJs.g)(this, hl)), (0, _chunkZRT45YCMJs.g)(this, hl).call(this), (0, _chunkZRT45YCMJs.g)(this, Tf).call(this);
    }
    get isMultiFloor() {
        return this.mapIdsInvolvedInJourney.length > 1;
    }
    get mapsInJourney() {
        return this.mapIdsInvolvedInJourney.map((e)=>{
            var t;
            return null == (t = (0, _chunkZRT45YCMJs.g)(this, pt).mapObjects.get(e)) ? void 0 : t.mapClass;
        });
    }
    get mapsIdsInJourney() {
        return this.mapsInJourney.map((e)=>null == e ? void 0 : e.id).filter(Boolean) || [];
    }
    get buildingsInJourney() {
        return this.mapsInJourney.reduce((e, t)=>(t && null !== t.mapGroup && (e[t.mapGroup.id] || (e[t.mapGroup.id] = []), e[t.mapGroup.id].push(t)), e), {});
    }
    get mapIdsInvolvedInJourney() {
        let e = {};
        (0, _chunkZRT45YCMJs.g)(this, Cn).forEach((t)=>{
            t.path.forEach((t)=>e[t.map.id] = !0);
        });
        let t = Object.keys(e);
        return (0, _chunkZRT45YCMJs.g)(this, Sv).mapsInvolvedInJourney = t, t;
    }
    static create(t, i, n) {
        return null != e.instance && e.instance.destroy(), e.instance = new e(t, i, n), n.publish(29), e.instance;
    }
    destroy() {
        (0, _chunkZRT45YCMJs.g)(this, Ef).call(this), (0, _chunkZRT45YCMJs.g)(this, Mf).call(this), (0, _chunkZRT45YCMJs.g)(this, pt).paths.removeAllPaths(), (0, _chunkZRT45YCMJs.g)(this, pt).currentPath = void 0, (0, _chunkZRT45YCMJs.g)(this, pt).off(7, (0, _chunkZRT45YCMJs.g)(this, hl)), (0, _chunkZRT45YCMJs.g)(this, pt).publish(30), e.instance = null;
    }
};
Sv = new WeakMap, pt = new WeakMap, Cn = new WeakMap, ec = new WeakMap, Dt = new WeakMap, Gs = new WeakMap, cl = new WeakMap, Ha = new WeakMap, js = new WeakMap, Tf = new WeakMap, Iv = new WeakMap, hl = new WeakMap, Ef = new WeakMap, Mf = new WeakMap, (0, _chunkZRT45YCMJs.a)(Zr, "JourneyController"), (0, _chunkZRT45YCMJs.f)(Zr, "instance", null);
var we, vn, mi = Zr, yI = ((e)=>(e.enable = "enable", e.disable = "disable", e.showOverview = "showOverview", e.zoomInToMap = "zoomInToMap", e.scrollToMap = "scrollToMap", e.restack = "restack", e))(yI || {}), J5 = class {
    constructor(e){
        var t, i;
        (0, _chunkZRT45YCMJs.h)(this, we, void 0), (0, _chunkZRT45YCMJs.f)(this, "options", {}), (0, _chunkZRT45YCMJs.f)(this, "enabled", !1), (0, _chunkZRT45YCMJs.f)(this, "stackScene"), (0, _chunkZRT45YCMJs.f)(this, "hasOutdoorGeometry", !1), (0, _chunkZRT45YCMJs.f)(this, "needsUpdate", !1), (0, _chunkZRT45YCMJs.f)(this, "currentState", "INACTIVE"), (0, _chunkZRT45YCMJs.f)(this, "mapsInStack", []), (0, _chunkZRT45YCMJs.f)(this, "getZoomIntoMapOptions", (0, _chunkZRT45YCMJs.a)((e)=>{
            if ("map" in e && "nodes" in e && "rotation" in e) {
                let { map: t, nodes: i, rotation: n } = e;
                return [
                    new Ra([
                        t
                    ], (0, _chunkZRT45YCMJs.g)(this, we)),
                    {
                        activeMap: t,
                        focusOn: {
                            targets: {
                                nodes: i
                            },
                            options: {
                                tilt: .7,
                                rotation: n,
                                easing: "ease-in-out",
                                ...e.cameraOptions
                            }
                        }
                    }
                ];
            }
        }, "getZoomIntoMapOptions")), (0, _chunkZRT45YCMJs.f)(this, "getDisableOptions", (0, _chunkZRT45YCMJs.a)((e)=>{
            if ("map" in e) return [
                new Ra([
                    e.map
                ], (0, _chunkZRT45YCMJs.g)(this, we)),
                {
                    activeMap: e.map
                }
            ];
        }, "getDisableOptions")), (0, _chunkZRT45YCMJs.f)(this, "getShowOverviewOptions", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            if ("stackScene" in e) return [
                e.stackScene,
                {
                    activeMap: e.stackScene.currentMap,
                    focusOn: {
                        options: {
                            tilt: 1.2,
                            duration: 500,
                            ...e.animationOptions
                        }
                    },
                    verticalDistanceBetweenMaps: null == (t = this.options) ? void 0 : t.verticalDistanceBetweenMaps
                }
            ];
        }, "getShowOverviewOptions")), (0, _chunkZRT45YCMJs.f)(this, "getScrollToMapOptions", (0, _chunkZRT45YCMJs.a)((e)=>{
            if ("stackScene" in e && "map" in e && "nodes" in e) {
                let { stackScene: t, map: i, nodes: n, duration: r } = e;
                return [
                    t,
                    {
                        focusOn: {
                            targets: {
                                nodes: n
                            },
                            options: {
                                tilt: .7,
                                easing: "ease-in-out"
                            }
                        },
                        activeMap: i,
                        duration: r
                    }
                ];
            }
        }, "getScrollToMapOptions")), (0, _chunkZRT45YCMJs.f)(this, "getRestackOptions", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            if ("map" in e && "stackScene" in e) return [
                e.stackScene,
                {
                    activeMap: e.map,
                    focusOn: {
                        options: {
                            tilt: 1.2,
                            duration: 500
                        }
                    },
                    verticalDistanceBetweenMaps: null == (t = this.options) ? void 0 : t.verticalDistanceBetweenMaps
                }
            ];
        }, "getRestackOptions")), (0, _chunkZRT45YCMJs.f)(this, "getEnableOptions", (0, _chunkZRT45YCMJs.a)(()=>{}, "getEnableOptions")), (0, _chunkZRT45YCMJs.f)(this, "getShowOverviewTransition", (0, _chunkZRT45YCMJs.a)((e, t = !1)=>{
            var i;
            let [n, r] = e, o = null == (i = (0, _chunkZRT45YCMJs.g)(this, we).sceneManager) ? void 0 : i.currentScene, s = n;
            return async ()=>{
                (0, _chunkZRT45YCMJs.g)(this, we).publish(6), await (0, _chunkZRT45YCMJs.g)(this, we).tileManager.fadeOut(), await s.prepare((0, _chunkZRT45YCMJs.g)(this, we).sceneManager, r);
                let e = s.mapObjects.get(s.currentMap.id);
                e.object.position.z = s.computeMapZ(e, s.mapObjectsArray.indexOf(e), r), o && (null == o || o.mapObjectsArray.forEach((e)=>{
                    e.onInvisible();
                })), s.mapObjectsArray.forEach((e)=>{
                    e.onInvisible();
                }), (0, _chunkZRT45YCMJs.g)(this, we).controls.setPedestal(e.object.position.z), (0, _chunkZRT45YCMJs.g)(this, we).scene.add(s.object), s.object.add(e.object), this.hasOutdoorGeometry && await Promise.all(s.mapObjectsArray.map((e)=>e.fadeOut("outdoor-geometry"))), r.animate ? await Promise.all([
                    (0, _chunkZRT45YCMJs.g)(this, we).tileManager.fadeOut()
                ]) : s.mapObjectsArray.forEach((e, t)=>{
                    e.object.position.z = s.computeMapZ(e, t, r), s.object.add(e.object);
                }), s.createStackBoundingBox(), s.resize(), r.animate ? (await s.focusOnStackBox({
                    ...r,
                    autoFocusOnActiveMap: !0
                }), await s.expandMaps(s.mapObjectsArray, r).start()) : await Promise.all([
                    s.focusOnStackBox({
                        ...r,
                        autoFocusOnActiveMap: !0
                    }),
                    ...s.mapObjectsArray.map((e)=>e.fadeIn("default").start()),
                    ...this.hasOutdoorGeometry ? s.mapObjectsArray.map((e)=>e.fadeOut("outdoor-geometry").start()) : []
                ]), t || s.mapObjectsArray.forEach((e)=>{
                    e.onVisible();
                }), s.postRender(), s.lockControls(), (0, _chunkZRT45YCMJs.g)(this, we).scene.remove(o.object), t || (0, _chunkZRT45YCMJs.g)(this, we).publish(7);
            };
        }, "getShowOverviewTransition")), (0, _chunkZRT45YCMJs.f)(this, "getZoomInToMapTransition", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            let [i, n] = e, r = null == (t = (0, _chunkZRT45YCMJs.g)(this, we).sceneManager) ? void 0 : t.currentScene;
            return async ()=>{
                (0, _chunkZRT45YCMJs.g)(this, we).publish(6);
                let e = i.mapObjects.get(n.activeMap.id), t = e.object.position.z;
                await i.prepare((0, _chunkZRT45YCMJs.g)(this, we).sceneManager, n), e.object.position.z = t, (0, _chunkZRT45YCMJs.g)(this, we).paths.hideConnectionSegments(), r.destroyLabels(), i.mapObjects.forEach((e)=>{
                    i.object.add(null == e ? void 0 : e.object), e.onInvisible();
                }), r && (null == r || r.mapObjectsArray.forEach((e)=>{
                    e.onInvisible();
                })), (0, _chunkZRT45YCMJs.g)(this, we).scene.add(i.object), await Promise.all([
                    e.fadeIn().start(),
                    i.focusOnCurrentMap({
                        ...n,
                        autoFocusOnActiveMap: !0
                    }),
                    ...r.mapObjectsArray.filter((t)=>t !== e).map((e)=>e.fadeOut().start())
                ]), i.mapObjectsArray.forEach((e)=>{
                    e.onVisible();
                }), r.unmount(), i.postRender(), (0, _chunkZRT45YCMJs.g)(this, we).scene.remove(r.object), (0, _chunkZRT45YCMJs.g)(this, we).publish(7);
            };
        }, "getZoomInToMapTransition")), (0, _chunkZRT45YCMJs.f)(this, "getScrollToMapTransition", (0, _chunkZRT45YCMJs.a)((e, t = !1)=>{
            var i;
            let [n, r] = e, o = null == (i = (0, _chunkZRT45YCMJs.g)(this, we).sceneManager) ? void 0 : i.currentScene;
            return async ()=>{
                o.currentMap = r.activeMap, await o.scrollToMap(r.activeMap, r.duration), t || (0, _chunkZRT45YCMJs.g)(this, we).publish(7);
            };
        }, "getScrollToMapTransition")), (0, _chunkZRT45YCMJs.f)(this, "getRestackTransition", (0, _chunkZRT45YCMJs.a)((e, t = !1)=>{
            let [i, n] = e, r = (0, _chunkZRT45YCMJs.g)(this, we).sceneManager.currentScene;
            return async ()=>{
                (0, _chunkZRT45YCMJs.g)(this, we).publish(6), await i.prepare((0, _chunkZRT45YCMJs.g)(this, we).sceneManager, n);
                let e = i.mapObjects.get(i.currentMap.id);
                e.object.position.z = i.computeMapZ(e, i.mapObjectsArray.indexOf(e), n), r.mapObjectsArray.forEach((e)=>{
                    e.onInvisible();
                }), (0, _chunkZRT45YCMJs.g)(this, we).paths.hideConnectionSegments(), r.destroyLabels(), i.mapObjectsArray.forEach((e)=>{
                    e.onInvisible();
                }), (0, _chunkZRT45YCMJs.g)(this, we).scene.add(i.object), i.object.add(e.object), i.createStackBoundingBox(), i.resize(), await Promise.all([
                    ...r.mapObjectsArray.filter((t)=>t !== e).map((e)=>e.fadeOut().start()),
                    r.scrollToMap(n.activeMap),
                    i.expandMaps(i.mapObjectsArray, n).start()
                ]), t || i.mapObjectsArray.forEach((e)=>{
                    e.onVisible();
                }), r.unmount(), i.postRender(), i.lockControls(), (0, _chunkZRT45YCMJs.g)(this, we).scene.remove(r.object), t || (0, _chunkZRT45YCMJs.g)(this, we).publish(7);
            };
        }, "getRestackTransition")), (0, _chunkZRT45YCMJs.f)(this, "getDisableTransition", (0, _chunkZRT45YCMJs.a)((e)=>{
            let [t, i] = e, n = (0, _chunkZRT45YCMJs.g)(this, we).sceneManager.currentScene;
            return async ()=>{
                var e;
                let r = n.mapObjects.get(n.currentMap.id);
                (0, _chunkZRT45YCMJs.g)(this, we).publish(6);
                let o = t.mapObjects.get(i.activeMap.id);
                n instanceof zu && n.destroyLabels(), await t.prepare((0, _chunkZRT45YCMJs.g)(this, we).sceneManager, i), n && (null == n || n.mapObjectsArray.forEach((e)=>{
                    e.onInvisible();
                })), t.mapObjectsArray.forEach((e)=>{
                    e.onInvisible();
                }), (0, _chunkZRT45YCMJs.g)(this, we).scene.add(t.object), t.mapObjects.forEach((e)=>{
                    t.object.add(null == e ? void 0 : e.object);
                }), (0, _chunkZRT45YCMJs.g)(this, we).paths.hideConnectionSegments(), await Promise.all([
                    n instanceof zu && n.contractMaps(r).start(),
                    n.focusOnCurrentMap({
                        ...i,
                        autoFocusOnActiveMap: !0
                    })
                ].filter((e)=>e)), (0, _chunkZRT45YCMJs.g)(this, we).scene.remove(n.object), (0, _chunkZRT45YCMJs.g)(this, we).tryRendering(), o.object.position.z = 0, (0, _chunkZRT45YCMJs.g)(this, we).controls.setPedestal(0), t.focusOnCurrentMap({
                    ...i,
                    focusOn: {
                        ...i.focusOn,
                        options: {
                            ...null == (e = i.focusOn) ? void 0 : e.options,
                            duration: 150
                        }
                    },
                    autoFocusOnActiveMap: !0
                }), n.unmount(), await Promise.all([
                    (0, _chunkZRT45YCMJs.g)(this, we).tileManager.fadeIn(),
                    ...t.mapObjectsArray.map((e)=>e.fadeIn().start())
                ]), t.mapObjectsArray.forEach((e)=>{
                    e.onVisible();
                }), t.postRender(), (0, _chunkZRT45YCMJs.g)(this, we).publish(7);
            };
        }, "getDisableTransition")), (0, _chunkZRT45YCMJs.f)(this, "getEnableTransition", (0, _chunkZRT45YCMJs.a)(()=>()=>{}, "getEnableTransition")), (0, _chunkZRT45YCMJs.f)(this, "states", {
            INACTIVE: {
                actions: {
                    ...Object.keys(yI).reduce((e, t)=>(e[t] = [
                            "INACTIVE",
                            [
                                ()=>R.warn("StackedMaps is not enabled.")
                            ]
                        ], e), {}),
                    enable: [
                        "ACTIVE",
                        [
                            ()=>this.getEnableOptions()
                        ]
                    ]
                }
            },
            ACTIVE: {
                actions: {
                    enable: [
                        "ACTIVE",
                        [
                            ()=>R.warn("StackedMaps is already enabled.")
                        ]
                    ],
                    disable: [
                        "INACTIVE",
                        [
                            (e)=>this.getDisableTransition(this.getDisableOptions(e))
                        ]
                    ],
                    showOverview: [
                        "OVERVIEW",
                        [
                            (e)=>{
                                let t = this.getShowOverviewOptions(e);
                                if (null != t && "map" in e) {
                                    let [i, n] = t;
                                    return this.getShowOverviewTransition([
                                        i,
                                        (0, vI.default)({}, n, t, {
                                            activeMap: e.map,
                                            animate: !0,
                                            focusOn: {
                                                options: {
                                                    tilt: 1.2,
                                                    duration: 500
                                                }
                                            }
                                        })
                                    ]);
                                }
                                return Promise.reject();
                            }
                        ]
                    ],
                    zoomInToMap: [
                        "ZOOMED_IN",
                        [
                            (e)=>this.getShowOverviewTransition(this.getShowOverviewOptions(e), !0),
                            (e)=>this.getScrollToMapTransition(this.getScrollToMapOptions(e), !0),
                            (e)=>this.getZoomInToMapTransition(this.getZoomIntoMapOptions(e))
                        ]
                    ]
                }
            },
            OVERVIEW: {
                actions: {
                    enable: [
                        "OVERVIEW",
                        [
                            ()=>R.warn("StackedMaps is already enabled.")
                        ]
                    ],
                    showOverview: [
                        "OVERVIEW",
                        [
                            ()=>R.warn("StackedMaps is already in overview.")
                        ]
                    ],
                    disable: [
                        "INACTIVE",
                        [
                            (e)=>this.getDisableTransition(this.getDisableOptions(e))
                        ]
                    ],
                    zoomInToMap: [
                        "ZOOMED_IN",
                        [
                            (e)=>this.getScrollToMapTransition(this.getScrollToMapOptions(e), !0),
                            (e)=>this.getZoomInToMapTransition(this.getZoomIntoMapOptions(e))
                        ]
                    ],
                    scrollToMap: [
                        "OVERVIEW",
                        [
                            (e)=>this.getScrollToMapTransition(this.getScrollToMapOptions(e))
                        ]
                    ],
                    restack: [
                        "OVERVIEW",
                        [
                            (e)=>this.getRestackTransition(this.getRestackOptions(e))
                        ]
                    ]
                }
            },
            ZOOMED_IN: {
                actions: {
                    enable: [
                        "ZOOMED_IN",
                        [
                            ()=>R.warn("StackedMaps is already enabled.")
                        ]
                    ],
                    disable: [
                        "INACTIVE",
                        [
                            (e)=>this.getDisableTransition(this.getDisableOptions(e))
                        ]
                    ],
                    showOverview: [
                        "OVERVIEW",
                        [
                            (e)=>this.getShowOverviewTransition(this.getShowOverviewOptions(e))
                        ]
                    ],
                    zoomInToMap: [
                        "ZOOMED_IN",
                        [
                            (e)=>this.getShowOverviewTransition(this.getShowOverviewOptions(e), !0),
                            (e)=>this.getScrollToMapTransition(this.getScrollToMapOptions(e), !0),
                            (e)=>this.getZoomInToMapTransition(this.getZoomIntoMapOptions(e))
                        ]
                    ]
                }
            }
        }), (0, _chunkZRT45YCMJs.h)(this, vn, !1), (0, _chunkZRT45YCMJs.f)(this, "disable", (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.g)(this, we).setState("explore"), this.options = {};
            let e = this.transition(this.currentState, "disable");
            return null != e ? (this.enabled = !1, this.mapsInStack = [], this.exec(e, {
                map: this.currentMap
            })) : Promise.reject(new Error("StackedMaps disable failed."));
        }, "disable")), (0, _chunkZRT45YCMJs.f)(this, "enable", (0, _chunkZRT45YCMJs.a)((e)=>{
            let t = this.transition(this.currentState, "enable");
            return null != t ? (this.options = e || {}, (0, _chunkZRT45YCMJs.g)(this, we).setState("STACKED"), this.enabled = !0, this.mapsInStack = this.determineMapStack, this.stackScene = new zu(this.mapsInStack, (0, _chunkZRT45YCMJs.g)(this, we), null == e ? void 0 : e.mapLabels), this.exec(t, {
                map: this.currentMap
            })) : Promise.reject(new Error("StackedMaps enable failed."));
        }, "enable")), (0, _chunkZRT45YCMJs.f)(this, "showOverview", (0, _chunkZRT45YCMJs.a)(async (e)=>{
            if ((0, _chunkZRT45YCMJs.g)(this, vn)) return R.warn("Transition in progress."), Promise.resolve();
            (0, _chunkZRT45YCMJs.i)(this, vn, !0);
            let t = this.transition(this.currentState, "showOverview");
            return this.exec(t, {
                map: this.currentMap,
                stackScene: this.stackScene,
                animationOptions: e
            });
        }, "showOverview")), (0, _chunkZRT45YCMJs.f)(this, "scrollToMap", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            if ((0, _chunkZRT45YCMJs.g)(this, vn)) return R.warn("Transition in progress"), Promise.resolve();
            (0, _chunkZRT45YCMJs.i)(this, vn, !0);
            let i = this.transition(this.currentState, "scrollToMap");
            return this.exec(i, {
                stackScene: this.stackScene,
                map: e,
                rotation: void 0,
                nodes: this.nodesInJourneyOrMap.filter((t)=>t.map.id === e.id),
                duration: t
            });
        }, "scrollToMap")), (0, _chunkZRT45YCMJs.f)(this, "restack", (0, _chunkZRT45YCMJs.a)((e)=>{
            if ((0, _chunkZRT45YCMJs.g)(this, vn)) return R.warn("Transition in progress."), Promise.resolve();
            (0, _chunkZRT45YCMJs.i)(this, vn, !0);
            let t = this.transition(this.currentState, "restack");
            return this.options = {
                ...this.options,
                ...e
            }, this.mapsInStack = this.determineMapStack, this.stackScene = new zu(this.mapsInStack, (0, _chunkZRT45YCMJs.g)(this, we), null == e ? void 0 : e.mapLabels), this.exec(t, {
                map: this.currentMap,
                stackScene: this.stackScene
            });
        }, "restack")), (0, _chunkZRT45YCMJs.f)(this, "zoomInToMap", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            if ((0, _chunkZRT45YCMJs.g)(this, vn)) return R.warn("Transition in progress."), Promise.resolve();
            (0, _chunkZRT45YCMJs.i)(this, vn, !0);
            let i = e || this.currentMap, n = null != mi.instance ? this.nodesInJourneyOrMap.filter((e)=>e.map.id === i.id) : [], r = n.length ? n : i.nodes, o = this.transition(this.currentState, "zoomInToMap");
            return this.exec(o, {
                map: e,
                nodes: r,
                stackScene: this.stackScene,
                rotation: (0, _chunkZRT45YCMJs.g)(this, we).controls.getRotation(),
                cameraOptions: t
            });
        }, "zoomInToMap")), (0, _chunkZRT45YCMJs.i)(this, we, e);
        let n = null == (i = null == (t = (0, _chunkZRT45YCMJs.g)(this, we).options) ? void 0 : t.loadOptions) ? void 0 : i.outdoorGeometryLayers;
        this.hasOutdoorGeometry = Array.isArray(n) && n.length > 0;
    }
    get mapIdsInStack() {
        return this.mapsInStack.map((e)=>e.id);
    }
    get determineMapStack() {
        var e, t, i;
        let n = null == (t = null == (e = this.options) ? void 0 : e.prioritizeJourneyMaps) || t, r = (null == (i = this.currentMap.mapGroup) ? void 0 : i.maps) || (0, _chunkZRT45YCMJs.g)(this, we).venue.maps;
        return n && null != mi.instance && mi.instance.mapsIdsInJourney.includes(this.currentMap.id) && (r = mi.instance.mapsInJourney), r;
    }
    transition(e, t) {
        var i, n;
        let r = null == (i = this.states[e]) ? void 0 : i.actions[t], o = null != (n = null == r ? void 0 : r[0]) ? n : e;
        if (null != o && null != r) return this.currentState = o, this.needsUpdate = !0, r[1];
        this.needsUpdate = !1;
    }
    async exec(e, t) {
        if (this.needsUpdate && null != e) {
            if (Array.isArray(e) && e.filter((e)=>e).length > 0) {
                for (let i of e){
                    let e = i(t);
                    "function" == typeof e && await e();
                }
                return (0, _chunkZRT45YCMJs.i)(this, vn, !1), Promise.resolve();
            }
            (0, _chunkZRT45YCMJs.i)(this, vn, !1);
        } else (0, _chunkZRT45YCMJs.i)(this, vn, !1);
    }
    get nodesInJourneyOrMap() {
        if (null != mi.instance) {
            let e = mi.instance.activeDirections;
            return Array.isArray(e) ? e.map((e)=>e.path).flat() : e.path;
        }
        return this.currentMap.nodes;
    }
    get currentMap() {
        return (0, _chunkZRT45YCMJs.g)(this, we).venue.getCollectionItemById("maps", (0, _chunkZRT45YCMJs.g)(this, we).currentMap);
    }
};
we = new WeakMap, vn = new WeakMap, (0, _chunkZRT45YCMJs.a)(J5, "StackedMapsController");
var Q5 = J5, K5 = Q5;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var eM = class {
    constructor(){
        this._previousTime = 0, this._currentTime = 0, this._startTime = $5(), this._delta = 0, this._elapsed = 0, this._timescale = 1, this._usePageVisibilityAPI = typeof document < "u" && void 0 !== document.hidden, !0 === this._usePageVisibilityAPI && (this._pageVisibilityHandler = UY.bind(this), document.addEventListener("visibilitychange", this._pageVisibilityHandler, !1));
    }
    getDelta() {
        return this._delta / 1e3;
    }
    getElapsed() {
        return this._elapsed / 1e3;
    }
    getTimescale() {
        return this._timescale;
    }
    setTimescale(e) {
        return this._timescale = e, this;
    }
    reset() {
        return this._currentTime = $5() - this._startTime, this;
    }
    dispose() {
        return !0 === this._usePageVisibilityAPI && document.removeEventListener("visibilitychange", this._pageVisibilityHandler), this;
    }
    update(e) {
        return !0 === this._usePageVisibilityAPI && !0 === document.hidden ? this._delta = 0 : (this._previousTime = this._currentTime, this._currentTime = (void 0 !== e ? e : $5()) - this._startTime, this._delta = (this._currentTime - this._previousTime) * this._timescale, this._elapsed += this._delta), this;
    }
};
(0, _chunkZRT45YCMJs.a)(eM, "Timer");
var _v = eM;
function $5() {
    return (typeof performance > "u" ? Date : performance).now();
}
function UY() {
    !1 === document.hidden && this.reset();
}
(0, _chunkZRT45YCMJs.a)($5, "now"), (0, _chunkZRT45YCMJs.a)(UY, "handleVisibilityChange");
var wf, Af, Cf, Pf, Sf, If, _f, zY = "varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}", De = {
    SKIP: 9,
    SET: 30,
    ADD: 0,
    ALPHA: 1,
    AVERAGE: 2,
    COLOR: 3,
    COLOR_BURN: 4,
    COLOR_DODGE: 5,
    DARKEN: 6,
    DIFFERENCE: 7,
    DIVIDE: 8,
    DST: 9,
    EXCLUSION: 10,
    HARD_LIGHT: 11,
    HARD_MIX: 12,
    HUE: 13,
    INVERT: 14,
    INVERT_RGB: 15,
    LIGHTEN: 16,
    LINEAR_BURN: 17,
    LINEAR_DODGE: 18,
    LINEAR_LIGHT: 19,
    LUMINOSITY: 20,
    MULTIPLY: 21,
    NEGATION: 22,
    NORMAL: 23,
    OVERLAY: 24,
    PIN_LIGHT: 25,
    REFLECT: 26,
    SATURATION: 27,
    SCREEN: 28,
    SOFT_LIGHT: 29,
    SRC: 30,
    SUBTRACT: 31,
    VIVID_LIGHT: 32
}, wI = {
    DEPTH: 0,
    LUMA: 1,
    COLOR: 2
}, Wa = {
    NONE: 0,
    DEPTH: 1,
    CONVOLUTION: 2
}, nt = {
    FRAGMENT_HEAD: "FRAGMENT_HEAD",
    FRAGMENT_MAIN_UV: "FRAGMENT_MAIN_UV",
    FRAGMENT_MAIN_IMAGE: "FRAGMENT_MAIN_IMAGE",
    VERTEX_HEAD: "VERTEX_HEAD",
    VERTEX_MAIN_SUPPORT: "VERTEX_MAIN_SUPPORT"
}, nM = {
    VERY_SMALL: 0,
    SMALL: 1,
    MEDIUM: 2,
    LARGE: 3,
    VERY_LARGE: 4,
    HUGE: 5
}, VY = {
    DISABLED: 0,
    DEPTH: 1,
    CUSTOM: 2
}, Qr = {
    LOW: 0,
    MEDIUM: 1,
    HIGH: 2,
    ULTRA: 3
}, GY = "#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nvarying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <colorspace_fragment>\n}", jY = "uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}", HY = [
    new Float32Array([
        0,
        0
    ]),
    new Float32Array([
        0,
        1,
        1
    ]),
    new Float32Array([
        0,
        1,
        1,
        2
    ]),
    new Float32Array([
        0,
        1,
        2,
        2,
        3
    ]),
    new Float32Array([
        0,
        1,
        2,
        3,
        4,
        4,
        5
    ]),
    new Float32Array([
        0,
        1,
        2,
        3,
        4,
        5,
        7,
        8,
        9,
        10
    ])
], YY = ((0, _chunkZRT45YCMJs.a)(wf = class extends (0, _chunk4XLXKB34Js.da) {
    constructor(e = new (0, _chunk4XLXKB34Js.P)){
        super({
            name: "KawaseBlurMaterial",
            uniforms: {
                inputBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                texelSize: new (0, _chunk4XLXKB34Js.Na)(new (0, _chunk4XLXKB34Js.P)),
                scale: new (0, _chunk4XLXKB34Js.Na)(1),
                kernel: new (0, _chunk4XLXKB34Js.Na)(0)
            },
            blending: (0, _chunk4XLXKB34Js.f),
            toneMapped: !1,
            depthWrite: !1,
            depthTest: !1,
            fragmentShader: GY,
            vertexShader: jY
        }), this.setTexelSize(e.x, e.y), this.kernelSize = nM.MEDIUM;
    }
    set inputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    setInputBuffer(e) {
        this.inputBuffer = e;
    }
    get kernelSequence() {
        return HY[this.kernelSize];
    }
    get scale() {
        return this.uniforms.scale.value;
    }
    set scale(e) {
        this.uniforms.scale.value = e;
    }
    getScale() {
        return this.uniforms.scale.value;
    }
    setScale(e) {
        this.uniforms.scale.value = e;
    }
    getKernel() {
        return null;
    }
    get kernel() {
        return this.uniforms.kernel.value;
    }
    set kernel(e) {
        this.uniforms.kernel.value = e;
    }
    setKernel(e) {
        this.kernel = e;
    }
    setTexelSize(e, t) {
        this.uniforms.texelSize.value.set(e, t, .5 * e, .5 * t);
    }
    setSize(e, t) {
        let i = 1 / e, n = 1 / t;
        this.uniforms.texelSize.value.set(i, n, .5 * i, .5 * n);
    }
}, "KawaseBlurMaterial"), wf), WY = "#include <common>\n#include <dithering_pars_fragment>\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;\n#include <colorspace_fragment>\n#include <dithering_fragment>\n}", AI = ((0, _chunkZRT45YCMJs.a)(Af = class extends (0, _chunk4XLXKB34Js.da) {
    constructor(){
        super({
            name: "CopyMaterial",
            uniforms: {
                inputBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                opacity: new (0, _chunk4XLXKB34Js.Na)(1)
            },
            blending: (0, _chunk4XLXKB34Js.f),
            toneMapped: !1,
            depthWrite: !1,
            depthTest: !1,
            fragmentShader: WY,
            vertexShader: zY
        });
    }
    set inputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    setInputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    getOpacity(e) {
        return this.uniforms.opacity.value;
    }
    setOpacity(e) {
        this.uniforms.opacity.value = e;
    }
}, "CopyMaterial"), Af), XY = "#include <packing>\n#include <clipping_planes_pars_fragment>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float cameraNear;uniform float cameraFar;centroid varying float vViewZ;centroid varying vec4 vProjTexCoord;void main(){\n#include <clipping_planes_fragment>\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);\n#if DEPTH_PACKING == 3201\nfloat fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\n#else\nfloat fragCoordZ=texture2D(depthBuffer,projTexCoord).r;\n#endif\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#else\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#endif\nfloat depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}", ZY = "#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <skinbase_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\n#include <clipping_planes_vertex>\n}", QY = ((0, _chunkZRT45YCMJs.a)(Cf = class extends (0, _chunk4XLXKB34Js.da) {
    constructor(e = null, t){
        super({
            name: "DepthComparisonMaterial",
            defines: {
                DEPTH_PACKING: "0"
            },
            uniforms: {
                depthBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                cameraNear: new (0, _chunk4XLXKB34Js.Na)(.3),
                cameraFar: new (0, _chunk4XLXKB34Js.Na)(1e3)
            },
            blending: (0, _chunk4XLXKB34Js.f),
            toneMapped: !1,
            depthWrite: !1,
            depthTest: !1,
            fragmentShader: XY,
            vertexShader: ZY
        }), this.depthBuffer = e, this.depthPacking = (0, _chunk4XLXKB34Js.C), this.copyCameraSettings(t);
    }
    set depthBuffer(e) {
        this.uniforms.depthBuffer.value = e;
    }
    set depthPacking(e) {
        this.defines.DEPTH_PACKING = e.toFixed(0), this.needsUpdate = !0;
    }
    setDepthBuffer(e, t = (0, _chunk4XLXKB34Js.C)) {
        this.depthBuffer = e, this.depthPacking = t;
    }
    adoptCameraSettings(e) {
        this.copyCameraSettings(e);
    }
    copyCameraSettings(e) {
        e && (this.uniforms.cameraNear.value = e.near, this.uniforms.cameraFar.value = e.far, e instanceof (0, _chunk4XLXKB34Js.fa) ? this.defines.PERSPECTIVE_CAMERA = "1" : delete this.defines.PERSPECTIVE_CAMERA, this.needsUpdate = !0);
    }
}, "DepthComparisonMaterial"), Cf), KY = "varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\n#if EDGE_DETECTION_MODE == 1\n#include <common>\n#endif\n#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}\n#elif PREDICATION_MODE == 2\nuniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}\n#endif\n#if PREDICATION_MODE != 0\nvec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}\n#endif\n#if EDGE_DETECTION_MODE != 0\nuniform sampler2D inputBuffer;\n#endif\nvoid main(){\n#if EDGE_DETECTION_MODE == 0\nconst vec2 threshold=vec2(DEPTH_THRESHOLD);\n#elif PREDICATION_MODE != 0\nvec2 threshold=calculatePredicatedThreshold();\n#else\nconst vec2 threshold=vec2(EDGE_THRESHOLD);\n#endif\n#if EDGE_DETECTION_MODE == 0\nvec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 1\nfloat l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#elif EDGE_DETECTION_MODE == 2\nvec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);\n#endif\n}", JY = "uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}", $Y = ((0, _chunkZRT45YCMJs.a)(Pf = class extends (0, _chunk4XLXKB34Js.da) {
    constructor(e = new (0, _chunk4XLXKB34Js.M), t = wI.COLOR){
        super({
            name: "EdgeDetectionMaterial",
            defines: {
                THREE_REVISION: (0, _chunk4XLXKB34Js.a).replace(/\D+/g, ""),
                LOCAL_CONTRAST_ADAPTATION_FACTOR: "2.0",
                EDGE_THRESHOLD: "0.1",
                DEPTH_THRESHOLD: "0.01",
                PREDICATION_MODE: "0",
                PREDICATION_THRESHOLD: "0.01",
                PREDICATION_SCALE: "2.0",
                PREDICATION_STRENGTH: "1.0",
                DEPTH_PACKING: "0"
            },
            uniforms: {
                inputBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                depthBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                predicationBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                texelSize: new (0, _chunk4XLXKB34Js.Na)(e)
            },
            blending: (0, _chunk4XLXKB34Js.f),
            toneMapped: !1,
            depthWrite: !1,
            depthTest: !1,
            fragmentShader: KY,
            vertexShader: JY
        }), this.edgeDetectionMode = t;
    }
    set depthBuffer(e) {
        this.uniforms.depthBuffer.value = e;
    }
    set depthPacking(e) {
        this.defines.DEPTH_PACKING = e.toFixed(0), this.needsUpdate = !0;
    }
    setDepthBuffer(e, t = (0, _chunk4XLXKB34Js.B)) {
        this.depthBuffer = e, this.depthPacking = t;
    }
    get edgeDetectionMode() {
        return Number(this.defines.EDGE_DETECTION_MODE);
    }
    set edgeDetectionMode(e) {
        this.defines.EDGE_DETECTION_MODE = e.toFixed(0), this.needsUpdate = !0;
    }
    getEdgeDetectionMode() {
        return this.edgeDetectionMode;
    }
    setEdgeDetectionMode(e) {
        this.edgeDetectionMode = e;
    }
    get localContrastAdaptationFactor() {
        return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR);
    }
    set localContrastAdaptationFactor(e) {
        this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR = e.toFixed("6"), this.needsUpdate = !0;
    }
    getLocalContrastAdaptationFactor() {
        return this.localContrastAdaptationFactor;
    }
    setLocalContrastAdaptationFactor(e) {
        this.localContrastAdaptationFactor = e;
    }
    get edgeDetectionThreshold() {
        return Number(this.defines.EDGE_THRESHOLD);
    }
    set edgeDetectionThreshold(e) {
        this.defines.EDGE_THRESHOLD = e.toFixed("6"), this.defines.DEPTH_THRESHOLD = (.1 * e).toFixed("6"), this.needsUpdate = !0;
    }
    getEdgeDetectionThreshold() {
        return this.edgeDetectionThreshold;
    }
    setEdgeDetectionThreshold(e) {
        this.edgeDetectionThreshold = e;
    }
    get predicationMode() {
        return Number(this.defines.PREDICATION_MODE);
    }
    set predicationMode(e) {
        this.defines.PREDICATION_MODE = e.toFixed(0), this.needsUpdate = !0;
    }
    getPredicationMode() {
        return this.predicationMode;
    }
    setPredicationMode(e) {
        this.predicationMode = e;
    }
    set predicationBuffer(e) {
        this.uniforms.predicationBuffer.value = e;
    }
    setPredicationBuffer(e) {
        this.uniforms.predicationBuffer.value = e;
    }
    get predicationThreshold() {
        return Number(this.defines.PREDICATION_THRESHOLD);
    }
    set predicationThreshold(e) {
        this.defines.PREDICATION_THRESHOLD = e.toFixed("6"), this.needsUpdate = !0;
    }
    getPredicationThreshold() {
        return this.predicationThreshold;
    }
    setPredicationThreshold(e) {
        this.predicationThreshold = e;
    }
    get predicationScale() {
        return Number(this.defines.PREDICATION_SCALE);
    }
    set predicationScale(e) {
        this.defines.PREDICATION_SCALE = e.toFixed("6"), this.needsUpdate = !0;
    }
    getPredicationScale() {
        return this.predicationScale;
    }
    setPredicationScale(e) {
        this.predicationScale = e;
    }
    get predicationStrength() {
        return Number(this.defines.PREDICATION_STRENGTH);
    }
    set predicationStrength(e) {
        this.defines.PREDICATION_STRENGTH = e.toFixed("6"), this.needsUpdate = !0;
    }
    getPredicationStrength() {
        return this.predicationStrength;
    }
    setPredicationStrength(e) {
        this.predicationStrength = e;
    }
    setSize(e, t) {
        this.uniforms.texelSize.value.set(1 / e, 1 / t);
    }
}, "EdgeDetectionMaterial"), Pf), eW = "#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#define packFloatToRGBA(v) packDepthToRGBA(v)\n#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\n#if DEPTH_PACKING == 3201\nuniform lowp sampler2D depthBuffer;\n#elif defined(GL_FRAGMENT_PRECISION_HIGH)\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;\n#if THREE_REVISION < 143\n#define luminance(v) linearToRelativeLuminance(v)\n#endif\n#if THREE_REVISION >= 137\nvec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}\n#endif\nfloat readDepth(const in vec2 uv){\n#if DEPTH_PACKING == 3201\nreturn unpackRGBAToDepth(texture2D(depthBuffer,uv));\n#else\nreturn texture2D(depthBuffer,uv).r;\n#endif\n}float getViewZ(const in float depth){\n#ifdef PERSPECTIVE_CAMERA\nreturn perspectiveDepthToViewZ(depth,cameraNear,cameraFar);\n#else\nreturn orthographicDepthToViewZ(depth,cameraNear,cameraFar);\n#endif\n}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;\n#ifdef ENCODE_OUTPUT\n#include <colorspace_fragment>\n#endif\n#include <dithering_fragment>\n}", tW = "uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}", iW = ((0, _chunkZRT45YCMJs.a)(Sf = class extends (0, _chunk4XLXKB34Js.da) {
    constructor(e, t, i, n, r = !1){
        super({
            name: "EffectMaterial",
            defines: {
                THREE_REVISION: (0, _chunk4XLXKB34Js.a).replace(/\D+/g, ""),
                DEPTH_PACKING: "0",
                ENCODE_OUTPUT: "1"
            },
            uniforms: {
                inputBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                depthBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                resolution: new (0, _chunk4XLXKB34Js.Na)(new (0, _chunk4XLXKB34Js.M)),
                texelSize: new (0, _chunk4XLXKB34Js.Na)(new (0, _chunk4XLXKB34Js.M)),
                cameraNear: new (0, _chunk4XLXKB34Js.Na)(.3),
                cameraFar: new (0, _chunk4XLXKB34Js.Na)(1e3),
                aspect: new (0, _chunk4XLXKB34Js.Na)(1),
                time: new (0, _chunk4XLXKB34Js.Na)(0)
            },
            blending: (0, _chunk4XLXKB34Js.f),
            toneMapped: !1,
            depthWrite: !1,
            depthTest: !1,
            dithering: r
        }), e && this.setShaderParts(e), t && this.setDefines(t), i && this.setUniforms(i), this.copyCameraSettings(n);
    }
    set inputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    setInputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    get depthBuffer() {
        return this.uniforms.depthBuffer.value;
    }
    set depthBuffer(e) {
        this.uniforms.depthBuffer.value = e;
    }
    get depthPacking() {
        return Number(this.defines.DEPTH_PACKING);
    }
    set depthPacking(e) {
        this.defines.DEPTH_PACKING = e.toFixed(0), this.needsUpdate = !0;
    }
    setDepthBuffer(e, t = (0, _chunk4XLXKB34Js.B)) {
        this.depthBuffer = e, this.depthPacking = t;
    }
    setShaderData(e) {
        this.setShaderParts(e.shaderParts), this.setDefines(e.defines), this.setUniforms(e.uniforms), this.setExtensions(e.extensions);
    }
    setShaderParts(e) {
        return this.fragmentShader = eW.replace(nt.FRAGMENT_HEAD, e.get(nt.FRAGMENT_HEAD) || "").replace(nt.FRAGMENT_MAIN_UV, e.get(nt.FRAGMENT_MAIN_UV) || "").replace(nt.FRAGMENT_MAIN_IMAGE, e.get(nt.FRAGMENT_MAIN_IMAGE) || ""), this.vertexShader = tW.replace(nt.VERTEX_HEAD, e.get(nt.VERTEX_HEAD) || "").replace(nt.VERTEX_MAIN_SUPPORT, e.get(nt.VERTEX_MAIN_SUPPORT) || ""), this.needsUpdate = !0, this;
    }
    setDefines(e) {
        for (let t of e.entries())this.defines[t[0]] = t[1];
        return this.needsUpdate = !0, this;
    }
    setUniforms(e) {
        for (let t of e.entries())this.uniforms[t[0]] = t[1];
        return this;
    }
    setExtensions(e) {
        this.extensions = {};
        for (let t of e)this.extensions[t] = !0;
        return this;
    }
    get encodeOutput() {
        return void 0 !== this.defines.ENCODE_OUTPUT;
    }
    set encodeOutput(e) {
        this.encodeOutput !== e && (e ? this.defines.ENCODE_OUTPUT = "1" : delete this.defines.ENCODE_OUTPUT, this.needsUpdate = !0);
    }
    isOutputEncodingEnabled(e) {
        return this.encodeOutput;
    }
    setOutputEncodingEnabled(e) {
        this.encodeOutput = e;
    }
    get time() {
        return this.uniforms.time.value;
    }
    set time(e) {
        this.uniforms.time.value = e;
    }
    setDeltaTime(e) {
        this.uniforms.time.value += e;
    }
    adoptCameraSettings(e) {
        this.copyCameraSettings(e);
    }
    copyCameraSettings(e) {
        e && (this.uniforms.cameraNear.value = e.near, this.uniforms.cameraFar.value = e.far, e instanceof (0, _chunk4XLXKB34Js.fa) ? this.defines.PERSPECTIVE_CAMERA = "1" : delete this.defines.PERSPECTIVE_CAMERA, this.needsUpdate = !0);
    }
    setSize(e, t) {
        let i = this.uniforms;
        i.resolution.value.set(e, t), i.texelSize.value.set(1 / e, 1 / t), i.aspect.value = e / t;
    }
    static get Section() {
        return nt;
    }
}, "EffectMaterial"), Sf), nW = "uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}", rW = "uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}", aW = ((0, _chunkZRT45YCMJs.a)(If = class extends (0, _chunk4XLXKB34Js.da) {
    constructor(e = new (0, _chunk4XLXKB34Js.M)){
        super({
            name: "OutlineMaterial",
            uniforms: {
                inputBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                texelSize: new (0, _chunk4XLXKB34Js.Na)(new (0, _chunk4XLXKB34Js.M))
            },
            blending: (0, _chunk4XLXKB34Js.f),
            toneMapped: !1,
            depthWrite: !1,
            depthTest: !1,
            fragmentShader: nW,
            vertexShader: rW
        }), this.uniforms.texelSize.value.set(e.x, e.y), this.uniforms.maskTexture = this.uniforms.inputBuffer;
    }
    set inputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    setInputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    setTexelSize(e, t) {
        this.uniforms.texelSize.value.set(e, t);
    }
    setSize(e, t) {
        this.uniforms.texelSize.value.set(1 / e, 1 / t);
    }
}, "OutlineMaterial"), If), sW = "#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\n#ifdef FRAMEBUFFER_PRECISION_HIGH\nuniform mediump sampler2D inputBuffer;\n#else\nuniform lowp sampler2D inputBuffer;\n#endif\nuniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\nweights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}", oW = "uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}", lW = ((0, _chunkZRT45YCMJs.a)(_f = class extends (0, _chunk4XLXKB34Js.da) {
    constructor(e = new (0, _chunk4XLXKB34Js.M), t = new (0, _chunk4XLXKB34Js.M)){
        super({
            name: "SMAAWeightsMaterial",
            defines: {
                MAX_SEARCH_STEPS_INT: "16",
                MAX_SEARCH_STEPS_FLOAT: "16.0",
                MAX_SEARCH_STEPS_DIAG_INT: "8",
                MAX_SEARCH_STEPS_DIAG_FLOAT: "8.0",
                CORNER_ROUNDING: "25",
                CORNER_ROUNDING_NORM: "0.25",
                AREATEX_MAX_DISTANCE: "16.0",
                AREATEX_MAX_DISTANCE_DIAG: "20.0",
                AREATEX_PIXEL_SIZE: "(1.0 / vec2(160.0, 560.0))",
                AREATEX_SUBTEX_SIZE: "(1.0 / 7.0)",
                SEARCHTEX_SIZE: "vec2(66.0, 33.0)",
                SEARCHTEX_PACKED_SIZE: "vec2(64.0, 16.0)"
            },
            uniforms: {
                inputBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
                searchTexture: new (0, _chunk4XLXKB34Js.Na)(null),
                areaTexture: new (0, _chunk4XLXKB34Js.Na)(null),
                resolution: new (0, _chunk4XLXKB34Js.Na)(t),
                texelSize: new (0, _chunk4XLXKB34Js.Na)(e)
            },
            blending: (0, _chunk4XLXKB34Js.f),
            toneMapped: !1,
            depthWrite: !1,
            depthTest: !1,
            fragmentShader: sW,
            vertexShader: oW
        });
    }
    set inputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    setInputBuffer(e) {
        this.uniforms.inputBuffer.value = e;
    }
    get searchTexture() {
        return this.uniforms.searchTexture.value;
    }
    set searchTexture(e) {
        this.uniforms.searchTexture.value = e;
    }
    get areaTexture() {
        return this.uniforms.areaTexture.value;
    }
    set areaTexture(e) {
        this.uniforms.areaTexture.value = e;
    }
    setLookupTextures(e, t) {
        this.searchTexture = e, this.areaTexture = t;
    }
    get orthogonalSearchSteps() {
        return Number(this.defines.MAX_SEARCH_STEPS_INT);
    }
    set orthogonalSearchSteps(e) {
        let t = Math.min(Math.max(e, 0), 112);
        this.defines.MAX_SEARCH_STEPS_INT = t.toFixed("0"), this.defines.MAX_SEARCH_STEPS_FLOAT = t.toFixed("1"), this.needsUpdate = !0;
    }
    setOrthogonalSearchSteps(e) {
        this.orthogonalSearchSteps = e;
    }
    get diagonalSearchSteps() {
        return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT);
    }
    set diagonalSearchSteps(e) {
        let t = Math.min(Math.max(e, 0), 20);
        this.defines.MAX_SEARCH_STEPS_DIAG_INT = t.toFixed("0"), this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT = t.toFixed("1"), this.needsUpdate = !0;
    }
    setDiagonalSearchSteps(e) {
        this.diagonalSearchSteps = e;
    }
    get diagonalDetection() {
        return void 0 === this.defines.DISABLE_DIAG_DETECTION;
    }
    set diagonalDetection(e) {
        e ? delete this.defines.DISABLE_DIAG_DETECTION : this.defines.DISABLE_DIAG_DETECTION = "1", this.needsUpdate = !0;
    }
    isDiagonalDetectionEnabled() {
        return this.diagonalDetection;
    }
    setDiagonalDetectionEnabled(e) {
        this.diagonalDetection = e;
    }
    get cornerRounding() {
        return Number(this.defines.CORNER_ROUNDING);
    }
    set cornerRounding(e) {
        let t = Math.min(Math.max(e, 0), 100);
        this.defines.CORNER_ROUNDING = t.toFixed("4"), this.defines.CORNER_ROUNDING_NORM = (t / 100).toFixed("4"), this.needsUpdate = !0;
    }
    setCornerRounding(e) {
        this.cornerRounding = e;
    }
    get cornerDetection() {
        return void 0 === this.defines.DISABLE_CORNER_DETECTION;
    }
    set cornerDetection(e) {
        e ? delete this.defines.DISABLE_CORNER_DETECTION : this.defines.DISABLE_CORNER_DETECTION = "1", this.needsUpdate = !0;
    }
    isCornerRoundingEnabled() {
        return this.cornerDetection;
    }
    setCornerRoundingEnabled(e) {
        this.cornerDetection = e;
    }
    setSize(e, t) {
        let i = this.uniforms;
        i.texelSize.value.set(1 / e, 1 / t), i.resolution.value.set(e, t);
    }
}, "SMAAWeightsMaterial"), _f), uW = new (0, _chunk4XLXKB34Js.ea), Hs = null;
function cW() {
    if (null === Hs) {
        let e = new Float32Array([
            -1,
            -1,
            0,
            3,
            -1,
            0,
            -1,
            3,
            0
        ]), t = new Float32Array([
            0,
            0,
            2,
            0,
            0,
            2
        ]);
        void 0 !== (Hs = new (0, _chunk4XLXKB34Js.aa)).setAttribute ? (Hs.setAttribute("position", new (0, _chunk4XLXKB34Js.$)(e, 3)), Hs.setAttribute("uv", new (0, _chunk4XLXKB34Js.$)(t, 2))) : (Hs.addAttribute("position", new (0, _chunk4XLXKB34Js.$)(e, 3)), Hs.addAttribute("uv", new (0, _chunk4XLXKB34Js.$)(t, 2)));
    }
    return Hs;
}
(0, _chunkZRT45YCMJs.a)(cW, "getFullscreenTriangle");
var tc, Of, Df, Lf, qf, Nf, yn = ((0, _chunkZRT45YCMJs.a)(tc = class {
    constructor(e = "Pass", t = new (0, _chunk4XLXKB34Js.oa), i = uW){
        this.name = e, this.renderer = null, this.scene = t, this.camera = i, this.screen = null, this.rtt = !0, this.needsSwap = !0, this.needsDepthTexture = !1, this.enabled = !0;
    }
    get renderToScreen() {
        return !this.rtt;
    }
    set renderToScreen(e) {
        if (this.rtt === e) {
            let t = this.fullscreenMaterial;
            null !== t && (t.needsUpdate = !0), this.rtt = !e;
        }
    }
    set mainScene(e) {}
    set mainCamera(e) {}
    setRenderer(e) {
        this.renderer = e;
    }
    isEnabled() {
        return this.enabled;
    }
    setEnabled(e) {
        this.enabled = e;
    }
    get fullscreenMaterial() {
        return null !== this.screen ? this.screen.material : null;
    }
    set fullscreenMaterial(e) {
        let t = this.screen;
        null !== t ? t.material = e : (t = new (0, _chunk4XLXKB34Js.ba)(cW(), e), t.frustumCulled = !1, null === this.scene && (this.scene = new (0, _chunk4XLXKB34Js.oa)), this.scene.add(t), this.screen = t);
    }
    getFullscreenMaterial() {
        return this.fullscreenMaterial;
    }
    setFullscreenMaterial(e) {
        this.fullscreenMaterial = e;
    }
    getDepthTexture() {
        return null;
    }
    setDepthTexture(e, t = (0, _chunk4XLXKB34Js.B)) {}
    render(e, t, i, n, r) {
        throw new Error("Render method not implemented!");
    }
    setSize(e, t) {}
    initialize(e, t, i) {}
    dispose() {
        for (let e of Object.keys(this)){
            let t = this[e];
            (t instanceof (0, _chunk4XLXKB34Js.Q) || t instanceof (0, _chunk4XLXKB34Js.Z) || t instanceof (0, _chunk4XLXKB34Js.O) || t instanceof tc) && this[e].dispose();
        }
    }
}, "_Pass"), tc), hW = ((0, _chunkZRT45YCMJs.a)(Of = class extends yn {
    constructor(e, t = !0){
        super("CopyPass"), this.fullscreenMaterial = new AI, this.needsSwap = !1, this.renderTarget = e, void 0 === e && (this.renderTarget = new (0, _chunk4XLXKB34Js.Q)(1, 1, {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.o),
            stencilBuffer: !1,
            depthBuffer: !1
        }), this.renderTarget.texture.name = "CopyPass.Target"), this.autoResize = t;
    }
    get resize() {
        return this.autoResize;
    }
    set resize(e) {
        this.autoResize = e;
    }
    get texture() {
        return this.renderTarget.texture;
    }
    getTexture() {
        return this.renderTarget.texture;
    }
    setAutoResizeEnabled(e) {
        this.autoResize = e;
    }
    render(e, t, i, n, r) {
        this.fullscreenMaterial.inputBuffer = t.texture, e.setRenderTarget(this.renderToScreen ? null : this.renderTarget), e.render(this.scene, this.camera);
    }
    setSize(e, t) {
        this.autoResize && this.renderTarget.setSize(e, t);
    }
    initialize(e, t, i) {
        void 0 !== i && (this.renderTarget.texture.type = i, i !== (0, _chunk4XLXKB34Js.r) ? this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1" : e.outputColorSpace === (0, _chunk4XLXKB34Js.E) && (this.renderTarget.texture.colorSpace = (0, _chunk4XLXKB34Js.E)));
    }
}, "CopyPass"), Of), dW = ((0, _chunkZRT45YCMJs.a)(Df = class extends yn {
    constructor(){
        super("ClearMaskPass", null, null), this.needsSwap = !1;
    }
    render(e, t, i, n, r) {
        let o = e.state.buffers.stencil;
        o.setLocked(!1), o.setTest(!1);
    }
}, "ClearMaskPass"), Df), bI = new (0, _chunk4XLXKB34Js.Y), ic = ((0, _chunkZRT45YCMJs.a)(Lf = class extends yn {
    constructor(e = !0, t = !0, i = !1){
        super("ClearPass", null, null), this.needsSwap = !1, this.color = e, this.depth = t, this.stencil = i, this.overrideClearColor = null, this.overrideClearAlpha = -1;
    }
    setClearFlags(e, t, i) {
        this.color = e, this.depth = t, this.stencil = i;
    }
    getOverrideClearColor() {
        return this.overrideClearColor;
    }
    setOverrideClearColor(e) {
        this.overrideClearColor = e;
    }
    getOverrideClearAlpha() {
        return this.overrideClearAlpha;
    }
    setOverrideClearAlpha(e) {
        this.overrideClearAlpha = e;
    }
    render(e, t, i, n, r) {
        let o = this.overrideClearColor, s = this.overrideClearAlpha, a = e.getClearAlpha(), l = null !== o, h = s >= 0;
        l ? (e.getClearColor(bI), e.setClearColor(o, h ? s : a)) : h && e.setClearAlpha(s), e.setRenderTarget(this.renderToScreen ? null : t), e.clear(this.color, this.depth, this.stencil), l ? e.setClearColor(bI, a) : h && e.setClearAlpha(a);
    }
}, "ClearPass"), Lf), Ov = ((0, _chunkZRT45YCMJs.a)(qf = class extends yn {
    constructor(e, t, i = null){
        super("RenderPass", e, t), this.needsSwap = !1, this.clearPass = new ic, this.overrideMaterialManager = null === i ? null : new TI(i), this.ignoreBackground = !1, this.skipShadowMapUpdate = !1, this.selection = null;
    }
    set mainScene(e) {
        this.scene = e;
    }
    set mainCamera(e) {
        this.camera = e;
    }
    get renderToScreen() {
        return super.renderToScreen;
    }
    set renderToScreen(e) {
        super.renderToScreen = e, this.clearPass.renderToScreen = e;
    }
    get overrideMaterial() {
        let e = this.overrideMaterialManager;
        return null !== e ? e.material : null;
    }
    set overrideMaterial(e) {
        let t = this.overrideMaterialManager;
        null !== e ? null !== t ? t.setMaterial(e) : this.overrideMaterialManager = new TI(e) : null !== t && (t.dispose(), this.overrideMaterialManager = null);
    }
    getOverrideMaterial() {
        return this.overrideMaterial;
    }
    setOverrideMaterial(e) {
        this.overrideMaterial = e;
    }
    get clear() {
        return this.clearPass.enabled;
    }
    set clear(e) {
        this.clearPass.enabled = e;
    }
    getSelection() {
        return this.selection;
    }
    setSelection(e) {
        this.selection = e;
    }
    isBackgroundDisabled() {
        return this.ignoreBackground;
    }
    setBackgroundDisabled(e) {
        this.ignoreBackground = e;
    }
    isShadowMapDisabled() {
        return this.skipShadowMapUpdate;
    }
    setShadowMapDisabled(e) {
        this.skipShadowMapUpdate = e;
    }
    getClearPass() {
        return this.clearPass;
    }
    render(e, t, i, n, r) {
        let o = this.scene, s = this.camera, a = this.selection, l = s.layers.mask, h = o.background, c = e.shadowMap.autoUpdate, u = this.renderToScreen ? null : t;
        null !== a && s.layers.set(a.getLayer()), this.skipShadowMapUpdate && (e.shadowMap.autoUpdate = !1), (this.ignoreBackground || null !== this.clearPass.overrideClearColor) && (o.background = null), this.clearPass.enabled && this.clearPass.render(e, t), e.setRenderTarget(u), null !== this.overrideMaterialManager ? this.overrideMaterialManager.render(e, o, s) : e.render(o, s), s.layers.mask = l, o.background = h, e.shadowMap.autoUpdate = c;
    }
}, "RenderPass"), qf), pW = ((0, _chunkZRT45YCMJs.a)(Nf = class extends yn {
    constructor(e, t, { renderTarget: i, resolutionScale: n = 1, width: r = Ya.AUTO_SIZE, height: o = Ya.AUTO_SIZE, resolutionX: s = r, resolutionY: a = o } = {}){
        super("DepthPass"), this.needsSwap = !1, this.renderPass = new Ov(e, t, new (0, _chunk4XLXKB34Js.ka)({
            depthPacking: (0, _chunk4XLXKB34Js.C)
        }));
        let l = this.renderPass;
        l.skipShadowMapUpdate = !0, l.ignoreBackground = !0;
        let h = l.clearPass;
        h.overrideClearColor = new (0, _chunk4XLXKB34Js.Y)(16777215), h.overrideClearAlpha = 1, this.renderTarget = i, void 0 === this.renderTarget && (this.renderTarget = new (0, _chunk4XLXKB34Js.Q)(1, 1, {
            minFilter: (0, _chunk4XLXKB34Js.l),
            magFilter: (0, _chunk4XLXKB34Js.l)
        }), this.renderTarget.texture.name = "DepthPass.Target");
        let c = this.resolution = new Ya(this, s, a, n);
        c.addEventListener("change", (e)=>this.setSize(c.baseWidth, c.baseHeight));
    }
    set mainScene(e) {
        this.renderPass.mainScene = e;
    }
    set mainCamera(e) {
        this.renderPass.mainCamera = e;
    }
    get texture() {
        return this.renderTarget.texture;
    }
    getTexture() {
        return this.renderTarget.texture;
    }
    getResolution() {
        return this.resolution;
    }
    getResolutionScale() {
        return this.resolution.scale;
    }
    setResolutionScale(e) {
        this.resolution.scale = e;
    }
    render(e, t, i, n, r) {
        let o = this.renderToScreen ? null : this.renderTarget;
        this.renderPass.render(e, o);
    }
    setSize(e, t) {
        let i = this.resolution;
        i.setBaseSize(e, t), this.renderTarget.setSize(i.width, i.height);
    }
}, "DepthPass"), Nf), Ibe = new Float32Array([
    255 / 256 / 256 ** 3,
    255 / 256 / 65536,
    255 / 256 / 256,
    255 / 256
]);
function xI(e, t, i) {
    for (let n of t){
        let t = "$1" + e + n.charAt(0).toUpperCase() + n.slice(1), r = new RegExp("([^\\.])(\\b" + n + "\\b)", "g");
        for (let e of i.entries())null !== e[1] && i.set(e[0], e[1].replace(r, t));
    }
}
function fW(e, t, i) {
    let n = t.getFragmentShader(), r = t.getVertexShader(), o = void 0 !== n && /mainImage/.test(n), s = void 0 !== n && /mainUv/.test(n);
    if (i.attributes |= t.getAttributes(), void 0 === n) throw new Error("Missing fragment shader (".concat(t.name, ")"));
    if (s && i.attributes & Wa.CONVOLUTION) throw new Error("Effects that transform UVs are incompatible with convolution effects (".concat(t.name, ")"));
    if (!o && !s) throw new Error("Could not find mainImage or mainUv function (".concat(t.name, ")"));
    {
        let a = /\w+\s+(\w+)\([\w\s,]*\)\s*{/g, l = i.shaderParts, h = l.get(nt.FRAGMENT_HEAD) || "", c = l.get(nt.FRAGMENT_MAIN_UV) || "", u = l.get(nt.FRAGMENT_MAIN_IMAGE) || "", d = l.get(nt.VERTEX_HEAD) || "", p = l.get(nt.VERTEX_MAIN_SUPPORT) || "", f = new Set, m = new Set;
        if (s && (c += "	".concat(e, "MainUv(UV);\n"), i.uvTransformation = !0), null !== r && /mainSupport/.test(r)) {
            let t = /mainSupport *\([\w\s]*?uv\s*?\)/.test(r);
            p += "	".concat(e, "MainSupport("), p += t ? "vUv);\n" : ");\n";
            for (let e of r.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for (let t of e[1].split(/\s*,\s*/))i.varyings.add(t), f.add(t), m.add(t);
            for (let e of r.matchAll(a))m.add(e[1]);
        }
        for (let e of n.matchAll(a))m.add(e[1]);
        for (let e of t.defines.keys())m.add(e.replace(/\([\w\s,]*\)/g, ""));
        for (let e of t.uniforms.keys())m.add(e);
        m.delete("while"), m.delete("for"), m.delete("if"), t.uniforms.forEach((t, n)=>i.uniforms.set(e + n.charAt(0).toUpperCase() + n.slice(1), t)), t.defines.forEach((t, n)=>i.defines.set(e + n.charAt(0).toUpperCase() + n.slice(1), t));
        let g = new Map([
            [
                "fragment",
                n
            ],
            [
                "vertex",
                r
            ]
        ]);
        xI(e, m, i.defines), xI(e, m, g), n = g.get("fragment"), r = g.get("vertex");
        let v = t.blendMode;
        if (i.blendModes.set(v.blendFunction, v), o) {
            null !== t.inputColorSpace && t.inputColorSpace !== i.colorSpace && (u += t.inputColorSpace === (0, _chunk4XLXKB34Js.E) ? "color0 = LinearTosRGB(color0);\n	" : "color0 = sRGBToLinear(color0);\n	"), t.outputColorSpace !== (0, _chunk4XLXKB34Js.D) ? i.colorSpace = t.outputColorSpace : null !== t.inputColorSpace && (i.colorSpace = t.inputColorSpace);
            let r = /MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;
            u += "".concat(e, "MainImage(color0, UV, "), i.attributes & Wa.DEPTH && r.test(n) && (u += "depth, ", i.readDepth = !0), u += "color1);\n	";
            let o = e + "BlendOpacity";
            i.uniforms.set(o, v.opacity), u += "color0 = blend".concat(v.blendFunction, "(color0, color1, ").concat(o, ");\n\n	"), h += "uniform float ".concat(o, ";\n\n");
        }
        if (h += n + "\n", null !== r && (d += r + "\n"), l.set(nt.FRAGMENT_HEAD, h), l.set(nt.FRAGMENT_MAIN_UV, c), l.set(nt.FRAGMENT_MAIN_IMAGE, u), l.set(nt.VERTEX_HEAD, d), l.set(nt.VERTEX_MAIN_SUPPORT, p), null !== t.extensions) for (let e of t.extensions)i.extensions.add(e);
    }
}
(0, _chunkZRT45YCMJs.a)(xI, "prefixSubstrings"), (0, _chunkZRT45YCMJs.a)(fW, "integrateEffect");
var Rf, kf, Bf, Ff, Uf, zf, Vf, Gf, jf, Hf, Yf, CI = ((0, _chunkZRT45YCMJs.a)(Rf = class extends yn {
    constructor(e, ...t){
        super("EffectPass"), this.fullscreenMaterial = new iW(null, null, null, e), this.listener = (e)=>this.handleEvent(e), this.effects = [], this.setEffects(t), this.skipRendering = !1, this.minTime = 1, this.maxTime = Number.POSITIVE_INFINITY, this.timeScale = 1;
    }
    set mainScene(e) {
        for (let t of this.effects)t.mainScene = e;
    }
    set mainCamera(e) {
        this.fullscreenMaterial.copyCameraSettings(e);
        for (let t of this.effects)t.mainCamera = e;
    }
    get encodeOutput() {
        return this.fullscreenMaterial.encodeOutput;
    }
    set encodeOutput(e) {
        this.fullscreenMaterial.encodeOutput = e;
    }
    get dithering() {
        return this.fullscreenMaterial.dithering;
    }
    set dithering(e) {
        let t = this.fullscreenMaterial;
        t.dithering = e, t.needsUpdate = !0;
    }
    setEffects(e) {
        for (let e of this.effects)e.removeEventListener("change", this.listener);
        this.effects = e.sort((e, t)=>t.attributes - e.attributes);
        for (let e of this.effects)e.addEventListener("change", this.listener);
    }
    updateMaterial() {
        let e = new vW, t = 0;
        for (let i of this.effects)if (i.blendMode.blendFunction === De.DST) e.attributes |= i.getAttributes() & Wa.DEPTH;
        else {
            if (e.attributes & i.getAttributes() & Wa.CONVOLUTION) throw new Error("Convolution effects cannot be merged (".concat(i.name, ")"));
            fW("e" + t++, i, e);
        }
        let i = e.shaderParts.get(nt.FRAGMENT_HEAD), n = e.shaderParts.get(nt.FRAGMENT_MAIN_IMAGE), r = e.shaderParts.get(nt.FRAGMENT_MAIN_UV), o = /\bblend\b/g;
        for (let t of e.blendModes.values())i += t.getShaderCode().replace(o, "blend".concat(t.blendFunction)) + "\n";
        e.attributes & Wa.DEPTH ? (e.readDepth && (n = "float depth = readDepth(UV);\n\n	" + n), this.needsDepthTexture = null === this.getDepthTexture()) : this.needsDepthTexture = !1, e.colorSpace === (0, _chunk4XLXKB34Js.E) && (n += "color0 = sRGBToLinear(color0);\n	"), e.uvTransformation ? (r = "vec2 transformedUv = vUv;\n" + r, e.defines.set("UV", "transformedUv")) : e.defines.set("UV", "vUv"), e.shaderParts.set(nt.FRAGMENT_HEAD, i), e.shaderParts.set(nt.FRAGMENT_MAIN_IMAGE, n), e.shaderParts.set(nt.FRAGMENT_MAIN_UV, r);
        for (let [t, i] of e.shaderParts)null !== i && e.shaderParts.set(t, i.trim().replace(/^#/, "\n#"));
        this.skipRendering = 0 === t, this.needsSwap = !this.skipRendering, this.fullscreenMaterial.setShaderData(e);
    }
    recompile() {
        this.updateMaterial();
    }
    getDepthTexture() {
        return this.fullscreenMaterial.depthBuffer;
    }
    setDepthTexture(e, t = (0, _chunk4XLXKB34Js.B)) {
        this.fullscreenMaterial.depthBuffer = e, this.fullscreenMaterial.depthPacking = t;
        for (let i of this.effects)i.setDepthTexture(e, t);
    }
    render(e, t, i, n, r) {
        for (let i of this.effects)i.update(e, t, n);
        if (!this.skipRendering || this.renderToScreen) {
            let r = this.fullscreenMaterial;
            r.inputBuffer = t.texture, r.time += n * this.timeScale, e.setRenderTarget(this.renderToScreen ? null : i), e.render(this.scene, this.camera);
        }
    }
    setSize(e, t) {
        this.fullscreenMaterial.setSize(e, t);
        for (let i of this.effects)i.setSize(e, t);
    }
    initialize(e, t, i) {
        this.renderer = e;
        for (let n of this.effects)n.initialize(e, t, i);
        this.updateMaterial(), void 0 !== i && i !== (0, _chunk4XLXKB34Js.r) && (this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1");
    }
    dispose() {
        super.dispose();
        for (let e of this.effects)e.removeEventListener("change", this.listener), e.dispose();
    }
    handleEvent(e) {
        if ("change" === e.type) this.recompile();
    }
}, "EffectPass"), Rf), mW = ((0, _chunkZRT45YCMJs.a)(kf = class extends yn {
    constructor({ kernelSize: e = nM.MEDIUM, resolutionScale: t = .5, width: i = Ya.AUTO_SIZE, height: n = Ya.AUTO_SIZE, resolutionX: r = i, resolutionY: o = n } = {}){
        super("KawaseBlurPass"), this.renderTargetA = new (0, _chunk4XLXKB34Js.Q)(1, 1, {
            depthBuffer: !1
        }), this.renderTargetA.texture.name = "Blur.Target.A", this.renderTargetB = this.renderTargetA.clone(), this.renderTargetB.texture.name = "Blur.Target.B";
        let s = this.resolution = new Ya(this, r, o, t);
        s.addEventListener("change", (e)=>this.setSize(s.baseWidth, s.baseHeight)), this._blurMaterial = new YY, this._blurMaterial.kernelSize = e, this.copyMaterial = new AI;
    }
    getResolution() {
        return this.resolution;
    }
    get blurMaterial() {
        return this._blurMaterial;
    }
    set blurMaterial(e) {
        this._blurMaterial = e;
    }
    get dithering() {
        return this.copyMaterial.dithering;
    }
    set dithering(e) {
        this.copyMaterial.dithering = e;
    }
    get kernelSize() {
        return this.blurMaterial.kernelSize;
    }
    set kernelSize(e) {
        this.blurMaterial.kernelSize = e;
    }
    get width() {
        return this.resolution.width;
    }
    set width(e) {
        this.resolution.preferredWidth = e;
    }
    get height() {
        return this.resolution.height;
    }
    set height(e) {
        this.resolution.preferredHeight = e;
    }
    get scale() {
        return this.blurMaterial.scale;
    }
    set scale(e) {
        this.blurMaterial.scale = e;
    }
    getScale() {
        return this.blurMaterial.scale;
    }
    setScale(e) {
        this.blurMaterial.scale = e;
    }
    getKernelSize() {
        return this.kernelSize;
    }
    setKernelSize(e) {
        this.kernelSize = e;
    }
    getResolutionScale() {
        return this.resolution.scale;
    }
    setResolutionScale(e) {
        this.resolution.scale = e;
    }
    render(e, t, i, n, r) {
        let o = this.scene, s = this.camera, a = this.renderTargetA, l = this.renderTargetB, h = this.blurMaterial, c = h.kernelSequence, u = t;
        this.fullscreenMaterial = h;
        for(let t = 0, i = c.length; t < i; ++t){
            let i = 1 & t ? l : a;
            h.kernel = c[t], h.inputBuffer = u.texture, e.setRenderTarget(i), e.render(o, s), u = i;
        }
        this.fullscreenMaterial = this.copyMaterial, this.copyMaterial.inputBuffer = u.texture, e.setRenderTarget(this.renderToScreen ? null : i), e.render(o, s);
    }
    setSize(e, t) {
        let i = this.resolution;
        i.setBaseSize(e, t);
        let n = i.width, r = i.height;
        this.renderTargetA.setSize(n, r), this.renderTargetB.setSize(n, r), this.blurMaterial.setSize(e, t);
    }
    initialize(e, t, i) {
        void 0 !== i && (this.renderTargetA.texture.type = i, this.renderTargetB.texture.type = i, i !== (0, _chunk4XLXKB34Js.r) ? (this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1", this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1") : e.outputColorSpace === (0, _chunk4XLXKB34Js.E) && (this.renderTargetA.texture.colorSpace = (0, _chunk4XLXKB34Js.E), this.renderTargetB.texture.colorSpace = (0, _chunk4XLXKB34Js.E)));
    }
    static get AUTO_SIZE() {
        return Ya.AUTO_SIZE;
    }
}, "KawaseBlurPass"), kf), gW = ((0, _chunkZRT45YCMJs.a)(Bf = class extends yn {
    constructor(e, t){
        super("MaskPass", e, t), this.needsSwap = !1, this.clearPass = new ic(!1, !1, !0), this.inverse = !1;
    }
    set mainScene(e) {
        this.scene = e;
    }
    set mainCamera(e) {
        this.camera = e;
    }
    get inverted() {
        return this.inverse;
    }
    set inverted(e) {
        this.inverse = e;
    }
    get clear() {
        return this.clearPass.enabled;
    }
    set clear(e) {
        this.clearPass.enabled = e;
    }
    getClearPass() {
        return this.clearPass;
    }
    isInverted() {
        return this.inverted;
    }
    setInverted(e) {
        this.inverted = e;
    }
    render(e, t, i, n, r) {
        let o = e.getContext(), s = e.state.buffers, a = this.scene, l = this.camera, h = this.clearPass, c = this.inverted ? 0 : 1, u = 1 - c;
        s.color.setMask(!1), s.depth.setMask(!1), s.color.setLocked(!0), s.depth.setLocked(!0), s.stencil.setTest(!0), s.stencil.setOp(o.REPLACE, o.REPLACE, o.REPLACE), s.stencil.setFunc(o.ALWAYS, c, 4294967295), s.stencil.setClear(u), s.stencil.setLocked(!0), this.clearPass.enabled && (this.renderToScreen ? h.render(e, null) : (h.render(e, t), h.render(e, i))), this.renderToScreen ? (e.setRenderTarget(null), e.render(a, l)) : (e.setRenderTarget(t), e.render(a, l), e.setRenderTarget(i), e.render(a, l)), s.color.setLocked(!1), s.depth.setLocked(!1), s.stencil.setLocked(!1), s.stencil.setFunc(o.EQUAL, 1, 4294967295), s.stencil.setOp(o.KEEP, o.KEEP, o.KEEP), s.stencil.setLocked(!0);
    }
}, "MaskPass"), Bf), dl = ((0, _chunkZRT45YCMJs.a)(Ff = class extends yn {
    constructor(e, t = "inputBuffer"){
        super("ShaderPass"), this.fullscreenMaterial = e, this.input = t;
    }
    setInput(e) {
        this.input = e;
    }
    render(e, t, i, n, r) {
        let o = this.fullscreenMaterial.uniforms;
        null !== t && void 0 !== o && void 0 !== o[this.input] && (o[this.input].value = t.texture), e.setRenderTarget(this.renderToScreen ? null : i), e.render(this.scene, this.camera);
    }
    initialize(e, t, i) {
        void 0 !== i && i !== (0, _chunk4XLXKB34Js.r) && (this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1");
    }
}, "ShaderPass"), Ff), PI = (Uf = class {
    constructor(e = null, { depthBuffer: t = !0, stencilBuffer: i = !1, multisampling: n = 0, frameBufferType: r } = {}){
        this.renderer = null, this.inputBuffer = this.createBuffer(t, i, r, n), this.outputBuffer = this.inputBuffer.clone(), this.copyPass = new hW, this.depthTexture = null, this.passes = [], this.timer = new _v, this.autoRenderToScreen = !0, this.setRenderer(e);
    }
    get multisampling() {
        return this.inputBuffer.samples || 0;
    }
    set multisampling(e) {
        let t = this.inputBuffer, i = this.multisampling;
        i > 0 && e > 0 ? (this.inputBuffer.samples = e, this.outputBuffer.samples = e, this.inputBuffer.dispose(), this.outputBuffer.dispose()) : i !== e && (this.inputBuffer.dispose(), this.outputBuffer.dispose(), this.inputBuffer = this.createBuffer(t.depthBuffer, t.stencilBuffer, t.texture.type, e), this.inputBuffer.depthTexture = this.depthTexture, this.outputBuffer = this.inputBuffer.clone());
    }
    getTimer() {
        return this.timer;
    }
    getRenderer() {
        return this.renderer;
    }
    setRenderer(e) {
        if (this.renderer = e, null !== e) {
            let t = e.getSize(new (0, _chunk4XLXKB34Js.M)), i = e.getContext().getContextAttributes().alpha, n = this.inputBuffer.texture.type;
            n === (0, _chunk4XLXKB34Js.r) && e.outputColorSpace === (0, _chunk4XLXKB34Js.E) && (this.inputBuffer.texture.colorSpace = (0, _chunk4XLXKB34Js.E), this.outputBuffer.texture.colorSpace = (0, _chunk4XLXKB34Js.E), this.inputBuffer.dispose(), this.outputBuffer.dispose()), e.autoClear = !1, this.setSize(t.width, t.height);
            for (let t of this.passes)t.initialize(e, i, n);
        }
    }
    replaceRenderer(e, t = !0) {
        let i = this.renderer, n = i.domElement.parentNode;
        return this.setRenderer(e), t && null !== n && (n.removeChild(i.domElement), n.appendChild(e.domElement)), i;
    }
    createDepthTexture() {
        let e = this.depthTexture = new (0, _chunk4XLXKB34Js.ja);
        return this.inputBuffer.depthTexture = e, this.inputBuffer.dispose(), this.inputBuffer.stencilBuffer ? (e.format = (0, _chunk4XLXKB34Js.x), e.type = (0, _chunk4XLXKB34Js.v)) : e.type = (0, _chunk4XLXKB34Js.s), e;
    }
    deleteDepthTexture() {
        if (null !== this.depthTexture) {
            this.depthTexture.dispose(), this.depthTexture = null, this.inputBuffer.depthTexture = null, this.inputBuffer.dispose();
            for (let e of this.passes)e.setDepthTexture(null);
        }
    }
    createBuffer(e, t, i, n) {
        let r = this.renderer, o = null === r ? new (0, _chunk4XLXKB34Js.M) : r.getDrawingBufferSize(new (0, _chunk4XLXKB34Js.M)), s = {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.o),
            stencilBuffer: t,
            depthBuffer: e,
            type: i
        }, a = new (0, _chunk4XLXKB34Js.Q)(o.width, o.height, s);
        return n > 0 && (a.ignoreDepthForMultisampleCopy = !1, a.samples = n), i === (0, _chunk4XLXKB34Js.r) && r.outputColorSpace === (0, _chunk4XLXKB34Js.E) && (a.texture.colorSpace = (0, _chunk4XLXKB34Js.E)), a.texture.name = "EffectComposer.Buffer", a.texture.generateMipmaps = !1, a;
    }
    setMainScene(e) {
        for (let t of this.passes)t.mainScene = e;
    }
    setMainCamera(e) {
        for (let t of this.passes)t.mainCamera = e;
    }
    addPass(e, t) {
        let i = this.passes, n = this.renderer, r = n.getDrawingBufferSize(new (0, _chunk4XLXKB34Js.M)), o = n.getContext().getContextAttributes().alpha, s = this.inputBuffer.texture.type;
        if (e.setRenderer(n), e.setSize(r.width, r.height), e.initialize(n, o, s), this.autoRenderToScreen && (i.length > 0 && (i[i.length - 1].renderToScreen = !1), e.renderToScreen && (this.autoRenderToScreen = !1)), void 0 !== t ? i.splice(t, 0, e) : i.push(e), this.autoRenderToScreen && (i[i.length - 1].renderToScreen = !0), e.needsDepthTexture || null !== this.depthTexture) {
            if (null === this.depthTexture) {
                let t = this.createDepthTexture();
                for (e of i)e.setDepthTexture(t);
            } else e.setDepthTexture(this.depthTexture);
        }
    }
    removePass(e) {
        let t = this.passes, i = t.indexOf(e);
        if (-1 !== i && t.splice(i, 1).length > 0) {
            if (null !== this.depthTexture) {
                let i = (0, _chunkZRT45YCMJs.a)((e, t)=>e || t.needsDepthTexture, "reducer");
                t.reduce(i, !1) || (e.getDepthTexture() === this.depthTexture && e.setDepthTexture(null), this.deleteDepthTexture());
            }
            this.autoRenderToScreen && i === t.length && (e.renderToScreen = !1, t.length > 0 && (t[t.length - 1].renderToScreen = !0));
        }
    }
    removeAllPasses() {
        let e = this.passes;
        this.deleteDepthTexture(), e.length > 0 && (this.autoRenderToScreen && (e[e.length - 1].renderToScreen = !1), this.passes = []);
    }
    render(e) {
        let t, i, n, r = this.renderer, o = this.copyPass, s = this.inputBuffer, a = this.outputBuffer, l = !1;
        void 0 === e && (this.timer.update(), e = this.timer.getDelta());
        for (let h of this.passes)h.enabled && (h.render(r, s, a, e, l), h.needsSwap && (l && (o.renderToScreen = h.renderToScreen, t = r.getContext(), i = r.state.buffers.stencil, i.setFunc(t.NOTEQUAL, 1, 4294967295), o.render(r, s, a, e, l), i.setFunc(t.EQUAL, 1, 4294967295)), n = s, s = a, a = n), h instanceof gW ? l = !0 : h instanceof dW && (l = !1));
    }
    setSize(e, t, i) {
        let n = this.renderer, r = n.getSize(new (0, _chunk4XLXKB34Js.M));
        (void 0 === e || void 0 === t) && (e = r.width, t = r.height), (r.width !== e || r.height !== t) && n.setSize(e, t, i);
        let o = n.getDrawingBufferSize(new (0, _chunk4XLXKB34Js.M));
        this.inputBuffer.setSize(o.width, o.height), this.outputBuffer.setSize(o.width, o.height);
        for (let e of this.passes)e.setSize(o.width, o.height);
    }
    reset() {
        this.dispose(), this.autoRenderToScreen = !0;
    }
    dispose() {
        for (let e of this.passes)e.dispose();
        this.passes = [], null !== this.inputBuffer && this.inputBuffer.dispose(), null !== this.outputBuffer && this.outputBuffer.dispose(), this.deleteDepthTexture(), this.copyPass.dispose(), this.timer.dispose();
    }
}, (0, _chunkZRT45YCMJs.a)(Uf, "EffectComposer"), Uf), vW = ((0, _chunkZRT45YCMJs.a)(zf = class {
    constructor(){
        this.shaderParts = new Map([
            [
                nt.FRAGMENT_HEAD,
                null
            ],
            [
                nt.FRAGMENT_MAIN_UV,
                null
            ],
            [
                nt.FRAGMENT_MAIN_IMAGE,
                null
            ],
            [
                nt.VERTEX_HEAD,
                null
            ],
            [
                nt.VERTEX_MAIN_SUPPORT,
                null
            ]
        ]), this.defines = new Map, this.uniforms = new Map, this.blendModes = new Map, this.extensions = new Set, this.attributes = Wa.NONE, this.varyings = new Set, this.uvTransformation = !1, this.readDepth = !1, this.colorSpace = (0, _chunk4XLXKB34Js.F);
    }
}, "EffectShaderData"), zf), tM = !1, TI = ((0, _chunkZRT45YCMJs.a)(Vf = class {
    constructor(e = null){
        this.originalMaterials = new Map, this.material = null, this.materials = null, this.materialsBackSide = null, this.materialsDoubleSide = null, this.materialsFlatShaded = null, this.materialsFlatShadedBackSide = null, this.materialsFlatShadedDoubleSide = null, this.setMaterial(e), this.meshCount = 0, this.replaceMaterial = (e)=>{
            if (e.isMesh) {
                let t;
                if (e.material.flatShading) switch(e.material.side){
                    case 0, _chunk4XLXKB34Js.e:
                        t = this.materialsFlatShadedDoubleSide;
                        break;
                    case 0, _chunk4XLXKB34Js.d:
                        t = this.materialsFlatShadedBackSide;
                        break;
                    default:
                        t = this.materialsFlatShaded;
                }
                else switch(e.material.side){
                    case 0, _chunk4XLXKB34Js.e:
                        t = this.materialsDoubleSide;
                        break;
                    case 0, _chunk4XLXKB34Js.d:
                        t = this.materialsBackSide;
                        break;
                    default:
                        t = this.materials;
                }
                this.originalMaterials.set(e, e.material), e.isSkinnedMesh ? e.material = t[2] : e.isInstancedMesh ? e.material = t[1] : e.material = t[0], ++this.meshCount;
            }
        };
    }
    cloneMaterial(e) {
        if (!(e instanceof (0, _chunk4XLXKB34Js.da))) return e.clone();
        let t = e.uniforms, i = new Map;
        for(let e in t){
            let n = t[e].value;
            n.isRenderTargetTexture && (t[e].value = null, i.set(e, n));
        }
        let n = e.clone();
        for (let e of i)t[e[0]].value = e[1], n.uniforms[e[0]].value = e[1];
        return n;
    }
    setMaterial(e) {
        if (this.disposeMaterials(), this.material = e, null !== e) {
            let t = this.materials = [
                this.cloneMaterial(e),
                this.cloneMaterial(e),
                this.cloneMaterial(e)
            ];
            for (let i of t)i.uniforms = Object.assign({}, e.uniforms), i.side = (0, _chunk4XLXKB34Js.c);
            t[2].skinning = !0, this.materialsBackSide = t.map((t)=>{
                let i = this.cloneMaterial(t);
                return i.uniforms = Object.assign({}, e.uniforms), i.side = (0, _chunk4XLXKB34Js.d), i;
            }), this.materialsDoubleSide = t.map((t)=>{
                let i = this.cloneMaterial(t);
                return i.uniforms = Object.assign({}, e.uniforms), i.side = (0, _chunk4XLXKB34Js.e), i;
            }), this.materialsFlatShaded = t.map((t)=>{
                let i = this.cloneMaterial(t);
                return i.uniforms = Object.assign({}, e.uniforms), i.flatShading = !0, i;
            }), this.materialsFlatShadedBackSide = t.map((t)=>{
                let i = this.cloneMaterial(t);
                return i.uniforms = Object.assign({}, e.uniforms), i.flatShading = !0, i.side = (0, _chunk4XLXKB34Js.d), i;
            }), this.materialsFlatShadedDoubleSide = t.map((t)=>{
                let i = this.cloneMaterial(t);
                return i.uniforms = Object.assign({}, e.uniforms), i.flatShading = !0, i.side = (0, _chunk4XLXKB34Js.e), i;
            });
        }
    }
    render(e, t, i) {
        let n = e.shadowMap.enabled;
        if (e.shadowMap.enabled = !1, tM) {
            let n = this.originalMaterials;
            this.meshCount = 0, t.traverse(this.replaceMaterial), e.render(t, i);
            for (let e of n)e[0].material = e[1];
            this.meshCount !== n.size && n.clear();
        } else {
            let n = t.overrideMaterial;
            t.overrideMaterial = this.material, e.render(t, i), t.overrideMaterial = n;
        }
        e.shadowMap.enabled = n;
    }
    disposeMaterials() {
        if (null !== this.material) {
            let e = this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);
            for (let t of e)t.dispose();
        }
    }
    dispose() {
        this.originalMaterials.clear(), this.disposeMaterials();
    }
    static get workaroundEnabled() {
        return tM;
    }
    static set workaroundEnabled(e) {
        tM = e;
    }
}, "OverrideMaterialManager"), Vf), Ys = -1, Ya = ((0, _chunkZRT45YCMJs.a)(Gf = class extends (0, _chunk4XLXKB34Js.K) {
    constructor(e, t = Ys, i = Ys, n = 1){
        super(), this.resizable = e, this.baseSize = new (0, _chunk4XLXKB34Js.M)(1, 1), this.preferredSize = new (0, _chunk4XLXKB34Js.M)(t, i), this.target = this.preferredSize, this.s = n, this.effectiveSize = new (0, _chunk4XLXKB34Js.M), this.addEventListener("change", ()=>this.updateEffectiveSize()), this.updateEffectiveSize();
    }
    updateEffectiveSize() {
        let e = this.baseSize, t = this.preferredSize, i = this.effectiveSize, n = this.scale;
        t.width !== Ys ? i.width = t.width : t.height !== Ys ? i.width = Math.round(t.height * (e.width / Math.max(e.height, 1))) : i.width = Math.round(e.width * n), t.height !== Ys ? i.height = t.height : t.width !== Ys ? i.height = Math.round(t.width / Math.max(e.width / Math.max(e.height, 1), 1)) : i.height = Math.round(e.height * n);
    }
    get width() {
        return this.effectiveSize.width;
    }
    set width(e) {
        this.preferredWidth = e;
    }
    get height() {
        return this.effectiveSize.height;
    }
    set height(e) {
        this.preferredHeight = e;
    }
    getWidth() {
        return this.width;
    }
    getHeight() {
        return this.height;
    }
    get scale() {
        return this.s;
    }
    set scale(e) {
        this.s !== e && (this.s = e, this.preferredSize.setScalar(Ys), this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
    }
    getScale() {
        return this.scale;
    }
    setScale(e) {
        this.scale = e;
    }
    get baseWidth() {
        return this.baseSize.width;
    }
    set baseWidth(e) {
        this.baseSize.width !== e && (this.baseSize.width = e, this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
    }
    getBaseWidth() {
        return this.baseWidth;
    }
    setBaseWidth(e) {
        this.baseWidth = e;
    }
    get baseHeight() {
        return this.baseSize.height;
    }
    set baseHeight(e) {
        this.baseSize.height !== e && (this.baseSize.height = e, this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
    }
    getBaseHeight() {
        return this.baseHeight;
    }
    setBaseHeight(e) {
        this.baseHeight = e;
    }
    setBaseSize(e, t) {
        (this.baseSize.width !== e || this.baseSize.height !== t) && (this.baseSize.set(e, t), this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
    }
    get preferredWidth() {
        return this.preferredSize.width;
    }
    set preferredWidth(e) {
        this.preferredSize.width !== e && (this.preferredSize.width = e, this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
    }
    getPreferredWidth() {
        return this.preferredWidth;
    }
    setPreferredWidth(e) {
        this.preferredWidth = e;
    }
    get preferredHeight() {
        return this.preferredSize.height;
    }
    set preferredHeight(e) {
        this.preferredSize.height !== e && (this.preferredSize.height = e, this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
    }
    getPreferredHeight() {
        return this.preferredHeight;
    }
    setPreferredHeight(e) {
        this.preferredHeight = e;
    }
    setPreferredSize(e, t) {
        (this.preferredSize.width !== e || this.preferredSize.height !== t) && (this.preferredSize.set(e, t), this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height));
    }
    copy(e) {
        this.s = e.scale, this.baseSize.set(e.baseWidth, e.baseHeight), this.preferredSize.set(e.preferredWidth, e.preferredHeight), this.dispatchEvent({
            type: "change"
        }), this.resizable.setSize(this.baseSize.width, this.baseSize.height);
    }
    static get AUTO_SIZE() {
        return Ys;
    }
}, "Resolution"), Gf), yW = (jf = class extends Set {
    constructor(e, t = 10){
        super(), this.l = t, this.exclusive = !1, void 0 !== e && this.set(e);
    }
    get layer() {
        return this.l;
    }
    set layer(e) {
        let t = this.l;
        for (let i of this)i.layers.disable(t), i.layers.enable(e);
        this.l = e;
    }
    getLayer() {
        return this.layer;
    }
    setLayer(e) {
        this.layer = e;
    }
    isExclusive() {
        return this.exclusive;
    }
    setExclusive(e) {
        this.exclusive = e;
    }
    clear() {
        let e = this.layer;
        for (let t of this)t.layers.disable(e);
        return super.clear();
    }
    set(e) {
        this.clear();
        for (let t of e)this.add(t);
        return this;
    }
    indexOf(e) {
        return this.has(e) ? 0 : -1;
    }
    add(e) {
        return this.exclusive ? e.layers.set(this.layer) : e.layers.enable(this.layer), super.add(e);
    }
    delete(e) {
        return this.has(e) && e.layers.disable(this.layer), super.delete(e);
    }
    toggle(e) {
        let t;
        return this.has(e) ? (this.delete(e), t = !1) : (this.add(e), t = !0), t;
    }
    setVisible(e) {
        for (let t of this)e ? t.layers.enable(0) : t.layers.disable(0);
        return this;
    }
}, (0, _chunkZRT45YCMJs.a)(jf, "Selection"), jf), Rbe = .001, bW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}", xW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}", TW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}", EW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}", MW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}", wW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}", AW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}", CW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}", PW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}", SW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}", IW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}", _W = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}", OW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}", DW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}", LW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}", qW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}", NW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}", RW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}", kW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}", BW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}", FW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}", UW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}", zW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}", VW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}", GW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}", jW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}", HW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}", YW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}", WW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}", XW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}", ZW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}", QW = "vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}", KW = new Map([
    [
        De.ADD,
        bW
    ],
    [
        De.ALPHA,
        xW
    ],
    [
        De.AVERAGE,
        TW
    ],
    [
        De.COLOR,
        EW
    ],
    [
        De.COLOR_BURN,
        MW
    ],
    [
        De.COLOR_DODGE,
        wW
    ],
    [
        De.DARKEN,
        AW
    ],
    [
        De.DIFFERENCE,
        CW
    ],
    [
        De.DIVIDE,
        PW
    ],
    [
        De.DST,
        null
    ],
    [
        De.EXCLUSION,
        SW
    ],
    [
        De.HARD_LIGHT,
        IW
    ],
    [
        De.HARD_MIX,
        _W
    ],
    [
        De.HUE,
        OW
    ],
    [
        De.INVERT,
        DW
    ],
    [
        De.INVERT_RGB,
        LW
    ],
    [
        De.LIGHTEN,
        qW
    ],
    [
        De.LINEAR_BURN,
        NW
    ],
    [
        De.LINEAR_DODGE,
        RW
    ],
    [
        De.LINEAR_LIGHT,
        kW
    ],
    [
        De.LUMINOSITY,
        BW
    ],
    [
        De.MULTIPLY,
        FW
    ],
    [
        De.NEGATION,
        UW
    ],
    [
        De.NORMAL,
        zW
    ],
    [
        De.OVERLAY,
        VW
    ],
    [
        De.PIN_LIGHT,
        GW
    ],
    [
        De.REFLECT,
        jW
    ],
    [
        De.SATURATION,
        HW
    ],
    [
        De.SCREEN,
        YW
    ],
    [
        De.SOFT_LIGHT,
        WW
    ],
    [
        De.SRC,
        XW
    ],
    [
        De.SUBTRACT,
        ZW
    ],
    [
        De.VIVID_LIGHT,
        QW
    ]
]), JW = ((0, _chunkZRT45YCMJs.a)(Hf = class extends (0, _chunk4XLXKB34Js.K) {
    constructor(e, t = 1){
        super(), this._blendFunction = e, this.opacity = new (0, _chunk4XLXKB34Js.Na)(t);
    }
    getOpacity() {
        return this.opacity.value;
    }
    setOpacity(e) {
        this.opacity.value = e;
    }
    get blendFunction() {
        return this._blendFunction;
    }
    set blendFunction(e) {
        this._blendFunction = e, this.dispatchEvent({
            type: "change"
        });
    }
    getBlendFunction() {
        return this.blendFunction;
    }
    setBlendFunction(e) {
        this.blendFunction = e;
    }
    getShaderCode() {
        return KW.get(this.blendFunction);
    }
}, "BlendMode"), Hf), SI = ((0, _chunkZRT45YCMJs.a)(Yf = class extends (0, _chunk4XLXKB34Js.K) {
    constructor(e, t, { attributes: i = Wa.NONE, blendFunction: n = De.NORMAL, defines: r = new Map, uniforms: o = new Map, extensions: s = null, vertexShader: a = null } = {}){
        super(), this.name = e, this.renderer = null, this.attributes = i, this.fragmentShader = t, this.vertexShader = a, this.defines = r, this.uniforms = o, this.extensions = s, this.blendMode = new JW(n), this.blendMode.addEventListener("change", (e)=>this.setChanged()), this._inputColorSpace = (0, _chunk4XLXKB34Js.F), this._outputColorSpace = (0, _chunk4XLXKB34Js.D);
    }
    get inputColorSpace() {
        return this._inputColorSpace;
    }
    set inputColorSpace(e) {
        this._inputColorSpace = e, this.setChanged();
    }
    get outputColorSpace() {
        return this._outputColorSpace;
    }
    set outputColorSpace(e) {
        this._outputColorSpace = e, this.setChanged();
    }
    set mainScene(e) {}
    set mainCamera(e) {}
    getName() {
        return this.name;
    }
    setRenderer(e) {
        this.renderer = e;
    }
    getDefines() {
        return this.defines;
    }
    getUniforms() {
        return this.uniforms;
    }
    getExtensions() {
        return this.extensions;
    }
    getBlendMode() {
        return this.blendMode;
    }
    getAttributes() {
        return this.attributes;
    }
    setAttributes(e) {
        this.attributes = e, this.setChanged();
    }
    getFragmentShader() {
        return this.fragmentShader;
    }
    setFragmentShader(e) {
        this.fragmentShader = e, this.setChanged();
    }
    getVertexShader() {
        return this.vertexShader;
    }
    setVertexShader(e) {
        this.vertexShader = e, this.setChanged();
    }
    setChanged() {
        this.dispatchEvent({
            type: "change"
        });
    }
    setDepthTexture(e, t = (0, _chunk4XLXKB34Js.B)) {}
    update(e, t, i) {}
    setSize(e, t) {}
    initialize(e, t, i) {}
    dispose() {
        for (let e of Object.keys(this)){
            let t = this[e];
            (t instanceof (0, _chunk4XLXKB34Js.Q) || t instanceof (0, _chunk4XLXKB34Js.Z) || t instanceof (0, _chunk4XLXKB34Js.O) || t instanceof yn) && this[e].dispose();
        }
    }
}, "Effect"), Yf), Fbe = [
    new Float32Array(3),
    new Float32Array(3)
], Ube = [
    new Float32Array(3),
    new Float32Array(3),
    new Float32Array(3),
    new Float32Array(3)
], zbe = [
    [
        new Float32Array([
            0,
            0,
            0
        ]),
        new Float32Array([
            1,
            0,
            0
        ]),
        new Float32Array([
            1,
            1,
            0
        ]),
        new Float32Array([
            1,
            1,
            1
        ])
    ],
    [
        new Float32Array([
            0,
            0,
            0
        ]),
        new Float32Array([
            1,
            0,
            0
        ]),
        new Float32Array([
            1,
            0,
            1
        ]),
        new Float32Array([
            1,
            1,
            1
        ])
    ],
    [
        new Float32Array([
            0,
            0,
            0
        ]),
        new Float32Array([
            0,
            0,
            1
        ]),
        new Float32Array([
            1,
            0,
            1
        ]),
        new Float32Array([
            1,
            1,
            1
        ])
    ],
    [
        new Float32Array([
            0,
            0,
            0
        ]),
        new Float32Array([
            0,
            1,
            0
        ]),
        new Float32Array([
            1,
            1,
            0
        ]),
        new Float32Array([
            1,
            1,
            1
        ])
    ],
    [
        new Float32Array([
            0,
            0,
            0
        ]),
        new Float32Array([
            0,
            1,
            0
        ]),
        new Float32Array([
            0,
            1,
            1
        ]),
        new Float32Array([
            1,
            1,
            1
        ])
    ],
    [
        new Float32Array([
            0,
            0,
            0
        ]),
        new Float32Array([
            0,
            0,
            1
        ]),
        new Float32Array([
            0,
            1,
            1
        ]),
        new Float32Array([
            1,
            1,
            1
        ])
    ]
], Vbe = [
    new Float32Array(2),
    new Float32Array(2)
], Gbe = new Float32Array([
    0,
    -0.25,
    .25,
    -0.125,
    .125,
    -0.375,
    .375
]), jbe = [
    new Float32Array([
        0,
        0
    ]),
    new Float32Array([
        .25,
        -0.25
    ]),
    new Float32Array([
        -0.25,
        .25
    ]),
    new Float32Array([
        .125,
        -0.125
    ]),
    new Float32Array([
        -0.125,
        .125
    ])
], Hbe = [
    new Uint8Array([
        0,
        0
    ]),
    new Uint8Array([
        3,
        0
    ]),
    new Uint8Array([
        0,
        3
    ]),
    new Uint8Array([
        3,
        3
    ]),
    new Uint8Array([
        1,
        0
    ]),
    new Uint8Array([
        4,
        0
    ]),
    new Uint8Array([
        1,
        3
    ]),
    new Uint8Array([
        4,
        3
    ]),
    new Uint8Array([
        0,
        1
    ]),
    new Uint8Array([
        3,
        1
    ]),
    new Uint8Array([
        0,
        4
    ]),
    new Uint8Array([
        3,
        4
    ]),
    new Uint8Array([
        1,
        1
    ]),
    new Uint8Array([
        4,
        1
    ]),
    new Uint8Array([
        1,
        4
    ]),
    new Uint8Array([
        4,
        4
    ])
], Ybe = [
    new Uint8Array([
        0,
        0
    ]),
    new Uint8Array([
        1,
        0
    ]),
    new Uint8Array([
        0,
        2
    ]),
    new Uint8Array([
        1,
        2
    ]),
    new Uint8Array([
        2,
        0
    ]),
    new Uint8Array([
        3,
        0
    ]),
    new Uint8Array([
        2,
        2
    ]),
    new Uint8Array([
        3,
        2
    ]),
    new Uint8Array([
        0,
        1
    ]),
    new Uint8Array([
        1,
        1
    ]),
    new Uint8Array([
        0,
        3
    ]),
    new Uint8Array([
        1,
        3
    ]),
    new Uint8Array([
        2,
        1
    ]),
    new Uint8Array([
        3,
        1
    ]),
    new Uint8Array([
        2,
        3
    ]),
    new Uint8Array([
        3,
        3
    ])
], Wbe = new Map([
    [
        Di(0, 0, 0, 0),
        new Float32Array([
            0,
            0,
            0,
            0
        ])
    ],
    [
        Di(0, 0, 0, 1),
        new Float32Array([
            0,
            0,
            0,
            1
        ])
    ],
    [
        Di(0, 0, 1, 0),
        new Float32Array([
            0,
            0,
            1,
            0
        ])
    ],
    [
        Di(0, 0, 1, 1),
        new Float32Array([
            0,
            0,
            1,
            1
        ])
    ],
    [
        Di(0, 1, 0, 0),
        new Float32Array([
            0,
            1,
            0,
            0
        ])
    ],
    [
        Di(0, 1, 0, 1),
        new Float32Array([
            0,
            1,
            0,
            1
        ])
    ],
    [
        Di(0, 1, 1, 0),
        new Float32Array([
            0,
            1,
            1,
            0
        ])
    ],
    [
        Di(0, 1, 1, 1),
        new Float32Array([
            0,
            1,
            1,
            1
        ])
    ],
    [
        Di(1, 0, 0, 0),
        new Float32Array([
            1,
            0,
            0,
            0
        ])
    ],
    [
        Di(1, 0, 0, 1),
        new Float32Array([
            1,
            0,
            0,
            1
        ])
    ],
    [
        Di(1, 0, 1, 0),
        new Float32Array([
            1,
            0,
            1,
            0
        ])
    ],
    [
        Di(1, 0, 1, 1),
        new Float32Array([
            1,
            0,
            1,
            1
        ])
    ],
    [
        Di(1, 1, 0, 0),
        new Float32Array([
            1,
            1,
            0,
            0
        ])
    ],
    [
        Di(1, 1, 0, 1),
        new Float32Array([
            1,
            1,
            0,
            1
        ])
    ],
    [
        Di(1, 1, 1, 0),
        new Float32Array([
            1,
            1,
            1,
            0
        ])
    ],
    [
        Di(1, 1, 1, 1),
        new Float32Array([
            1,
            1,
            1,
            1
        ])
    ]
]);
function iM(e, t, i) {
    return e + (t - e) * i;
}
function Di(e, t, i, n) {
    let r = iM(e, t, .75), o = iM(i, n, .75);
    return iM(r, o, .875);
}
(0, _chunkZRT45YCMJs.a)(iM, "lerp2"), (0, _chunkZRT45YCMJs.a)(Di, "bilinear");
var Wf, Xf, $W = "uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;\n#ifdef USE_PATTERN\nuniform lowp sampler2D patternTexture;varying vec2 vUvPattern;\n#endif\nvoid mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;\n#ifndef X_RAY\nedge.y=0.0;\n#endif\nedge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;\n#ifdef USE_PATTERN\nvec4 patternColor=texture2D(patternTexture,vUvPattern);\n#ifdef X_RAY\nfloat hiddenFactor=0.5;\n#else\nfloat hiddenFactor=0.0;\n#endif\nvisibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;\n#endif\nfloat alpha=max(max(edge.x,edge.y),visibilityFactor);\n#ifdef ALPHA\noutputColor=vec4(color,alpha);\n#else\noutputColor=vec4(color,max(alpha,inputColor.a));\n#endif\n}", eX = "uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}", II = ((0, _chunkZRT45YCMJs.a)(Wf = class extends SI {
    constructor(e, t, { blendFunction: i = De.SCREEN, patternTexture: n = null, patternScale: r = 1, edgeStrength: o = 1, pulseSpeed: s = 0, visibleEdgeColor: a = 16777215, hiddenEdgeColor: l = 2230538, kernelSize: h = nM.VERY_SMALL, blur: c = !1, xRay: u = !0, multisampling: d = 0, resolutionScale: p = .5, width: f = Ya.AUTO_SIZE, height: m = Ya.AUTO_SIZE, resolutionX: g = f, resolutionY: v = m } = {}){
        super("OutlineEffect", $W, {
            uniforms: new Map([
                [
                    "maskTexture",
                    new (0, _chunk4XLXKB34Js.Na)(null)
                ],
                [
                    "edgeTexture",
                    new (0, _chunk4XLXKB34Js.Na)(null)
                ],
                [
                    "edgeStrength",
                    new (0, _chunk4XLXKB34Js.Na)(o)
                ],
                [
                    "visibleEdgeColor",
                    new (0, _chunk4XLXKB34Js.Na)(new (0, _chunk4XLXKB34Js.Y)(a))
                ],
                [
                    "hiddenEdgeColor",
                    new (0, _chunk4XLXKB34Js.Na)(new (0, _chunk4XLXKB34Js.Y)(l))
                ],
                [
                    "pulse",
                    new (0, _chunk4XLXKB34Js.Na)(1)
                ],
                [
                    "patternScale",
                    new (0, _chunk4XLXKB34Js.Na)(r)
                ],
                [
                    "patternTexture",
                    new (0, _chunk4XLXKB34Js.Na)(null)
                ]
            ])
        }), this.blendMode.addEventListener("change", (e)=>{
            this.blendMode.blendFunction === De.ALPHA ? this.defines.set("ALPHA", "1") : this.defines.delete("ALPHA"), this.setChanged();
        }), this.blendMode.blendFunction = i, this.patternTexture = n, this.xRay = u, this.scene = e, this.camera = t, this.renderTargetMask = new (0, _chunk4XLXKB34Js.Q)(1, 1), this.renderTargetMask.samples = d, this.renderTargetMask.texture.name = "Outline.Mask", this.uniforms.get("maskTexture").value = this.renderTargetMask.texture, this.renderTargetOutline = new (0, _chunk4XLXKB34Js.Q)(1, 1, {
            depthBuffer: !1
        }), this.renderTargetOutline.texture.name = "Outline.Edges", this.uniforms.get("edgeTexture").value = this.renderTargetOutline.texture, this.clearPass = new ic, this.clearPass.overrideClearColor = new (0, _chunk4XLXKB34Js.Y)(0), this.clearPass.overrideClearAlpha = 1, this.depthPass = new pW(e, t), this.maskPass = new Ov(e, t, new QY(this.depthPass.texture, t));
        let y = this.maskPass.clearPass;
        y.overrideClearColor = new (0, _chunk4XLXKB34Js.Y)(16777215), y.overrideClearAlpha = 1, this.blurPass = new mW({
            resolutionScale: p,
            resolutionX: g,
            resolutionY: v,
            kernelSize: h
        }), this.blurPass.enabled = c;
        let b = this.blurPass.resolution;
        b.addEventListener("change", (e)=>this.setSize(b.baseWidth, b.baseHeight)), this.outlinePass = new dl(new aW), this.outlinePass.fullscreenMaterial.inputBuffer = this.renderTargetMask.texture, this.time = 0, this.forceUpdate = !0, this.selection = new yW, this.selection.layer = 10, this.pulseSpeed = s;
    }
    set mainScene(e) {
        this.scene = e, this.depthPass.mainScene = e, this.maskPass.mainScene = e;
    }
    set mainCamera(e) {
        this.camera = e, this.depthPass.mainCamera = e, this.maskPass.mainCamera = e, this.maskPass.overrideMaterial.copyCameraSettings(e);
    }
    get resolution() {
        return this.blurPass.resolution;
    }
    getResolution() {
        return this.blurPass.getResolution();
    }
    get multisampling() {
        return this.renderTargetMask.samples;
    }
    set multisampling(e) {
        this.renderTargetMask.samples = e, this.renderTargetMask.dispose();
    }
    get patternScale() {
        return this.uniforms.get("patternScale").value;
    }
    set patternScale(e) {
        this.uniforms.get("patternScale").value = e;
    }
    get edgeStrength() {
        return this.uniforms.get("edgeStrength").value;
    }
    set edgeStrength(e) {
        this.uniforms.get("edgeStrength").value = e;
    }
    get visibleEdgeColor() {
        return this.uniforms.get("visibleEdgeColor").value;
    }
    set visibleEdgeColor(e) {
        this.uniforms.get("visibleEdgeColor").value = e;
    }
    get hiddenEdgeColor() {
        return this.uniforms.get("hiddenEdgeColor").value;
    }
    set hiddenEdgeColor(e) {
        this.uniforms.get("hiddenEdgeColor").value = e;
    }
    getBlurPass() {
        return this.blurPass;
    }
    getSelection() {
        return this.selection;
    }
    getPulseSpeed() {
        return this.pulseSpeed;
    }
    setPulseSpeed(e) {
        this.pulseSpeed = e;
    }
    get width() {
        return this.resolution.width;
    }
    set width(e) {
        this.resolution.preferredWidth = e;
    }
    get height() {
        return this.resolution.height;
    }
    set height(e) {
        this.resolution.preferredHeight = e;
    }
    get selectionLayer() {
        return this.selection.layer;
    }
    set selectionLayer(e) {
        this.selection.layer = e;
    }
    get dithering() {
        return this.blurPass.dithering;
    }
    set dithering(e) {
        this.blurPass.dithering = e;
    }
    get kernelSize() {
        return this.blurPass.kernelSize;
    }
    set kernelSize(e) {
        this.blurPass.kernelSize = e;
    }
    get blur() {
        return this.blurPass.enabled;
    }
    set blur(e) {
        this.blurPass.enabled = e;
    }
    get xRay() {
        return this.defines.has("X_RAY");
    }
    set xRay(e) {
        this.xRay !== e && (e ? this.defines.set("X_RAY", "1") : this.defines.delete("X_RAY"), this.setChanged());
    }
    isXRayEnabled() {
        return this.xRay;
    }
    setXRayEnabled(e) {
        this.xRay = e;
    }
    get patternTexture() {
        return this.uniforms.get("patternTexture").value;
    }
    set patternTexture(e) {
        null !== e ? (e.wrapS = e.wrapT = (0, _chunk4XLXKB34Js.i), this.defines.set("USE_PATTERN", "1"), this.setVertexShader(eX)) : (this.defines.delete("USE_PATTERN"), this.setVertexShader(null)), this.uniforms.get("patternTexture").value = e, this.setChanged();
    }
    setPatternTexture(e) {
        this.patternTexture = e;
    }
    getResolutionScale() {
        return this.resolution.scale;
    }
    setResolutionScale(e) {
        this.resolution.scale = e;
    }
    setSelection(e) {
        return this.selection.set(e), this;
    }
    clearSelection() {
        return this.selection.clear(), this;
    }
    selectObject(e) {
        return this.selection.add(e), this;
    }
    deselectObject(e) {
        return this.selection.delete(e), this;
    }
    update(e, t, i) {
        let n = this.scene, r = this.camera, o = this.selection, s = this.uniforms.get("pulse"), a = n.background, l = r.layers.mask;
        (this.forceUpdate || o.size > 0) && (n.background = null, s.value = 1, this.pulseSpeed > 0 && (s.value = .375 * Math.cos(this.time * this.pulseSpeed * 10) + .625), this.time += i, o.setVisible(!1), this.depthPass.render(e), o.setVisible(!0), r.layers.set(o.layer), this.maskPass.render(e, this.renderTargetMask), r.layers.mask = l, n.background = a, this.outlinePass.render(e, null, this.renderTargetOutline), this.blurPass.enabled && this.blurPass.render(e, this.renderTargetOutline, this.renderTargetOutline)), this.forceUpdate = o.size > 0;
    }
    setSize(e, t) {
        this.blurPass.setSize(e, t), this.renderTargetMask.setSize(e, t);
        let i = this.resolution;
        i.setBaseSize(e, t);
        let n = i.width, r = i.height;
        this.depthPass.setSize(n, r), this.renderTargetOutline.setSize(n, r), this.outlinePass.fullscreenMaterial.setSize(n, r);
    }
    initialize(e, t, i) {
        this.blurPass.initialize(e, t, (0, _chunk4XLXKB34Js.r)), void 0 !== i && (this.depthPass.initialize(e, t, i), this.maskPass.initialize(e, t, i), this.outlinePass.initialize(e, t, i));
    }
}, "OutlineEffect"), Wf), Zbe = .5 * Math.PI, EI = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC", MI = "data:image/png;base64,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", tX = "uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}", iX = "varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}", _I = ((0, _chunkZRT45YCMJs.a)(Xf = class extends SI {
    constructor({ blendFunction: e = De.SRC, preset: t = Qr.MEDIUM, edgeDetectionMode: i = wI.COLOR, predicationMode: n = VY.DISABLED } = {}){
        let r, o;
        super("SMAAEffect", tX, {
            vertexShader: iX,
            blendFunction: e,
            attributes: Wa.CONVOLUTION | Wa.DEPTH,
            uniforms: new Map([
                [
                    "weightMap",
                    new (0, _chunk4XLXKB34Js.Na)(null)
                ]
            ])
        }), arguments.length > 1 && (r = arguments[0], o = arguments[1], arguments.length > 2 && (t = arguments[2]), arguments.length > 3 && (i = arguments[3])), this.renderTargetEdges = new (0, _chunk4XLXKB34Js.Q)(1, 1, {
            depthBuffer: !1
        }), this.renderTargetEdges.texture.name = "SMAA.Edges", this.renderTargetWeights = this.renderTargetEdges.clone(), this.renderTargetWeights.texture.name = "SMAA.Weights", this.uniforms.get("weightMap").value = this.renderTargetWeights.texture, this.clearPass = new ic(!0, !1, !1), this.clearPass.overrideClearColor = new (0, _chunk4XLXKB34Js.Y)(0), this.clearPass.overrideClearAlpha = 1, this.edgeDetectionPass = new dl(new $Y), this.edgeDetectionMaterial.edgeDetectionMode = i, this.edgeDetectionMaterial.predicationMode = n, this.weightsPass = new dl(new lW);
        let s = new (0, _chunk4XLXKB34Js.Fa);
        s.onLoad = ()=>{
            let e = new (0, _chunk4XLXKB34Js.O)(r);
            e.name = "SMAA.Search", e.magFilter = (0, _chunk4XLXKB34Js.l), e.minFilter = (0, _chunk4XLXKB34Js.l), e.generateMipmaps = !1, e.needsUpdate = !0, e.flipY = !0, this.weightsMaterial.searchTexture = e;
            let t = new (0, _chunk4XLXKB34Js.O)(o);
            t.name = "SMAA.Area", t.magFilter = (0, _chunk4XLXKB34Js.o), t.minFilter = (0, _chunk4XLXKB34Js.o), t.generateMipmaps = !1, t.needsUpdate = !0, t.flipY = !1, this.weightsMaterial.areaTexture = t, this.dispatchEvent({
                type: "load"
            });
        }, s.itemStart("search"), s.itemStart("area"), void 0 !== r && void 0 !== o ? (s.itemEnd("search"), s.itemEnd("area")) : typeof Image < "u" && (r = new Image, o = new Image, r.addEventListener("load", ()=>s.itemEnd("search")), o.addEventListener("load", ()=>s.itemEnd("area")), r.src = EI, o.src = MI), this.applyPreset(t);
    }
    get edgesTexture() {
        return this.renderTargetEdges.texture;
    }
    getEdgesTexture() {
        return this.edgesTexture;
    }
    get weightsTexture() {
        return this.renderTargetWeights.texture;
    }
    getWeightsTexture() {
        return this.weightsTexture;
    }
    get edgeDetectionMaterial() {
        return this.edgeDetectionPass.fullscreenMaterial;
    }
    get colorEdgesMaterial() {
        return this.edgeDetectionMaterial;
    }
    getEdgeDetectionMaterial() {
        return this.edgeDetectionMaterial;
    }
    get weightsMaterial() {
        return this.weightsPass.fullscreenMaterial;
    }
    getWeightsMaterial() {
        return this.weightsMaterial;
    }
    setEdgeDetectionThreshold(e) {
        this.edgeDetectionMaterial.edgeDetectionThreshold = e;
    }
    setOrthogonalSearchSteps(e) {
        this.weightsMaterial.orthogonalSearchSteps = e;
    }
    applyPreset(e) {
        let t = this.edgeDetectionMaterial, i = this.weightsMaterial;
        switch(e){
            case Qr.LOW:
                t.edgeDetectionThreshold = .15, i.orthogonalSearchSteps = 4, i.diagonalDetection = !1, i.cornerDetection = !1;
                break;
            case Qr.MEDIUM:
                t.edgeDetectionThreshold = .1, i.orthogonalSearchSteps = 8, i.diagonalDetection = !1, i.cornerDetection = !1;
                break;
            case Qr.HIGH:
                t.edgeDetectionThreshold = .1, i.orthogonalSearchSteps = 16, i.diagonalSearchSteps = 8, i.cornerRounding = 25, i.diagonalDetection = !0, i.cornerDetection = !0;
                break;
            case Qr.ULTRA:
                t.edgeDetectionThreshold = .05, i.orthogonalSearchSteps = 32, i.diagonalSearchSteps = 16, i.cornerRounding = 25, i.diagonalDetection = !0, i.cornerDetection = !0;
        }
    }
    setDepthTexture(e, t = (0, _chunk4XLXKB34Js.B)) {
        this.edgeDetectionMaterial.depthBuffer = e, this.edgeDetectionMaterial.depthPacking = t;
    }
    update(e, t, i) {
        this.clearPass.render(e, this.renderTargetEdges), this.edgeDetectionPass.render(e, t, this.renderTargetEdges), this.weightsPass.render(e, this.renderTargetEdges, this.renderTargetWeights);
    }
    setSize(e, t) {
        this.edgeDetectionMaterial.setSize(e, t), this.weightsMaterial.setSize(e, t), this.renderTargetEdges.setSize(e, t), this.renderTargetWeights.setSize(e, t);
    }
    dispose() {
        let { searchTexture: e, areaTexture: t } = this.weightsMaterial;
        null !== e && null !== t && (e.dispose(), t.dispose()), super.dispose();
    }
    static get searchImageDataURL() {
        return EI;
    }
    static get areaImageDataURL() {
        return MI;
    }
}, "SMAAEffect"), Xf), Zf = new (0, _chunk4XLXKB34Js.aa);
Zf.setAttribute("position", new (0, _chunk4XLXKB34Js.$)(new Float32Array([
    -1,
    -1,
    3,
    -1,
    -1,
    3
]), 2)), Zf.setAttribute("uv", new (0, _chunk4XLXKB34Js.$)(new Float32Array([
    0,
    0,
    2,
    0,
    0,
    2
]), 2)), Zf.boundingSphere = new (0, _chunk4XLXKB34Js.U), Zf.computeBoundingSphere = function() {};
var nX = new (0, _chunk4XLXKB34Js.ia), rM = class {
    constructor(e){
        this._mesh = new (0, _chunk4XLXKB34Js.ba)(Zf, e), this._mesh.frustumCulled = !1;
    }
    render(e) {
        e.render(this._mesh, nX);
    }
    get material() {
        return this._mesh.material;
    }
    set material(e) {
        this._mesh.material = e;
    }
    dispose() {
        this._mesh.material.dispose(), this._mesh.geometry.dispose();
    }
};
(0, _chunkZRT45YCMJs.a)(rM, "$e4ca8dcb0218f846$export$dcd670d73db751f5");
var Xa = rM, rX = {
    uniforms: {
        sceneDiffuse: {
            value: null
        },
        sceneDepth: {
            value: null
        },
        sceneNormal: {
            value: null
        },
        projMat: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        viewMat: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        projViewMat: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        projectionMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        viewMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        cameraPos: {
            value: new (0, _chunk4XLXKB34Js.S)
        },
        resolution: {
            value: new (0, _chunk4XLXKB34Js.M)
        },
        time: {
            value: 0
        },
        samples: {
            value: []
        },
        bluenoise: {
            value: null
        },
        distanceFalloff: {
            value: 1
        },
        radius: {
            value: 5
        },
        near: {
            value: .1
        },
        far: {
            value: 1e3
        },
        logDepth: {
            value: !1
        },
        ortho: {
            value: !1
        },
        screenSpaceRadius: {
            value: !1
        },
        frame: {
            value: 0
        }
    },
    depthWrite: !1,
    depthTest: !1,
    vertexShader: "\nvarying vec2 vUv;\nvoid main() {\n  vUv = uv;\n  gl_Position = vec4(position, 1);\n}",
    fragmentShader: "\n    #define SAMPLES 16\n    #define FSAMPLES 16.0\nuniform sampler2D sceneDiffuse;\nuniform highp sampler2D sceneNormal;\nuniform highp sampler2D sceneDepth;\nuniform mat4 projectionMatrixInv;\nuniform mat4 viewMatrixInv;\nuniform mat4 projMat;\nuniform mat4 viewMat;\nuniform mat4 projViewMat;\nuniform vec3 cameraPos;\nuniform vec2 resolution;\nuniform float time;\nuniform vec3[SAMPLES] samples;\nuniform float radius;\nuniform float distanceFalloff;\nuniform float near;\nuniform float far;\nuniform float frame;\nuniform bool logDepth;\nuniform bool ortho;\nuniform bool screenSpaceRadius;\nuniform sampler2D bluenoise;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        return (zFar * zNear) / (zFar - d * (zFar - zNear));\n    }\n    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n      return nearZ + (farZ - nearZ) * d;\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      return ortho ? linearize_depth_ortho(\n        linDepth,\n        nearZ,\n        farZ\n      ) :linearize_depth(linDepth, nearZ, farZ);\n    }\n\n    vec3 getWorldPosLog(vec3 posS) {\n      vec2 uv = posS.xy;\n      float z = posS.z;\n      float nearZ =near;\n      float farZ = far;\n      float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n      vec4 wpos = projectionMatrixInv * clipVec;\n      return wpos.xyz / wpos.w;\n    }\n    vec3 getWorldPos(float depth, vec2 coord) {\n      #ifdef LOGDEPTH\n        return getWorldPosLog(vec3(coord, depth));\n      #endif\n      float z = depth * 2.0 - 1.0;\n      vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n      vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n      // Perspective division\n     vec4 worldSpacePosition = viewSpacePosition;\n     worldSpacePosition.xyz /= worldSpacePosition.w;\n      return worldSpacePosition.xyz;\n  }\n\n  vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n    ivec2 p = ivec2(vUv * resolution);\n    float c0 = texelFetch(sceneDepth, p, 0).x;\n    float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n    float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n    float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n    float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n    float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n    float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n    float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n    float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n\n    float dl = abs((2.0 * l1 - l2) - c0);\n    float dr = abs((2.0 * r1 - r2) - c0);\n    float db = abs((2.0 * b1 - b2) - c0);\n    float dt = abs((2.0 * t1 - t2) - c0);\n\n    vec3 ce = getWorldPos(c0, vUv).xyz;\n\n    vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                          : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n    vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                          : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n\n    return normalize(cross(dpdx, dpdy));\n}\n\nmat3 makeRotationZ(float theta) {\n	float c = cos(theta);\n	float s = sin(theta);\n	return mat3(c, - s, 0,\n			s,  c, 0,\n			0,  0, 1);\n  }\n\nvoid main() {\n      vec4 diffuse = texture2D(sceneDiffuse, vUv);\n      float depth = texture2D(sceneDepth, vUv).x;\n      if (depth == 1.0) {\n        gl_FragColor = vec4(vec3(1.0), 1.0);\n        return;\n      }\n      vec3 worldPos = getWorldPos(depth, vUv);\n      #ifdef HALFRES\n        vec3 normal = texture2D(sceneNormal, vUv).rgb;\n      #else\n        vec3 normal = computeNormal(worldPos, vUv);\n      #endif\n      vec4 noise = texture2D(bluenoise, gl_FragCoord.xy / 128.0);\n      vec2 harmoniousNumbers = vec2(\n        1.618033988749895,\n        1.324717957244746\n      );\n      noise.rg += harmoniousNumbers * frame;\n      noise.rg = fract(noise.rg);\n        vec3 helperVec = vec3(0.0, 1.0, 0.0);\n        if (dot(helperVec, normal) > 0.99) {\n          helperVec = vec3(1.0, 0.0, 0.0);\n        }\n        vec3 tangent = normalize(cross(helperVec, normal));\n        vec3 bitangent = cross(normal, tangent);\n        mat3 tbn = mat3(tangent, bitangent, normal) *  makeRotationZ(noise.r * 2.0 * 3.1415962) ;\n\n      float occluded = 0.0;\n      float totalWeight = 0.0;\n      float radiusToUse = screenSpaceRadius ? distance(\n        worldPos,\n        getWorldPos(depth, vUv +\n          vec2(radius, 0.0) / resolution)\n      ) : radius;\n      float distanceFalloffToUse =screenSpaceRadius ?\n          radiusToUse * distanceFalloff\n      : radiusToUse * distanceFalloff * 0.2;\n      float bias = (min(\n        0.1,\n        distanceFalloffToUse * 0.1\n      ) / near) * fwidth(distance(worldPos, cameraPos)) / radiusToUse;\n      float phi = 1.61803398875;\n      float offsetMove = 0.0;\n      float offsetMoveInv = 1.0 / FSAMPLES;\n      for(float i = 0.0; i < FSAMPLES; i++) {\n        vec3 sampleDirection = tbn * samples[int(i)];\n\n        float moveAmt = fract(noise.g + offsetMove);\n        offsetMove += offsetMoveInv;\n\n        vec3 samplePos = worldPos + radiusToUse * moveAmt * sampleDirection;\n        vec4 offset = projMat * vec4(samplePos, 1.0);\n        offset.xyz /= offset.w;\n        offset.xyz = offset.xyz * 0.5 + 0.5;\n        \n        vec2 diff = gl_FragCoord.xy - floor(offset.xy * resolution);\n        // From Rabbid76's hbao\n        vec2 clipRangeCheck = step(vec2(0.0),offset.xy) * step(offset.xy, vec2(1.0));\n          float sampleDepth = textureLod(sceneDepth, offset.xy, 0.0).x;\n\n          #ifdef LOGDEPTH\n\n          float distSample = linearize_depth_log(sampleDepth, near, far);\n\n          #else\n\n          float distSample = ortho ? linearize_depth_ortho(sampleDepth, near, far) : linearize_depth(sampleDepth, near, far);\n\n          #endif\n\n          float distWorld = ortho ? linearize_depth_ortho(offset.z, near, far) : linearize_depth(offset.z, near, far);\n          \n          float rangeCheck = distSample == distWorld ? 0.0 : smoothstep(0.0, 1.0, distanceFalloffToUse / (abs(distSample - distWorld)));\n          \n          float sampleValid = (clipRangeCheck.x * clipRangeCheck.y);\n          occluded += rangeCheck * float(sampleDepth != depth) * float(distSample + bias < distWorld) * step(\n            1.0,\n            dot(diff, diff)\n          ) * sampleValid;\n          \n          totalWeight += sampleValid;\n      }\n      float occ = clamp(1.0 - occluded / (totalWeight == 0.0 ? 1.0 : totalWeight), 0.0, 1.0);\n      gl_FragColor = vec4(occ, 0.5 + 0.5 * normal);\n}"
}, aX = {
    uniforms: {
        sceneDiffuse: {
            value: null
        },
        sceneDepth: {
            value: null
        },
        tDiffuse: {
            value: null
        },
        transparencyDWFalse: {
            value: null
        },
        transparencyDWTrue: {
            value: null
        },
        transparencyDWTrueDepth: {
            value: null
        },
        transparencyAware: {
            value: !1
        },
        projMat: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        viewMat: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        projectionMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        viewMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        cameraPos: {
            value: new (0, _chunk4XLXKB34Js.S)
        },
        resolution: {
            value: new (0, _chunk4XLXKB34Js.M)
        },
        color: {
            value: new (0, _chunk4XLXKB34Js.S)(0, 0, 0)
        },
        blueNoise: {
            value: null
        },
        downsampledDepth: {
            value: null
        },
        time: {
            value: 0
        },
        intensity: {
            value: 10
        },
        renderMode: {
            value: 0
        },
        gammaCorrection: {
            value: !1
        },
        logDepth: {
            value: !1
        },
        ortho: {
            value: !1
        },
        near: {
            value: .1
        },
        far: {
            value: 1e3
        },
        screenSpaceRadius: {
            value: !1
        },
        radius: {
            value: 0
        },
        distanceFalloff: {
            value: 1
        },
        fog: {
            value: !1
        },
        fogExp: {
            value: !1
        },
        fogDensity: {
            value: 0
        },
        fogNear: {
            value: 1 / 0
        },
        fogFar: {
            value: 1 / 0
        },
        colorMultiply: {
            value: !0
        }
    },
    depthWrite: !1,
    depthTest: !1,
    vertexShader: "\n		varying vec2 vUv;\n		void main() {\n			vUv = uv;\n			gl_Position = vec4(position, 1);\n		}",
    fragmentShader: "\n		uniform sampler2D sceneDiffuse;\n    uniform highp sampler2D sceneDepth;\n    uniform highp sampler2D downsampledDepth;\n    uniform highp sampler2D transparencyDWFalse;\n    uniform highp sampler2D transparencyDWTrue;\n    uniform highp sampler2D transparencyDWTrueDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform vec2 resolution;\n    uniform vec3 color;\n    uniform mat4 projectionMatrixInv;\n    uniform mat4 viewMatrixInv;\n    uniform float intensity;\n    uniform float renderMode;\n    uniform float near;\n    uniform float far;\n    uniform bool gammaCorrection;\n    uniform bool logDepth;\n    uniform bool ortho;\n    uniform bool screenSpaceRadius;\n    uniform bool fog;\n    uniform bool fogExp;\n    uniform bool colorMultiply;\n    uniform bool transparencyAware;\n    uniform float fogDensity;\n    uniform float fogNear;\n    uniform float fogFar;\n    uniform float radius;\n    uniform float distanceFalloff;\n    uniform vec3 cameraPos;\n    varying vec2 vUv;\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        return (zFar * zNear) / (zFar - d * (zFar - zNear));\n    }\n    highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n      return nearZ + (farZ - nearZ) * d;\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n      float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n      float a = farZ / (farZ - nearZ);\n      float b = farZ * nearZ / (nearZ - farZ);\n      float linDepth = a + b / depth;\n      return ortho ? linearize_depth_ortho(\n        linDepth,\n        nearZ,\n        farZ\n      ) :linearize_depth(linDepth, nearZ, farZ);\n    }\n    vec3 getWorldPosLog(vec3 posS) {\n        vec2 uv = posS.xy;\n        float z = posS.z;\n        float nearZ =near;\n        float farZ = far;\n        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n        float a = farZ / (farZ - nearZ);\n        float b = farZ * nearZ / (nearZ - farZ);\n        float linDepth = a + b / depth;\n        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n        vec4 wpos = projectionMatrixInv * clipVec;\n        return wpos.xyz / wpos.w;\n      }\n      vec3 getWorldPos(float depth, vec2 coord) {\n       // if (logDepth) {\n        #ifdef LOGDEPTH\n          return getWorldPosLog(vec3(coord, depth));\n        #endif\n      //  }\n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n  \n    vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n      ivec2 p = ivec2(vUv * resolution);\n      float c0 = texelFetch(sceneDepth, p, 0).x;\n      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n  \n      float dl = abs((2.0 * l1 - l2) - c0);\n      float dr = abs((2.0 * r1 - r2) - c0);\n      float db = abs((2.0 * b1 - b2) - c0);\n      float dt = abs((2.0 * t1 - t2) - c0);\n  \n      vec3 ce = getWorldPos(c0, vUv).xyz;\n  \n      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n  \n      return normalize(cross(dpdx, dpdy));\n  }\n\n    #include <common>\n    #include <dithering_pars_fragment>\n    void main() {\n        //vec4 texel = texture2D(tDiffuse, vUv);//vec3(0.0);\n        vec4 sceneTexel = texture2D(sceneDiffuse, vUv);\n        float depth = texture2D(\n            sceneDepth,\n            vUv\n        ).x;\n        #ifdef HALFRES \n        vec4 texel;\n        if (depth == 1.0) {\n            texel = vec4(0.0, 0.0, 0.0, 1.0);\n        } else {\n        vec3 worldPos = getWorldPos(depth, vUv);\n        vec3 normal = computeNormal(getWorldPos(depth, vUv), vUv);\n       // vec4 texel = texture2D(tDiffuse, vUv);\n       // Find closest depth;\n       float totalWeight = 0.0;\n       float radiusToUse = screenSpaceRadius ? distance(\n        worldPos,\n        getWorldPos(depth, vUv +\n          vec2(radius, 0.0) / resolution)\n      ) : radius;\n      float distanceFalloffToUse =screenSpaceRadius ?\n          radiusToUse * distanceFalloff\n      : distanceFalloff;\n        for(float x = -1.0; x <= 1.0; x++) {\n            for(float y = -1.0; y <= 1.0; y++) {\n                vec2 offset = vec2(x, y);\n                ivec2 p = ivec2(\n                    (vUv * resolution * 0.5) + offset\n                );\n                vec2 pUv = vec2(p) / (resolution * 0.5);\n                float sampleDepth = texelFetch(downsampledDepth,p, 0).x;\n                vec4 sampleInfo = texelFetch(tDiffuse, p, 0);\n                vec3 normalSample = sampleInfo.gba * 2.0 - 1.0;\n                vec3 worldPosSample = getWorldPos(sampleDepth, pUv);\n                float tangentPlaneDist = abs(dot(worldPosSample - worldPos, normal));\n                float rangeCheck = exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0);\n                float weight = rangeCheck;\n                totalWeight += weight;\n                texel += sampleInfo * weight;\n            }\n        }\n        if (totalWeight == 0.0) {\n            texel = texture2D(tDiffuse, vUv);\n        } else {\n            texel /= totalWeight;\n        }\n    }\n        #else\n        vec4 texel = texture2D(tDiffuse, vUv);\n        #endif\n\n        #ifdef LOGDEPTH\n        texel.r = clamp(texel.r, 0.0, 1.0);\n        if (texel.r == 0.0) {\n          texel.r = 1.0;\n        }\n        #endif\n     \n        float finalAo = pow(texel.r, intensity);\n        float fogFactor;\n        float fogDepth = distance(\n            cameraPos,\n            getWorldPos(depth, vUv)\n        );\n        if (fog) {\n            if (fogExp) {\n                fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n            } else {\n                fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n            }\n        }\n        if (transparencyAware) {\n            float transparencyDWOff = texture2D(transparencyDWFalse, vUv).a;\n            float transparencyDWOn = texture2D(transparencyDWTrue, vUv).a;\n            float adjustmentFactorOff = transparencyDWOff;\n            float adjustmentFactorOn = (1.0 - transparencyDWOn) * (\n                texture2D(transparencyDWTrueDepth, vUv).r == texture2D(sceneDepth, vUv).r ? 1.0 : 0.0\n            );\n            float adjustmentFactor = max(adjustmentFactorOff, adjustmentFactorOn);\n            finalAo = mix(finalAo, 1.0, adjustmentFactor);\n        }\n        finalAo = mix(finalAo, 1.0, fogFactor);\n        vec3 aoApplied = color * mix(vec3(1.0), sceneTexel.rgb, float(colorMultiply));\n        if (renderMode == 0.0) {\n            gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 1.0) {\n            gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);\n        } else if (renderMode == 2.0) {\n            gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n        } else if (renderMode == 3.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(sceneTexel.rgb, aoApplied, 1.0 - finalAo), sceneTexel.a);\n            }\n        } else if (renderMode == 4.0) {\n            if (vUv.x < 0.5) {\n                gl_FragColor = vec4( sceneTexel.rgb, sceneTexel.a);\n            } else if (abs(vUv.x - 0.5) < 1.0 / resolution.x) {\n                gl_FragColor = vec4(1.0);\n            } else {\n                gl_FragColor = vec4( mix(vec3(1.0), aoApplied, 1.0 - finalAo), sceneTexel.a);\n            }\n        }\n        #include <dithering_fragment>\n        if (gammaCorrection) {\n            gl_FragColor = LinearTosRGB(gl_FragColor);\n        }\n    }\n    "
}, sX = {
    uniforms: {
        sceneDiffuse: {
            value: null
        },
        sceneDepth: {
            value: null
        },
        tDiffuse: {
            value: null
        },
        projMat: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        viewMat: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        projectionMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        viewMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        cameraPos: {
            value: new (0, _chunk4XLXKB34Js.S)
        },
        resolution: {
            value: new (0, _chunk4XLXKB34Js.M)
        },
        time: {
            value: 0
        },
        r: {
            value: 5
        },
        blueNoise: {
            value: null
        },
        radius: {
            value: 12
        },
        worldRadius: {
            value: 5
        },
        index: {
            value: 0
        },
        poissonDisk: {
            value: []
        },
        distanceFalloff: {
            value: 1
        },
        near: {
            value: .1
        },
        far: {
            value: 1e3
        },
        logDepth: {
            value: !1
        },
        screenSpaceRadius: {
            value: !1
        }
    },
    depthWrite: !1,
    depthTest: !1,
    vertexShader: "\n		varying vec2 vUv;\n		void main() {\n			vUv = uv;\n			gl_Position = vec4(position, 1.0);\n		}",
    fragmentShader: "\n		uniform sampler2D sceneDiffuse;\n    uniform highp sampler2D sceneDepth;\n    uniform sampler2D tDiffuse;\n    uniform sampler2D blueNoise;\n    uniform mat4 projectionMatrixInv;\n    uniform mat4 viewMatrixInv;\n    uniform vec2 resolution;\n    uniform float r;\n    uniform float radius;\n     uniform float worldRadius;\n    uniform float index;\n     uniform float near;\n     uniform float far;\n     uniform float distanceFalloff;\n     uniform bool logDepth;\n     uniform bool screenSpaceRadius;\n    varying vec2 vUv;\n\n    highp float linearize_depth(highp float d, highp float zNear,highp float zFar)\n    {\n        highp float z_n = 2.0 * d - 1.0;\n        return 2.0 * zNear * zFar / (zFar + zNear - z_n * (zFar - zNear));\n    }\n    highp float linearize_depth_log(highp float d, highp float nearZ,highp float farZ) {\n     float depth = pow(2.0, d * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     return linearize_depth(linDepth, nearZ, farZ);\n   }\n   highp float linearize_depth_ortho(highp float d, highp float nearZ, highp float farZ) {\n     return nearZ + (farZ - nearZ) * d;\n   }\n   vec3 getWorldPosLog(vec3 posS) {\n     vec2 uv = posS.xy;\n     float z = posS.z;\n     float nearZ =near;\n     float farZ = far;\n     float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n     float a = farZ / (farZ - nearZ);\n     float b = farZ * nearZ / (nearZ - farZ);\n     float linDepth = a + b / depth;\n     vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n     vec4 wpos = projectionMatrixInv * clipVec;\n     return wpos.xyz / wpos.w;\n   }\n    vec3 getWorldPos(float depth, vec2 coord) {\n     #ifdef LOGDEPTH\n          return getWorldPosLog(vec3(coord, depth));\n     #endif\n        \n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n    #include <common>\n    #define NUM_SAMPLES 16\n    uniform vec2 poissonDisk[NUM_SAMPLES];\n    void main() {\n        const float pi = 3.14159;\n        vec2 texelSize = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n        vec2 uv = vUv;\n        vec4 data = texture2D(tDiffuse, vUv);\n        float occlusion = data.r;\n        float baseOcc = data.r;\n        vec3 normal = data.gba * 2.0 - 1.0;\n        float count = 1.0;\n        float d = texture2D(sceneDepth, vUv).x;\n        if (d == 1.0) {\n          gl_FragColor = data;\n          return;\n        }\n        vec3 worldPos = getWorldPos(d, vUv);\n        float size = radius;\n        float angle;\n        if (index == 0.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).x * PI2;\n        } else if (index == 1.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).y * PI2;\n        } else if (index == 2.0) {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).z * PI2;\n        } else {\n             angle = texture2D(blueNoise, gl_FragCoord.xy / 128.0).w * PI2;\n        }\n\n        mat2 rotationMatrix = mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n        float radiusToUse = screenSpaceRadius ? distance(\n          worldPos,\n          getWorldPos(d, vUv +\n            vec2(worldRadius, 0.0) / resolution)\n        ) : worldRadius;\n        float distanceFalloffToUse =screenSpaceRadius ?\n        radiusToUse * distanceFalloff\n    : radiusToUse * distanceFalloff * 0.2;\n\n\n        for(int i = 0; i < NUM_SAMPLES; i++) {\n            vec2 offset = (rotationMatrix * poissonDisk[i]) * texelSize * size;\n            vec4 dataSample = texture2D(tDiffuse, uv + offset);\n            float occSample = dataSample.r;\n            vec3 normalSample = dataSample.gba * 2.0 - 1.0;\n            float dSample = texture2D(sceneDepth, uv + offset).x;\n            vec3 worldPosSample = getWorldPos(dSample, uv + offset);\n            float tangentPlaneDist = abs(dot(worldPosSample - worldPos, normal));\n            float rangeCheck = dSample == 1.0 ? 0.0 :exp(-1.0 * tangentPlaneDist * (1.0 / distanceFalloffToUse)) * max(dot(normal, normalSample), 0.0) * (1.0 - abs(occSample - baseOcc));\n            occlusion += occSample * rangeCheck;\n            count += rangeCheck;\n        }\n        if (count > 0.0) {\n          occlusion /= count;\n        }\n        #ifdef LOGDEPTH\n          occlusion = clamp(occlusion, 0.0, 1.0);\n          if (occlusion == 0.0) {\n            occlusion = 1.0;\n          }\n        #endif\n        gl_FragColor = vec4(occlusion, 0.5 + 0.5 * normal);\n    }\n    "
}, oX = {
    uniforms: {
        sceneDepth: {
            value: null
        },
        resolution: {
            value: new (0, _chunk4XLXKB34Js.M)
        },
        near: {
            value: .1
        },
        far: {
            value: 1e3
        },
        viewMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        projectionMatrixInv: {
            value: new (0, _chunk4XLXKB34Js.V)
        },
        logDepth: {
            value: !1
        }
    },
    depthWrite: !1,
    depthTest: !1,
    vertexShader: "\n    varying vec2 vUv;\n    void main() {\n        vUv = uv;\n        gl_Position = vec4(position, 1);\n    }",
    fragmentShader: "\n    uniform highp sampler2D sceneDepth;\n    uniform vec2 resolution;\n    uniform float near;\n    uniform float far;\n    uniform bool logDepth;\n    uniform mat4 viewMatrixInv;\n    uniform mat4 projectionMatrixInv;\n    varying vec2 vUv;\n    layout(location = 1) out vec4 gNormal;\n    vec3 getWorldPosLog(vec3 posS) {\n        vec2 uv = posS.xy;\n        float z = posS.z;\n        float nearZ =near;\n        float farZ = far;\n        float depth = pow(2.0, z * log2(farZ + 1.0)) - 1.0;\n        float a = farZ / (farZ - nearZ);\n        float b = farZ * nearZ / (nearZ - farZ);\n        float linDepth = a + b / depth;\n        vec4 clipVec = vec4(uv, linDepth, 1.0) * 2.0 - 1.0;\n        vec4 wpos = projectionMatrixInv * clipVec;\n        return wpos.xyz / wpos.w;\n      }\n      vec3 getWorldPos(float depth, vec2 coord) {\n        if (logDepth) {\n          return getWorldPosLog(vec3(coord, depth));\n        }\n        float z = depth * 2.0 - 1.0;\n        vec4 clipSpacePosition = vec4(coord * 2.0 - 1.0, z, 1.0);\n        vec4 viewSpacePosition = projectionMatrixInv * clipSpacePosition;\n        // Perspective division\n       vec4 worldSpacePosition = viewSpacePosition;\n       worldSpacePosition.xyz /= worldSpacePosition.w;\n        return worldSpacePosition.xyz;\n    }\n  \n    vec3 computeNormal(vec3 worldPos, vec2 vUv) {\n      ivec2 p = ivec2(vUv * resolution);\n      float c0 = texelFetch(sceneDepth, p, 0).x;\n      float l2 = texelFetch(sceneDepth, p - ivec2(2, 0), 0).x;\n      float l1 = texelFetch(sceneDepth, p - ivec2(1, 0), 0).x;\n      float r1 = texelFetch(sceneDepth, p + ivec2(1, 0), 0).x;\n      float r2 = texelFetch(sceneDepth, p + ivec2(2, 0), 0).x;\n      float b2 = texelFetch(sceneDepth, p - ivec2(0, 2), 0).x;\n      float b1 = texelFetch(sceneDepth, p - ivec2(0, 1), 0).x;\n      float t1 = texelFetch(sceneDepth, p + ivec2(0, 1), 0).x;\n      float t2 = texelFetch(sceneDepth, p + ivec2(0, 2), 0).x;\n  \n      float dl = abs((2.0 * l1 - l2) - c0);\n      float dr = abs((2.0 * r1 - r2) - c0);\n      float db = abs((2.0 * b1 - b2) - c0);\n      float dt = abs((2.0 * t1 - t2) - c0);\n  \n      vec3 ce = getWorldPos(c0, vUv).xyz;\n  \n      vec3 dpdx = (dl < dr) ? ce - getWorldPos(l1, (vUv - vec2(1.0 / resolution.x, 0.0))).xyz\n                            : -ce + getWorldPos(r1, (vUv + vec2(1.0 / resolution.x, 0.0))).xyz;\n      vec3 dpdy = (db < dt) ? ce - getWorldPos(b1, (vUv - vec2(0.0, 1.0 / resolution.y))).xyz\n                            : -ce + getWorldPos(t1, (vUv + vec2(0.0, 1.0 / resolution.y))).xyz;\n  \n      return normalize(cross(dpdx, dpdy));\n  }\n    void main() {\n        vec2 uv = vUv - vec2(0.5) / resolution;\n        vec2 pixelSize = vec2(1.0) / resolution;\n        highp vec2[4] uvSamples;\n        uvSamples[0] = uv;\n        uvSamples[1] = uv + vec2(pixelSize.x, 0.0);\n        uvSamples[2] = uv + vec2(0.0, pixelSize.y);\n        uvSamples[3] = uv + pixelSize;\n        float depth00 = texture2D(sceneDepth, uvSamples[0]).r;\n        float depth10 = texture2D(sceneDepth, uvSamples[1]).r;\n        float depth01 = texture2D(sceneDepth, uvSamples[2]).r;\n        float depth11 = texture2D(sceneDepth, uvSamples[3]).r;\n        float minDepth = min(min(depth00, depth10), min(depth01, depth11));\n        float maxDepth = max(max(depth00, depth10), max(depth01, depth11));\n        float targetDepth = minDepth;\n        // Checkerboard pattern to avoid artifacts\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 2.0) > 0.5) { \n            targetDepth = maxDepth;\n        }\n        int chosenIndex = 0;\n        float[4] samples;\n        samples[0] = depth00;\n        samples[1] = depth10;\n        samples[2] = depth01;\n        samples[3] = depth11;\n        for(int i = 0; i < 4; ++i) {\n            if (samples[i] == targetDepth) {\n                chosenIndex = i;\n                break;\n            }\n        }\n        gl_FragColor = vec4(samples[chosenIndex], 0.0, 0.0, 1.0);\n        gNormal = vec4(computeNormal(\n            getWorldPos(samples[chosenIndex], uvSamples[chosenIndex]), uvSamples[chosenIndex]\n        ), 0.0);\n    }"
}, OI = "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", lX = Uint8Array.from(atob(OI), (e)=>e.charCodeAt(0));
function DI(e, t, i) {
    if (t.getQueryParameter(e, t.QUERY_RESULT_AVAILABLE)) {
        let n = t.getQueryParameter(e, t.QUERY_RESULT) / 1e6;
        i.lastTime = n;
    } else setTimeout(()=>{
        DI(e, t, i);
    }, 1);
}
(0, _chunkZRT45YCMJs.a)(DI, "$87431ee93b037844$var$checkTimerQuery");
var aM = class extends yn {
    constructor(e, t, i = 512, n = 512){
        super(), this.width = i, this.height = n, this.clear = !0, this.camera = t, this.scene = e, this.autosetGamma = !0, this.configuration = new Proxy({
            aoSamples: 16,
            aoRadius: 5,
            denoiseSamples: 8,
            denoiseRadius: 12,
            distanceFalloff: 1,
            intensity: 5,
            denoiseIterations: 2,
            renderMode: 0,
            color: new (0, _chunk4XLXKB34Js.Y)(0, 0, 0),
            gammaCorrection: !0,
            logarithmicDepthBuffer: !1,
            screenSpaceRadius: !1,
            halfRes: !1,
            depthAwareUpsampling: !0,
            colorMultiply: !0,
            transparencyAware: !1,
            accumulate: !1
        }, {
            set: (e, t, i)=>{
                let n = e[t];
                return e[t] = i, i.equals ? i.equals(n) || this.firstFrame() : n !== i && this.firstFrame(), "aoSamples" === t && n !== i && this.configureAOPass(this.configuration.logarithmicDepthBuffer), "denoiseSamples" === t && n !== i && this.configureDenoisePass(this.configuration.logarithmicDepthBuffer), "halfRes" === t && n !== i && (this.configureAOPass(this.configuration.logarithmicDepthBuffer), this.configureHalfResTargets(), this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer), this.setSize(this.width, this.height)), "depthAwareUpsampling" === t && n !== i && this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer), "gammaCorrection" === t && (this.autosetGamma = !1), "transparencyAware" === t && n !== i && (this.autoDetectTransparency = !1, this.configureTransparencyTarget()), !0;
            }
        }), this.samples = [], this.samplesDenoise = [], this.autoDetectTransparency = !0, this.frames = 0, this.lastViewMatrix = new (0, _chunk4XLXKB34Js.V), this.lastProjectionMatrix = new (0, _chunk4XLXKB34Js.V), this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer), this.configureSampleDependentPasses(), this.configureHalfResTargets(), this.detectTransparency(), this.configureTransparencyTarget(), this.copyQuad = new Xa(new (0, _chunk4XLXKB34Js.da)({
            uniforms: {
                tDiffuse: {
                    value: null
                }
            },
            depthWrite: !1,
            vertexShader: "\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = vec4(position, 1);\n            }\n            ",
            fragmentShader: "\n            uniform sampler2D tDiffuse;\n            varying vec2 vUv;\n            void main() {\n                gl_FragColor = texture2D(tDiffuse, vUv);\n            }\n            "
        })), this.writeTargetInternal = new (0, _chunk4XLXKB34Js.Q)(this.width, this.height, {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.o),
            depthBuffer: !1
        }), this.readTargetInternal = new (0, _chunk4XLXKB34Js.Q)(this.width, this.height, {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.o),
            depthBuffer: !1
        }), this.outputTargetInternal = new (0, _chunk4XLXKB34Js.Q)(this.width, this.height, {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.o),
            depthBuffer: !1
        }), this.accumulationRenderTarget = new (0, _chunk4XLXKB34Js.Q)(this.width, this.height, {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.o),
            depthBuffer: !1,
            format: (0, _chunk4XLXKB34Js.w),
            type: (0, _chunk4XLXKB34Js.u),
            stencilBuffer: !1,
            depthBuffer: !1,
            alpha: !0
        }), this.accumulationQuad = new Xa(new (0, _chunk4XLXKB34Js.da)({
            uniforms: {
                frame: {
                    value: 0
                },
                tDiffuse: {
                    value: null
                }
            },
            transparent: !0,
            opacity: 1,
            vertexShader: "\n             varying vec2 vUv;\n             void main() {\n                 vUv = uv;\n                 gl_Position = vec4(position, 1);\n             }",
            fragmentShader: "\n             uniform sampler2D tDiffuse;\n             uniform float frame;\n                varying vec2 vUv;\n                void main() {\n                    vec4 color = texture2D(tDiffuse, vUv);\n                    gl_FragColor = vec4(color.rgb, 1.0 / (frame + 1.0));\n                }\n                "
        })), this.bluenoise = new (0, _chunk4XLXKB34Js.pa)(lX, 128, 128), this.bluenoise.colorSpace = (0, _chunk4XLXKB34Js.D), this.bluenoise.wrapS = (0, _chunk4XLXKB34Js.i), this.bluenoise.wrapT = (0, _chunk4XLXKB34Js.i), this.bluenoise.minFilter = (0, _chunk4XLXKB34Js.l), this.bluenoise.magFilter = (0, _chunk4XLXKB34Js.l), this.bluenoise.needsUpdate = !0, this.lastTime = 0, this.needsDepthTexture = !0, this.needsSwap = !0, this._r = new (0, _chunk4XLXKB34Js.M), this._c = new (0, _chunk4XLXKB34Js.Y);
    }
    configureHalfResTargets() {
        this.firstFrame(), this.configuration.halfRes ? (this.depthDownsampleTarget = new (0, _chunk4XLXKB34Js.Sa)(this.width / 2, this.height / 2, 2), this.depthDownsampleTarget.texture[0].format = (0, _chunk4XLXKB34Js.y), this.depthDownsampleTarget.texture[0].type = (0, _chunk4XLXKB34Js.t), this.depthDownsampleTarget.texture[0].minFilter = (0, _chunk4XLXKB34Js.l), this.depthDownsampleTarget.texture[0].magFilter = (0, _chunk4XLXKB34Js.l), this.depthDownsampleTarget.texture[0].depthBuffer = !1, this.depthDownsampleTarget.texture[1].format = (0, _chunk4XLXKB34Js.w), this.depthDownsampleTarget.texture[1].type = (0, _chunk4XLXKB34Js.u), this.depthDownsampleTarget.texture[1].minFilter = (0, _chunk4XLXKB34Js.l), this.depthDownsampleTarget.texture[1].magFilter = (0, _chunk4XLXKB34Js.l), this.depthDownsampleTarget.texture[1].depthBuffer = !1, this.depthDownsampleQuad = new Xa(new (0, _chunk4XLXKB34Js.da)(oX))) : (this.depthDownsampleTarget && (this.depthDownsampleTarget.dispose(), this.depthDownsampleTarget = null), this.depthDownsampleQuad && (this.depthDownsampleQuad.dispose(), this.depthDownsampleQuad = null));
    }
    detectTransparency() {
        if (this.autoDetectTransparency) {
            let e = !1;
            this.scene.traverse((t)=>{
                t.material && t.material.transparent && (e = !0);
            }), e && (this.configuration.transparencyAware = !0);
        }
    }
    configureTransparencyTarget() {
        this.configuration.transparencyAware ? (this.transparencyRenderTargetDWFalse = new (0, _chunk4XLXKB34Js.Q)(this.width, this.height, {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.l),
            type: (0, _chunk4XLXKB34Js.u),
            format: (0, _chunk4XLXKB34Js.w)
        }), this.transparencyRenderTargetDWTrue = new (0, _chunk4XLXKB34Js.Q)(this.width, this.height, {
            minFilter: (0, _chunk4XLXKB34Js.o),
            magFilter: (0, _chunk4XLXKB34Js.l),
            type: (0, _chunk4XLXKB34Js.u),
            format: (0, _chunk4XLXKB34Js.w)
        }), this.transparencyRenderTargetDWTrue.depthTexture = new (0, _chunk4XLXKB34Js.ja)(this.width, this.height, (0, _chunk4XLXKB34Js.s)), this.depthCopyPass = new Xa(new (0, _chunk4XLXKB34Js.da)({
            uniforms: {
                depthTexture: {
                    value: this.depthTexture
                }
            },
            vertexShader: "\n            varying vec2 vUv;\n            void main() {\n                vUv = uv;\n                gl_Position = vec4(position, 1);\n            }",
            fragmentShader: "\n            uniform sampler2D depthTexture;\n            varying vec2 vUv;\n            void main() {\n               gl_FragDepth = texture2D(depthTexture, vUv).r + 0.00001;\n               gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n            }\n            "
        }))) : (this.transparencyRenderTargetDWFalse && (this.transparencyRenderTargetDWFalse.dispose(), this.transparencyRenderTargetDWFalse = null), this.transparencyRenderTargetDWTrue && (this.transparencyRenderTargetDWTrue.dispose(), this.transparencyRenderTargetDWTrue = null), this.depthCopyPass && (this.depthCopyPass.dispose(), this.depthCopyPass = null));
    }
    renderTransparency(e) {
        let t = this.scene.background, i = e.getClearColor(new (0, _chunk4XLXKB34Js.Y)), n = e.getClearAlpha(), r = new Map, o = e.autoClearDepth;
        this.scene.traverse((e)=>{
            r.set(e, e.visible);
        }), this.scene.background = null, e.autoClearDepth = !1, e.setClearColor(new (0, _chunk4XLXKB34Js.Y)(0, 0, 0), 0), this.depthCopyPass.material.uniforms.depthTexture.value = this.depthTexture, e.setRenderTarget(this.transparencyRenderTargetDWFalse), this.scene.traverse((e)=>{
            e.material && (e.visible = r.get(e) && e.material.transparent && !e.material.depthWrite && !e.userData.treatAsOpaque);
        }), e.clear(!0, !0, !0), this.depthCopyPass.render(e), e.render(this.scene, this.camera), e.setRenderTarget(this.transparencyRenderTargetDWTrue), this.scene.traverse((e)=>{
            e.material && (e.visible = r.get(e) && e.material.transparent && e.material.depthWrite && !e.userData.treatAsOpaque);
        }), e.clear(!0, !0, !0), this.depthCopyPass.render(e), e.render(this.scene, this.camera), this.scene.traverse((e)=>{
            e.visible = r.get(e);
        }), e.setClearColor(i, n), this.scene.background = t, e.autoClearDepth = o;
    }
    configureSampleDependentPasses() {
        this.configureAOPass(this.configuration.logarithmicDepthBuffer), this.configureDenoisePass(this.configuration.logarithmicDepthBuffer);
    }
    configureAOPass(e = !1) {
        this.firstFrame(), this.samples = this.generateHemisphereSamples(this.configuration.aoSamples);
        let t = {
            ...rX
        };
        t.fragmentShader = t.fragmentShader.replace("16", this.configuration.aoSamples).replace("16.0", this.configuration.aoSamples + ".0"), e && (t.fragmentShader = "#define LOGDEPTH\n" + t.fragmentShader), this.configuration.halfRes && (t.fragmentShader = "#define HALFRES\n" + t.fragmentShader), this.effectShaderQuad ? (this.effectShaderQuad.material.dispose(), this.effectShaderQuad.material = new (0, _chunk4XLXKB34Js.da)(t)) : this.effectShaderQuad = new Xa(new (0, _chunk4XLXKB34Js.da)(t));
    }
    configureDenoisePass(e = !1) {
        this.firstFrame(), this.samplesDenoise = this.generateDenoiseSamples(this.configuration.denoiseSamples, 11);
        let t = {
            ...sX
        };
        t.fragmentShader = t.fragmentShader.replace("16", this.configuration.denoiseSamples), e && (t.fragmentShader = "#define LOGDEPTH\n" + t.fragmentShader), this.poissonBlurQuad ? (this.poissonBlurQuad.material.dispose(), this.poissonBlurQuad.material = new (0, _chunk4XLXKB34Js.da)(t)) : this.poissonBlurQuad = new Xa(new (0, _chunk4XLXKB34Js.da)(t));
    }
    configureEffectCompositer(e = !1) {
        this.firstFrame();
        let t = {
            ...aX
        };
        e && (t.fragmentShader = "#define LOGDEPTH\n" + t.fragmentShader), this.configuration.halfRes && this.configuration.depthAwareUpsampling && (t.fragmentShader = "#define HALFRES\n" + t.fragmentShader), this.effectCompositerQuad ? (this.effectCompositerQuad.material.dispose(), this.effectCompositerQuad.material = new (0, _chunk4XLXKB34Js.da)(t)) : this.effectCompositerQuad = new Xa(new (0, _chunk4XLXKB34Js.da)(t));
    }
    generateHemisphereSamples(e) {
        let t = [];
        for(let i = 0; i < e; i++){
            let n = 2.399963 * i, r = Math.sqrt(i + .5) / Math.sqrt(e), o = r * Math.cos(n), s = r * Math.sin(n), a = Math.sqrt(1 - (o * o + s * s));
            t.push(new (0, _chunk4XLXKB34Js.S)(o, s, a));
        }
        return t;
    }
    generateDenoiseSamples(e, t) {
        let i = 2 * Math.PI * t / e, n = 1 / e, r = n, o = [], s = n, a = 0;
        for(let t = 0; t < e; t++)o.push(new (0, _chunk4XLXKB34Js.M)(Math.cos(a), Math.sin(a)).multiplyScalar(Math.pow(s, .75))), s += r, a += i;
        return o;
    }
    setSize(e, t) {
        this.firstFrame(), this.width = e, this.height = t;
        let i = this.configuration.halfRes ? .5 : 1;
        this.writeTargetInternal.setSize(e * i, t * i), this.readTargetInternal.setSize(e * i, t * i), this.accumulationRenderTarget.setSize(e * i, t * i), this.configuration.halfRes && this.depthDownsampleTarget.setSize(e * i, t * i), this.configuration.transparencyAware && (this.transparencyRenderTargetDWFalse.setSize(e, t), this.transparencyRenderTargetDWTrue.setSize(e, t)), this.outputTargetInternal.setSize(e, t);
    }
    setDepthTexture(e) {
        this.depthTexture = e;
    }
    firstFrame() {
        this.needsFrame = !0;
    }
    render(e, t, i) {
        let n, r, o, s = e.xr.enabled;
        e.xr.enabled = !1, e.capabilities.logarithmicDepthBuffer !== this.configuration.logarithmicDepthBuffer && (this.configuration.logarithmicDepthBuffer = e.capabilities.logarithmicDepthBuffer, this.configureAOPass(this.configuration.logarithmicDepthBuffer), this.configureDenoisePass(this.configuration.logarithmicDepthBuffer), this.configureEffectCompositer(this.configuration.logarithmicDepthBuffer)), this.detectTransparency(), (t.texture.type !== this.outputTargetInternal.texture.type || t.texture.format !== this.outputTargetInternal.texture.format) && (this.outputTargetInternal.texture.type = t.texture.type, this.outputTargetInternal.texture.format = t.texture.format, this.outputTargetInternal.texture.needsUpdate = !0), this.camera.updateMatrixWorld(), this.lastViewMatrix.equals(this.camera.matrixWorldInverse) && this.lastProjectionMatrix.equals(this.camera.projectionMatrix) && this.configuration.accumulate && !this.needsFrame ? this.frame++ : (e.setRenderTarget(this.accumulationRenderTarget), e.clear(!0, !0, !0), this.frame = 0, this.needsFrame = !1), this.lastViewMatrix.copy(this.camera.matrixWorldInverse), this.lastProjectionMatrix.copy(this.camera.projectionMatrix), this.debugMode && (n = e.getContext(), r = n.getExtension("EXT_disjoint_timer_query_webgl2"), null === r && (console.error("EXT_disjoint_timer_query_webgl2 not available, disabling debug mode."), this.debugMode = !1)), this.debugMode && (o = n.createQuery(), n.beginQuery(r.TIME_ELAPSED_EXT, o)), this.configuration.transparencyAware && this.renderTransparency(e), this._r.set(this.width, this.height);
        let a = this.configuration.aoRadius;
        if (this.configuration.halfRes && this.configuration.screenSpaceRadius && (a *= .5), this.frame < 1024 / this.configuration.aoSamples) {
            this.configuration.halfRes && (e.setRenderTarget(this.depthDownsampleTarget), this.depthDownsampleQuad.material.uniforms.sceneDepth.value = this.depthTexture, this.depthDownsampleQuad.material.uniforms.resolution.value = this._r, this.depthDownsampleQuad.material.uniforms.near.value = this.camera.near, this.depthDownsampleQuad.material.uniforms.far.value = this.camera.far, this.depthDownsampleQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.depthDownsampleQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.depthDownsampleQuad.material.uniforms.logDepth.value = this.configuration.logarithmicDepthBuffer, this.depthDownsampleQuad.render(e)), this.effectShaderQuad.material.uniforms.sceneDiffuse.value = t.texture, this.effectShaderQuad.material.uniforms.sceneDepth.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture, this.effectShaderQuad.material.uniforms.sceneNormal.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[1] : null, this.effectShaderQuad.material.uniforms.projMat.value = this.camera.projectionMatrix, this.effectShaderQuad.material.uniforms.viewMat.value = this.camera.matrixWorldInverse, this.effectShaderQuad.material.uniforms.projViewMat.value = this.camera.projectionMatrix.clone().multiply(this.camera.matrixWorldInverse.clone()), this.effectShaderQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.effectShaderQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.effectShaderQuad.material.uniforms.cameraPos.value = this.camera.getWorldPosition(new (0, _chunk4XLXKB34Js.S)), this.effectShaderQuad.material.uniforms.resolution.value = this.configuration.halfRes ? this._r.clone().multiplyScalar(.5).floor() : this._r, this.effectShaderQuad.material.uniforms.time.value = performance.now() / 1e3, this.effectShaderQuad.material.uniforms.samples.value = this.samples, this.effectShaderQuad.material.uniforms.bluenoise.value = this.bluenoise, this.effectShaderQuad.material.uniforms.radius.value = a, this.effectShaderQuad.material.uniforms.distanceFalloff.value = this.configuration.distanceFalloff, this.effectShaderQuad.material.uniforms.near.value = this.camera.near, this.effectShaderQuad.material.uniforms.far.value = this.camera.far, this.effectShaderQuad.material.uniforms.logDepth.value = e.capabilities.logarithmicDepthBuffer, this.effectShaderQuad.material.uniforms.ortho.value = this.camera.isOrthographicCamera, this.effectShaderQuad.material.uniforms.screenSpaceRadius.value = this.configuration.screenSpaceRadius, this.effectShaderQuad.material.uniforms.frame.value = this.frame, e.setRenderTarget(this.writeTargetInternal), this.effectShaderQuad.render(e);
            for(let t = 0; t < this.configuration.denoiseIterations; t++)[this.writeTargetInternal, this.readTargetInternal] = [
                this.readTargetInternal,
                this.writeTargetInternal
            ], this.poissonBlurQuad.material.uniforms.tDiffuse.value = this.readTargetInternal.texture, this.poissonBlurQuad.material.uniforms.sceneDepth.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture, this.poissonBlurQuad.material.uniforms.projMat.value = this.camera.projectionMatrix, this.poissonBlurQuad.material.uniforms.viewMat.value = this.camera.matrixWorldInverse, this.poissonBlurQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.poissonBlurQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.poissonBlurQuad.material.uniforms.cameraPos.value = this.camera.getWorldPosition(new (0, _chunk4XLXKB34Js.S)), this.poissonBlurQuad.material.uniforms.resolution.value = this.configuration.halfRes ? this._r.clone().multiplyScalar(.5).floor() : this._r, this.poissonBlurQuad.material.uniforms.time.value = performance.now() / 1e3, this.poissonBlurQuad.material.uniforms.blueNoise.value = this.bluenoise, this.poissonBlurQuad.material.uniforms.radius.value = this.configuration.denoiseRadius * (this.configuration.halfRes ? .5 : 1), this.poissonBlurQuad.material.uniforms.worldRadius.value = a, this.poissonBlurQuad.material.uniforms.distanceFalloff.value = this.configuration.distanceFalloff, this.poissonBlurQuad.material.uniforms.index.value = t, this.poissonBlurQuad.material.uniforms.poissonDisk.value = this.samplesDenoise, this.poissonBlurQuad.material.uniforms.near.value = this.camera.near, this.poissonBlurQuad.material.uniforms.far.value = this.camera.far, this.poissonBlurQuad.material.uniforms.logDepth.value = e.capabilities.logarithmicDepthBuffer, this.poissonBlurQuad.material.uniforms.screenSpaceRadius.value = this.configuration.screenSpaceRadius, e.setRenderTarget(this.writeTargetInternal), this.poissonBlurQuad.render(e);
            e.setRenderTarget(this.accumulationRenderTarget);
            let i = e.autoClear;
            e.autoClear = !1, this.accumulationQuad.material.uniforms.tDiffuse.value = this.writeTargetInternal.texture, this.accumulationQuad.material.uniforms.frame.value = this.frame, this.accumulationQuad.render(e), e.autoClear = i;
        }
        this.configuration.transparencyAware && (this.effectCompositerQuad.material.uniforms.transparencyDWFalse.value = this.transparencyRenderTargetDWFalse.texture, this.effectCompositerQuad.material.uniforms.transparencyDWTrue.value = this.transparencyRenderTargetDWTrue.texture, this.effectCompositerQuad.material.uniforms.transparencyDWTrueDepth.value = this.transparencyRenderTargetDWTrue.depthTexture, this.effectCompositerQuad.material.uniforms.transparencyAware.value = !0), this.effectCompositerQuad.material.uniforms.sceneDiffuse.value = t.texture, this.effectCompositerQuad.material.uniforms.sceneDepth.value = this.depthTexture, this.effectCompositerQuad.material.uniforms.near.value = this.camera.near, this.effectCompositerQuad.material.uniforms.far.value = this.camera.far, this.effectCompositerQuad.material.uniforms.projectionMatrixInv.value = this.camera.projectionMatrixInverse, this.effectCompositerQuad.material.uniforms.viewMatrixInv.value = this.camera.matrixWorld, this.effectCompositerQuad.material.uniforms.logDepth.value = e.capabilities.logarithmicDepthBuffer, this.effectCompositerQuad.material.uniforms.ortho.value = this.camera.isOrthographicCamera, this.effectCompositerQuad.material.uniforms.downsampledDepth.value = this.configuration.halfRes ? this.depthDownsampleTarget.texture[0] : this.depthTexture, this.effectCompositerQuad.material.uniforms.resolution.value = this._r, this.effectCompositerQuad.material.uniforms.blueNoise.value = this.bluenoise, this.effectCompositerQuad.material.uniforms.intensity.value = this.configuration.intensity, this.effectCompositerQuad.material.uniforms.renderMode.value = this.configuration.renderMode, this.effectCompositerQuad.material.uniforms.screenSpaceRadius.value = this.configuration.screenSpaceRadius, this.effectCompositerQuad.material.uniforms.radius.value = a, this.effectCompositerQuad.material.uniforms.distanceFalloff.value = this.configuration.distanceFalloff, this.effectCompositerQuad.material.uniforms.gammaCorrection.value = this.autosetGamma ? this.renderToScreen : this.configuration.gammaCorrection, this.effectCompositerQuad.material.uniforms.tDiffuse.value = this.accumulationRenderTarget.texture, this.effectCompositerQuad.material.uniforms.color.value = this._c.copy(this.configuration.color).convertSRGBToLinear(), this.effectCompositerQuad.material.uniforms.colorMultiply.value = this.configuration.colorMultiply, this.effectCompositerQuad.material.uniforms.cameraPos.value = this.camera.getWorldPosition(new (0, _chunk4XLXKB34Js.S)), this.effectCompositerQuad.material.uniforms.fog.value = !!this.scene.fog, this.scene.fog && (this.scene.fog.isFog ? (this.effectCompositerQuad.material.uniforms.fogExp.value = !1, this.effectCompositerQuad.material.uniforms.fogNear.value = this.scene.fog.near, this.effectCompositerQuad.material.uniforms.fogFar.value = this.scene.fog.far) : this.scene.fog.isFogExp2 ? (this.effectCompositerQuad.material.uniforms.fogExp.value = !0, this.effectCompositerQuad.material.uniforms.fogDensity.value = this.scene.fog.density) : console.error("Unsupported fog type ".concat(this.scene.fog.constructor.name, " in SSAOPass."))), e.setRenderTarget(this.outputTargetInternal), this.effectCompositerQuad.render(e), e.setRenderTarget(this.renderToScreen ? null : i), this.copyQuad.material.uniforms.tDiffuse.value = this.outputTargetInternal.texture, this.copyQuad.render(e), this.debugMode && (n.endQuery(r.TIME_ELAPSED_EXT), DI(o, n, this)), e.xr.enabled = s;
    }
    enableDebugMode() {
        this.debugMode = !0;
    }
    disableDebugMode() {
        this.debugMode = !1;
    }
    setDisplayMode(e) {
        this.configuration.renderMode = [
            "Combined",
            "AO",
            "No AO",
            "Split",
            "Split AO"
        ].indexOf(e);
    }
    setQualityMode(e) {
        "Performance" === e ? (this.configuration.aoSamples = 8, this.configuration.denoiseSamples = 4, this.configuration.denoiseRadius = 12) : "Low" === e ? (this.configuration.aoSamples = 16, this.configuration.denoiseSamples = 4, this.configuration.denoiseRadius = 12) : "Medium" === e ? (this.configuration.aoSamples = 16, this.configuration.denoiseSamples = 8, this.configuration.denoiseRadius = 12) : "High" === e ? (this.configuration.aoSamples = 64, this.configuration.denoiseSamples = 8, this.configuration.denoiseRadius = 6) : "Ultra" === e && (this.configuration.aoSamples = 64, this.configuration.denoiseSamples = 16, this.configuration.denoiseRadius = 6);
    }
};
(0, _chunkZRT45YCMJs.a)(aM, "$87431ee93b037844$export$2489f9981ab0fa82");
var Dv = aM, nxe = Uint8Array.from(atob(OI), (e)=>e.charCodeAt(0)), JI = (0, _chunkZRT45YCMJs.e)(dx()), Qf = "varying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n\n", LI = "varying vec2 vUv;\nuniform sampler2D colorTexture;\n\nvoid main() {\n	vec4 outputColor = texture2D(colorTexture, vUv).rgba;\n\n	gl_FragColor = outputColor;\n}\n", qI = "varying vec2 vUv;\nuniform float animatedColorOpacity;\nuniform sampler2D inputBuffer;\nuniform sampler2D staticSceneDepthTexture;\nuniform sampler2D animatedSceneColorTexture;\nuniform sampler2D animatedSceneDepthTexture;\nuniform sampler2D alwaysOnBottomSceneColorTexture;\n\n// Perform alpha blending between two colors with non-premultiplied\n// alpha, and return their non-premultiplied composite.\n//\n// This corresponds to the OVER porter-duff operation, aka, standard alpha\n// blending as implemented in most image editors.\nvec4 alphaBlend(vec4 background, vec4 foreground) {\n	vec3 resultColor = (\n		foreground.rgb * foreground.a +\n		background.rgb * background.a * (1.0 - foreground.a)\n	);\n	float resultAlpha = foreground.a + background.a * (1.0 - foreground.a);\n	return vec4(resultColor / resultAlpha, resultAlpha);\n}\n\nvoid main() {\n	float staticDepth = texture2D(staticSceneDepthTexture, vUv).r;\n	float animatedDepth = texture2D(animatedSceneDepthTexture, vUv).r;\n\n	vec4 inputColor = texture2D(inputBuffer, vUv).rgba;\n	vec4 animatedColor = texture2D(animatedSceneColorTexture, vUv).rgba;\n\n	if (staticDepth < animatedDepth) {\n		animatedColor.a *= animatedColorOpacity;\n	}\n\n	vec4 mixedColor = alphaBlend(inputColor, animatedColor);\n\n	gl_FragColor = mixedColor;\n}\n", NI = "varying vec2 vUv;\nuniform sampler2D inputBuffer;\nuniform sampler2D alwaysOnBottomSceneColorTexture;\nuniform sampler2D alwaysOnTopSceneColorTexture;\n\n// Assumes that the foreground (src) color is premultiplied with its alpha.\n// This corresponds to GL_ONE source factor and GL_ONE_MINUS_SRC_ALPHA for destination factor.\nvec4 alphaBlendPremultipliedAlpha(vec4 background, vec4 foreground) {\n	return foreground + (background * (1.0 - foreground.a));\n}\n\nvoid main() {\n	vec4 staticSceneColor = linearToOutputTexel(texture2D(inputBuffer, vUv).rgba);\n	vec4 outdoorViewColor = texture2D(alwaysOnBottomSceneColorTexture, vUv).rgba;\n	vec4 alwaysOnTopColor = linearToOutputTexel(texture2D(alwaysOnTopSceneColorTexture, vUv).rgba);\n	vec4 staticPlusOutdoor = mix(outdoorViewColor, staticSceneColor, staticSceneColor.a);\n	\n	gl_FragColor = alphaBlendPremultipliedAlpha(staticPlusOutdoor, alwaysOnTopColor);\n}\n", RI = "varying vec2 vUv;\nuniform sampler2D staticSceneColorTexture;\n\nvoid main() {\n	vec4 inputColor = texture2D(staticSceneColorTexture, vUv).rgba;\n\n	gl_FragColor = inputColor;\n}\n";
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var fX = (0, _chunkZRT45YCMJs.a)(function(e, t, i) {
    this.touch = e, this.camera = t, this.cameraPlane = i, this.viewCoordinate = {
        x: e.x,
        y: e.y
    }, this.camera.updateMatrixWorld(), this.camera.updateMatrix(), this.snapHolderMatrix = this.camera.matrixWorld.clone(), this.snapCamera = this.camera.clone(), this.snapshotCameraState = function() {
        this.camera.updateMatrix(), this.camera.updateMatrixWorld(), this.cameraPosition = this.camera.position;
        let e = new (0, _chunk4XLXKB34Js.S)(this.viewCoordinate.x, this.viewCoordinate.y, 1);
        this.raycaster = this.raycaster || new (0, _chunk4XLXKB34Js.Oa), this.raycaster.setFromCamera(e, this.snapCamera);
        let t = this.raycaster.intersectObject(this.cameraPlane, !1);
        this.worldCoordinate = t && t[0] && t[0].point, this.snapshotted = !0;
    }, this.updateAnchorState = function(e, t) {
        this.camera = e, this.snapCamera = e.clone(), this.snapHolderMatrix = e.matrixWorld.clone(), this.updateViewCoordinate(t), this.snapshotCameraState();
    }, this.updateViewCoordinate = function(e) {
        this.viewCoordinate = {
            x: e.x,
            y: e.y
        };
    }, this.reUnproject = function() {
        let e = new (0, _chunk4XLXKB34Js.S)(this.viewCoordinate.x, this.viewCoordinate.y, 1);
        this.raycaster.setFromCamera(e, this.snapCamera);
        let t = this.raycaster.intersectObject(this.cameraPlane, !1)[0];
        if (t) return t.point;
    }, this.snapshotCameraState();
}, "TouchAnchor"), sM = fX;
function kI(e, t) {
    return Math.atan2(t.y - e.y, t.x - e.x);
}
function Lv(e, t) {
    return Math.sqrt((t.y - e.y) ** 2 + (t.x - e.x) ** 2);
}
function BI(e, t) {
    return {
        x: (e.x + t.x) / 2,
        y: (e.y + t.y) / 2
    };
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(kI, "angle"), (0, _chunkZRT45YCMJs.a)(Lv, "distance"), (0, _chunkZRT45YCMJs.a)(BI, "average");
var mX = (0, _chunkZRT45YCMJs.a)(function(e, t) {
    this.input1 = e, this.input2 = t, this.lastAngle = kI(e, t), this.lastDistance = Lv(e, t), this.totalDistance = 0, this.first = e, this.second = t, this.update = function(e, t) {
        let i = Lv(e, t);
        this.input1 = e, this.input2 = t;
        let n = kI(e, t);
        this.lastAngle = n, this.lastDistance = i, this.totalDistance += (Lv(this.first, e) + Lv(this.second, t)) / 2, this.first = BI(this.first, e), this.second = BI(this.second, t);
    };
}, "InputSet"), FI = mX;
(0, _chunkA5C75TI6Js.a)();
var UI = (0, _chunkZRT45YCMJs.e)(Vr()), qv = {
    SINGLE_FLOOR: "single_floor",
    MULTI_FLOOR: "multi_floor"
}, wxe = Math.PI / 2, Axe = UI.default.Easing.Quadratic.InOut;
function nc(e, t, i) {
    null == t && (t = e.g, i = e.b, e = e.r);
    let n = 0, r = e;
    t > e && (n = 1, r = t), i > t && i > e && (n = 2, r = i);
    let o = e;
    t < e && (o = t), i < t && i < e && (o = i);
    let s = 0, a = 0, l = 0;
    return r !== o && (s = 0 === n ? 60 / 360 * (t - i) / (r - o) : 1 === n ? 60 / 360 * (2 + (i - e) / (r - o)) : 60 / 360 * (4 + (e - t) / (r - o)), a = 0 === r ? 0 : (r - o) / r), l = r, [
        s,
        a,
        l
    ];
}
function Za(e, t, i) {
    let n = 360 * e % 360 / 60, r = 0 | n, o = n - r, s = i * (1 - t), a = i * (1 - t * o), l = i * (1 - t * (1 - o)), h = 0, c = 0, u = 0;
    switch(r){
        case 0:
            h = i, c = l, u = s;
            break;
        case 1:
            h = a, c = i, u = s;
            break;
        case 2:
            h = s, c = i, u = l;
            break;
        case 3:
            h = s, c = a, u = i;
            break;
        case 4:
            h = l, c = s, u = i;
            break;
        case 5:
            h = i, c = s, u = a;
    }
    return new (0, _chunk4XLXKB34Js.Y)(h, c, u);
}
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkZRT45YCMJs.a)(nc, "rgb2hsv"), (0, _chunkZRT45YCMJs.a)(Za, "hsv2rgb");
var zI = 16, hM = class {
    constructor({ minimum: e, maximum: t, step: i, current: n, onValueChanged: r }){
        this._minimum = e, this._maximum = t, this._step = i, this._onValueChanged = r, this._element = document.createElement("input"), this._element.type = "range", this._element.min = this._minimum, this._element.max = this._maximum, null != this._step && (this._element.step = this._step), this._element.value = null != n ? n : this._minimum, null != r && (this._element.addEventListener("input", (e)=>{
            r(this._element.value);
        }), r(this._element.value)), Object.assign(this._element.style, {
            height: zI + "px"
        });
    }
    destroy() {
        this._element = null, Object.setPrototypeOf(this, null);
    }
    addValueChangedListener(e) {
        this._element.addEventListener("input", (t)=>e(this._element.value));
    }
    setValue(e) {
        this._element.value = e;
    }
    get element() {
        return this._element;
    }
    get value() {
        return this._element.value;
    }
    get displayedValue() {
        return "" + this._element.value;
    }
    get height() {
        return zI;
    }
};
(0, _chunkZRT45YCMJs.a)(hM, "DebugUIScalarSlider");
var Kf = hM, oM = 16, dM = class {
    constructor({ current: e, onValueChanged: t }){
        this._onValueChanged = t, this._element = document.createElement("div"), this._titleElement = document.createElement("input"), this._titleElement.type = "checkbox", this._titleElement.checked = e || !1, Object.assign(this._titleElement.style, {
            width: oM + "px",
            height: oM + "px",
            margin: "0px"
        }), null != t && (this._titleElement.addEventListener("click", (e)=>{
            t(this._titleElement.checked);
        }), t(this._titleElement.checked));
    }
    destroy() {
        this._element = null, this._titleElement = null, Object.setPrototypeOf(this, null);
    }
    addValueChangedListener(e) {
        this._titleElement.addEventListener("click", (t)=>e(this._titleElement.checked));
    }
    get element() {
        return this._element;
    }
    get titleElement() {
        return this._titleElement;
    }
    get value() {
        return this._titleElement.checked;
    }
    get displayedValue() {
        return this._titleElement.checked ? "true" : "false";
    }
    get height() {
        return 0;
    }
    get titleElementWidth() {
        return oM;
    }
};
(0, _chunkZRT45YCMJs.a)(dM, "DebugUICheckbox");
var Bv = dM, lM = 12, Nv = 2, rc = 64, Rv = 16, uM = 24, VI = 48, pM = class {
    constructor({ current: e, onValueChanged: t }){
        this._onValueChanged = t, this._element = document.createElement("div"), this._titleElement = document.createElement("div"), this._color = e || new (0, _chunk4XLXKB34Js.Y), this._listeners = [], Object.assign(this._element.style, {
            width: "100%",
            height: this.height + "px"
        }), Object.assign(this._titleElement.style, {
            width: lM - 2 + "px",
            height: lM - 2 + "px",
            "border-radius": "2px"
        }), this._colorPickerMain = document.createElement("canvas"), this._colorPickerMain.height = rc - 2, Object.assign(this._colorPickerMain.style, {
            position: "absolute",
            left: "0px",
            right: "0px",
            top: "0px",
            height: rc - 2 + "px"
        }), this._element.appendChild(this._colorPickerMain), this._colorPickerBottomSlider = document.createElement("canvas"), this._colorPickerBottomSlider.height = Rv - 2, Object.assign(this._colorPickerBottomSlider.style, {
            position: "absolute",
            left: "0px",
            right: "0px",
            top: rc + Nv + "px",
            height: Rv - 2 + "px"
        }), this._element.appendChild(this._colorPickerBottomSlider), this._requestAnimationFrameHandle = null, this._requestAnimationFrameUpdate = this._requestAnimationFrameUpdate.bind(this), this._pickingMain = !1, this._pickingX = 0, this._pickingY = 0, this._colorPickerMain.addEventListener("pointerdown", (e)=>{
            this._pickingMain = !0, this._updateMain(e.offsetX, e.offsetY), this._notify(), this._moveListener = (e)=>{
                let t = e.clientX - this._colorPickerMain.getBoundingClientRect().x, i = e.clientY - this._colorPickerMain.getBoundingClientRect().y;
                this._pickingX = Math.min(Math.max(t, 0), this._colorPickerMain.clientWidth), this._pickingY = Math.min(Math.max(i, 0), this._colorPickerMain.clientHeight), this._requestAnimationFrame();
            }, document.body.addEventListener("pointermove", this._moveListener), this._upListener = (e)=>{
                this._pickingMain = !1, this.redraw(), document.body.removeEventListener("pointermove", this._moveListener), document.body.removeEventListener("pointerup", this._upListener), delete this._moveListener, delete this._upListener;
            }, document.body.addEventListener("pointerup", this._upListener);
        }), this._pickingBottomSlider = !1, this._colorPickerBottomSlider.addEventListener("pointerdown", (e)=>{
            this._pickingBottomSlider = !0, this._updateBottomSlider(e.offsetX), this._notify(), this._bottomMoveListener = (e)=>{
                let t = e.clientX - this._colorPickerBottomSlider.getBoundingClientRect().x;
                this._pickingX = Math.min(Math.max(t, 0), this._colorPickerMain.clientWidth), this._requestAnimationFrame();
            }, document.body.addEventListener("pointermove", this._bottomMoveListener), this._bottomUpListener = (e)=>{
                this._pickingBottomSlider = !1, this.redraw(), document.body.removeEventListener("pointermove", this._bottomMoveListener), document.body.removeEventListener("pointerup", this._bottomUpListener), delete this._bottomMoveListener, delete this._bottomUpListener;
            }, document.body.addEventListener("pointerup", this._bottomUpListener);
        });
        let i = 0, n = (0, _chunkZRT45YCMJs.a)((e, t)=>{
            let n = document.createElement("button");
            return Object.assign(n.style, {
                position: "absolute",
                top: this.height - uM + "px",
                left: i + "px",
                height: uM + "px",
                width: VI + "px",
                color: "grey"
            }), n.innerHTML = t, i += VI + Nv, n.addEventListener("click", ()=>{
                this._modeButtons[this._mode].style.color = "grey", this._mode = e, n.style.color = "black", this.redraw();
            }), this._element.appendChild(n), n;
        }, "createModeButton");
        this._modeButtons = {}, this._modeButtons.hsv = n("hsv", "HSV"), this._modeButtons.svh = n("svh", "SVH"), this._modeButtons.rgb = n("rgb", "RGB"), this._mode = "hsv", this._modeButtons.hsv.style.color = "black", this._requestAnimationFrame(), this._notify();
    }
    destroy() {
        document.body.removeEventListener("pointermove", this._moveListener), document.body.removeEventListener("pointerup", this._upListener), document.body.removeEventListener("pointermove", this._bottomMoveListener), document.body.removeEventListener("pointerup", this._bottomUpListener), this._element = null, this._titleElement = null, this._destroyed = !0, Object.setPrototypeOf(this, null);
    }
    addValueChangedListener(e) {
        this._listeners.push(e);
    }
    setValue(e) {
        this._color.copy(e), this.redraw(), this._notify();
    }
    _requestAnimationFrame() {
        null == this._requestAnimationFrameHandle && !this._destroyed && (this._requestAnimationFrameHandle = requestAnimationFrame(this._requestAnimationFrameUpdate));
    }
    _requestAnimationFrameUpdate() {
        this._pickingMain && (this._updateMain(this._pickingX, this._pickingY), this._notify()), this._pickingBottomSlider && (this._updateBottomSlider(this._pickingX), this._notify()), this._requestAnimationFrameHandle = null;
    }
    _notify() {
        null != this._onValueChanged && this._onValueChanged(this._color);
        for (let e of this._listeners)e(this._color);
    }
    _updateMain(e, t) {
        let i = this._colorPickerMain.clientWidth, n = rc;
        this._pickingX = Math.min(Math.max(e, 1), i - 1) - 1, this._pickingY = Math.min(Math.max(t, 1), n - 1) - 1;
        let r = this._pickingX / (i - 1), o = this._pickingY / (n - 1);
        if ("hsv" === this._mode) {
            let [, , e] = nc(this._color);
            this._color.set(Za(r, o, e));
        } else if ("svh" === this._mode) {
            let [e] = nc(this._color);
            this._color.set(Za(e, r, 1 - o));
        } else this._color.r = r, this._color.g = o;
        this.redraw();
    }
    _updateBottomSlider(e) {
        let t = this._colorPickerBottomSlider.clientWidth;
        this._pickingX = Math.min(Math.max(e, 1), t - 1) - 1;
        let i = this._pickingX / (t - 1);
        if ("hsv" === this._mode) {
            let [e, t] = nc(this._color);
            this._color.set(Za(e, t, i));
        } else if ("svh" === this._mode) {
            let [, e, t] = nc(this._color);
            this._color.set(Za(i, e, t));
        } else this._color.b = i;
        this.redraw();
    }
    redraw() {
        let e = this._element.clientWidth - 2, t = rc - 2, i = Rv - 2;
        this._colorPickerMain.width !== e && (this._colorPickerMain.width = e);
        let [n, r, o] = nc(this._color), s = this._colorPickerMain.getContext("2d");
        for(let i = 0; i < t; ++i)for(let r = 0; r < e; ++r){
            if ("hsv" === this._mode) {
                let n = r / (e - 1), a = i / (t - 1), l = o, { r: h, g: c, b: u } = Za(n, a, l);
                s.fillStyle = "rgb(".concat(255 * h, ",").concat(255 * c, ",").concat(255 * u, ")");
            } else if ("svh" === this._mode) {
                let o = r / (e - 1), a = 1 - i / (t - 1), l = n, { r: h, g: c, b: u } = Za(l, o, a);
                s.fillStyle = "rgb(".concat(255 * h, ",").concat(255 * c, ",").concat(255 * u, ")");
            } else {
                let n = r / e * 255, o = i / t * 255, a = 255 * this._color.b;
                s.fillStyle = "rgb(".concat(n, ",").concat(o, ",").concat(a, ")");
            }
            s.fillRect(r, i, 1, 1);
        }
        this._pickingMain && (s.fillStyle = "rgba(0,0,0,0.5)", s.fillRect(0, this._pickingY, e, 1), s.fillRect(this._pickingX, 0, 1, t)), this._colorPickerBottomSlider.width !== e && (this._colorPickerBottomSlider.width = e);
        let a = this._colorPickerBottomSlider.getContext("2d");
        for(let t = 0; t < e; ++t){
            if ("hsv" === this._mode) {
                let i = n, o = r, s = t / (e - 1), { r: l, g: h, b: c } = Za(i, o, s);
                a.fillStyle = "rgb(".concat(255 * l, ",").concat(255 * h, ",").concat(255 * c, ")");
            } else if ("svh" === this._mode) {
                let i = r, n = o, s = t / (e - 1), { r: l, g: h, b: c } = Za(s, i, n);
                a.fillStyle = "rgb(".concat(255 * l, ",").concat(255 * h, ",").concat(255 * c, ")");
            } else {
                let i = 255 * this._color.r, n = 255 * this._color.g, r = t / (e - 2) * 255;
                a.fillStyle = "rgb(".concat(i, ",").concat(n, ",").concat(r, ")");
            }
            a.fillRect(t, 0, 1, i);
        }
        this._pickingBottomSlider && (a.fillStyle = "rgba(0,0,0,0.5)", a.fillRect(this._pickingX, 0, 1, i));
        let l = 255 * this._color.r, h = 255 * this._color.g, c = 255 * this._color.b, u = "1px solid rgb(".concat(.9 * l, ",").concat(.9 * h, ",").concat(.9 * c, ")");
        Object.assign(this._colorPickerMain.style, {
            border: u
        }), Object.assign(this._colorPickerBottomSlider.style, {
            border: u
        }), Object.assign(this._titleElement.style, {
            "background-color": "rgb(".concat(l, ",").concat(h, ",").concat(c, ")"),
            border: u
        });
    }
    get element() {
        return this._element;
    }
    get titleElement() {
        return this._titleElement;
    }
    get value() {
        return this._color;
    }
    get displayedValue() {
        return "#" + this._color.getHexString().toUpperCase();
    }
    get height() {
        return rc + Nv + Rv + Nv + uM;
    }
    get titleElementWidth() {
        return lM;
    }
};
(0, _chunkZRT45YCMJs.a)(pM, "DebugUIColorPicker");
var Jf = pM, kv = 16, GI = 12, vX = 4, jI = 10, HI = 12, fM = class {
    constructor({ name: e }){
        this._name = e, this._element = document.createElement("div"), this._entries = [], this._height = HI;
    }
    destroy() {
        for (let e of this._entries)e.destroy();
        this._entries = null, this._element = null, Object.setPrototypeOf(this, null);
    }
    get element() {
        return this._element;
    }
    get height() {
        return this._height;
    }
    addControl(e, t, i) {
        if (-1 !== this._entries.findIndex((t)=>t.name === e)) return;
        let n = new cM({
            name: e,
            description: t,
            control: i
        });
        this._entries.push(n), this._element.appendChild(n.element), null != i.redraw && i.redraw();
    }
    removeControl(e) {
        let t = this._entries.findIndex((t)=>t.name === e);
        if (-1 !== t) {
            let [e] = this._entries.splice(t, 1);
            this._element.removeChild(e.element), e.destroy();
        }
    }
    _updateLayout() {
        this._height = 0;
        for (let e of this._entries)e.element.style.top = this._height + "px", this._height += e.height + HI;
        Object.assign(this._element.style, {
            height: this._height + "px"
        });
    }
};
(0, _chunkZRT45YCMJs.a)(fM, "DebugUIPanel");
var Fv = fM, mM = class {
    constructor({ name: e, description: t, control: i }){
        this._name = e, this._description = t, this._control = i, this._element = document.createElement("div"), this._element.title = t, Object.assign(this._element.style, {
            position: "absolute",
            left: "0px",
            right: "0px"
        }), this._element.appendChild(this._control.element), Object.assign(this._control.element.style, {
            position: "absolute",
            left: "0px",
            width: "100%",
            top: kv + "px",
            "font-size": jI + "px"
        });
        let n = 0;
        null != this._control.titleElement && (this._element.appendChild(this._control.titleElement), Object.assign(this._control.titleElement.style, {
            position: "absolute",
            left: "0px",
            top: "0px",
            "font-size": jI + "px"
        }), n = this._control.titleElementWidth + vX), this._control.addValueChangedListener((e)=>{
            this._displayedValueElement.innerHTML = YI(this._control.displayedValue);
        }), this._nameElement = document.createElement("span"), this._nameElement.innerHTML = e, Object.assign(this._nameElement.style, {
            position: "absolute",
            left: n + "px",
            right: "0px",
            height: kv + "px",
            color: "#666666",
            "font-size": GI + "px",
            "text-align": "left",
            "vertical-align": "middle"
        }), this._element.appendChild(this._nameElement), this._displayedValueElement = document.createElement("span"), this._displayedValueElement.innerHTML = YI(this._control.displayedValue), Object.assign(this._displayedValueElement.style, {
            position: "absolute",
            left: n + "px",
            right: "0px",
            height: kv + "px",
            "font-size": GI + "px",
            "text-align": "right",
            "vertical-align": "middle"
        }), this._element.appendChild(this._displayedValueElement);
    }
    destroy() {
        this._element = null, this._nameElement = null, this._displayedValueElement = null, this._control.destroy(), Object.setPrototypeOf(this, null);
    }
    get name() {
        return this._name;
    }
    get element() {
        return this._element;
    }
    get value() {
        return this._control.value;
    }
    get height() {
        return this._control.height + kv;
    }
};
(0, _chunkZRT45YCMJs.a)(mM, "DebugUIEntry");
var cM = mM;
function YI(e) {
    return e.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#039;");
}
(0, _chunkZRT45YCMJs.a)(YI, "escapeHTML");
var $f = (0, _chunkZRT45YCMJs.e)(Vr()), WI = 512, XI = 6371e3, ZI = 0, QI = 22, Uv = 17, vM = 20, yX = -85.051129, bX = 85.051129, gM = 1e4, KI = {
    chain: "chain",
    cancel: "cancel"
}, xX = new (0, _chunk4XLXKB34Js.K), TX = (0, _chunkZRT45YCMJs.a)(function(e, t, i, n) {
    this.dispatcher = xX, this.camera = e, this.canvas = t, this.elevation = e.parent, this.orbit = this.elevation.parent;
    let r, o = 2 * Math.PI, s = 100;
    this.zoomSpeed = 5, this.rotateSpeed = 100, this.enabled = !0, this.enableZoom = !0, this.enablePan = !0, this.enablePedestal = !1, this.maxPedestal = 1 / 0, this.minPedestal = -1 / 0, this.enableRotate = !0, this.minZoom = 375, this.maxZoom = 1e4, this.initialMinZoom = 375, this.initialMaxZoom = 1e4, this.ignoreZoomLimits = !1, this.minExpandedZoom = 375, this.maxExpandedZoom = 1e5, this.zoomFactor = 1, this.panBounds = {
        margin: 1.25,
        min: {
            x: 1 / 0,
            y: 1 / 0
        },
        max: {
            x: -1 / 0,
            y: -1 / 0
        },
        center: {
            x: 0,
            y: 0
        },
        radius: 200
    }, this.minTilt = 0, this.maxTilt = 1.2, this.mouseButtons = {
        ORBIT: (0, _chunk4XLXKB34Js.b).RIGHT,
        ZOOM: (0, _chunk4XLXKB34Js.b).MIDDLE,
        PAN: (0, _chunk4XLXKB34Js.b).LEFT
    };
    let a = this, h = new (0, _chunk4XLXKB34Js.ha)(1e10, 1e10), c = new (0, _chunk4XLXKB34Js._)({
        color: 0,
        visible: !1
    }), u = new (0, _chunk4XLXKB34Js.ba)(h, c);
    function d() {
        var e;
        let t = null == (e = n.mapObjects.get(n.currentMap)) ? void 0 : e.object;
        if (null != t) {
            let e = new (0, _chunk4XLXKB34Js.S);
            e.applyMatrix4(t.matrix), u.position.z = e.z;
        }
        n.tryRendering();
    }
    a.cameraPlane = u, (0, _chunkZRT45YCMJs.a)(d, "setCameraPlaneZIndex"), n.on(7, d), n.on(5, d);
    let p = new (0, _chunk4XLXKB34Js.Oa);
    i.add(u);
    let f, m = -1, g = 0, v = 1, y = 2, b = 3, w = 4, A = 5, x = 6, E = 7, M = 8, q = 9, T = m, P = new (0, _chunk4XLXKB34Js.M), S = [], I = {
        offsetLeft: 0,
        offsetTop: 0
    }, O = new (0, _chunk4XLXKB34Js.M), D = new (0, _chunk4XLXKB34Js.M), _ = new (0, _chunk4XLXKB34Js.M), L = new (0, _chunk4XLXKB34Js.M), B = new (0, _chunk4XLXKB34Js.M), R = new (0, _chunk4XLXKB34Js.M), N = new (0, _chunk4XLXKB34Js.S), k = new (0, _chunk4XLXKB34Js.S), F = (new (0, _chunk4XLXKB34Js.M), new (0, _chunk4XLXKB34Js.M), new (0, _chunk4XLXKB34Js.M), !1), z = new (0, _chunk4XLXKB34Js.La)(!0), j = 0, U = !0;
    this.CAMERA_EVENTS = {}, this.CAMERA_EVENTS.CHANGE_EVENT = {
        type: "change"
    }, this.CAMERA_EVENTS.PAN_START_EVENT = {
        type: "panStart"
    }, this.CAMERA_EVENTS.PAN_END_EVENT = {
        type: "panEnd"
    }, this.CAMERA_EVENTS.PEDESTAL_START_EVENT = {
        type: "pedestalStart"
    }, this.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT = {
        type: "pedestalChange"
    }, this.CAMERA_EVENTS.PEDESTAL_END_EVENT = {
        type: "pedestalEnd"
    }, this.CAMERA_EVENTS.ROTATE_START_EVENT = {
        type: "rotateStart"
    }, this.CAMERA_EVENTS.ROTATE_END_EVENT = {
        type: "rotateEnd"
    }, this.CAMERA_EVENTS.ZOOM_START_EVENT = {
        type: "zoomStart"
    }, this.CAMERA_EVENTS.ZOOM_END_EVENT = {
        type: "zoomEnd"
    }, this.CAMERA_EVENTS.MULTI_START_EVENT = {
        type: "multiStart"
    }, this.CAMERA_EVENTS.MULTI_END_EVENT = {
        type: "multiEnd"
    }, this.CAMERA_EVENTS.MULTI_CANCEL_EVENT = {
        type: "multiCancel"
    }, this.INTERACTION_EVENTS = {}, this.INTERACTION_EVENTS.USER_PAN_START_EVENT = {
        type: "userPanStart"
    }, this.INTERACTION_EVENTS.USER_PEDESTAL_START_EVENT = {
        type: "userPedestalStart"
    }, this.INTERACTION_EVENTS.USER_ROTATE_START_EVENT = {
        type: "userRotateStart"
    }, this.INTERACTION_EVENTS.USER_DOLLY_START_EVENT = {
        type: "userDollyStart"
    }, this.INTERACTION_EVENTS.USER_ZOOM_START_EVENT = {
        type: "userZoomStart"
    }, this.INTERACTION_EVENTS.USER_TILT_START_EVENT = {
        type: "userTiltStart"
    }, this.INTERACTION_EVENTS.USER_PAN_END_EVENT = {
        type: "userPanEnd"
    }, this.INTERACTION_EVENTS.USER_PEDESTAL_END_EVENT = {
        type: "userPedestalEnd"
    }, this.INTERACTION_EVENTS.USER_ROTATE_END_EVENT = {
        type: "userRotateEnd"
    }, this.INTERACTION_EVENTS.USER_DOLLY_END_EVENT = {
        type: "userDollyEnd"
    }, this.INTERACTION_EVENTS.USER_ZOOM_END_EVENT = {
        type: "userZoomEnd"
    }, this.INTERACTION_EVENTS.USER_TILT_END_EVENT = {
        type: "userTiltEnd"
    }, this.UPDATE_EVENTS = {}, this.UPDATE_EVENTS.POSITION_UPDATED_EVENT = {
        type: "positionUpdated"
    }, this.UPDATE_EVENTS.ZOOM_UPDATED_EVENT = {
        type: "zoomUpdated"
    }, this.UPDATE_EVENTS.TILT_UPDATED_EVENT = {
        type: "tiltUpdated"
    }, this.UPDATE_EVENTS.ROTATION_UPDATED_EVENT = {
        type: "rotationUpdated"
    };
    let V = !1, W = (0, _chunkZRT45YCMJs.a)(()=>{
        V = !0;
    }, "setUserInteracting"), H = (0, _chunkZRT45YCMJs.a)(()=>{
        V = !1;
    }, "unsetUserInteracting");
    for(let e in this.INTERACTION_EVENTS){
        let t = this.INTERACTION_EVENTS[e];
        t.type.endsWith("Start") && a.dispatcher.addEventListener(t.type, W);
    }
    for(let e in this.INTERACTION_EVENTS){
        let t = this.INTERACTION_EVENTS[e];
        t.type.endsWith("End") && a.dispatcher.addEventListener(t.type, H);
    }
    let Y = (0, _chunkZRT45YCMJs.a)((e)=>{
        a.dispatcher.dispatchEvent({
            ...a.CAMERA_EVENTS.PEDESTAL_CHANGE_EVENT,
            pedestal: e,
            scrolledToTop: a.scrolledToTop,
            scrolledToBottom: a.scrolledToBottom,
            scrollPercent: a.scrollPercent
        });
    }, "dispatchPedestalChangeEvent");
    function X(e, t = !1) {
        "number" == typeof e && !isNaN(e) && (a.orbit.position.z = e, t && Y(e), n.tryRendering());
    }
    this.addDebugControls = function(e) {
        e.addDebugControls({
            CameraControls: [
                {
                    name: "Stay Inside Bounds",
                    description: "Ensure the camera stays inside its bounds.\n\nCaution: going too far outside-of-bounds may slow renderingsignificantly.",
                    control: new Bv({
                        current: !0,
                        onValueChanged: (e)=>{
                            U = e;
                        }
                    })
                }
            ]
        });
    }, this.removeDebugControls = function(e) {
        e.removeDebugControls({
            CameraControls: [
                "Stay Inside Bounds"
            ]
        });
    }, this.pan = function(e, t) {
        isNaN(e) || isNaN(t) || (a.setPosition(a.orbit.position.x + e, a.orbit.position.y + t), a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.POSITION_UPDATED_EVENT));
    }, this.getPositionCoordinate = function() {
        return n.convert3DMapPositionToCoordinate(a.getPosition());
    }, this.getZoomLevel = function() {
        return this.convertAltitudeToZoomLevel(this.getZoom());
    }, this.setZoomLevel = function(e) {
        this.setZoom(this.convertZoomToAltitude(e));
    }, this.convertZoomToAltitude = function(e) {
        let { lat: t } = a.getPositionCoordinate(), i = n.cameraObject.fov, r = (0, _chunk4XLXKB34Js.L).clamp(e, ZI, QI), o = Math.pow(2, r), s = (0, _chunk4XLXKB34Js.L).clamp(t, yX, bX), l = o * WI;
        return Math.cos((0, _chunk4XLXKB34Js.L).degToRad(s)) * Math.PI * 2 * XI / l * n.canvasHeight / 2 / Math.tan((0, _chunk4XLXKB34Js.L).degToRad(i) / 2) / n.referenceMap.scale;
    }, this.convertAltitudeToZoomLevel = function(e) {
        let { lat: t } = a.getPositionCoordinate(), i = n.cameraObject.fov, r = e * n.referenceMap.scale * 2 * Math.tan((0, _chunk4XLXKB34Js.L).degToRad(i) / 2) / n.canvasHeight, o = 2 * Math.cos((0, _chunk4XLXKB34Js.L).degToRad(t)) * Math.PI * XI / r;
        return (0, _chunk4XLXKB34Js.L).clamp(Math.log2(o / WI), ZI, QI);
    }, this.setPosition = function(e, t) {
        if (isNaN(e) || isNaN(t)) return;
        T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_START_EVENT);
        let i = e - a.panBounds.center.x, n = t - a.panBounds.center.y, r = Math.sqrt(i * i + n * n);
        if (U && r > a.panBounds.radius) {
            let e = Math.atan2(n, i), t = {
                x: Math.cos(e) * a.panBounds.radius + a.panBounds.center.x,
                y: Math.sin(e) * a.panBounds.radius + a.panBounds.center.y
            };
            a.orbit.position.x = t.x, a.orbit.position.y = t.y;
        } else a.orbit.position.x = e, a.orbit.position.y = t;
        a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.POSITION_UPDATED_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && a.dispatcher.dispatchEvent(a.this.CAMERA_EVENTS.PAN_END_EVENT);
    }, this.setRotation = function(e, t) {
        if (isNaN(e)) return;
        T == m && !t && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
        let i = e % o;
        i !== a.orbit.rotation.z && (a.orbit.rotation.z = i, t || a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ROTATION_UPDATED_EVENT)), t || a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && !t && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
    }, this.rotate = function(e) {
        if (isNaN(e)) return;
        T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
        let t = (a.orbit.rotation.z + e) % o;
        t !== a.orbit.rotation.z && (a.orbit.rotation.z = t, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ROTATION_UPDATED_EVENT)), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
    }, this.setTilt = function(e, t) {
        if (isNaN(e)) return;
        T == m && !t && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
        let i = U ? Math.max(Math.min(e, a.maxTilt), a.minTilt) : e;
        i !== a.elevation.rotation.x && (a.elevation.rotation.x = i, t || a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.TILT_UPDATED_EVENT)), t || a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && !t && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
    }, this.tilt = function(e) {
        if (isNaN(e)) return;
        T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
        let t = U ? Math.max(Math.min(e + a.getTilt(), a.maxTilt), a.minTilt) : e + a.getTilt();
        t !== a.elevation.rotation.x && (a.elevation.rotation.x = t, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.TILT_UPDATED_EVENT)), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT);
    }, this.setZoom = function(e) {
        if (isNaN(e)) return;
        T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT);
        let t = U ? Math.min(Math.max(e, a.getZoomScaledMin()), a.getZoomScaledMax()) : e;
        t !== a.camera.position.z && (a.camera.position.z = t, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ZOOM_UPDATED_EVENT)), a.camera.near = t / s, a.camera.far = t * s, a.camera.updateProjectionMatrix(), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT);
    }, this.zoom = function(e) {
        if (isNaN(e)) return;
        T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT);
        let t = a.getZoom() - e;
        a.camera.position.z = U ? Math.min(Math.max(t, a.minZoom * a.zoomFactor), a.maxZoom * a.zoomFactor) : t, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ZOOM_UPDATED_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT);
    }, this.zoomIn = function(e, t, i) {
        let n = this.getZoom();
        this.animateCamera({
            zoom: n / 1.5
        }, e, t, i);
    }, this.zoomOut = function(e, t, i) {
        let n = this.getZoom();
        this.animateCamera({
            zoom: 1.5 * n
        }, e, t, i);
    }, this.expandZoomLimits = function(e, t) {
        t || (t = 1.2), e * t > a.maxZoom && (a.maxZoom = Math.min(e * t, a.maxExpandedZoom)), e / t < a.minZoom && (a.minZoom = Math.max(e / t, a.minExpandedZoom));
    }, this.restrictZoomLimits = function(e, t) {
        t || (t = 1.2), e * t > a.initialMaxZoom && e * t < a.maxZoom && (a.maxZoom = Math.max(a.getZoom(), e * t)), e / t < a.initialMinZoom && e / t > a.minZoom && (a.minZoom = Math.min(a.getZoom(), e / t));
    }, this.getPosition = function() {
        return {
            x: a.orbit.position.x,
            y: a.orbit.position.y,
            z: a.orbit.position.z
        };
    }, this.getPedestal = function() {
        return a.orbit.position.z;
    }, (0, _chunkZRT45YCMJs.a)(X, "setPedestal"), Object.defineProperty(this, "setPedestal", {
        enumerable: !1,
        value: X
    }), Object.defineProperty(this, "scrollPercent", {
        get () {
            let e = this.minPedestal, t = this.maxPedestal, i = this.getPedestal();
            return i = Math.min(i, t), i = Math.max(i, e), (i - e) / (t - e) * 100;
        }
    }), Object.defineProperty(this, "scrolledToTop", {
        get () {
            return 0 === this.maxPedestal || Math.ceil(this.getPedestal()) >= this.maxPedestal;
        }
    }), Object.defineProperty(this, "scrolledToBottom", {
        get () {
            return 0 === this.minPedestal || Math.floor(this.getPedestal()) <= this.minPedestal;
        }
    }), this.getRotation = function() {
        return a.orbit.rotation.z;
    }, this.getTilt = function() {
        return a.elevation.rotation.x;
    }, this.getZoom = function() {
        return a.camera.position.z;
    }, this.isCameraMoving = function() {
        return T != m;
    }, this.isUserInteracting = function() {
        return V;
    }, this.getZoomScaledMin = function() {
        return a.minZoom * a.zoomFactor;
    }, this.getZoomScaledMax = function() {
        let e = a.minZoom * a.zoomFactor;
        return Math.max(a.maxZoom, 1.5 * e);
    };
    let Z = (0, _chunkZRT45YCMJs.a)(function() {
        return $f.default.getAll().some(function(e) {
            return e._mMapAnimation;
        });
    }, "isAnimating");
    this.isAnimating = Z;
    let Q = new Set;
    function J(e) {
        e.isPlaying ? e.stop() : e.end(), Q.delete(e);
    }
    function K(e) {
        O.set(e.clientX, e.clientY), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ROTATE_START_EVENT);
    }
    function $() {
        let e = De(P);
        L.set(e.x, e.y), B.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_START_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_START_EVENT);
    }
    function ee(e) {
        let t = {
            x: e.clientX,
            y: e.clientY
        };
        a.initialShiftPos = t, a.initialPedestal = a.getPedestal(), a.pedestalScaleFactor = D4(a.camera.fov, a.canvas.clientHeight, a.getZoom()), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PEDESTAL_START_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PEDESTAL_START_EVENT);
    }
    function te(e) {
        e.clientX;
        let t = e.clientY, i = a.initialPedestal + a.pedestalScaleFactor * (t - a.initialShiftPos.y);
        U && (i < a.minPedestal ? i = Math.max(i, a.minPedestal) : i > a.maxPedestal && (i = Math.min(i, a.maxPedestal))), i !== a.getPedestal() && Y(i);
    }
    function ie(e) {
        D.set(e.clientX, e.clientY), _.subVectors(D, O), a.rotate(-_.x / a.rotateSpeed), a.setTilt(a.getTilt() - _.y / a.rotateSpeed), O.copy(D), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
    }
    function ne() {
        let e = De(P);
        R.set(e.x, e.y), N.subVectors(R, L), a.setPosition(B.x - N.x, B.y - N.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
    }
    function re(e) {
        let t = 0;
        return void 0 !== e.wheelDelta ? t = e.wheelDelta : void 0 !== e.detail && (t = -e.detail), t;
    }
    function oe(e) {
        let t = re(e), i = a.getZoom();
        return !(t < 0 && i == a.getZoomScaledMax() || t > 0 && i == a.getZoomScaledMin());
    }
    function se(e) {
        if (a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT), !oe(e)) return j > 0 && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), j = 0, void (T = m);
        let t = a.getZoom(), i = t - re(e) * t / 1e4 * a.zoomSpeed;
        a.setZoom(i);
        let n = i / f;
        N.subVectors(k, B).multiplyScalar(1 - n), a.setPosition(B.x + N.x, B.y + N.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
    }
    function ae(e) {
        if (!1 !== a.enabled) {
            if (_e(e), e.preventDefault(), T == b && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), e.button === a.mouseButtons.ORBIT) {
                if (!1 === a.enableRotate) return;
                K(e), T = g;
            } else e.button === a.mouseButtons.PAN && (a.enablePan ? ($(), T = y) : a.enablePedestal && (ee(e), T = M));
            T !== m && (a.canvas.addEventListener("mousemove", le, !1), window.addEventListener("mouseup", he, !1), window.addEventListener("mouseout", he, !1));
        }
    }
    function le(e) {
        if (!1 !== a.enabled) {
            if (e.preventDefault(), _e(e), T === g) {
                if (!1 === a.enableRotate) return;
                ie(e);
            } else if (T === y) {
                if (!1 === a.enablePan) return;
                ne();
            } else T === b ? (F = !0, T = m) : T === M && te(e);
        }
    }
    function he() {
        if (!1 !== a.enabled) {
            switch(document.removeEventListener("mousemove", le, !1), window.removeEventListener("mouseup", he, !1), window.removeEventListener("mouseout", he, !1), T){
                case y:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_END_EVENT);
                    break;
                case v:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_DOLLY_END_EVENT);
                    break;
                case g:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ROTATE_END_EVENT);
                    break;
                case M:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PEDESTAL_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PEDESTAL_END_EVENT);
            }
            T = m;
        }
    }
    (0, _chunkZRT45YCMJs.a)(J, "completeTween"), this.cancelAnimation = function() {
        let e = Array.from(Q), t = e[e.length - 1];
        t.state === E && a.dispatcher.dispatchEvent({
            type: a.CAMERA_EVENTS.MULTI_CANCEL_EVENT.type,
            message: {
                zooming: !0,
                rotating: !0,
                tilting: !0
            }
        }), J(t);
    }, this.animateCamera = function(e, t, i, r, o, s) {
        let l = {
            mode: KI.cancel,
            ...s
        }, h = {}, c = {}, u = a.getPosition();
        if (null != e.position && (void 0 !== e.position.x && (h.x = u.x, c.x = e.position.x), void 0 !== e.position.y && (h.y = u.y, c.y = e.position.y), void 0 !== e.position.z && (h.z = u.z, c.z = e.position.z)), void 0 !== e.zoom && (h.zoom = U ? Math.min(Math.max(a.getZoom(), a.getZoomScaledMin()), a.getZoomScaledMax()) : a.getZoom(), a.viewState !== qv.MULTI_FLOOR && U ? c.zoom = Math.min(Math.max(e.zoom, a.getZoomScaledMin()), a.getZoomScaledMax()) : c.zoom = e.zoom), void 0 !== e.rotation) {
            let t = h.rotation = a.getRotation(), i = e.rotation % (2 * Math.PI), n = i - t;
            if (Math.abs(n) > Math.PI) {
                let e = n < 0 ? 1 : -1;
                c.rotation = i + 2 * Math.PI * e;
            } else c.rotation = i;
        }
        void 0 !== e.tilt && (h.tilt = a.getTilt(), a.viewState !== qv.MULTI_FLOOR && U ? c.tilt = Math.max(Math.min(e.tilt, a.maxTilt), a.minTilt) : c.tilt = e.tilt);
        let d = h.zoom !== c.zoom, p = h.rotation !== c.rotation, f = h.tilt !== c.tilt;
        var m = new $f.default.Tween(h).to(c, (0, _chunkA5C75TI6Js.b).env.TESTING ? 0 : t).onUpdate(function(e) {
            a.setMulti({
                x: e.x,
                y: e.y,
                z: e.z
            }, e.zoom, e.rotation, e.tilt);
        }).onComplete(function() {
            r && r(), J(m), a.dispatcher.dispatchEvent({
                type: a.CAMERA_EVENTS.MULTI_END_EVENT.type,
                message: {
                    zooming: d,
                    rotating: p,
                    tilting: f
                }
            });
        }).onStart(function() {
            T != E && (T = E, m.state = E, a.dispatcher.dispatchEvent({
                type: a.CAMERA_EVENTS.MULTI_START_EVENT.type,
                message: {
                    zooming: d,
                    rotating: p,
                    tilting: f
                }
            })), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
        });
        let g = Array.from(Q), v = g[g.length - 1], y = !1;
        return null != v && (l.mode === KI.chain ? (y = !0, v.chain(m)) : (J(v), "function" == typeof o && o(), v = null)), Q.add(m), i ? m.easing(i) : m.easing($f.default.Easing.Quadratic.In), !e.doNotAutoStart && !y && (m.start(), n.tryRendering()), m._mMapAnimation = !0, m;
    }, this.setMulti = function(e, t, i, n) {
        T == m && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_START_EVENT);
        let r = !1;
        null != e && (void 0 !== e.x && !isNaN(e.x) && (a.orbit.position.x = e.x, r = !0), void 0 !== e.y && !isNaN(e.y) && (a.orbit.position.y = e.y, r = !0), void 0 !== e.z && !isNaN(e.z) && this.setPedestal(e.z)), r && a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.POSITION_UPDATED_EVENT);
        let o = {
            zooming: !1,
            tilting: t,
            rotating: !1
        };
        if (void 0 !== t && !isNaN(t)) {
            let e = U ? Math.min(Math.max(t, a.getZoomScaledMin()), a.getZoomScaledMax()) : t;
            e !== a.camera.position.z && (o.zooming = !0, a.camera.position.z = e, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ZOOM_UPDATED_EVENT), a.viewState === qv.MULTI_FLOOR ? t > gM && (a.camera.near = t - gM, a.camera.far = t + gM) : (a.camera.near = t / s, a.camera.far = t * s), a.camera.updateProjectionMatrix());
        }
        if (void 0 !== i && !isNaN(i) && i !== a.orbit.rotation.z && (o.rotating = !0, a.orbit.rotation.z = i, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.ROTATION_UPDATED_EVENT)), void 0 !== n && !isNaN(n)) {
            let e = U ? Math.max(Math.min(n, a.maxTilt), a.minTilt) : n;
            e !== a.elevation.rotation.x && (o.tilting = !0, a.elevation.rotation.x = e, a.dispatcher.dispatchEvent(a.UPDATE_EVENTS.TILT_UPDATED_EVENT));
        }
        a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT), T == m && a.dispatcher.dispatchEvent({
            type: a.CAMERA_EVENTS.MULTI_END_EVENT.type,
            message: o
        });
    }, (0, _chunkZRT45YCMJs.a)(K, "handleMouseDownRotate"), (0, _chunkZRT45YCMJs.a)($, "handleMouseDownPan"), (0, _chunkZRT45YCMJs.a)(ee, "handleMouseDownPedestal"), (0, _chunkZRT45YCMJs.a)(te, "handleMouseMovePedestal"), (0, _chunkZRT45YCMJs.a)(ie, "handleMouseMoveRotate"), (0, _chunkZRT45YCMJs.a)(ne, "handleMouseMovePan"), this.getProjectionScaleFactor = D4, this.postRender = function() {
        (T == y || T == x) && (p.setFromCamera(P, e), r = p.intersectObject(u, !1)[0], r && (L.set(r.point.x, r.point.y), B.set(a.orbit.position.x, a.orbit.position.y))), T == b && F && (F = !1, f = a.getZoom(), k = De(P), B.set(a.orbit.position.x, a.orbit.position.y)), T == E && 0 == Z() && (T = m, a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_END_EVENT));
    }, (0, _chunkZRT45YCMJs.a)(re, "scrollDelta"), (0, _chunkZRT45YCMJs.a)(oe, "canScrollZoom"), (0, _chunkZRT45YCMJs.a)(se, "handleMouseWheel"), (0, _chunkZRT45YCMJs.a)(ae, "onMouseDown"), (0, _chunkZRT45YCMJs.a)(le, "onMouseMove"), (0, _chunkZRT45YCMJs.a)(he, "onMouseUp");
    let ue = null;
    function de(e) {
        !1 === a.enabled || !1 === a.enableZoom || T !== m && T !== b || (e.preventDefault(), e.stopPropagation(), _e(e), oe(e) && (j = z.getElapsedTime(), a.dispatchUserZoomEvent()), T != b && oe(e) && (a.canvas.addEventListener("mousemove", le, !1), T = b, f = a.getZoom(), k = De(P), B.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_START_EVENT)), null != ue && clearTimeout(ue), ue = setTimeout(()=>{
            a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT);
        }, 50), se(e));
    }
    function pe(e) {
        let t = De(e.x ? e : S[0]);
        L.set(t.x, t.y), B.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_START_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_START_EVENT);
    }
    function fe(e) {
        let t = De(e.x ? e : S[0]);
        R.set(t.x, t.y), N.subVectors(R, L), a.setPosition(B.x - N.x, B.y - N.y), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.CHANGE_EVENT);
    }
    function me() {
        let e = S[0].x - S[1].x, t = S[0].y - S[1].y;
        f = a.getZoom();
        let i = {
            x: S[0].x - e / 2,
            y: S[0].y - t / 2
        };
        k = De(i), a.orbit.updateMatrixWorld(), a.touchAnchor1 = new sM(S[0], a.camera, u), a.touchAnchor2 = new sM(S[1], a.camera, u), B.set(a.orbit.position.x, a.orbit.position.y), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_DOLLY_START_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_START_EVENT);
    }
    function ge() {
        let e = a.touchInputs.first, t = a.touchInputs.second;
        a.touchAnchor1.viewCoordinate = {
            x: e.x,
            y: e.y
        }, a.touchAnchor2.viewCoordinate = {
            x: t.x,
            y: t.y
        };
        let i = Te(a.touchAnchor1, a.touchAnchor2);
        i && Pe(i), a.orbit.updateMatrixWorld(), a.touchAnchor1.updateAnchorState(a.camera, e), a.touchAnchor2.updateAnchorState(a.camera, t);
    }
    function ve(e) {
        O.set(e.touches[1].clientX, e.touches[1].clientY), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_TILT_START_EVENT), a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_START_EVENT);
    }
    function ye(e) {
        D.set(e.touches[1].clientX, e.touches[1].clientY), _.subVectors(D, O), a.setTilt(a.getTilt() - _.y / a.rotateSpeed), O.copy(D);
    }
    function be(e) {
        ee(e.touches[0]);
    }
    function we(e) {
        te(e.touches[0]);
    }
    function Ae() {
        T === w || T === A ? a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.MULTI_END_EVENT) : T === x && a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_END_EVENT);
    }
    function xe(e) {
        if (!1 !== a.enabled) switch(Oe(e), Le(e), e.touches.length){
            case 1:
                a.enablePedestal ? (be(e), T = q) : a.enablePan && (pe(e), T = x);
                break;
            case 2:
                a.touchInputs = new FI(S[0], S[1]);
                break;
            default:
                T = m;
        }
    }
    function Ee(e) {
        if (!1 !== a.enabled) switch(Le(e), e.touches.length){
            case 2:
                e.preventDefault(), e.stopPropagation();
                let t = {
                    ...a.touchInputs.first
                }, i = {
                    ...a.touchInputs.second
                }, n = new (0, _chunk4XLXKB34Js.M)(S[0].x, S[0].y), r = new (0, _chunk4XLXKB34Js.M)(S[1].x, S[1].y);
                if (a.touchInputs.update(S[0], S[1]), a.enableRotate && T === w) ye(e);
                else if (T === A) ge();
                else if (a.touchInputs.totalDistance > .05 && T !== A) {
                    let o = t.y < n.y && i.y < r.y, s = t.y > n.y && i.y > r.y;
                    a.enableRotate && T !== w && (s || o) ? (ve(e), T = w) : (me(), T = A);
                }
                break;
            case 1:
                (a.enablePedestal || a.enablePan) && (e.preventDefault(), e.stopPropagation()), a.enablePedestal && T === q ? we(e) : a.enablePan && T === x && fe(e);
                break;
            default:
                T = m;
        }
    }
    function Me(e) {
        if (!1 !== a.enabled) {
            switch(Ae(), T){
                case y:
                case x:
                    a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PAN_END_EVENT);
                    break;
                case w:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PAN_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_TILT_END_EVENT);
                    break;
                case v:
                case A:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_DOLLY_END_EVENT);
                    break;
                case g:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ROTATE_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ROTATE_END_EVENT);
                    break;
                case M:
                case q:
                    a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.PEDESTAL_END_EVENT), a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_PEDESTAL_END_EVENT);
            }
            e.touches.length ? xe(e) : T = m;
        }
    }
    function qe(e) {
        e.preventDefault();
    }
    function Ce(e, t) {
        return (t - e + Math.PI) % (2 * Math.PI) + 2 * Math.PI % (2 * Math.PI) - Math.PI;
    }
    function Te(e, t) {
        a.orbit.updateMatrixWorld(), a.camera.updateProjectionMatrix();
        let i = a.camera.projectionMatrix.clone(), n = e.worldCoordinate, r = t.worldCoordinate, o = e.reUnproject(), s = t.reUnproject();
        if (!o || !s) return null;
        let h = e.viewCoordinate, c = t.viewCoordinate, u = r.x - n.x, d = r.y - n.y, p = Math.atan2(d, u), f = s.x - o.x, m = s.y - o.y, g = Ce(p, Math.atan2(m, f)), v = new (0, _chunk4XLXKB34Js.V);
        v.makeRotationZ(-g);
        let y = v.clone();
        y.multiply(e.snapHolderMatrix);
        let b = (0, _chunkZRT45YCMJs.a)((e, t, i)=>e.elements[4 * (t - 1) + i - 1], "m"), w = b(i, 1, 1) * b(y, 1, 1) - h.x * b(i, 3, 4) * b(y, 3, 1), A = b(i, 1, 1) * b(y, 1, 2) - h.x * b(i, 3, 4) * b(y, 3, 2), x = b(i, 1, 1) * b(y, 1, 3) - h.x * b(i, 3, 4) * b(y, 3, 3), E = n.x * w + n.y * A + n.z * x, M = b(i, 2, 2) * b(y, 2, 1) - h.y * b(i, 3, 4) * b(y, 3, 1), q = b(i, 2, 2) * b(y, 2, 2) - h.y * b(i, 3, 4) * b(y, 3, 2), C = b(i, 2, 2) * b(y, 2, 3) - h.y * b(i, 3, 4) * b(y, 3, 3), T = n.x * M + n.y * q + n.z * C, P = b(i, 1, 1) * b(y, 1, 1) - c.x * b(i, 3, 4) * b(y, 3, 1), S = b(i, 1, 1) * b(y, 1, 2) - c.x * b(i, 3, 4) * b(y, 3, 2), I = b(i, 1, 1) * b(y, 1, 3) - c.x * b(i, 3, 4) * b(y, 3, 3), O = r.x * P + r.y * S + r.z * I, D = b(i, 2, 2) * b(y, 2, 1) - c.y * b(i, 3, 4) * b(y, 3, 1), _ = b(i, 2, 2) * b(y, 2, 2) - c.y * b(i, 3, 4) * b(y, 3, 2), L = b(i, 2, 2) * b(y, 2, 3) - c.y * b(i, 3, 4) * b(y, 3, 3), B = r.x * D + r.y * _ + r.z * L, R = Math.abs(P - w), N = Math.abs(S - A), k = Math.abs(I - x), F = Math.abs(P - M), z = Math.abs(S - q), j = Math.abs(I - C), U = Math.abs(D - w), V = Math.abs(_ - A), W = Math.abs(L - x), G = Math.abs(D - M), H = Math.abs(_ - q), Y = Math.abs(L - C);
        Math.min(R + N + k, F + z + j) < Math.min(U + V + W, G + H + Y) && (P = D, S = _, I = L, O = B);
        let X = M * x - w * C, Z = q * x - A * C, Q = T * x - E * C, J = P * C - M * I, K = S * C - q * I, $ = O * C - T * I, ee = ($ * Z - Q * K) / (J * Z - X * K), te = ($ * X - Q * J) / (K * X - Z * J), ie = q * w - A * M, ne = S * M - q * P, re = ((O * M - T * P) * ie - (T * w - E * M) * ne) / ((I * M - C * P) * ie - (C * w - x * M) * ne), oe = y.clone();
        return oe.elements[12] = ee, oe.elements[13] = te, oe.elements[14] = re, re > 0 ? oe : null;
    }
    function Pe(e) {
        a.orbit.updateMatrixWorld();
        let t = new (0, _chunk4XLXKB34Js.W);
        t.setFromRotationMatrix(e, "ZYX");
        let i = (e.elements[14] - u.position.z) / Math.cos(t.x), n = t.z, r = new (0, _chunk4XLXKB34Js.S)(0, 0, 1);
        r.applyEuler(t), r.setLength(i);
        let o = new (0, _chunk4XLXKB34Js.S);
        o.setFromMatrixPosition(e), o.sub(r), a.enablePan && a.setPosition(o.x, o.y), a.enableZoom && a.setZoom(i), a.enableRotate && a.setRotation(n);
    }
    function Se(e, t) {
        return {
            x: t.offsetX,
            y: t.offsetY
        };
    }
    function Ie(e, t) {
        return {
            x: t.clientX - I.offsetLeft,
            y: t.clientY - I.offsetTop
        };
    }
    function Oe(e) {
        let t = a.canvas;
        I.offsetLeft = t.getBoundingClientRect().left, I.offsetTop = t.getBoundingClientRect().top;
    }
    function De(t) {
        p.setFromCamera(t, e);
        let i = p.intersectObject(u, !1)[0];
        return i ? i.point : new (0, _chunk4XLXKB34Js.S);
    }
    function _e(e) {
        let t = Se(a.canvas, e);
        return P.x = t.x / a.canvas.width * n.resolutionScale * 2 - 1, P.y = -t.y / a.canvas.height * n.resolutionScale * 2 + 1, P;
    }
    function Le(e) {
        S = [];
        for(let t = 0, i = e.touches.length; t < i; t++){
            let i = e.touches[t], r = Ie(a.canvas, i);
            S.push(new (0, _chunk4XLXKB34Js.M)(r.x / a.canvas.width * n.resolutionScale * 2 - 1, -r.y / a.canvas.height * n.resolutionScale * 2 + 1));
        }
        P = S[0];
    }
    (0, _chunkZRT45YCMJs.a)(de, "onMouseWheel"), (0, _chunkZRT45YCMJs.a)(pe, "handleTouchStartPan"), (0, _chunkZRT45YCMJs.a)(fe, "handleTouchMovePan"), (0, _chunkZRT45YCMJs.a)(me, "handleTouchStartDolly"), (0, _chunkZRT45YCMJs.a)(ge, "handleTouchMoveDolly"), (0, _chunkZRT45YCMJs.a)(ve, "handleTouchStartTilt"), (0, _chunkZRT45YCMJs.a)(ye, "handleTouchMoveTilt"), (0, _chunkZRT45YCMJs.a)(be, "handleTouchStartPedestal"), (0, _chunkZRT45YCMJs.a)(we, "handleTouchMovePedestal"), (0, _chunkZRT45YCMJs.a)(Ae, "handleTouchEnd"), (0, _chunkZRT45YCMJs.a)(xe, "onTouchStart"), (0, _chunkZRT45YCMJs.a)(Ee, "onTouchMove"), (0, _chunkZRT45YCMJs.a)(Me, "onTouchEnd"), (0, _chunkZRT45YCMJs.a)(qe, "onContextMenu"), (0, _chunkZRT45YCMJs.a)(Ce, "differenceBetweenAngles"), (0, _chunkZRT45YCMJs.a)(Te, "makeTransformFromTouchAnchors"), (0, _chunkZRT45YCMJs.a)(Pe, "setCameraFromTransformMatrix"), (0, _chunkZRT45YCMJs.a)(Se, "getMousePos"), (0, _chunkZRT45YCMJs.a)(Ie, "getTouchPos"), (0, _chunkZRT45YCMJs.a)(Oe, "updateTouchOrigin"), (0, _chunkZRT45YCMJs.a)(De, "raycastToFloor"), (0, _chunkZRT45YCMJs.a)(_e, "mouseToScene"), (0, _chunkZRT45YCMJs.a)(Le, "touchToScene"), this.update = function() {
        $f.default.update(), j > 0 && T == b && z.getElapsedTime() - j > .2 && (j = 0, T = m, a.dispatcher.dispatchEvent(a.CAMERA_EVENTS.ZOOM_END_EVENT), a.canvas.removeEventListener("mousemove", le, !1));
    };
    let Be = !1;
    this.dispatchUserZoomDebounced = mn(()=>{
        Be = !1, a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ZOOM_END_EVENT);
    }, 250), this.dispatchUserZoomEvent = function() {
        Be || (a.dispatcher.dispatchEvent(a.INTERACTION_EVENTS.USER_ZOOM_START_EVENT), Be = !0), a.dispatchUserZoomDebounced();
    }, this.dispose = function() {
        for(let e in this.INTERACTION_EVENTS){
            let t = this.INTERACTION_EVENTS[e];
            t.type.endsWith("Start") && a.dispatcher.removeEventListener(t.type, W);
        }
        for(let e in this.INTERACTION_EVENTS){
            let t = this.INTERACTION_EVENTS[e];
            t.type.endsWith("End") && a.dispatcher.removeEventListener(t.type, H);
        }
        a.canvas.removeEventListener("contextmenu", qe, !1), a.canvas.removeEventListener("mousedown", ae, !1), a.canvas.removeEventListener("wheel", de, {
            passive: !1
        }), a.canvas.removeEventListener("touchstart", xe, !1), a.canvas.removeEventListener("touchend", Me, !1), a.canvas.removeEventListener("touchmove", Ee, !1), a.canvas.removeEventListener("mousemove", le, !1), window.removeEventListener("mouseup", he, !1), window.removeEventListener("mouseout", he, !1), i.remove(u), a.dispatcher._listeners = {};
    }, this.canvas.addEventListener("contextmenu", qe, !1), this.canvas.addEventListener("mousedown", ae, !1), this.canvas.addEventListener("wheel", de, {
        passive: !1
    }), this.canvas.addEventListener("touchstart", xe, !1), this.canvas.addEventListener("touchend", Me, !1), this.canvas.addEventListener("touchmove", Ee, !1);
}, "CameraControls"), zv = TX, $I = ((e)=>(e.performance = "Performance", e.low = "Low", e.medium = "Medium", e.high = "High", e.ultra = "Ultra", e))($I || {}), TM = class extends yn {
    constructor(e){
        super("CustomRenderPass"), (0, _chunkZRT45YCMJs.f)(this, "effectComposer"), (0, _chunkZRT45YCMJs.f)(this, "clearPass"), this.renderToScreen = !1, this.needsSwap = !1, this.effectComposer = e, this.fullscreenMaterial = new (0, _chunk4XLXKB34Js.da)({
            uniforms: e.options.compositeUniforms,
            vertexShader: Qf,
            fragmentShader: RI
        }), this.clearPass = new ic;
    }
    render(e, t, i, n, r) {
        let o = this.fullscreenMaterial.uniforms;
        null !== t && void 0 !== o && void 0 !== o.inputBuffer && (o.inputBuffer.value = t.texture), this.clearPass.render(e, t, i, n, r), e.setRenderTarget(this.renderToScreen ? null : t), e.render(this.scene, this.camera);
    }
    initialize(e, t, i) {
        void 0 !== i && i !== (0, _chunk4XLXKB34Js.r) && (this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH = "1");
    }
};
(0, _chunkZRT45YCMJs.a)(TM, "CustomRenderPass");
var yM = TM, EM = class extends Dv {
    constructor(e, t){
        let { scene: i, camera: n, renderer: r } = e;
        super(i, n, r.width, r.height), (0, _chunkZRT45YCMJs.f)(this, "effectComposer"), (0, _chunkZRT45YCMJs.f)(this, "cachePass"), (0, _chunkZRT45YCMJs.f)(this, "enabled"), this.effectComposer = e, this.enabled = !0;
        let o = new (0, _chunk4XLXKB34Js.da)({
            uniforms: {
                colorTexture: {
                    value: this.outputTargetInternal.texture
                }
            },
            vertexShader: Qf,
            fragmentShader: LI
        });
        this.cachePass = new dl(o), Object.assign(this.configuration, t);
    }
    setAOConfiguration(e) {
        Object.assign(this.configuration, e), e.color && (this.configuration.color = new (0, _chunk4XLXKB34Js.Y)(e.color)), e.aoResolution && (e.halfRes = "half" === e.aoResolution);
    }
    setQualityMode(e) {
        let t = $I[e.toLowerCase()];
        t || (t = "Performance"), super.setQualityMode(t);
    }
    get distanceFalloff() {
        if (!this.effectComposer.renderer.core.controls) return 0;
        let e = this.effectComposer.renderer.core.controls.getZoomLevel();
        return ((0, _chunk4XLXKB34Js.L).clamp(e, Uv, vM) - Uv) / (vM - Uv) * .2;
    }
    initialize(e, t, i) {
        this.cachePass.initialize(e, t, i), super.initialize(e, t, i);
    }
    render(e, t, i, n, r) {
        var o;
        let s = null == (o = this.effectComposer.options.compositeUniforms) ? void 0 : o.staticSceneDepthTexture.value;
        s && !s.userData.needsAmbientOcclusionUpdate && this.outputTargetInternal ? this.cachePass.render(e, t, i, n, r) : (this.configuration.distanceFalloff = this.distanceFalloff, super.render(e, t, i, n, r), s && (s.userData.needsAmbientOcclusionUpdate = !1));
    }
};
(0, _chunkZRT45YCMJs.a)(EM, "AmbientOcclusionPass");
var bM = EM, MM = class extends CI {
    constructor(e, ...t){
        super(e, ...t), (0, _chunkZRT45YCMJs.f)(this, "_effects"), this._effects = [
            ...t
        ];
    }
    getEffects() {
        return this._effects;
    }
    getEffectByName(e) {
        return this._effects.find((t)=>t.name === e) || null;
    }
};
(0, _chunkZRT45YCMJs.a)(MM, "CustomEffectPass");
var xM = MM, wM = class {
    constructor(e, t){
        var i;
        (0, _chunkZRT45YCMJs.f)(this, "options", {
            antialias: !0,
            antialiasQuality: "medium",
            aoEnabled: !1,
            aoQuality: "medium",
            aoResolution: "half",
            compositeUniforms: void 0
        }), (0, _chunkZRT45YCMJs.f)(this, "isWebGL2"), (0, _chunkZRT45YCMJs.f)(this, "effectComposer"), (0, _chunkZRT45YCMJs.f)(this, "scene", null), (0, _chunkZRT45YCMJs.f)(this, "camera", null), (0, _chunkZRT45YCMJs.f)(this, "depthTexture"), (0, _chunkZRT45YCMJs.f)(this, "renderer"), this.isWebGL2 = !!e.renderer.capabilities.isWebGL2, this.options = (0, JI.default)({}, this.options, t), this.effectComposer = new PI(e.renderer), this.effectComposer.multisampling = 0, this.effectComposer.depthTexture = (null == (i = this.options.compositeUniforms) ? void 0 : i.staticSceneDepthTexture.value) || null, this.renderer = e;
    }
    get initialized() {
        return !!this.effectComposer.passes.length;
    }
    init(e, t) {
        this.scene = e, this.camera = t;
        let i = this.getRenderPass();
        this.addPass(i, "RenderPass");
        let n = this.getAmbientOcclusionPass();
        this.addPass(n, "AmbientOcclusionPass");
        let r = this.getCompositePass();
        this.addPass(r, "CompositeRenderPass");
        let o = this.getEffectsPass(!0);
        this.addPass(o, "EffectsPassAntialiasEnabled");
        let s = this.getEffectsPass(!1);
        this.addPass(s, "EffectsPassAntialiasDisabled");
        let a = this.getFinalPass();
        this.addPass(a, "FinalPass");
    }
    render() {
        this.effectComposer.render();
    }
    setSize(e, t) {
        this.effectComposer.setSize(e, t, !1);
    }
    getPassByName(e) {
        return this.effectComposer.passes.find(({ name: t })=>t === e) || null;
    }
    getEffectsByName(e) {
        let t = [], i = this.getPassByName("EffectsPassAntialiasEnabled"), n = this.getPassByName("EffectsPassAntialiasDisabled"), r = null == i ? void 0 : i.getEffectByName(e), o = null == n ? void 0 : n.getEffectByName(e);
        return r && t.push(r), o && t.push(o), t;
    }
    setAmbientOcclusionConfiguration(e) {
        let t = this.getPassByName("AmbientOcclusionPass"), i = {};
        for (let t of Object.keys(e))void 0 !== e[t] && (i[t] = e[t]);
        t && (void 0 !== i.aoEnabled && (t.enabled = i.aoEnabled), i.aoQuality && t.setQualityMode(i.aoQuality), t.setAOConfiguration(i));
    }
    setAntialiasConfiguration(e) {
        let t = this.getEffectsByName("SMAAEffect")[0], i = this.getPassByName("EffectsPassAntialiasEnabled"), n = this.getPassByName("EffectsPassAntialiasDisabled"), { antialias: r, antialiasQuality: o } = e;
        void 0 !== r && r !== this.options.antialias && (this.options.antialias = r, r ? (n.setEnabled(!1), i.setEnabled(!0)) : (n.setEnabled(!0), i.setEnabled(!1))), t && o && o !== this.options.antialiasQuality && (this.options.antialiasQuality = o, t.applyPreset(this.getAntialiasingPreset()));
    }
    setPolygonOutlineColor(e) {
        let t = this.getEffectsByName("OutlineEffect");
        e = new (0, _chunk4XLXKB34Js.Y)(e), t.forEach((t)=>{
            t.visibleEdgeColor = e, t.hiddenEdgeColor = e;
        });
    }
    addSelectionForOutline(e) {
        this.getEffectsByName("OutlineEffect").forEach((t)=>{
            t.selection.add(e);
        });
    }
    removeSelectionForOutline(e) {
        this.getEffectsByName("OutlineEffect").forEach((t)=>{
            t.selection.delete(e);
        });
    }
    addPass(e, t) {
        e && (e.name = t, this.effectComposer.addPass(e));
    }
    getRenderPass() {
        let e = this.options.compositeUniforms ? new yM(this) : new Ov(this.scene, this.camera);
        return e.renderToScreen = !1, e.needsSwap = !1, e.needsDepthTexture = !0, e;
    }
    getAmbientOcclusionPass() {
        let { aoResolution: e, aoEnabled: t, aoQuality: i } = this.options;
        if (!this.isWebGL2 || !t) return null;
        let n = {
            aoRadius: 5,
            intensity: 5,
            screenSpaceRadius: !0,
            halfRes: "half" === e,
            denoiseIterations: 1 === this.renderer.core.resolutionScale ? 4 : 2
        }, r = new bM(this, n);
        return r.setQualityMode(i), r.renderToScreen = !1, r.needsSwap = !0, r.needsDepthTexture = !0, r;
    }
    getCompositePass() {
        if (!this.options.compositeUniforms) return null;
        let { staticSceneColorTexture: e, alwaysOnBottomSceneColorTexture: t, alwaysOnTopSceneColorTexture: i, ...n } = this.options.compositeUniforms, r = new (0, _chunk4XLXKB34Js.da)({
            uniforms: n,
            vertexShader: Qf,
            fragmentShader: qI
        }), o = new dl(r);
        return o.renderToScreen = !1, o.needsSwap = !0, o.needsDepthTexture = !1, o;
    }
    getEffectsPass(e) {
        let { compositeUniforms: t, antialias: i } = this.options, n = [];
        n.push(this.getOutlineEffect()), e && n.push(this.getAntialiasingEffect());
        let r = new xM(this.camera, ...n);
        return r.renderToScreen = !t, r.enabled = e === i, r.needsSwap = !!t, r.needsDepthTexture = !0, r;
    }
    getFinalPass() {
        if (!this.options.compositeUniforms) return null;
        let { alwaysOnBottomSceneColorTexture: e, alwaysOnTopSceneColorTexture: t, inputBuffer: i } = this.options.compositeUniforms, n = new (0, _chunk4XLXKB34Js.da)({
            uniforms: {
                inputBuffer: i,
                alwaysOnBottomSceneColorTexture: e,
                alwaysOnTopSceneColorTexture: t
            },
            vertexShader: Qf,
            fragmentShader: NI
        }), r = new dl(n);
        return r.renderToScreen = !0, r.needsSwap = !1, r.needsDepthTexture = !1, r;
    }
    getOutlineEffect() {
        return new II(this.scene, this.camera, {
            multisampling: Math.min(4, this.renderer.renderer.capabilities.maxSamples),
            edgeStrength: 10,
            visibleEdgeColor: 16711680,
            hiddenEdgeColor: 16711680,
            xRay: !0,
            blendFunction: De.ALPHA
        });
    }
    getAntialiasingPreset() {
        switch(this.options.antialiasQuality){
            case "medium":
                return Qr.MEDIUM;
            case "high":
                return Qr.HIGH;
            case "ultra":
                return Qr.ULTRA;
            default:
                return Qr.LOW;
        }
    }
    getAntialiasingEffect() {
        let e = new _I({
            preset: this.getAntialiasingPreset()
        });
        return e.blendMode.blendFunction = De.SRC, e;
    }
};
(0, _chunkZRT45YCMJs.a)(wM, "EffectComposer");
var em = wM, CM = class {
    constructor(e){
        e.multiBufferRendering = e.multiBufferRendering || !1, this.contextLost = !1, this.implementation = this.getRenderer(e), this.onWebGLContextCreationError = e.onWebGLContextCreationError, this.onWebGLContextLost = e.onWebGLContextLost, this.onWebGLContextRestored = e.onWebGLContextRestored, this.webGLContextCreationErrorListener = this.domElement().addEventListener("webglcontextcreationerror", (e)=>this.reportWebGlContextCreationError(e)), this.webGLContextLostListener = this.domElement().addEventListener("webglcontextlost", (e)=>this.reportWebGlContextLost(e)), this.webGLContextRestoredListener = this.domElement().addEventListener("webglcontextrestored", (e)=>this.reportWebGLContextRestored(e));
        let t = e.backgroundColor;
        "string" == typeof t && (t = new (0, _chunk4XLXKB34Js.Y)(e.backgroundColor)), null == t && (t = new (0, _chunk4XLXKB34Js.Y)("#ffffff"));
        let i = e.backgroundAlpha;
        null == i && (i = 1), this.shouldConsiderAlpha = e.alpha || !1, this.antialias = e.antialias || !1, this.setBackgroundColor(t, i);
    }
    destroy() {
        this.domElement().removeEventListener("webglcontextcreationerror", this.webGLContextCreationErrorListener), this.domElement().removeEventListener("webglcontextlost", this.webGLContextLostListener), this.domElement().removeEventListener("webglcontextrestored", this.webGLContextRestoredListener), this.implementation.destroy();
    }
    render(e, t, i, n) {
        this.implementation.render(e, t, i, n);
    }
    getMaxAnisotropy() {
        return this.implementation.renderer.capabilities.getMaxAnisotropy();
    }
    getBufferSize() {
        return this.implementation.renderer.getSize(new (0, _chunk4XLXKB34Js.M));
    }
    getContext() {
        return this.implementation.renderer.getContext();
    }
    preloadTexture(e) {
        this.implementation.renderer.initTexture(e);
    }
    setBufferSize(e, t) {
        this.implementation.setBufferSize(e, t);
    }
    get backgroundColor() {
        return this.implementation.backgroundColor;
    }
    get backgroundAlpha() {
        return this.implementation.backgroundAlpha;
    }
    setBackgroundColor(e, t = 1) {
        this.shouldConsiderAlpha || (t = 1), t = (t = void 0 !== t ? +t : 1) >= 0 && t <= 1 ? t : 1, this.implementation.setBackgroundColor(e, t);
    }
    setMapboxOutdoorContext(e) {
        this.implementation.setMapboxOutdoorContext(e);
    }
    domElement() {
        return this.implementation.renderer.domElement;
    }
    isAvailable() {
        return null != this.implementation.renderer && !this.contextLost;
    }
    disposeOfRenderLists() {
        this.implementation.renderer.renderLists.dispose();
    }
    reportWebGlContextCreationError(e) {
        this.onWebGLContextCreationError && this.onWebGLContextCreationError(e);
    }
    reportWebGlContextLost(e) {
        e.preventDefault(), this.onWebGLContextLost && this.onWebGLContextLost(e), this.contextLost = !0;
    }
    reportWebGLContextRestored() {
        this.onWebGLContextRestored && this.onWebGLContextRestored(), this.contextLost = !1;
    }
    getTargetWebGLVersion(e) {
        let t = /(AppleWebKit)/.test(navigator.userAgent), i = /(Mac)/.test(navigator.platform), n = e.getExtension("WEBGL_debug_renderer_info"), r = /radeon\spro\s4\d\d|radeon\spro\s5\d\d/i.test(e.getParameter(n.UNMASKED_RENDERER_WEBGL));
        return t && i && r ? 1 : 2;
    }
    getRenderer(e) {
        let t = e.multiBufferRendering ? sc : AM, i = new t(e), n = this.getTargetWebGLVersion(i.renderer.getContext());
        return 2 === n ? i : (i.destroy(), new t(e, n));
    }
};
(0, _chunkZRT45YCMJs.a)(CM, "Renderer");
var ac = CM, PM = class {
    constructor(e, t = 2){
        try {
            this.options = e;
            let i = {
                alpha: e.alpha || !1,
                stencil: !0,
                outputColorSpace: (0, _chunk4XLXKB34Js.E),
                antialias: !1,
                powerPreference: "high-performance",
                preserveDrawingBuffer: !0
            };
            this.core = this.options.core, this.renderer = 2 === t ? new (0, _chunk4XLXKB34Js.ma)(i) : new (0, _chunk4XLXKB34Js.na)(i), this.effectComposer = new em(this, this.options);
        } catch (t) {
            e.onWebGLRendererError && e.onWebGLRendererError(t);
        }
        this.backgroundColor = new (0, _chunk4XLXKB34Js.Y), this.backgroundAlpha = 1, this.mapboxOutdoorContext = null;
    }
    destroy() {
        this.renderer.dispose();
    }
    render(e, t, i, n) {
        n.layers.enable(Zt.STATIC), n.layers.enable(Zt.ANIMATED), n.layers.enable(Zt.ALWAYS_ON_TOP), this.renderer.setClearColor(this.backgroundColor, this.backgroundAlpha), this.effectComposer.initialized || this.effectComposer.init(i, n), this.renderer.clear(), this.effectComposer.render(), null != this.mapboxOutdoorContext && (this.renderer.state.reset(), this.mapboxOutdoorContext.render({
            resolution: this.renderer.getSize(new (0, _chunk4XLXKB34Js.M)),
            camera: n
        }), this.renderer.state.reset());
    }
    setBufferSize(e, t) {
        this.width = e, this.height = t, this.renderer.setSize(e, t, !1), this.effectComposer.setSize(e, t);
    }
    setBackgroundColor(e, t) {
        this.backgroundColor = e, this.backgroundAlpha = t;
    }
    setMapboxOutdoorContext(e) {
        this.mapboxOutdoorContext = e;
    }
};
(0, _chunkZRT45YCMJs.a)(PM, "SingleBufferRenderer");
var AM = PM, SM = class {
    constructor(e, t = 2){
        (0, _chunkZRT45YCMJs.f)(this, "effectComposer", null), (0, _chunkZRT45YCMJs.f)(this, "outdoorsVisible", !1);
        try {
            this.options = e;
            let i = {
                alpha: e.alpha || !1,
                stencil: !0,
                antialias: !1,
                outputColorSpace: (0, _chunk4XLXKB34Js.E),
                powerPreference: "high-performance",
                preserveDrawingBuffer: !0
            };
            this.renderer = 2 === t ? new (0, _chunk4XLXKB34Js.ma)(i) : new (0, _chunk4XLXKB34Js.na)(i), this.core = this.options.core, this.journeyOpacity = e.xRayPath ? .3 : 0, this.backgroundColor = new (0, _chunk4XLXKB34Js.Y), this.backgroundAlpha = 1, this.mapboxOutdoorContext = null, this.staticSceneRenderTarget = new (0, _chunk4XLXKB34Js.Q)(this.renderer.width, this.renderer.height), this.populateRenderTarget(this.staticSceneRenderTarget), this.animatedSceneRenderTarget = new (0, _chunk4XLXKB34Js.Q)(this.renderer.width, this.renderer.height), this.populateRenderTarget(this.animatedSceneRenderTarget), this.alwaysOnTopSceneRenderTarget = new (0, _chunk4XLXKB34Js.Q)(this.renderer.width, this.renderer.height), this.populateRenderTarget(this.alwaysOnTopSceneRenderTarget), this.outdoorViewRenderTarget = new (0, _chunk4XLXKB34Js.Q)(this.renderer.width, this.renderer.height), this.createOutdoorViewTexture(), this.populateRenderTarget(this.outdoorViewRenderTarget), this.setupEffectComposer();
        } catch (t) {
            e.onWebGLRendererError && e.onWebGLRendererError(t);
        }
    }
    populateRenderTarget(e) {
        e.texture.colorSpace = (0, _chunk4XLXKB34Js.E), e.texture.format = (0, _chunk4XLXKB34Js.w), e.texture.minFilter = (0, _chunk4XLXKB34Js.l), e.texture.magFilter = (0, _chunk4XLXKB34Js.l), e.texture.generateMipmaps = !1, e.stencilBuffer = !0, e.depthBuffer = !0, e.depthTexture = new (0, _chunk4XLXKB34Js.ja)(this.renderer.width, this.renderer.height), e.depthTexture.type = (0, _chunk4XLXKB34Js.s);
    }
    createOutdoorViewTexture() {
        null != this.outdoorViewTexture && this.outdoorViewTexture.dispose(), this.outdoorViewTexture = new (0, _chunk4XLXKB34Js.O), this.outdoorViewTexture.colorSpace = (0, _chunk4XLXKB34Js.E), this.outdoorViewTextureProps = this.renderer.properties.get(this.outdoorViewTexture), this.outdoorViewRenderTarget.texture = this.outdoorViewTexture, null != this.effectComposer && this.outdoorsVisible && (this.options.compositeUniforms.alwaysOnBottomSceneColorTexture.value = this.outdoorViewRenderTarget.texture);
    }
    setupEffectComposer() {
        this.options.compositeUniforms = {
            animatedColorOpacity: new (0, _chunk4XLXKB34Js.Na)(this.journeyOpacity),
            inputBuffer: new (0, _chunk4XLXKB34Js.Na)(null),
            staticSceneColorTexture: new (0, _chunk4XLXKB34Js.Na)(this.staticSceneRenderTarget.texture),
            staticSceneDepthTexture: new (0, _chunk4XLXKB34Js.Na)(this.staticSceneRenderTarget.depthTexture),
            animatedSceneColorTexture: new (0, _chunk4XLXKB34Js.Na)(this.animatedSceneRenderTarget.texture),
            animatedSceneDepthTexture: new (0, _chunk4XLXKB34Js.Na)(this.animatedSceneRenderTarget.depthTexture),
            alwaysOnTopSceneColorTexture: new (0, _chunk4XLXKB34Js.Na)(this.alwaysOnTopSceneRenderTarget.texture),
            alwaysOnBottomSceneColorTexture: new (0, _chunk4XLXKB34Js.Na)(this.outdoorViewRenderTarget.texture)
        }, this.effectComposer = new em(this, this.options);
    }
    setOutdoorViewTexture(e) {
        this.outdoorViewTextureProps.__webglTexture = e;
    }
    destroy() {
        this.staticSceneRenderTarget.dispose(), this.animatedSceneRenderTarget.dispose(), this.alwaysOnTopSceneRenderTarget.dispose(), this.renderer.dispose();
    }
    renderComposite(e, t, i) {
        i.layers.set(Zt.STATIC), this.renderer.setRenderTarget(e), this.effectComposer.render();
    }
    renderToAnimatedBuffer(e, t) {
        t.layers.set(Zt.ANIMATED), this.renderer.setClearColor(new (0, _chunk4XLXKB34Js.Y), 0), this.renderer.setRenderTarget(this.animatedSceneRenderTarget), this.renderer.clear(), this.renderer.render(e, t);
    }
    renderAnimated(e, t, i) {
        this.renderToAnimatedBuffer(t, i), this.renderComposite(e, t, i);
    }
    renderToAlwaysOnTopBuffer(e, t) {
        t.layers.set(Zt.ALWAYS_ON_TOP), this.renderer.setClearColor(new (0, _chunk4XLXKB34Js.Y), 0), this.renderer.setRenderTarget(this.alwaysOnTopSceneRenderTarget), this.renderer.clear(), this.renderer.render(e, t);
    }
    renderAlwaysOnTop(e, t, i) {
        this.renderToAlwaysOnTopBuffer(t, i), this.renderComposite(e, t, i);
    }
    renderAll(e, t, i) {
        null != this.outdoorViewController && this.outdoorViewController.render(), this.renderer.state.reset(), i.layers.set(Zt.STATIC), this.renderer.autoClear = !1, this.renderer.setClearColor(this.backgroundColor, this.outdoorViewController ? 0 : this.backgroundAlpha), this.staticSceneRenderTarget.depthTexture.userData.needsAmbientOcclusionUpdate = !0, this.renderer.setRenderTarget(this.staticSceneRenderTarget), this.renderer.clear(), this.renderer.render(t, i), null != this.mapboxOutdoorContext && (this.renderer.state.reset(), this.mapboxOutdoorContext.render({
            resolution: this.renderer.getSize(new (0, _chunk4XLXKB34Js.M)),
            camera: i,
            renderTarget: this.staticSceneRenderTarget
        }), this.renderer.state.reset()), this.renderToAnimatedBuffer(t, i), this.renderToAlwaysOnTopBuffer(t, i), this.renderComposite(e, t, i);
    }
    render(e, t, i, n) {
        this.effectComposer.initialized || this.effectComposer.init(i, n), e === Re.ANIMATED ? (this.renderer.state.reset(), this.renderAnimated(t, i, n)) : e === Re.ALWAYS_ON_TOP ? (this.renderer.state.reset(), this.renderAlwaysOnTop(t, i, n)) : e === Re.COMPOSITE ? (this.renderer.state.reset(), this.renderComposite(t, i, n)) : e === Re.ALL ? this.renderAll(t, i, n) : R.error("Renderer.render called with invalid renderTask");
    }
    setBufferSize(e, t) {
        this.width = e, this.height = t, this.renderer.setSize(e, t, !1), this.effectComposer.setSize(e, t), this.staticSceneRenderTarget.setSize(e, t), this.animatedSceneRenderTarget.setSize(e, t), this.alwaysOnTopSceneRenderTarget.setSize(e, t), this.outdoorViewRenderTarget.width = e, this.outdoorViewRenderTarget.height = t, this.outdoorViewRenderTarget.viewport.set(0, 0, e, t), this.outdoorViewRenderTarget.scissor.set(0, 0, e, t), this.createOutdoorViewTexture();
    }
    setBackgroundColor(e, t) {
        this.backgroundColor = e, this.backgroundAlpha = t;
    }
    setMapboxOutdoorContext(e) {
        this.mapboxOutdoorContext = e;
    }
    setOutdoorViewController(e) {
        this.outdoorsVisible = !0, this.outdoorViewController = e;
    }
    toggleOutdoorViewVisiblity(e) {
        this.outdoorsVisible = e, this.options.compositeUniforms.alwaysOnBottomSceneColorTexture.value = e ? this.outdoorViewRenderTarget.texture : null;
    }
};
(0, _chunkZRT45YCMJs.a)(SM, "MultiBufferRenderer");
var sc = SM;
(0, _chunkA5C75TI6Js.a)();
var OM = (0, _chunkZRT45YCMJs.e)(e_()), EX = !1, qM = class {
    constructor(e, t){
        (0, _chunkZRT45YCMJs.f)(this, "_attribution"), (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "map"), (0, _chunkZRT45YCMJs.f)(this, "enabled", !1), (0, _chunkZRT45YCMJs.f)(this, "hidden", !1), (0, _chunkZRT45YCMJs.f)(this, "url", "https://tiles-cdn.mappedin.com/styles/mappedin/style.json"), (0, _chunkZRT45YCMJs.f)(this, "authURL", "https://auth.mappedin.com/oauth2/token"), (0, _chunkZRT45YCMJs.f)(this, "headers"), (0, _chunkZRT45YCMJs.f)(this, "customAttribution"), (0, _chunkZRT45YCMJs.f)(this, "attributionPosition"), (0, _chunkZRT45YCMJs.f)(this, "loaded", !1), (0, _chunkZRT45YCMJs.f)(this, "module"), (0, _chunkZRT45YCMJs.f)(this, "getRequestHeaders", (0, _chunkZRT45YCMJs.a)(async ()=>{
            if (this.headers) return this.headers;
            if (this.core.venue.options.accessToken) return {
                "x-mappedin-tiles-key": this.core.venue.options.accessToken
            };
            let { authURL: e } = this, t = await this.fetchToken(e), { access_token: i } = await t.json();
            return {
                "x-mappedin-tiles-key": i
            };
        }, "getRequestHeaders")), (0, _chunkZRT45YCMJs.f)(this, "lastCameraPosition"), this.core = e, this.url = (null == t ? void 0 : t.url) || this.url, this.authURL = (null == t ? void 0 : t.authURL) || this.authURL, this.headers = null == t ? void 0 : t.headers, this.attributionPosition = null == t ? void 0 : t.attributionPosition, (null == t ? void 0 : t.customAttribution) instanceof Array ? (this.customAttribution = [], null == t || t.customAttribution.forEach((e)=>{
            this.customAttribution.push((0, OM.sanitize)(e));
        })) : null != t && t.customAttribution && (this.customAttribution = (0, OM.sanitize)(t.customAttribution));
    }
    fetchToken(e) {
        return fetch(e, {
            method: "POST",
            headers: {
                "content-type": "application/json"
            },
            body: JSON.stringify({
                grant_type: "client_credentials",
                client_id: this.core.venue.options.clientId,
                client_secret: this.core.venue.options.clientSecret
            })
        });
    }
    async load() {
        this.enabled = !0;
        try {
            let [e, t] = await Promise.all([
                require("9d1903769c7848f8"),
                this.getRequestHeaders()
            ]);
            this.module = e;
            let { Map: i, Marker: n, AttributionControl: r } = this.module.default, o = document.createElement("div");
            Object.assign(o.style, {
                position: "absolute",
                top: "0px",
                left: "0px",
                width: "100%",
                height: "100%",
                pointerEvents: "none"
            }), this.core.container.appendChild(o);
            let s = this.core.referenceMap.georeference[0].target.x, a = this.core.referenceMap.georeference[0].target.y, l = this.core.referenceMap.georeference[2].target.x, h = this.core.referenceMap.georeference[2].target.y, c = new Qe(s, a), u = new Qe(l, h), d = c.midpointTo(u), p = -(0, _chunk4XLXKB34Js.L).radToDeg(this.core.controls.getRotation() + this.core.referenceMap.getNorth()), f = (0, _chunk4XLXKB34Js.L).radToDeg(this.core.controls.getTilt()), m = this.core.controls.getZoomLevel(), g = {
                canvas: this.core.renderer.domElement(),
                canvasContainer: o,
                container: this.core.container,
                style: this.url,
                center: [
                    d.lon,
                    d.lat
                ],
                zoom: m,
                bearing: p,
                pitch: f,
                attributionControl: !1,
                transformRequest: (e)=>({
                        url: e,
                        headers: t
                    })
            };
            this.map = new i(g), this._attribution = new r({
                collapse: !1,
                position: this.attributionPosition,
                customAttribution: this.customAttribution
            }), this.core.container.appendChild(this._attribution.onAdd(this.map)), this._attribution && this.hidden && this._attribution.hide(), this.map.on("error", (e)=>{
                R.error(e);
            }), this.map.transform.getElevation = ()=>this.core.controls.getPedestal() * this.core.referenceMap.scale, this.core.renderer.implementation.setOutdoorViewTexture(this.map.painter.webGLRenderTargetTexture), this.map.on("load", ()=>{
                if (this.core.tryRendering(), EX) {
                    let { x: e, y: t } = this.core.referenceMap.georeference[0].target, { x: i, y: r } = this.core.referenceMap.georeference[2].target, o = this.core.referenceMap.createCoordinate(e, t), s = this.core.referenceMap.createCoordinate(i, r);
                    this.core.markers.add(o, "!", {
                        rank: 4
                    }), this.core.markers.add(s, "!", {
                        rank: 4
                    }), (new n).setLngLat([
                        t,
                        e
                    ]).addTo(this.map), (new n).setLngLat([
                        r,
                        i
                    ]).addTo(this.map);
                }
            }), this.map.on("resize", ()=>{
                this.core.renderer.implementation.setOutdoorViewTexture(this.map.painter.webGLRenderTargetTexture);
            });
            let v = !1;
            this.map.on("render", async ()=>{
                if (v || !this.map.getLayer("building-top")) return;
                let e = [], t = [
                    [
                        a,
                        s
                    ],
                    [
                        h,
                        l
                    ]
                ].map((e)=>{
                    let { x: t, y: i } = this.map.project({
                        lat: e[1],
                        lon: e[0]
                    });
                    return [
                        t,
                        i
                    ];
                }), i = this.map.queryRenderedFeatures(t, {
                    layers: [
                        "building-top"
                    ]
                });
                for (var n of i)e.push([
                    "!=",
                    [
                        "id"
                    ],
                    n.id
                ]);
                e.length > 0 && (this.map.setFilter("building-top", [
                    "all",
                    ...e
                ]), v = !0);
            }), this.map.on("idle", ()=>{
                this.loaded || (this.loaded = !0, v = !0, this.core.publish(31)), this.core.tryRendering(Re.COMPOSITE);
            });
        } catch (e) {
            this.enabled = !1, R.error(e);
        }
    }
    get attributions() {
        return this._attribution ? this._attribution.attributions : [];
    }
    hide() {
        this.core.renderer.implementation.toggleOutdoorViewVisiblity(!1), this._attribution && this._attribution.hide(), this.core.tryRendering(Re.COMPOSITE), this.lastCameraPosition = null, this.hidden = !0;
    }
    show() {
        this.core.renderer.implementation.toggleOutdoorViewVisiblity(!0), this._attribution && this._attribution.show(), this.core.tryRendering(Re.COMPOSITE), this.hidden = !1;
    }
    resize() {
        this.enabled && null != this.map && this.map.resize();
    }
    render() {
        if (!this.enabled || null == this.map) return;
        let { lat: e, lon: t } = this.core.controls.getPositionCoordinate(), i = {
            center: {
                lat: e,
                lon: t
            },
            bearing: -(0, _chunk4XLXKB34Js.L).radToDeg(this.core.controls.getRotation() + this.core.referenceMap.getNorth()),
            pitch: (0, _chunk4XLXKB34Js.L).radToDeg(this.core.controls.getTilt()),
            zoom: this.core.controls.getZoomLevel()
        }, n = this.core.controls.getPedestal() * this.core.referenceMap.scale;
        this.lastCameraPosition && this.lastCameraPosition.center.lat === i.center.lat && this.lastCameraPosition.center.lon === i.center.lon && this.lastCameraPosition.bearing === i.bearing && this.lastCameraPosition.pitch === i.pitch && this.lastCameraPosition.zoom === i.zoom && this.lastCameraPosition.elevation === n || (this.map.jumpTo(i), this.map.triggerRepaintSync(), this.lastCameraPosition = {
            ...i,
            elevation: n
        });
    }
    setStyle(e) {
        this.map.setStyle(e), this.map.triggerRepaintSync();
    }
    setAttributionPosition(e) {
        this._attribution && this._attribution.setPosition(e);
    }
};
(0, _chunkZRT45YCMJs.a)(qM, "OutdoorViewController");
var DM = qM, LM = DM;
(0, _chunkA5C75TI6Js.a)();
var Vv, Gv, tm, NM = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.f)(this, "core"), (0, _chunkZRT45YCMJs.f)(this, "glTFExporter"), (0, _chunkZRT45YCMJs.f)(this, "getCurrentSceneGLTF", (0, _chunkZRT45YCMJs.a)(async (e)=>{
            let t = {
                onlyVisible: !0,
                binary: !0,
                scale: .05,
                ...e
            }, i = await (0, _chunkZRT45YCMJs.g)(this, Gv).call(this), n = (0, _chunkZRT45YCMJs.g)(this, Vv).call(this, t.scale);
            if (!n) return R.error("Unable to retrieve the current scene"), new Blob;
            let r = await i.parseAsync(n, {
                trs: !1,
                maxTextureSize: 1 / 0,
                onlyVisible: t.onlyVisible,
                binary: t.binary,
                scale: t.scale
            });
            if (r instanceof ArrayBuffer) return new Blob([
                r
            ], {
                type: "application/octet-stream"
            });
            {
                let e = JSON.stringify(r, null, 2);
                return new Blob([
                    e
                ], {
                    type: "text/plain"
                });
            }
        }, "getCurrentSceneGLTF")), (0, _chunkZRT45YCMJs.h)(this, Vv, (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            let i = new (0, _chunk4XLXKB34Js.oa), n = null == (t = this.core.sceneManager) ? void 0 : t.currentScene;
            if (!n) return null;
            let r = new (0, _chunk4XLXKB34Js.Ha)(16777215, 1e5, 100), o = n.currentMap.width, s = n.currentMap.height;
            r.position.y = Math.min(o, s) * e, i.add(r);
            let a = (0, _chunkZRT45YCMJs.g)(this, tm).call(this, n.object);
            return a.scale.set(e, e, e), i.add(a), a.traverse((e)=>{
                let { geometry: t, material: i, position: n, rotation: r, quaternion: o, scale: s } = e;
                if (null != t && t.isBufferGeometry && t && t.isBufferGeometry) {
                    let a = t.attributes.position, l = t.attributes.normal, h = t.attributes.uv, c = new (0, _chunk4XLXKB34Js.S), u = new (0, _chunk4XLXKB34Js.S);
                    for(let e = 0; e < a.count; e++){
                        c.fromBufferAttribute(a, e);
                        let t = c.y;
                        if (c.y = c.z, c.z = -t, a.setXYZ(e, c.x, c.y, c.z), l) {
                            u.fromBufferAttribute(l, e);
                            let t = u.y;
                            u.y = u.z, u.z = -t, l.setXYZ(e, u.x, u.y, u.z);
                        }
                    }
                    let d = n.y;
                    n.y = n.z, n.z = -d;
                    let p = s.y;
                    if (s.y = s.z, s.z = p, r instanceof (0, _chunk4XLXKB34Js.W) ? r.set(r.x, r.y, r.z, "YXZ") : o.set(o.x, o.z, -o.y, o.w), h) for(let e = 0; e < h.count; e++){
                        let t = h.getX(e), i = h.getY(e);
                        h.setXY(e, t, i);
                    }
                    null != i && i.map && "PlaneGeometry" === t.type && (e.side = (0, _chunk4XLXKB34Js.e));
                }
            }), i;
        }, "#getExportedScene")), (0, _chunkZRT45YCMJs.h)(this, Gv, (0, _chunkZRT45YCMJs.a)(async ()=>{
            if (!this.glTFExporter) {
                let { GLTFExporter: e } = await require("46b764d18178a48d");
                this.glTFExporter = new e;
            }
            return this.glTFExporter;
        }, "#getGLTFExporter")), (0, _chunkZRT45YCMJs.h)(this, tm, (0, _chunkZRT45YCMJs.a)((e)=>{
            let t = e.clone();
            if (e.geometry && (t.geometry = e.geometry.clone()), e.material && (e.material instanceof (0, _chunk4XLXKB34Js.Ea) || e.material instanceof (0, _chunk4XLXKB34Js.Da))) {
                if (Array.isArray(e.material)) t.material = e.material.map((e)=>(new (0, _chunk4XLXKB34Js.Da)).copy(e));
                else {
                    let i = new (0, _chunk4XLXKB34Js.Da);
                    t.material = i.copy(e.material);
                }
            }
            t.clear();
            for(let i = 0; i < e.children.length; i++)t.add((0, _chunkZRT45YCMJs.g)(this, tm).call(this, e.children[i]));
            return t.position.copy(e.position), t.rotation.copy(e.rotation), t.scale.copy(e.scale), t;
        }, "#cloneObject3D")), this.core = e;
    }
};
Vv = new WeakMap, Gv = new WeakMap, tm = new WeakMap, (0, _chunkZRT45YCMJs.a)(NM, "ExportController");
var oc = NM;
(0, _chunkA5C75TI6Js.a)();
var gt, pl, fl, MX = "#ff0000", wX = [
    "fill",
    "fill-opacity"
], AX = !1, kM = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, gt, void 0), (0, _chunkZRT45YCMJs.h)(this, pl, {}), (0, _chunkZRT45YCMJs.h)(this, fl, []), (0, _chunkZRT45YCMJs.i)(this, gt, e), (0, _chunkZRT45YCMJs.g)(this, gt).on(32, (e)=>{
            this.clearCache(e);
        }), (0, _chunkZRT45YCMJs.g)(this, gt).controls.dispatcher.addEventListener((0, _chunkZRT45YCMJs.g)(this, gt).controls.CAMERA_EVENTS.CHANGE_EVENT.type, ()=>this.runInterpolations()), (0, _chunkZRT45YCMJs.g)(this, gt).on(7, ()=>this.runInterpolations());
    }
    clearCache(e) {
        (0, _chunkZRT45YCMJs.g)(this, pl)[e.id] = void 0;
    }
    showLayers(e) {
        if (!(0, _chunkZRT45YCMJs.g)(this, gt).currentMap) return;
        let t = (0, _chunkZRT45YCMJs.g)(this, gt).mapObjects.get((0, _chunkZRT45YCMJs.g)(this, gt).currentMap);
        null != t && (t.renderLayerGroup(e, []), (0, _chunkZRT45YCMJs.g)(this, gt).publish(32, t.mapClass), (0, _chunkZRT45YCMJs.g)(this, gt).tryRendering());
    }
    async getAllLayersForMap(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, gt).mapObjects.get(e.id);
        return t ? (await t.load(), this.processMapObjectLayers(t)) : {};
    }
    processMapObjectLayers(e) {
        let t = Array.from(e.loadedLayerNames), i = {};
        return t.forEach((e)=>{
            i[e] = !1;
        }), e.layerGroups.forEach((e)=>{
            e.isVisible && e.layers.forEach((e)=>{
                i[e] = !0;
            });
        }), i;
    }
    getVisibleLayersForLoadedMap(e) {
        if (!(0, _chunkZRT45YCMJs.g)(this, gt).currentMap) return [];
        if ((0, _chunkZRT45YCMJs.g)(this, pl)[e.id]) return (0, _chunkZRT45YCMJs.g)(this, pl)[e.id];
        let t = (0, _chunkZRT45YCMJs.g)(this, gt).mapObjects.get(e.id), i = [], n = this.processMapObjectLayers(t);
        for(let e in n)n[e] && i.push(e);
        return (0, _chunkZRT45YCMJs.g)(this, pl)[e.id] = i, i;
    }
    runInterpolations() {
        let e = (0, _chunkZRT45YCMJs.g)(this, gt).controls.getZoomLevel();
        (0, _chunkZRT45YCMJs.g)(this, gt).mapObjects.forEach((t)=>{
            t.layerGroups.forEach((t)=>{
                if (null != t.interpolationFn) {
                    let i = t.interpolationFn(e);
                    t.setOpacity(i), t.isVisible = 1 === i;
                }
            });
        });
    }
    async addGeoJSONLayer(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, gt).mapObjects.get((0, _chunkZRT45YCMJs.g)(this, gt).currentMap);
        if (null != i && i.mapClass && null != (await this.getAllLayersForMap(null == i ? void 0 : i.mapClass))[e]) return R.error('"'.concat(e, '" layer already exists, not adding')), Promise.resolve();
        if ("FeatureCollection" === t.type) {
            let n = [];
            for (let i of t.features){
                let t = this.convertFeatureToElement(e, i);
                await t.load(), n.push(t);
            }
            let r = null == i ? void 0 : i.processLayerGroup(e, [
                e
            ], [], !0, n);
            null == i || i.object.add(null == r ? void 0 : r.mergedObjectsGroup), (0, _chunkZRT45YCMJs.g)(this, gt).tryRendering();
        } else {
            let n = this.convertFeatureToElement(e, t);
            await n.load();
            let r = null == i ? void 0 : i.processLayerGroup(e, [
                e
            ], [], !0, [
                n
            ]);
            null == i || i.object.add(null == r ? void 0 : r.mergedObjectsGroup), (0, _chunkZRT45YCMJs.g)(this, gt).tryRendering();
        }
        (0, _chunkZRT45YCMJs.g)(this, fl).push(e);
    }
    convertFeatureToElement(e, t) {
        var i, n, r, o;
        AX && Object.keys(t.properties || {}).forEach((e)=>{
            wX.includes(e) || R.warn("".concat(e, " property not supported in GeoJSON layers"));
        });
        let s = (0, _chunkZRT45YCMJs.g)(this, gt).mapObjects.get((0, _chunkZRT45YCMJs.g)(this, gt).currentMap), a = s.mapClass, l = {
            vertexes: [],
            layer: e,
            material: {
                color: null != (n = null == (i = t.properties) ? void 0 : i.fill) ? n : MX,
                opacity: null != (o = null == (r = t.properties) ? void 0 : r["fill-opacity"]) ? o : 1
            },
            geometry: {
                visible: !0,
                position: {
                    z: 1
                },
                scale: {
                    z: 0
                }
            }
        };
        for(let e = 0; e < t.geometry.coordinates[0].length; e++){
            let [i, n] = t.geometry.coordinates[0][e], r = a.createCoordinate(n, i);
            l.vertexes.push({
                x: r.x,
                y: r.y,
                lat: n,
                lon: i
            });
        }
        let c = new jo(l, a, new (0, _chunk4XLXKB34Js.la), void 0, void 0);
        return s.loadedElements.push(c), c;
    }
    async removeGeoJSONLayer(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, gt).mapObjects.get((0, _chunkZRT45YCMJs.g)(this, gt).currentMap), i = (null == t ? void 0 : t.mapClass) && await this.getAllLayersForMap(null == t ? void 0 : t.mapClass);
        return i && i[e] ? (0, _chunkZRT45YCMJs.g)(this, fl).includes(e) ? (this.showLayers(Object.keys(i).filter((t)=>t !== e && i[t])), t.loadedLayerNames = t.loadedLayerNames.filter((t)=>t !== e), (0, _chunkZRT45YCMJs.i)(this, fl, (0, _chunkZRT45YCMJs.g)(this, fl).filter((t)=>t !== e)), void (0, _chunkZRT45YCMJs.g)(this, gt).tryRendering()) : (R.error('"'.concat(e, '" is not a GeoJSON layer. Use showLayers to hide a non-GeoJSON layer without removing.')), Promise.resolve()) : (R.error('"'.concat(e, '" does not exist on current map.')), Promise.resolve());
    }
};
gt = new WeakMap, pl = new WeakMap, fl = new WeakMap, (0, _chunkZRT45YCMJs.a)(kM, "LayerController");
var RM = kM, jv = RM;
(0, _chunkA5C75TI6Js.a)();
var i_ = (0, _chunkZRT45YCMJs.e)(t_()), im = !1, CX = (0, _chunkZRT45YCMJs.a)(function({ core: e, blueDotManager: t, controller: i }) {
    var n, r, o, s;
    let a = kn.create({
        ...null == (n = null == e ? void 0 : e.venue) ? void 0 : n.options,
        testMode: !(null != (o = null == (r = null == e ? void 0 : e.venue) ? void 0 : r.options) && o.emitAnalyticsEvents),
        userPosition: {
            ...null == (s = i.userPosition) ? void 0 : s.coords
        }
    }), { stateMachine: l } = i, h = N4(e.smartCollisionEngine.update, 1e4), c = _s({
        isFollowing: !1,
        blueDotTooltips: [],
        zoomCondition: 0,
        setBlueDotPosition () {
            if (t && i.userPosition && i.userMap) {
                let e = 2 === l.state || 3 === l.state;
                t.update({
                    coordinates: i.userPosition.coords,
                    bearing: i.bearing,
                    radius: e && i.userPosition.coords.accuracy || 0,
                    mapId: i.userMap.id
                });
            }
        },
        showBlueDotBearing () {
            if (t && i.userPosition && i.userMap) {
                let e = 2 === l.state || 3 === l.state;
                t.update({
                    coordinates: i.userPosition.coords,
                    bearing: i.bearing,
                    radius: e && i.userPosition.coords.accuracy || 0,
                    mapId: i.userMap.id
                });
            }
        },
        addGhostMarkers () {
            t && i.userPosition && i.userMap && t.update({
                mode: nl.GHOST,
                coordinates: i.userPosition.coords,
                bearing: i.bearing,
                radius: i.userPosition.coords.accuracy,
                mapId: i.userMap.id
            });
        },
        addLocationUncertainMarkersAndTooltips () {
            t && i.userPosition && i.userMap && t.update({
                mode: nl.GREY,
                coordinates: i.userPosition.coords,
                radius: 0,
                mapId: i.userMap.id
            });
        },
        addBlueDotMarker () {
            t && i.userPosition && i.userMap && t.update({
                mode: nl.BLUE,
                coordinates: i.userPosition.coords,
                bearing: i.bearing,
                radius: i.userPosition.coords.accuracy,
                mapId: i.userMap.id,
                baseColor: i.enableBlueDotOptions.baseColor
            });
        },
        removeTooltips () {
            c.blueDotTooltips.forEach(e.tooltips.removeTooltip), c.blueDotTooltips = [];
        },
        removeBlueDot () {
            t.cleanup();
        },
        centerBlueDot () {
            var t, n, r, o, s;
            if (!i.userPosition) return;
            let { latitude: a, longitude: l } = i.userPosition.coords;
            (null == (t = i.userMap) ? void 0 : t.id) !== e.currentMap && null != i.userMap && e.setMapWithReason(i.userMap, "blue-dot-level-transition");
            let u = i.userMap.createCoordinate(a, l), d = e.getPositionLatLon(a, l), p = null != e.currentPath && i.enableBlueDotOptions.useRotationMode, f = e.controls.zoomFactor || 1, m = (null == (r = null == (n = e.options.loadOptions) ? void 0 : n.zoomOverrides) ? void 0 : r.blueDotFollowingZoomFactor) || 2.5, g = f * m;
            if (0 === c.zoomCondition && null != (null == (s = null == (o = e.options.loadOptions) ? void 0 : o.zoomOverrides) ? void 0 : s.blueDotFollowingZoomFactor)) {
                c.zoomCondition = 1, im = !0;
                let t = e.convertTo3DMapPosition({
                    x: u.x,
                    y: u.y
                });
                e.focusOn({
                    points: [
                        t
                    ],
                    changeZoom: !0,
                    duration: 500,
                    focusZoomFactor: g,
                    callback: ()=>{
                        c.zoomCondition = 2;
                    }
                }), im = !1;
            } else if (1 !== this.zoomCondition && p) {
                let t = i.userMap;
                if (null == t) return;
                let n = e.currentPath, r = e.camera.rotation, o = {
                    x: d.x + t.width / 2,
                    y: -d.y + t.height / 2
                }, s = null == n ? void 0 : n.filter((e)=>e.map.id === t.id);
                if (null != s && s.length) {
                    let e, i = (0, i_.default)(s, t._scale), n = Q9(i, o);
                    e = null != n && n.proportion && n.proportion > .5 ? i[n.index || 1] : i[n.index || 0], r = K9(i, e) + Math.PI;
                }
                let a = e.canvasHeight > e.canvasWidth && e.canvasHeight > 600 && e.canvasWidth > 500, l = 900, c = J9(d, r, m * e.controls.getZoomScaledMin(), a);
                e.controls.animateCamera({
                    ...c,
                    duration: l
                }), h();
            } else 1 !== this.zoomCondition && (im = !0, e.camera.focusOn({
                coordinates: [
                    u
                ]
            }, {
                changeZoom: !1,
                duration: 1e3
            }), im = !1);
        },
        endFollowing () {
            c.isFollowing = !1, c.zoomCondition = 0;
        }
    }), u = null, d = !1;
    return e.on(22, ()=>{
        !u && d && (u = setTimeout(()=>{
            c.endFollowing(), clearTimeout(u), u = null;
        }, 60));
    }), e.on(26, ()=>{
        im || c.endFollowing();
    }), e.on(27, ()=>{
        d = !0;
    }), e.on(28, ()=>{
        u && (clearTimeout(u), u = null, d = !1);
    }), e.on(18, ()=>{
        c.endFollowing();
    }), e.on("user-tilt-begin", ()=>{
        c.endFollowing();
    }), e.on(20, ()=>{
        c.endFollowing();
    }), i.on("userDataChanged", (e)=>{
        let { position: t, state: i, hasEverReceivedFloorLevel: n } = e.newValue;
        switch(i){
            case 2:
                c.removeTooltips(), c.addGhostMarkers(), t && (a.updateAnalyticsUserPosition({
                    ...t.coords
                }), a.trackBlueDotEvent(kn.BLUEDOT_EVENT.FOUND_POSITION)), c.setBlueDotPosition(), c.showBlueDotBearing();
                break;
            case 3:
                c.removeTooltips(), c.addBlueDotMarker(), t && (a.updateAnalyticsUserPosition({
                    ...t.coords
                }), n && a.trackBlueDotEvent(kn.BLUEDOT_EVENT.FOUND_FLOOR)), c.setBlueDotPosition(), c.showBlueDotBearing();
                break;
            case 4:
                c.removeTooltips(), c.addLocationUncertainMarkersAndTooltips(), c.setBlueDotPosition(), c.showBlueDotBearing();
                break;
            default:
                c.removeTooltips(), c.removeBlueDot(), a.updateAnalyticsUserPosition(void 0);
        }
        let r = !0, o = !1;
        e.oldValue && (r = !(!e.oldValue.position || !e.newValue.position || (null == t ? void 0 : t.coords.latitude) === e.oldValue.position.coords.latitude && (null == t ? void 0 : t.coords.longitude) === e.oldValue.position.coords.longitude), o = e.oldValue.map !== e.newValue.map), c.isFollowing && (r || o) && c.centerBlueDot();
    }), c;
}, "BlueDotUI"), i5 = CX;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var ml = 20, PX = 14, n_ = 8, Wv = 72, nm = 16, r_ = 12, SX = 52, IX = 4, Yv = 2, BM = 8, FM = 128, zM = 320, Qt = 8, a_ = 2, _X = 2 / (Math.sqrt(5) + 1) * 360 / 6, OX = 60, DX = 5, jM = class {
    constructor(){
        this._element = document.createElement("div"), this._titleElement = document.createElement("select"), this._minimizeElement = document.createElement("button"), this._performancePanelElement = document.createElement("div"), this._performanceEntries = new Map, this._sortedPerformanceEntryNames = [];
        let e = document.createElement("option");
        e.value = "Performance", e.innerHTML = "Performance", e.selected = "selected", this._titleElement.appendChild(e), this._titleElement.addEventListener("change", this._onCategoryChanged.bind(this)), this._overviewGraph = new Xv({
            width: zM,
            height: FM,
            seriesList: []
        }), this._controlPanels = new Map, this._sortedControlPanelNames = [], this._minimized = !1, this._element.appendChild(this._titleElement), this._element.appendChild(this._minimizeElement), this._element.appendChild(this._performancePanelElement), this._performancePanelElement.appendChild(this._overviewGraph.element), this._layout(), this._minimizeElement.addEventListener("click", this._onMinimizeClicked.bind(this)), null == window.MappedinDebug && (window.MappedinDebug = {}), window.MappedinDebug.DebugUI = this;
    }
    destroy() {
        for (let e of this._performanceEntries.values())e.destroy();
        for (let e of this._controlPanels.values())e.destroy();
        this._controlPanels = null, this._performanceEntries = null, this._element = null, this._titleElement = null, this._minimizeElement = null, this._performancePanelElement = null, this._overviewGraph = null, Object.setPrototypeOf(this, null);
    }
    get element() {
        return this._element;
    }
    reportFramePerformance(e) {
        let t = !1;
        for(let i in e){
            if (!this._performanceEntries.has(i)) {
                let e = new VM({
                    name: i
                });
                this._performanceEntries.set(i, e), this._performancePanelElement.appendChild(e.element), this._sortedPerformanceEntryNames.push(i), this._sortedPerformanceEntryNames.sort(), t = !0;
            }
            this._performanceEntries.get(i).report(e[i]);
        }
        for (let t of this._performanceEntries.keys())null == e[t] && this._performanceEntries.get(t).report(0);
        t && this._updateLayout();
        for (let e of this._performanceEntries.values())if (e.series.changed()) {
            this._overviewGraph.redraw();
            break;
        }
    }
    addDebugControls(e) {
        for(let t in e){
            for (let i of e[t]){
                let { name: e, description: n, control: r } = i;
                this._addDebugControl(t, e, n, r);
            }
            this._controlPanels.get(t)._updateLayout();
        }
        this._updateLayout();
    }
    addDebugControl(e, t, i, n) {
        this._addDebugControl(e, t, i, n), this._updateLayout(), this._controlPanels.get(e)._updateLayout();
    }
    removeDebugControls(e) {
        for(let t in e){
            for (let i of e[t])this._removeDebugControl(t, i);
            this._controlPanels.get(t)._updateLayout();
        }
        this._updateLayout();
    }
    removeDebugControl(e, t) {
        this._removeDebugControl(e, t), this._updateLayout(), this._controlPanels.get(e)._updateLayout();
    }
    _addDebugControl(e, t, i, n) {
        if (!this._controlPanels.has(e)) {
            let t = new Fv({
                name: e
            });
            this._controlPanels.set(e, t), this._element.appendChild(t.element);
            let i = document.createElement("option");
            i.value = e, i.innerHTML = e;
            let n = this._titleElement.children, r = 1;
            for(; r < n.length && !(n[r].value > e); ++r);
            r === n.length ? this._titleElement.appendChild(i) : this._titleElement.insertBefore(i, n[r]), Object.assign(t.element.style, {
                display: "hidden",
                position: "absolute",
                left: Qt + "px",
                right: Qt + "px",
                top: Qt + ml + Qt + "px"
            });
        }
        this._controlPanels.get(e).addControl(t, i, n);
    }
    _removeDebugControl(e, t) {
        this._controlPanels.get(e).removeControl(t);
    }
    _layout() {
        Object.assign(this._element.style, {
            display: "block",
            position: "absolute",
            right: n_ + "px",
            top: n_ + "px",
            width: zM + 2 * Qt + "px",
            "font-family": "sans-serif",
            background: "rgba(255, 255, 255, 0.9)",
            outline: "1px solid white"
        }), Object.assign(this._titleElement.style, {
            display: "block",
            position: "absolute",
            left: Qt + "px",
            top: Qt + "px",
            "font-size": PX + "px"
        }), Object.assign(this._minimizeElement.style, {
            display: "block",
            position: "absolute",
            right: Qt + "px",
            top: Qt + "px",
            width: 1.5 * ml + "px",
            height: ml + "px"
        }), Object.assign(this._performancePanelElement.style, {
            display: "block",
            position: "absolute",
            left: Qt + "px",
            right: Qt + "px",
            top: Qt + ml + Qt + "px"
        }), Object.assign(this._overviewGraph.element.style, {
            display: "block",
            position: "absolute",
            left: "0px",
            right: "0px",
            height: FM + "px",
            border: "1px solid white",
            outline: "1px solid #bbb"
        }), this._updateLayout();
    }
    _updateLayout() {
        let e = null;
        for (let t of this._titleElement.children){
            t.selected && (e = t);
            let i = t.selected && !this._minimized;
            "Performance" === t.value ? this._performancePanelElement.style.display = i ? "block" : "none" : this._controlPanels.get(t.value).element.style.display = i ? "block" : "none";
        }
        this._minimized ? this._element.style.height = Qt + ml + Qt + "px" : "Performance" === e.value ? this._element.style.height = Qt + ml + (Wv + BM) * this._performanceEntries.size + FM + Qt + 2 * Qt + "px" : this._element.style.height = Qt + ml + this._controlPanels.get(e.value).height + Qt + "px";
        for(let e = 0; e < this._sortedPerformanceEntryNames.length; ++e){
            let t = this._sortedPerformanceEntryNames[e], i = this._performanceEntries.get(t);
            i.setHue(e * _X), i.element.style.top = (Wv + BM) * e + "px";
        }
        this._overviewGraph.setSeriesList(this._sortedPerformanceEntryNames.map((e)=>this._performanceEntries.get(e).series)), this._overviewGraph.element.style.top = (Wv + BM) * this._performanceEntries.size + Qt + "px", this._minimizeElement.innerHTML = this._minimized ? "\u21D5" : "\u21D7";
    }
    _onMinimizeClicked() {
        this._minimized = !this._minimized, this._updateLayout();
    }
    _onCategoryChanged() {
        this._updateLayout();
    }
};
(0, _chunkZRT45YCMJs.a)(jM, "DebugUI");
var lc = jM, HM = class {
    constructor({ name: e, hue: t }){
        this._name = e, this.series = new GM({
            hue: t
        }), this._graph = new Xv({
            width: zM,
            height: SX,
            seriesList: [
                this.series
            ]
        }), this._element = document.createElement("div"), this._nameElement = document.createElement("div"), this._hueElement = document.createElement("div"), this._lastFrameTimeElement = document.createElement("div"), this._element.appendChild(this._graph.element), this._element.appendChild(this._nameElement), this._element.appendChild(this._hueElement), this._element.appendChild(this._lastFrameTimeElement), this._layout();
    }
    destroy() {
        this._element.removeChild(this._graph.element), this._element.removeChild(this._nameElement), this._element.removeChild(this._hueElement), this._element.removeChild(this._lastFrameTimeElement), this._graph.destroy(), this._element = null, this._nameElement = null, this._hueElement = null, this._lastFrameTimeElement = null;
    }
    _layout() {
        Object.assign(this._element.style, {
            display: "block",
            position: "absolute",
            left: "0px",
            right: "0px",
            height: Wv + "px"
        }), Object.assign(this._hueElement.style, {
            display: "block",
            position: "absolute",
            left: "-1px",
            top: Yv - 1 + "px",
            width: nm - 2 * Yv + "px",
            height: nm - 2 * Yv + "px",
            "background-color": rm(this.series.hue, .3, .9),
            border: "1px solid " + rm(this.series.hue, .9, .9),
            "border-radius": "2px"
        }), Object.assign(this._nameElement.style, {
            display: "block",
            position: "absolute",
            left: nm - Yv + IX + "px",
            right: "0px",
            top: "0px",
            height: nm + "px",
            "font-size": r_ + "px",
            "text-align": "left",
            "vertical-align": "middle"
        }), Object.assign(this._lastFrameTimeElement.style, {
            display: "block",
            position: "absolute",
            left: "0px",
            right: "0px",
            top: "0px",
            height: nm + "px",
            "font-size": r_ + "px",
            "text-align": "right",
            "vertical-align": "middle"
        }), Object.assign(this._graph.element.style, {
            display: "block",
            position: "absolute",
            left: "0px",
            right: "0px",
            bottom: "0px",
            "text-align": "right",
            border: "1px solid white",
            outline: "1px solid " + rm(this.series.hue, .2, 1)
        }), this._nameElement.innerHTML = this._name;
    }
    get element() {
        return this._element;
    }
    report(e) {
        if (this.series.report(e), this.series.changed()) {
            if (this.series.length >= 1) {
                let e = 0;
                for(let t = 0; t < this.series.length; ++t)e += this.series.at(t);
                let t = this.series.maximumValue();
                this._lastFrameTimeElement.innerHTML = "\u222B " + (e / this.series.length).toFixed(a_) + "ms, \u2912 " + t.toFixed(a_) + " ms";
            }
            this._graph.redraw();
        }
    }
    setHue(e) {
        this.series.hue = e, this._graph.setSeriesList([
            this.series
        ]), this._layout();
    }
};
(0, _chunkZRT45YCMJs.a)(HM, "PerformanceEntry");
var VM = HM, YM = class {
    constructor({ seriesList: e, width: t, height: i }){
        this._gradients = new Map, this._canvas = document.createElement("canvas"), this._layout(t, i), this._context = this._canvas.getContext("2d"), this.setSeriesList(e);
    }
    destroy() {
        this._gradients = null, this._canvas = null, this._context = null, Object.setPrototypeOf(this, null);
    }
    _layout(e, t) {
        Object.assign(this._canvas.style, {
            display: "block",
            position: "absolute",
            left: "0px",
            right: "0px",
            width: e + "px",
            height: t + "px"
        }), this._canvas.width = e * window.devicePixelRatio, this._canvas.height = t * window.devicePixelRatio;
    }
    get element() {
        return this._canvas;
    }
    redraw() {
        this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);
        let e = 0;
        for (let t of this._seriesList)e = Math.max(e, t.maximumValue());
        for (let t of this._seriesList)if (t.length >= 1) {
            this._context.beginPath();
            let i = 1 - (t.length - 1) / (t.windowSize - 1), n = 1 - t.at(0) / e;
            this._context.moveTo(i * this._canvas.width, n * this._canvas.height);
            for(let i = 1; i < t.length; ++i){
                let n = 1 - (t.length - 1 - i) / (t.windowSize - 1), r = 1 - t.at(i) / e;
                this._context.lineTo(n * this._canvas.width, r * this._canvas.height);
            }
            this._context.strokeStyle = this._gradients.get(t), this._context.lineWidth = window.devicePixelRatio, this._context.stroke();
        }
    }
    setSeriesList(e) {
        this._seriesList = e;
        for (let e of this._seriesList){
            let t = this._context.createLinearGradient(0, 0, 0, this._canvas.height);
            t.addColorStop(0, rm(e.hue, 1, 1)), t.addColorStop(1, rm(e.hue, .5, .5)), this._gradients.set(e, t);
        }
    }
};
(0, _chunkZRT45YCMJs.a)(YM, "LineGraph");
var Xv = YM, WM = class {
    constructor({ windowSize: e = OX, totalAccumulationCount: t = DX, hue: i = 0 }){
        this.windowSize = e, this.hue = i, this._totalAccumulationCount = t, this._ringBuffer = new Array(this.windowSize).fill(0), this._ringBufferLength = 0, this._ringBufferPointer = 0, this._accumulatorValue = 0, this._accumulatorCount = 0, this._changed = !0;
    }
    destroy() {}
    report(e) {
        this._accumulatorValue += e, ++this._accumulatorCount, this._changed = !1, this._accumulatorCount === this._totalAccumulationCount && (this._push(this._accumulatorValue / this._totalAccumulationCount), this._accumulatorValue = 0, this._accumulatorCount = 0, this._changed = !0);
    }
    at(e) {
        if (!Number.isFinite(e) || e >= this._ringBufferLength || e < 0) throw new Error("invalid index: " + e + " (length: " + this.length + ")");
        let t = (this._ringBufferPointer + e - this._ringBufferLength + this.windowSize) % this.windowSize;
        return this._ringBuffer[t];
    }
    _push(e) {
        this._ringBuffer[this._ringBufferPointer] = e, ++this._ringBufferLength, this._ringBufferLength > this.windowSize && (this._ringBufferLength = this.windowSize), ++this._ringBufferPointer, this._ringBufferPointer >= this.windowSize && (this._ringBufferPointer = 0);
    }
    maximumValue() {
        let e = 0;
        for(let t = 0; t < this._ringBufferLength; ++t)e = Math.max(e, this.at(t));
        return e;
    }
    changed() {
        return this._changed;
    }
    get length() {
        return this._ringBufferLength;
    }
};
(0, _chunkZRT45YCMJs.a)(WM, "TimeSeries");
var GM = WM;
function rm(e, t, i, n) {
    let r = e % 360 / 60, o = 0 | r, s = r - o, a = i * (1 - t), l = i * (1 - t * s), h = i * (1 - t * (1 - s)), c = 0, u = 0, d = 0;
    switch(o){
        case 0:
            c = i, u = h, d = a;
            break;
        case 1:
            c = l, u = i, d = a;
            break;
        case 2:
            c = a, u = i, d = h;
            break;
        case 3:
            c = a, u = l, d = i;
            break;
        case 4:
            c = h, u = a, d = i;
            break;
        case 5:
            c = i, u = a, d = l;
    }
    return "#" + UM(c) + UM(u) + UM(d);
}
function UM(e) {
    let t = (255 * e | 0).toString(16);
    return 1 === t.length && (t = "0" + t), t;
}
(0, _chunkZRT45YCMJs.a)(rm, "hsv2rgb"), (0, _chunkZRT45YCMJs.a)(UM, "toHex"), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)();
var LX = new (0, _chunk4XLXKB34Js.Ga), s_ = 6371e3;
function l_(e, t, i, n) {
    let r = new (0, _chunk4XLXKB34Js.R);
    return r.setFromAxisAngle(i, n), e.applyQuaternion(r), e.position.sub(t), e.position.applyQuaternion(r), e.position.add(t), e;
}
function u_(e) {
    let t = e.max.x - e.min.x, i = e.max.y - e.min.y, n = Math.max(t, i), r = new (0, _chunk4XLXKB34Js.T)(new (0, _chunk4XLXKB34Js.S), new (0, _chunk4XLXKB34Js.S)(n, n, 0)), o = new (0, _chunk4XLXKB34Js.S);
    return o.subVectors(e.getCenter(new (0, _chunk4XLXKB34Js.S)), r.getCenter(new (0, _chunk4XLXKB34Js.S))), r.translate(o), r;
}
function Zv(e, t, i, n) {
    if (0 === t) return e;
    let { lat: r, lon: o } = e, s = XM(i), a = XM(r), l = XM(o), h = t / s_ * Math.cos(s), c = l + t / s_ * Math.sin(s) / Math.cos(a), u = o_(a + h), d = o_(c);
    return n.createCoordinate(u, d);
}
function XM(e) {
    return e * Math.PI / 180;
}
function o_(e) {
    return 180 * e / Math.PI;
}
async function c_(e, t, i, n, r) {
    let o, { signal: s } = n;
    try {
        o = await (await r.fetchTile(e, t, i, s)).blob();
    } catch (e) {
        return;
    }
    try {
        let e = await createImageBitmap(o, {
            imageOrientation: "flipY",
            colorSpaceConversion: "none"
        }), t = new (0, _chunk4XLXKB34Js.ua)(e);
        return t.wrapS = (0, _chunk4XLXKB34Js.i), t.wrapT = (0, _chunk4XLXKB34Js.i), t;
    } catch  {
        return new Promise((e)=>{
            let t = URL.createObjectURL(o), i = LX.load(t, ()=>{
                i.colorSpace = (0, _chunk4XLXKB34Js.E), i.wrapS = (0, _chunk4XLXKB34Js.i), i.wrapT = (0, _chunk4XLXKB34Js.i), e(i);
            });
        });
    }
}
function h_(e) {
    return Math.sqrt(Math.pow(e, 2) + Math.pow(e, 2)) / 2;
}
(0, _chunkZRT45YCMJs.a)(l_, "rotateAroundWorldAxis"), (0, _chunkZRT45YCMJs.a)(u_, "getSquareBoundingBoxByLongestSide"), (0, _chunkZRT45YCMJs.a)(Zv, "translateCoordinate"), (0, _chunkZRT45YCMJs.a)(XM, "toRadians"), (0, _chunkZRT45YCMJs.a)(o_, "toDegrees"), (0, _chunkZRT45YCMJs.a)(c_, "loadTextureByTile"), (0, _chunkZRT45YCMJs.a)(h_, "calculateCircleRadius"), (0, _chunkA5C75TI6Js.a)();
var Ws = class {
    static MapSize(e, t) {
        return Math.ceil(t * Math.pow(2, e));
    }
    static Clip(e, t, i) {
        return Math.min(Math.max(e, t), i);
    }
    static GlobalPixelToPosition(e, t, i) {
        var n = this.MapSize(t, i), r = this.Clip(e[0], 0, n - 1) / n - .5, o = .5 - this.Clip(e[1], 0, n - 1) / n;
        return [
            360 * r,
            90 - 360 * Math.atan(Math.exp(2 * -o * Math.PI)) / Math.PI
        ];
    }
    static GroundResolution(e, t, i) {
        return e = this.Clip(e, this.MinLatitude, this.MaxLatitude), 2 * Math.cos(e * Math.PI / 180) * Math.PI * this.EarthRadius / this.MapSize(t, i);
    }
    static TileXYToBoundingBox(e, t, i, n) {
        var r = e * n, o = t * n, s = r + n, a = o + n, l = this.GlobalPixelToPosition([
            r,
            o
        ], i, n), h = this.GlobalPixelToPosition([
            s,
            a
        ], i, n);
        return [
            l[0],
            h[1],
            h[0],
            l[1]
        ];
    }
    static PositionToTileXY(e, t, i) {
        var n = this.Clip(e[1], this.MinLatitude, this.MaxLatitude), r = (this.Clip(e[0], this.MinLongitude, this.MaxLongitude) + 180) / 360, o = Math.sin(n * Math.PI / 180), s = .5 - Math.log((1 + o) / (1 - o)) / (4 * Math.PI), a = this.MapSize(t, i);
        return {
            tileX: Math.floor(this.Clip(r * a + .5, 0, a - 1) / i),
            tileY: Math.floor(this.Clip(s * a + .5, 0, a - 1) / i)
        };
    }
    static TileXYToQuadKey(e, t, i) {
        for(var n = [], r = i; r > 0; r--){
            var o = 0, s = 1 << r - 1;
            e & s && o++, t & s && (o += 2), n.push(o);
        }
        return n.join("");
    }
};
(0, _chunkZRT45YCMJs.a)(Ws, "TileMath"), (0, _chunkZRT45YCMJs.f)(Ws, "EarthRadius", 6378137), (0, _chunkZRT45YCMJs.f)(Ws, "MinLatitude", -85.05112878), (0, _chunkZRT45YCMJs.f)(Ws, "MaxLatitude", 85.05112878), (0, _chunkZRT45YCMJs.f)(Ws, "MinLongitude", -180), (0, _chunkZRT45YCMJs.f)(Ws, "MaxLongitude", 180);
var Kr, Jr, sm, Xs = Ws, ZM = class {
    constructor(e, t, i, n, r){
        (0, _chunkZRT45YCMJs.f)(this, "center"), (0, _chunkZRT45YCMJs.f)(this, "zoomLevel"), (0, _chunkZRT45YCMJs.h)(this, Kr, void 0), (0, _chunkZRT45YCMJs.h)(this, Jr, void 0), (0, _chunkZRT45YCMJs.h)(this, sm, void 0), (0, _chunkZRT45YCMJs.f)(this, "mesh"), (0, _chunkZRT45YCMJs.f)(this, "material"), (0, _chunkZRT45YCMJs.f)(this, "texture"), (0, _chunkZRT45YCMJs.f)(this, "cache", {}), (0, _chunkZRT45YCMJs.f)(this, "rendered", !1), this.center = e, this.zoomLevel = t, (0, _chunkZRT45YCMJs.i)(this, Kr, i), (0, _chunkZRT45YCMJs.i)(this, Jr, n), (0, _chunkZRT45YCMJs.i)(this, sm, r);
    }
    get tileXY() {
        if (this.cache.tileXY) return this.cache.tileXY;
        let { tileX: e, tileY: t } = Xs.PositionToTileXY([
            this.center.lon,
            this.center.lat
        ], this.zoomLevel, (0, _chunkZRT45YCMJs.g)(this, Kr).tileSize);
        return this.cache.tileXY = {
            tileX: e,
            tileY: t
        }, {
            tileX: e,
            tileY: t
        };
    }
    get tileBoundingBoxInLatLon() {
        if (this.cache.tileBoundingBoxInLatLon) return this.cache.tileBoundingBoxInLatLon;
        let { tileX: e, tileY: t } = this.tileXY, { tileSize: i } = (0, _chunkZRT45YCMJs.g)(this, Kr), n = Xs.TileXYToBoundingBox(e, t, this.zoomLevel, i);
        return this.cache.tileBoundingBoxInLatLon = n, n;
    }
    discardTexture() {
        if (1 === (0, _chunkZRT45YCMJs.g)(this, Kr).tileRenderMode) {
            this.rendered = !1, this.material.opacity = 0, this.material.map = null, this.material.needsUpdate = !0;
            try {
                this.texture.dispose();
            } catch  {}
            (0, _chunkZRT45YCMJs.g)(this, Jr).tryRendering();
        }
    }
    applyTexture() {
        if (this.rendered && 1 !== (0, _chunkZRT45YCMJs.g)(this, Kr).tileRenderMode) return;
        this.rendered = !0;
        let { tileX: e, tileY: t } = this.tileXY;
        (0, _chunkZRT45YCMJs.g)(this, Jr).taskScheduler.scheduleTask(new Tt({
            name: "fetchTile",
            callback: ()=>{
                c_(e, t, this.zoomLevel, (0, _chunkZRT45YCMJs.g)(this, sm), (0, _chunkZRT45YCMJs.g)(this, Kr).outdoorContextProvider).then((e)=>{
                    this.texture = e, this.material.map = e, jn({
                        from: {
                            opacity: 0
                        },
                        to: {
                            opacity: 1
                        },
                        duration: 500,
                        onStart: ()=>{
                            this.mesh.visible = !0;
                        },
                        onUpdate: ({ opacity: e })=>{
                            this.material.opacity = !0 === (0, _chunkZRT45YCMJs.g)(this, Kr).visible ? e : 0, this.material.needsUpdate = !0, (0, _chunkZRT45YCMJs.g)(this, Jr).tryRendering();
                        }
                    }).start((0, _chunkZRT45YCMJs.g)(this, Jr));
                });
            }
        }));
    }
    render(e, t) {
        let i = e / t.scale, n = new (0, _chunk4XLXKB34Js.ha)(i, i, 1, 1);
        this.material = new (0, _chunk4XLXKB34Js._)({
            opacity: 0,
            transparent: !0,
            stencilWrite: !0,
            stencilFunc: (0, _chunk4XLXKB34Js.I),
            stencilRef: 1
        }), this.mesh = new (0, _chunk4XLXKB34Js.ba)(n, this.material), this.mesh.visible = !1;
        let r = this.tileBoundingBoxInLatLon, o = (0, _chunkZRT45YCMJs.g)(this, Jr).referenceMap.createCoordinate(r[3], r[2]), s = (0, _chunkZRT45YCMJs.g)(this, Jr).convertTo3DMapPosition(o);
        return this.mesh.position.set(s.x - i / 2, s.y - i / 2, -1), l_(this.mesh, s, new (0, _chunk4XLXKB34Js.S)(0, 0, 1), -t.getNorth()), this.mesh;
    }
};
Kr = new WeakMap, Jr = new WeakMap, sm = new WeakMap, (0, _chunkZRT45YCMJs.a)(ZM, "Tile");
var wt, am = ZM, qX = 2, QM = ((e)=>(e[e.NORMAL = 0] = "NORMAL", e[e.AGGRESSIVE = 1] = "AGGRESSIVE", e))(QM || {}), Qv = "#f0f0f1", Xn = class e {
    constructor(t){
        var i, n, r, o;
        (0, _chunkZRT45YCMJs.f)(this, "tileSize", 256), (0, _chunkZRT45YCMJs.f)(this, "token", ""), (0, _chunkZRT45YCMJs.f)(this, "apiKey"), (0, _chunkZRT45YCMJs.f)(this, "tileRenderMode", 1), (0, _chunkZRT45YCMJs.f)(this, "currentAbortController", new AbortController), (0, _chunkZRT45YCMJs.h)(this, wt, void 0), (0, _chunkZRT45YCMJs.f)(this, "attributionEl"), (0, _chunkZRT45YCMJs.f)(this, "outdoorContextProvider"), (0, _chunkZRT45YCMJs.f)(this, "renderVisibleTiles"), (0, _chunkZRT45YCMJs.f)(this, "cachedZoomLevel", -1 / 0), (0, _chunkZRT45YCMJs.f)(this, "visible", !0), (0, _chunkZRT45YCMJs.f)(this, "zoomLevelToAltitudeMap", [
            [
                18,
                -1 / 0
            ],
            [
                17,
                800
            ],
            [
                16,
                1800
            ],
            [
                15,
                3e3
            ]
        ]), (0, _chunkZRT45YCMJs.f)(this, "plane"), (0, _chunkZRT45YCMJs.f)(this, "tiles", []), (0, _chunkZRT45YCMJs.f)(this, "maskMeshBoundingBox"), (0, _chunkZRT45YCMJs.i)(this, wt, t), this.renderVisibleTiles = mn(this._renderVisibleTiles, 32), e.ENABLED && null !== (null == (i = e.OPTIONS) ? void 0 : i.provider) && (this.outdoorContextProvider = null == (n = e.OPTIONS) ? void 0 : n.provider, this.tileRenderMode = null != (o = null == (r = e.OPTIONS) ? void 0 : r.tileRenderMode) ? o : this.tileRenderMode, (0, _chunkZRT45YCMJs.g)(this, wt).camera.on("CHANGED", ()=>{
            this.fetchTiles(), this.renderVisibleTiles();
        }), (0, _chunkZRT45YCMJs.g)(this, wt).on(7, ()=>{
            this.fetchTiles(), this.renderVisibleTiles();
        }));
    }
    createAttributionEl() {
        this.attributionEl = document.createElement("div"), Object.assign(this.attributionEl.style, {
            position: "absolute",
            bottom: 0,
            right: 0,
            padding: "2px",
            pointerEvents: "none"
        }), (0, _chunkZRT45YCMJs.g)(this, wt).container.append(this.attributionEl);
    }
    _renderVisibleTiles() {
        let e = (0, _chunkZRT45YCMJs.g)(this, wt).cameraObject, t = new (0, _chunk4XLXKB34Js.ga);
        t.setFromProjectionMatrix((new (0, _chunk4XLXKB34Js.V)).multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse));
        for (let e of this.tiles){
            let i = e.mesh, n = i.geometry.attributes.position.array, r = [
                i.localToWorld(new (0, _chunk4XLXKB34Js.S)(n[0], n[1], n[2])),
                i.localToWorld(new (0, _chunk4XLXKB34Js.S)(n[3], n[4], n[5])),
                i.localToWorld(new (0, _chunk4XLXKB34Js.S)(n[6], n[7], n[8])),
                i.localToWorld(new (0, _chunk4XLXKB34Js.S)(n[9], n[10], n[11]))
            ], o = !1;
            for(let n = 0; n < 4; n++)if ((t.containsPoint(r[n]) || t.intersectsObject(i)) && (o = !0, !e.rendered)) {
                e.applyTexture();
                break;
            }
            e.rendered && !o && e.discardTexture();
        }
    }
    fadeOut() {
        return e.ENABLED && this.visible ? jn({
            from: {
                opacity: 1
            },
            to: {
                opacity: 0
            },
            onUpdate: ({ opacity: e })=>{
                this.plane.children.forEach((t)=>{
                    t.material.opacity = e, t.material.needsUpdate = !0, (0, _chunkZRT45YCMJs.g)(this, wt).tryRendering();
                });
            },
            onComplete: ()=>{
                this.visible = !1, this.plane.visible = !1, (0, _chunkZRT45YCMJs.g)(this, wt).tryRendering();
            }
        }).start((0, _chunkZRT45YCMJs.g)(this, wt)) : Promise.resolve();
    }
    fadeIn() {
        return !e.ENABLED || this.visible ? Promise.resolve() : jn({
            from: {
                opacity: 0
            },
            to: {
                opacity: 1
            },
            onStart: ()=>{
                this.plane.visible = !0, (0, _chunkZRT45YCMJs.g)(this, wt).tryRendering();
            },
            onUpdate: ({ opacity: e })=>{
                this.plane.children.forEach((t)=>{
                    t.material.opacity = e, t.material.needsUpdate = !0, (0, _chunkZRT45YCMJs.g)(this, wt).tryRendering();
                });
            },
            onComplete: ()=>{
                this.visible = !0;
            }
        }).start((0, _chunkZRT45YCMJs.g)(this, wt));
    }
    fetchTiles() {
        let e = (0, _chunkZRT45YCMJs.g)(this, wt).controls.getZoom() * (0, _chunkZRT45YCMJs.g)(this, wt).referenceMap.scale, t = -1 / 0;
        this.zoomLevelToAltitudeMap.forEach(([i, n])=>{
            e > n && (t = i);
        }), t !== this.cachedZoomLevel && (this.currentAbortController.signal.aborted || (this.currentAbortController.abort(), this.currentAbortController = new AbortController), this.fetchTilesForZoomLevel(t));
    }
    async fetchTilesForZoomLevel(t) {
        var i, n;
        this.plane && (this.tiles = [], (0, _chunkZRT45YCMJs.g)(this, wt).scene.remove(this.plane), this.plane.destroy(), (0, _chunkZRT45YCMJs.g)(this, wt).tryRendering()), this.cachedZoomLevel = t, this.plane = new (0, _chunk4XLXKB34Js.la);
        let r = (0, _chunkZRT45YCMJs.g)(this, wt).referenceMap, o = (0, _chunkZRT45YCMJs.g)(this, wt).mapObjects.get(r.id);
        await o.load();
        let s = o.boundingBox, a = f7(u_(new (0, _chunk4XLXKB34Js.T)(new (0, _chunk4XLXKB34Js.S)(s.min.x, s.min.y, s.min.z), new (0, _chunk4XLXKB34Js.S)(s.max.x, s.max.y, s.max.z))), null != (n = null == (i = e.OPTIONS) ? void 0 : i.boundingBoxMultiplier) ? n : qX), { min: l, max: c } = a, u = new (0, _chunk4XLXKB34Js.ha)(c.x - l.x, c.y - l.y), d = new (0, _chunk4XLXKB34Js._)({
            color: Qv,
            stencilWrite: !0,
            stencilRef: 1,
            depthWrite: !1,
            stencilFunc: (0, _chunk4XLXKB34Js.J),
            stencilFail: (0, _chunk4XLXKB34Js.H),
            stencilZFail: (0, _chunk4XLXKB34Js.H),
            stencilZPass: (0, _chunk4XLXKB34Js.H)
        }), p = new (0, _chunk4XLXKB34Js.ba)(u, d);
        p.renderOrder = -1, p.applyMatrix4(o.object.matrix), this.maskMeshBoundingBox = (new (0, _chunk4XLXKB34Js.T)).setFromObject(p), this.maskMeshBoundingBox.min.z = -100, this.maskMeshBoundingBox.max.z = 100, this.plane.add(p);
        let f = new (0, _chunk4XLXKB34Js.S)(a.min.x, a.min.y, 0), m = new (0, _chunk4XLXKB34Js.S)(a.max.x, a.max.y, 0);
        if ("function" == typeof this.outdoorContextProvider.fetchAttribution) {
            null == this.attributionEl && this.createAttributionEl();
            let e = (0, _chunkZRT45YCMJs.g)(this, wt).convert3DMapPositionToCoordinate(f), i = (0, _chunkZRT45YCMJs.g)(this, wt).convert3DMapPositionToCoordinate(m);
            this.outdoorContextProvider.fetchAttribution(t, [
                i.lon,
                i.lat,
                e.lon,
                e.lat
            ]).then((e)=>e.json()).then(({ copyrights: e })=>{
                this.attributionEl.innerHTML = e[0];
            }).catch((e)=>R.error(e));
        }
        let g = a.getCenter(new (0, _chunk4XLXKB34Js.S)), v = (0, _chunkZRT45YCMJs.g)(this, wt).convert3DMapPositionToCoordinate(g, r), y = Xs.GroundResolution(v.lat, t, this.tileSize), b = this.tileSize * y, w = new am(v, t, this, (0, _chunkZRT45YCMJs.g)(this, wt), this.currentAbortController);
        w.render(b, r), this.plane.add(w.mesh), this.tiles.push(w);
        let A = h_(a.max.x - a.min.x), x = b / r.scale, E = Math.ceil(A / x);
        for(let e = 1; e <= E; e++)this.populateLayer(e, v, t, b, r);
        (0, _chunkZRT45YCMJs.g)(this, wt).scene.add(this.plane);
    }
    populateLayer(e = 1, t, i, n, r) {
        let o = Zv(t, n * e, 0, r);
        o = Zv(o, n * e, 270, r);
        let s = 2 * e + 1, a = o, l = [
            90,
            180,
            270,
            0
        ];
        for (let e of l)for(let t = 0; t < s - 1; t++){
            let t = new am(a, i, this, (0, _chunkZRT45YCMJs.g)(this, wt), this.currentAbortController);
            t.render(n, r), this.checkIfTileIsInBoundingBox(t) && (this.plane.add(t.mesh), this.tiles.push(t)), a = Zv(a, n, e, r);
        }
    }
    checkIfTileIsInBoundingBox(e) {
        let t = (new (0, _chunk4XLXKB34Js.T)).setFromObject(e.mesh);
        return this.maskMeshBoundingBox.intersectsBox(t) || this.maskMeshBoundingBox.containsBox(t);
    }
};
wt = new WeakMap, (0, _chunkZRT45YCMJs.a)(Xn, "TileManager"), (0, _chunkZRT45YCMJs.f)(Xn, "ENABLED", !1), (0, _chunkZRT45YCMJs.f)(Xn, "OPTIONS");
var Qa = Xn;
(0, _chunkA5C75TI6Js.a)(), (0, _chunkA5C75TI6Js.a)(), "object" != typeof globalThis && (Object.defineProperty(Object.prototype, "__magic__", {
    get: function() {
        return this;
    },
    configurable: !0
}), __magic__.globalThis = __magic__, delete Object.prototype.__magic__);
var d_ = (0, _chunkZRT45YCMJs.e)(Vr());
(0, _chunkA5C75TI6Js.a)(), (0, _chunk4XLXKB34Js.X).prototype.destroy = function() {
    for(let e = this.children.length - 1; e >= 0; e--)this.children[e].destroy();
    this.geometry && (this.geometry.dispose(), this.geometry = void 0), this.parent && this.parent.remove(this), this.texture && (this.texture.dispose(), this.texture = void 0), Array.isArray(this.material) ? this.material.forEach(function(e) {
        Os(e);
    }) : typeof this.material < "u" && Os(this.material), this.material = void 0;
};
var wi = new (0, _chunk4XLXKB34Js.Oa), NX = {}, wn = {
    BEFORE_CAMERA: 5,
    CAMERA: 4,
    AFTER_CAMERA: 3,
    RENDER: 2,
    AFTER_RENDER: 1,
    AFTER_ALL_UPDATES: 0
}, RX = (0, _chunk4XLXKB34Js.L).radToDeg(.698132);
NX.CameraControls = zv;
var gl, uc, cc, hc, Zs, Ka, Qs, Ai, Kv, vl, dc, Ks, om, lm, yl, um, cm, hm, dm, pm, fm, mm, Js, gm, Ja, $r, pc, vm, ym, bm, fc, bl, xm, xl, Tl, vr, yr, Jv, mc, $s, $v, e2, t2, i2, Tm, Em, JM = class extends zi {
    constructor(e, t, i = {}, n){
        var r, o, s, a, c, u, d, f, m, g, v;
        super(), (0, _chunkZRT45YCMJs.f)(this, "eventSystem"), (0, _chunkZRT45YCMJs.f)(this, "floatingLabels"), (0, _chunkZRT45YCMJs.f)(this, "flatLabels"), (0, _chunkZRT45YCMJs.f)(this, "paths"), (0, _chunkZRT45YCMJs.f)(this, "polygonColors"), (0, _chunkZRT45YCMJs.f)(this, "polygonHoverColors"), (0, _chunkZRT45YCMJs.f)(this, "polygonInteraction"), (0, _chunkZRT45YCMJs.f)(this, "polygonStates"), (0, _chunkZRT45YCMJs.f)(this, "polygonImages"), (0, _chunkZRT45YCMJs.f)(this, "markers"), (0, _chunkZRT45YCMJs.f)(this, "tooltips"), (0, _chunkZRT45YCMJs.f)(this, "threeDMarkers"), (0, _chunkZRT45YCMJs.f)(this, "blueDot"), (0, _chunkZRT45YCMJs.f)(this, "camera"), (0, _chunkZRT45YCMJs.f)(this, "outdoorViewController"), (0, _chunkZRT45YCMJs.f)(this, "exportController"), (0, _chunkZRT45YCMJs.f)(this, "watermark"), (0, _chunkZRT45YCMJs.f)(this, "layerController"), (0, _chunkZRT45YCMJs.f)(this, "options"), (0, _chunkZRT45YCMJs.f)(this, "currentPath"), (0, _chunkZRT45YCMJs.f)(this, "state", "explore"), (0, _chunkZRT45YCMJs.f)(this, "imageFlippingCache", {}), (0, _chunkZRT45YCMJs.f)(this, "imageFlippingEnabled", !1), (0, _chunkZRT45YCMJs.f)(this, "MapView"), (0, _chunkZRT45YCMJs.f)(this, "type"), (0, _chunkZRT45YCMJs.f)(this, "container"), (0, _chunkZRT45YCMJs.f)(this, "venue"), (0, _chunkZRT45YCMJs.f)(this, "colors"), (0, _chunkZRT45YCMJs.f)(this, "loadOptions"), (0, _chunkZRT45YCMJs.f)(this, "smartCollisionEngine"), (0, _chunkZRT45YCMJs.f)(this, "taskScheduler"), (0, _chunkZRT45YCMJs.f)(this, "renderer"), (0, _chunkZRT45YCMJs.f)(this, "highlightedPolygons", {}), (0, _chunkZRT45YCMJs.f)(this, "outlinedPolygons", new Map), (0, _chunkZRT45YCMJs.f)(this, "scene"), (0, _chunkZRT45YCMJs.f)(this, "focusZoomFactor"), (0, _chunkZRT45YCMJs.f)(this, "cameraObject"), (0, _chunkZRT45YCMJs.f)(this, "polygonMeshesById"), (0, _chunkZRT45YCMJs.f)(this, "textLabelsByPolygonId"), (0, _chunkZRT45YCMJs.f)(this, "labelOrientationDelay"), (0, _chunkZRT45YCMJs.f)(this, "isWebGL2"), (0, _chunkZRT45YCMJs.f)(this, "interactivePolygons"), (0, _chunkZRT45YCMJs.f)(this, "polygonHoverColorsById"), (0, _chunkZRT45YCMJs.f)(this, "mapManager"), (0, _chunkZRT45YCMJs.f)(this, "sceneManager"), (0, _chunkZRT45YCMJs.f)(this, "mapObjects"), (0, _chunkZRT45YCMJs.f)(this, "referenceMap"), (0, _chunkZRT45YCMJs.f)(this, "currentInteractionEvent"), (0, _chunkZRT45YCMJs.f)(this, "resolution"), (0, _chunkZRT45YCMJs.f)(this, "cameraParameters"), (0, _chunkZRT45YCMJs.f)(this, "controls"), (0, _chunkZRT45YCMJs.f)(this, "worldPlane"), (0, _chunkZRT45YCMJs.f)(this, "canvasWidth"), (0, _chunkZRT45YCMJs.f)(this, "canvasHeight"), (0, _chunkZRT45YCMJs.f)(this, "cachedPadding", {
            top: 0,
            left: 0,
            right: 0,
            bottom: 0
        }), (0, _chunkZRT45YCMJs.f)(this, "currentScale", 0), (0, _chunkZRT45YCMJs.f)(this, "rendererDomElement"), (0, _chunkZRT45YCMJs.f)(this, "resolutionScale"), (0, _chunkZRT45YCMJs.h)(this, gl, void 0), (0, _chunkZRT45YCMJs.h)(this, uc, void 0), (0, _chunkZRT45YCMJs.h)(this, cc, void 0), (0, _chunkZRT45YCMJs.h)(this, hc, void 0), (0, _chunkZRT45YCMJs.h)(this, Zs, void 0), (0, _chunkZRT45YCMJs.h)(this, Ka, void 0), (0, _chunkZRT45YCMJs.h)(this, Qs, void 0), (0, _chunkZRT45YCMJs.h)(this, Ai, null), (0, _chunkZRT45YCMJs.h)(this, Kv, [
            "top",
            "bottom",
            "left",
            "right"
        ]), (0, _chunkZRT45YCMJs.h)(this, vl, {
            PIXELS: "pixels",
            PORTIONS: "portions"
        }), (0, _chunkZRT45YCMJs.h)(this, dc, void 0), (0, _chunkZRT45YCMJs.h)(this, Ks, void 0), (0, _chunkZRT45YCMJs.h)(this, om, void 0), (0, _chunkZRT45YCMJs.h)(this, lm, void 0), (0, _chunkZRT45YCMJs.h)(this, yl, void 0), (0, _chunkZRT45YCMJs.h)(this, um, void 0), (0, _chunkZRT45YCMJs.h)(this, cm, void 0), (0, _chunkZRT45YCMJs.h)(this, hm, void 0), (0, _chunkZRT45YCMJs.h)(this, dm, void 0), (0, _chunkZRT45YCMJs.h)(this, pm, void 0), (0, _chunkZRT45YCMJs.h)(this, fm, void 0), (0, _chunkZRT45YCMJs.h)(this, mm, void 0), (0, _chunkZRT45YCMJs.h)(this, Js, void 0), (0, _chunkZRT45YCMJs.h)(this, gm, void 0), (0, _chunkZRT45YCMJs.h)(this, Ja, !1), (0, _chunkZRT45YCMJs.h)(this, $r, void 0), (0, _chunkZRT45YCMJs.h)(this, pc, void 0), (0, _chunkZRT45YCMJs.f)(this, "performanceController"), (0, _chunkZRT45YCMJs.f)(this, "outdoorGeometryLayers", []), (0, _chunkZRT45YCMJs.f)(this, "billboardManager"), (0, _chunkZRT45YCMJs.f)(this, "stackedMaps"), (0, _chunkZRT45YCMJs.f)(this, "tileManager"), (0, _chunkZRT45YCMJs.f)(this, "setMapReason"), (0, _chunkZRT45YCMJs.h)(this, vm, (0, _chunkZRT45YCMJs.a)((e = !0)=>{
            (0, _chunkZRT45YCMJs.i)(this, Ja, e);
        }, "#setFlippablesNeedUpdating")), (0, _chunkZRT45YCMJs.h)(this, ym, (0, _chunkZRT45YCMJs.a)(()=>{
            this.smartCollisionEngine.init(this.container, (0, _chunkZRT45YCMJs.g)(this, Jv));
        }, "#initializeCollisionEngine")), (0, _chunkZRT45YCMJs.h)(this, bm, (0, _chunkZRT45YCMJs.a)((e)=>Math.trunc(100 * e) / 100, "#round100")), (0, _chunkZRT45YCMJs.h)(this, fc, (0, _chunkZRT45YCMJs.a)(()=>{
            var e, t;
            this.canvasWidth = this.rendererDomElement.clientWidth, this.canvasHeight = this.rendererDomElement.clientHeight, (0, _chunkZRT45YCMJs.g)(this, $s).call(this), null != this.outdoorViewController && this.outdoorViewController.resize(), (0, _chunkZRT45YCMJs.g)(this, bl).call(this), this.smartCollisionEngine.resize(this.container), "function" == typeof (null == (t = null == (e = this.sceneManager) ? void 0 : e.currentScene) ? void 0 : t.resize) && this.sceneManager.currentScene.resize(), this.watermark.resize();
        }, "#onWindowResize")), (0, _chunkZRT45YCMJs.h)(this, bl, (0, _chunkZRT45YCMJs.a)(()=>{
            this.renderer.render(Re.ALL, null, this.scene, this.cameraObject);
        }, "#renderFull")), (0, _chunkZRT45YCMJs.h)(this, xm, (0, _chunkZRT45YCMJs.a)((e, t)=>{
            e.style.transform = "rotate(" + (t + e._mRotationOffset) + "rad)";
        }, "#rotateNode")), (0, _chunkZRT45YCMJs.h)(this, xl, (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.i)(this, Zs, !0), (0, _chunkZRT45YCMJs.i)(this, Ja, !0);
        }, "#cameraRotationStarted")), (0, _chunkZRT45YCMJs.h)(this, Tl, (0, _chunkZRT45YCMJs.a)(()=>{
            (0, _chunkZRT45YCMJs.i)(this, Zs, !1), (0, _chunkZRT45YCMJs.i)(this, Ja, !0);
        }, "#cameraRotationStopped")), (0, _chunkZRT45YCMJs.h)(this, vr, (0, _chunkZRT45YCMJs.a)(()=>{}, "#cameraMovementStart")), (0, _chunkZRT45YCMJs.h)(this, yr, (0, _chunkZRT45YCMJs.a)(()=>{}, "#cameraMovementEnd")), (0, _chunkZRT45YCMJs.h)(this, Jv, (0, _chunkZRT45YCMJs.a)((e, t)=>{
            this.cameraObject.updateProjectionMatrix(), this.cameraObject.updateMatrixWorld(!0);
            let i = this.mapObjects.get(t);
            if (null == i) return {
                x: 0,
                y: 0
            };
            let n = this.convertTo3DMapPosition(e.nodeOrCoordinate);
            typeof e.height < "u" && (n.z += e.height * i.object.scale.x);
            let r = n.project(this.cameraObject), o = (r.x + 1) / 2 * this.canvasWidth - 0, s = (1 - r.y) / 2 * this.canvasHeight - 0;
            return {
                x: (0, _chunkZRT45YCMJs.g)(this, bm).call(this, o),
                y: (0, _chunkZRT45YCMJs.g)(this, bm).call(this, s)
            };
        }, "#project")), (0, _chunkZRT45YCMJs.h)(this, mc, (0, _chunkZRT45YCMJs.a)((e, t)=>{
            this.renderer.setBufferSize(e, t), this.cameraObject.aspect = e / t, this.cameraObject.updateProjectionMatrix(), this.cameraObject.updateMatrixWorld(!0), this.resolution.x = e, this.resolution.y = t;
        }, "#setBufferSize")), (0, _chunkZRT45YCMJs.h)(this, $s, (0, _chunkZRT45YCMJs.a)(()=>{
            let e = this.canvasWidth = this.rendererDomElement.clientWidth, t = this.canvasHeight = this.rendererDomElement.clientHeight, i = Math.floor(e * this.resolutionScale), n = Math.floor(t * this.resolutionScale);
            if (this.rendererDomElement.width !== i || this.rendererDomElement.height !== n) {
                if (this.rendererDomElement.width * this.rendererDomElement.height * i * n != 0) {
                    let e = this.rendererDomElement.width !== i ? this.rendererDomElement.width / i : this.rendererDomElement.height / n;
                    this.controls.setZoom(e * this.controls.getZoom());
                }
                (0, _chunkZRT45YCMJs.g)(this, mc).call(this, i, n);
            }
            (0, _chunkZRT45YCMJs.i)(this, Js, !1);
        }, "#measureCanvas")), (0, _chunkZRT45YCMJs.h)(this, $v, (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            let t = (0, _chunkZRT45YCMJs.g)(this, $r).rotation.z;
            if ((0, _chunkZRT45YCMJs.g)(this, Zs) || (0, _chunkZRT45YCMJs.g)(this, Ja)) {
                let i = null == (e = this.sceneManager) ? void 0 : e.currentScene.mapObjects;
                null == i || i.forEach((e)=>{
                    let i = t - e.object.rotation.z;
                    e.imagesToFlip.forEach((e)=>e.flipIfNeeded(i));
                });
            }
        }, "#rotateTextLabels")), (0, _chunkZRT45YCMJs.h)(this, e2, (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            let t = (0, _chunkZRT45YCMJs.g)(this, $r).rotation.z;
            if ((0, _chunkZRT45YCMJs.g)(this, Zs) || (0, _chunkZRT45YCMJs.g)(this, Ja)) {
                let i = null == (e = this.sceneManager) ? void 0 : e.currentScene.mapObjects;
                null == i || i.forEach((e)=>{
                    let i = t - e.object.rotation.z;
                    e.imagesToFlip.forEach((e)=>e.flipIfNeeded(i));
                });
            }
        }, "#rotateImages")), (0, _chunkZRT45YCMJs.h)(this, t2, (0, _chunkZRT45YCMJs.a)((e)=>{
            e.addDebugControls({
                MapView3D: [
                    {
                        name: "Background Color",
                        description: "The color of the mapview background. Will be obscured if there is a fully-opaque outdoor context.",
                        control: new Jf({
                            current: new (0, _chunk4XLXKB34Js.Y)("#ffffff"),
                            onValueChanged: (e)=>{
                                this.renderer.setBackgroundColor(e, this.renderer.backgroundAlpha), this.tryRendering();
                            }
                        })
                    },
                    {
                        name: "Background Opacity",
                        description: "The opacity of the mapview background. Will be obscured if there is a fully-opaque outdoor context.",
                        control: new Kf({
                            minimum: 0,
                            maximum: 1,
                            step: .01,
                            current: this.renderer.backgroundAlpha,
                            onValueChanged: (e)=>{
                                this.renderer.setBackgroundColor(this.renderer.backgroundColor, e), this.tryRendering();
                            }
                        })
                    }
                ]
            });
        }, "#addDebugControls")), (0, _chunkZRT45YCMJs.h)(this, i2, (0, _chunkZRT45YCMJs.a)((e)=>{
            e.removeDebugControls({
                MapView3D: [
                    "Background Color",
                    "Background Opacity"
                ]
            });
        }, "#removeDebugControls")), (0, _chunkZRT45YCMJs.h)(this, Tm, (0, _chunkZRT45YCMJs.a)((e, t)=>wi.intersectObjects(e, !0).filter((e)=>!!e.object.name && (t && this.venue._polygonsById ? e.object.name in this.venue._polygonsById : e.object.name in this.interactivePolygons)).map((e)=>this.venue._polygonsById[e.object.name]) || [], "#getPolygonsFromRaycaster")), (0, _chunkZRT45YCMJs.h)(this, Em, (0, _chunkZRT45YCMJs.a)(()=>{
            this.tryRendering();
        }, "#onCameraChange")), (0, _chunkZRT45YCMJs.f)(this, "getPolygon", (0, _chunkZRT45YCMJs.a)((e)=>Mn(e, this.venue.polygons), "getPolygon")), (0, _chunkZRT45YCMJs.f)(this, "showEntireMap", (0, _chunkZRT45YCMJs.a)((e)=>{
            if (null == this.currentMap) return;
            e || (e = {});
            let t, i = this.mapObjects.get(this.currentMap);
            return e.interactiveOnly ? t = Object.keys(this.interactivePolygons) : (t = null == i ? void 0 : i.hoverableMeshChildren.map(function(e) {
                return e.name;
            }), !t.length && null != i && i.elements && (t = Object.keys(i.elements))), e.polygons = t, this.focusOn(e);
        }, "showEntireMap")), (0, _chunkZRT45YCMJs.f)(this, "resetPanBounds", (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            if (null == this.currentMap) return;
            let t = this.mapObjects.get(this.currentMap);
            this.controls.panBounds.min = this.controls.getPosition(), this.controls.panBounds.max = this.controls.getPosition();
            let i = null == t ? void 0 : t.boundingBox;
            i || (i = (new (0, _chunk4XLXKB34Js.T)).setFromObject(null == t ? void 0 : t.object), this.mapObjects.get(this.currentMap).boundingBox = i), null == (e = this.mapManager) || e.expandPanBounds(i);
        }, "resetPanBounds")), (0, _chunkZRT45YCMJs.f)(this, "focusOn", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t, i;
            if (null == this.currentMap || null == e) return;
            let n, r = void 0 === e.changeZoom || e.changeZoom;
            n = void 0 !== e.duration ? e.duration : "true" === (0, _chunkA5C75TI6Js.b).env.TESTING ? 0 : 200;
            let o = void 0 !== e.focusZoomFactor ? e.focusZoomFactor : this.focusZoomFactor, s = e.curve, a = void 0 !== e.horizontalFovFactor ? e.horizontalFovFactor : 1, l = void 0 !== e.verticalFovFactor ? e.verticalFovFactor : 1, c = e.callback, u = e.cancelledCallback, d = void 0 !== e.minZoom ? e.minZoom : this.controls.minZoom, p = void 0 !== e.maxZoom ? e.maxZoom : this.controls.maxZoom, f = null == (t = e.updateZoomLimits) || t, m = !1, g = [], v = null != (i = e.doNotEmitFocusOnEvent) && i;
            if ((0, _chunkZRT45YCMJs.g)(this, $s).call(this), e.nodes) {
                let t = e.nodes;
                for(var y = 0, b = t.length; y < b; y++){
                    let e = t[y];
                    "string" == typeof e && (e = Mn(e, this.venue.nodes)), (null == e.map || e.map.id == this.currentMap) && (g.push(this.convertTo3DMapPosition(e)), m = !0);
                }
            }
            if (e.debug) {
                (0, _chunkZRT45YCMJs.g)(this, Qs) && (0, _chunkZRT45YCMJs.g)(this, Qs).destroy(), (0, _chunkZRT45YCMJs.i)(this, Qs, new (0, _chunk4XLXKB34Js.X)), this.scene.add((0, _chunkZRT45YCMJs.g)(this, Qs));
                var w = new (0, _chunk4XLXKB34Js.ca)(100, 100, 100), A = new (0, _chunk4XLXKB34Js._)({
                    color: 65280
                });
            }
            e.points && (e.points.forEach((e)=>g.push(e)), m = !0);
            let x = this.controls.getRotation(), E = this.controls.getTilt();
            if (this.controls.setRotation(e.rotation, !0), this.controls.setTilt(e.tilt, !0), e.boundingBox) {
                let { min: t, max: i } = e.boundingBox;
                [
                    new (0, _chunk4XLXKB34Js.S)(t.x, t.y, t.z),
                    new (0, _chunk4XLXKB34Js.S)(t.x, i.y, t.z),
                    new (0, _chunk4XLXKB34Js.S)(i.x, t.y, t.z),
                    new (0, _chunk4XLXKB34Js.S)(i.x, i.y, t.z),
                    new (0, _chunk4XLXKB34Js.S)(t.x, t.y, i.z),
                    new (0, _chunk4XLXKB34Js.S)(t.x, i.y, i.z),
                    new (0, _chunk4XLXKB34Js.S)(i.x, t.y, i.z),
                    new (0, _chunk4XLXKB34Js.S)(i.x, i.y, i.z)
                ].forEach((t)=>{
                    if (e.debug) {
                        let e = new (0, _chunk4XLXKB34Js.ba)(w, A);
                        e.position.set(t.x, t.y, t.z), (0, _chunkZRT45YCMJs.g)(this, Qs).add(e);
                    }
                    g.push(t);
                }), m = !0;
            }
            if (e.polygons) {
                let t = e.polygons, i = this.mapObjects.get(this.currentMap), n = 0;
                for(y = 0, b = t.length; y < b; y++){
                    let e = ut(t[y]), r = null == i ? void 0 : i.objectsDictionary[e];
                    if (r) {
                        if (n++, r.geometry.attributes) {
                            let e = r.geometry.attributes.position;
                            for(let t = 0, n = e.count; t < n; t++){
                                let n = new (0, _chunk4XLXKB34Js.S);
                                n.set(e.getX(t), e.getY(t), e.getZ(t)).applyMatrix4(null == i ? void 0 : i.object.matrix), g.push(n);
                            }
                            m = !0;
                        } else {
                            for(let e = 0, t = r.geometry.vertices.length; e < t; e++)g.push(r.geometry.vertices[e].clone().applyMatrix4(null == i ? void 0 : i.object.matrix));
                            m = !0;
                        }
                    }
                }
                1 === n && (o = this.loadOptions && this.loadOptions.zoomOverrides && this.loadOptions.zoomOverrides.focusZoomFactorPolygon || o);
            }
            if (m) {
                this.tryRendering();
                let t = e.padding || this.cachedPadding || {
                    top: 0,
                    bottom: 0,
                    left: 0,
                    right: 0
                }, i = this.getZoomLevelForCurrentMap(), h = d * o, m = p * o, y = this.getCameraFrameForPoints(g, a, l, t, !r, h, m), b = y.zoom;
                f && (this.controls.restrictZoomLimits(i), this.controls.expandZoomLimits(b * o));
                let w = {
                    position: y.position,
                    tilt: e.tilt,
                    rotation: e.rotation
                };
                return r && (w.zoom = (0, _chunk4XLXKB34Js.L).clamp(y.zoom * o, d, p)), v || this.publish(26), this.controls.setRotation(x, !0), this.controls.setTilt(E, !0), this.controls.animateCamera(w, n, s, c, u);
            }
            return v || this.publish(26), this.controls.setRotation(x, !0), this.controls.setTilt(E, !0), this.controls.animateCamera({}, n, s, c, u);
        }, "focusOn")), (0, _chunkZRT45YCMJs.f)(this, "focusOnPolygon", (0, _chunkZRT45YCMJs.a)((e, t, i, n)=>this.focusOn({
                polygons: [
                    e
                ],
                changeZoom: t,
                duration: i,
                curve: n
            }), "focusOnPolygon")), (0, _chunkZRT45YCMJs.f)(this, "focusOnPath", (0, _chunkZRT45YCMJs.a)((e, t, i, n, r)=>this.focusOn({
                nodes: e,
                polygons: t,
                changeZoom: i,
                duration: n,
                curve: r
            }), "focusOnPath")), (0, _chunkZRT45YCMJs.f)(this, "getCameraFrameForPoints", (0, _chunkZRT45YCMJs.a)((e, t, i, n, r = !0, o = this.controls.getZoomScaledMin(), s = this.controls.getZoomScaledMax())=>{
            (!i || isNaN(i)) && (i = 1), (!t || isNaN(t)) && (t = 1);
            let a = {
                position: this.controls.getPosition(),
                zoom: this.controls.minZoom
            };
            if (null == e || 0 === e.length) return a;
            n || (n = {
                top: 0,
                bottom: 0,
                left: 0,
                right: 0,
                type: (0, _chunkZRT45YCMJs.g)(this, vl).PIXELS
            });
            for (let e of (0, _chunkZRT45YCMJs.g)(this, Kv))"number" != typeof n[e] && (n[e] = 0);
            if (n.type || (n.type = (0, _chunkZRT45YCMJs.g)(this, vl).PIXELS), n.type === (0, _chunkZRT45YCMJs.g)(this, vl).PORTIONS && (n = {
                top: n.top * this.canvasHeight,
                bottom: n.bottom * this.canvasHeight,
                left: n.left * this.canvasWidth,
                right: n.right * this.canvasWidth,
                type: (0, _chunkZRT45YCMJs.g)(this, vl).PIXELS
            }), n.left + n.right >= this.canvasWidth || n.top + n.bottom >= this.canvasHeight) return a;
            (0, _chunkZRT45YCMJs.g)(this, $r).updateMatrixWorld();
            let l = this.cameraObject.matrixWorldInverse, c = this.cameraObject.fov * (Math.PI / 180) / 2, u = c * i, d = Math.atan(Math.tan(c) * (this.canvasWidth / this.canvasHeight)) * t;
            if (1 === e.length) {
                let t = e[0].clone();
                t.applyMatrix4(l);
                let i = this.controls.minZoom * Math.tan(d) * 2, r = this.controls.minZoom * Math.tan(u) * 2, o = (n.left - n.right) / 2 / this.canvasWidth, s = (n.top - n.bottom) / 2 / this.canvasHeight, h = new (0, _chunk4XLXKB34Js.S)(-o * i, s * r, 0);
                return t.add(h), t.applyMatrix4(this.cameraObject.matrixWorld), a.position.x = t.x, a.position.y = t.y, a.position.z = t.z, a;
            }
            let p, f = new (0, _chunk4XLXKB34Js.S)(1 / 0, 1 / 0, 1 / 0), m = new (0, _chunk4XLXKB34Js.S)(-1 / 0, -1 / 0, -1 / 0), g = (new (0, _chunk4XLXKB34Js.T)).setFromPoints(e);
            for(let t = 0, i = e.length; t < i; t++)p = e[t], p.applyMatrix4(l), f.min(p), m.max(p);
            let v = m.x - f.x, y = m.y - f.y, b = this.canvasWidth - n.left - n.right, w = this.canvasHeight - n.top - n.bottom, A = (m.x + f.x) / 2, x = (m.y + f.y) / 2, E = v / b, M = y / w, q = s, C = o * Math.tan(d) * 2, T = q * Math.tan(d) * 2, P = C / this.canvasWidth, S = T / this.canvasWidth, I = Math.max(E, M);
            r || (I = Math.min(Math.max(I, P), S));
            let O = b * I, D = w * I, _ = {
                x: A - O / 2 - n.left * I,
                y: x - D / 2 - n.bottom * I
            }, L = {
                x: A + O / 2 + n.right * I,
                y: x + D / 2 + n.top * I
            }, B = (_.x + L.x) / 2, R = (_.y + L.y) / 2, N = g.getCenter(new (0, _chunk4XLXKB34Js.S)), k = Math.abs(B - _.x), F = Math.abs(R - _.y), z = k / Math.tan(d), j = F / Math.tan(u), U = new (0, _chunk4XLXKB34Js.S);
            U.set(B, R, m.z + Math.max(z, j)), U.applyMatrix4(this.cameraObject.matrixWorld);
            let V = new (0, _chunk4XLXKB34Js.S);
            if (V.set(B, R, m.z), V.applyMatrix4(this.cameraObject.matrixWorld), "STACKED" === this.state) {
                let e = (new (0, _chunk4XLXKB34Js.S)).subVectors(V, U), t = (N.z - U.z) / e.z, i = (new (0, _chunk4XLXKB34Js.S)).copy(U).add(e.clone().multiplyScalar(t));
                a.position = i, V.set(a.position.x, a.position.y, a.position.z);
            } else {
                V.sub(U);
                let e = U.z / V.z;
                a.position.x = U.x - V.x * e, a.position.y = U.y - V.y * e, V.set(a.position.x, a.position.y, 0);
            }
            return U.sub(V), a.zoom = U.length(), a;
        }, "getCameraFrameForPoints")), (0, _chunkZRT45YCMJs.f)(this, "setPadding", (0, _chunkZRT45YCMJs.a)((e)=>{
            this.cachedPadding = e || {
                top: 0,
                bottom: 0,
                left: 0,
                right: 0
            };
        }, "setPadding")), (0, _chunkZRT45YCMJs.f)(this, "getZoomLevelForPolygon", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            if (null == this.currentMap) return;
            let i = ut(e), n = [], r = null == (t = this.mapObjects.get(this.currentMap)) ? void 0 : t.objectsDictionary[i];
            if (r) {
                let e = r.geometry.attributes ? r.geometry.attributes.position : [];
                for(let t = 0, i = e.count; t < i; t++){
                    let i = new (0, _chunk4XLXKB34Js.S);
                    i.set(e.getX(t), e.getY(t), e.getZ(t)), n.push(i);
                }
                return this.getCameraFrameForPoints(n, 1, 1, this.cachedPadding, !0).zoom;
            }
            return this.controls.getZoom();
        }, "getZoomLevelForPolygon")), (0, _chunkZRT45YCMJs.f)(this, "getZoomLevelForCurrentMap", (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            if (null == this.currentMap) return;
            let t = null == (e = this.mapObjects.get(this.currentMap)) ? void 0 : e.object;
            if (t) {
                let e = this.mapObjects.get(this.currentMap).boundingBox;
                e || (e = (new (0, _chunk4XLXKB34Js.T)).setFromObject(t), this.mapObjects.get(this.currentMap).boundingBox = e);
                let i = [
                    e.min.clone(),
                    e.max.clone()
                ];
                return this.getCameraFrameForPoints(i, 1, 1, this.cachedPadding, !0).zoom;
            }
            return this.controls.getZoom();
        }, "getZoomLevelForCurrentMap")), (0, _chunkZRT45YCMJs.f)(this, "getZoomLevelForObject", (0, _chunkZRT45YCMJs.a)((e)=>{
            let t;
            t || (t = (new (0, _chunk4XLXKB34Js.T)).setFromObject(e));
            let i = [
                t.min.clone(),
                t.max.clone()
            ];
            return this.getCameraFrameForPoints(i, 1, 1, 0, !0).zoom;
        }, "getZoomLevelForObject")), (0, _chunkZRT45YCMJs.f)(this, "resetCamera", (0, _chunkZRT45YCMJs.a)((e = !1)=>{
            var t;
            if (null == this.currentMap) return;
            let i = {
                x: 0,
                y: 0
            };
            if (!e) {
                let e = null == (t = this.mapObjects.get(this.currentMap)) ? void 0 : t.boundingBox;
                e && (i = {
                    x: (e.max.x - e.min.x) / 2 + e.min.x,
                    y: (e.max.y - e.min.y) / 2 + e.min.y
                });
            }
            let n = this.getZoomLevelForCurrentMap();
            this.controls.expandZoomLimits(n);
            this.controls.setMulti(i, n, 0, .6);
        }, "resetCamera")), (0, _chunkZRT45YCMJs.f)(this, "getPositionLatLon", (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
            let n;
            if (n = "string" == typeof i ? i : null == i ? this.currentMap : i.id, null == n) return;
            let r = this.mapObjects.get(n);
            if (null == r) throw new Error("Invalid map: " + n);
            return r.getPositionLatLon(e, t);
        }, "getPositionLatLon")), (0, _chunkZRT45YCMJs.f)(this, "lockNorth", (0, _chunkZRT45YCMJs.a)((e, t = 0)=>{
            (0, _chunkZRT45YCMJs.g)(this, Ka).push(e), e._mRotationOffset = t, (0, _chunkZRT45YCMJs.g)(this, xm).call(this, e, this.getNorth() + this.controls.getRotation());
        }, "lockNorth")), (0, _chunkZRT45YCMJs.f)(this, "unlockNorth", (0, _chunkZRT45YCMJs.a)((e)=>{
            delete e._mRotationOffset, (0, _chunkZRT45YCMJs.i)(this, Ka, (0, _chunkZRT45YCMJs.g)(this, Ka).filter(function(t) {
                return t != e;
            }));
        }, "unlockNorth")), (0, _chunkZRT45YCMJs.f)(this, "convertTo3DMapPosition", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            let i = (null == (t = e.map) ? void 0 : t.id) || this.currentMap;
            if (null == i) return;
            let n = this.venue.getCollectionItemById("maps", i);
            return new (0, _chunk4XLXKB34Js.S)(e.x - n.width / 2, -e.y + n.height / 2, 1).applyMatrix4(this.mapObjects.get(i).object.matrix);
        }, "convertTo3DMapPosition")), (0, _chunkZRT45YCMJs.f)(this, "convertScreenCoordinateToMapCoordinate", (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
            var n;
            let r = null != (n = null == i ? void 0 : i.id) ? n : this.currentMap;
            if (null == r) return;
            let o = this.mapObjects.get(r);
            this.cameraObject.updateMatrixWorld(!0), this.cameraObject.updateMatrix();
            let s = e / this.canvasWidth * 2 - 1, a = -t / this.canvasHeight * 2 + 1, l = new (0, _chunk4XLXKB34Js.S)(s, a, 0);
            wi.setFromCamera(l, this.cameraObject.clone());
            let h = wi.intersectObject(this.worldPlane, !1)[0].point.applyMatrix4((new (0, _chunk4XLXKB34Js.V)).copy(o.object.matrix).invert());
            return o.mapClass.createCoordinateByXY(h.x + o.mapClass.width / 2, -h.y + o.mapClass.height / 2);
        }, "convertScreenCoordinateToMapCoordinate")), (0, _chunkZRT45YCMJs.f)(this, "convert3DMapPositionToCoordinate", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            var i;
            let n = null != (i = null == t ? void 0 : t.id) ? i : this.currentMap;
            if (null == n) return;
            let r = this.mapObjects.get(n), o = r.mapClass, s = new (0, _chunk4XLXKB34Js.S)(e.x, e.y, e.z || 0);
            s.applyMatrix4((new (0, _chunk4XLXKB34Js.V)).copy(r.object.matrix).invert());
            let a = s.x + o.width / 2, l = -s.y + o.height / 2;
            return o.createCoordinateByXY(a, l);
        }, "convert3DMapPositionToCoordinate")), (0, _chunkZRT45YCMJs.f)(this, "getPositionPolygon", (0, _chunkZRT45YCMJs.a)((e)=>{
            var t;
            let i = ut(e), n = e;
            null == e.map && (n = this.getPolygon(i));
            let r = null == (t = this.mapObjects.get(n.map.id)) ? void 0 : t.objectsDictionary[i];
            if (r) {
                r.geometry.computeBoundingBox();
                let e = r.geometry.boundingBox;
                return new (0, _chunk4XLXKB34Js.S)(e.min.x + (e.max.x - e.min.x) / 2, e.min.y + (e.max.y - e.min.y) / 2, e.max.z);
            }
            return null;
        }, "getPositionPolygon")), (0, _chunkZRT45YCMJs.f)(this, "getPositionNode", (0, _chunkZRT45YCMJs.a)((e)=>{
            let t = e;
            return "string" == typeof t && (t = Mn(e, this.venue.nodes)), this.convertTo3DMapPosition(t);
        }, "getPositionNode")), (0, _chunkZRT45YCMJs.f)(this, "hideAllLabels", (0, _chunkZRT45YCMJs.a)(()=>{
            this.mapObjects.forEach((e)=>{
                e.textObjects.forEach((e)=>e.hide()), e.colliders.forEach((e)=>{
                    e.disable();
                });
            });
        }, "hideAllLabels")), (0, _chunkZRT45YCMJs.f)(this, "setBackgroundColor", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            this.renderer.setBackgroundColor(e, t);
        }, "setBackgroundColor")), (0, _chunkZRT45YCMJs.f)(this, "setSize", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            this.canvasWidth = this.rendererDomElement.clientWidth, this.canvasHeight = this.rendererDomElement.clientHeight;
            let i = Math.floor(e * this.resolutionScale), n = Math.floor(t * this.resolutionScale);
            if (!(0, _chunkZRT45YCMJs.g)(this, uc) && this.rendererDomElement.width * this.rendererDomElement.height * i * n != 0) {
                let e = this.rendererDomElement.width !== i ? this.rendererDomElement.width / i : this.rendererDomElement.height / n;
                this.controls.setZoom(e * this.controls.getZoom());
            }
            (0, _chunkZRT45YCMJs.g)(this, mc).call(this, i, n);
        }, "setSize")), (0, _chunkZRT45YCMJs.f)(this, "getMapScale", (0, _chunkZRT45YCMJs.a)(()=>null == this.currentMap ? 0 : this.mapObjects.get(this.currentMap).getMapScale(), "getMapScale")), (0, _chunkZRT45YCMJs.f)(this, "getNorth", (0, _chunkZRT45YCMJs.a)(()=>null == this.currentMap ? 0 : this.mapObjects.get(this.currentMap).getNorth(), "getNorth")), (0, _chunkZRT45YCMJs.f)(this, "tryRendering", (0, _chunkZRT45YCMJs.a)((e = Re.ALL)=>{
            if (null != this.renderer) {
                if (null != (0, _chunkZRT45YCMJs.g)(this, Ai) && this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, pm)), e === Re.ALL) this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, Ks)), null != (0, _chunkZRT45YCMJs.g)(this, fm) && this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, fm)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, dc)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, om)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, lm)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, yl)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, hm)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, dm));
                else if (e === Re.ANIMATED) this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, dc)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, Ks)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, um));
                else if (e === Re.ALWAYS_ON_TOP) this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, Ks)), this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, cm));
                else if (e === Re.TWEEN) this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, Ks));
                else {
                    if (e !== Re.COMPOSITE) throw new Error("invalid render task passed to tryRendering");
                    this.taskScheduler.scheduleUpdate((0, _chunkZRT45YCMJs.g)(this, mm));
                }
            }
        }, "tryRendering")), (0, _chunkZRT45YCMJs.f)(this, "showDebugUI", (0, _chunkZRT45YCMJs.a)(()=>{
            null == (0, _chunkZRT45YCMJs.g)(this, Ai) && ((0, _chunkZRT45YCMJs.i)(this, Ai, new lc), this.container.appendChild((0, _chunkZRT45YCMJs.g)(this, Ai).element), (0, _chunkZRT45YCMJs.g)(this, t2).call(this, (0, _chunkZRT45YCMJs.g)(this, Ai)), this.controls.addDebugControls((0, _chunkZRT45YCMJs.g)(this, Ai)), this.tryRendering());
        }, "showDebugUI")), (0, _chunkZRT45YCMJs.f)(this, "hideDebugUI", (0, _chunkZRT45YCMJs.a)(()=>{
            null != (0, _chunkZRT45YCMJs.g)(this, Ai) && (this.container.removeChild((0, _chunkZRT45YCMJs.g)(this, Ai).element), (0, _chunkZRT45YCMJs.g)(this, i2).call(this, (0, _chunkZRT45YCMJs.g)(this, Ai)), this.controls.removeDebugControls((0, _chunkZRT45YCMJs.g)(this, Ai)), (0, _chunkZRT45YCMJs.g)(this, Ai).destroy(), (0, _chunkZRT45YCMJs.i)(this, Ai, null));
        }, "hideDebugUI")), (0, _chunkZRT45YCMJs.f)(this, "determineNewLabelSize", (0, _chunkZRT45YCMJs.a)(()=>{
            let e = this.controls.getZoom(), t = this.controls.getZoomScaledMin(), i = (e - t) / (this.controls.getZoomScaledMax() - t);
            this.currentScale = i;
        }, "determineNewLabelSize")), (0, _chunkZRT45YCMJs.f)(this, "mapSetInProgress", Promise.resolve(void 0)), (0, _chunkZRT45YCMJs.f)(this, "mapSetResolved"), (0, _chunkZRT45YCMJs.f)(this, "setMap", (0, _chunkZRT45YCMJs.a)(async (e)=>{
            await this.mapSetInProgress, this.mapSetInProgress = new Promise((e)=>{
                this.mapSetResolved = e;
            });
            let t = "string" == typeof e ? this.venue.getCollectionItemById("maps", e) : e;
            if (null == t) return Promise.reject(null);
            let { currentScene: i } = this.sceneManager;
            if (null == i) return Promise.reject(null);
            if ("STACKED" === this.state) {
                if (this.stackedMaps.mapIdsInStack.includes(t.id)) return this.stackedMaps.zoomInToMap(t).then(()=>(this.mapSetResolved(), Promise.resolve(null)));
                R.warn("Map is outside current StackedMaps scene. StackedMaps will be disabled."), await this.stackedMaps.disable();
            }
            return this.sceneManager.transitionTo(new Ra([
                t
            ], this), {
                activeMap: t
            }).then(()=>(this.mapSetResolved(), Promise.resolve(null)));
        }, "setMap")), (0, _chunkZRT45YCMJs.f)(this, "setMapWithReason", (0, _chunkZRT45YCMJs.a)((e, t)=>(this.setMapReason = t, this.setMap(e)), "setMapWithReason")), (0, _chunkZRT45YCMJs.f)(this, "getPolygonsAtScreenCoordinate", (0, _chunkZRT45YCMJs.a)((e, t, i)=>{
            if (null == this.currentMap) return [];
            let n = this.mapObjects.get(this.currentMap);
            if (!n || !n.hoverableMeshChildren) return [];
            let r = new (0, _chunk4XLXKB34Js.M)(e, t), o = r.x / this.canvasWidth * 2 - 1, s = -r.y / this.canvasHeight * 2 + 1, a = new (0, _chunk4XLXKB34Js.S)(o, s, 0);
            return wi.setFromCamera(a, this.cameraObject), (0, _chunkZRT45YCMJs.g)(this, Tm).call(this, n.hoverableMeshChildren, null == i ? void 0 : i.includeNonInteractive);
        }, "getPolygonsAtScreenCoordinate")), (0, _chunkZRT45YCMJs.f)(this, "getPolygonsAtCoordinate", (0, _chunkZRT45YCMJs.a)((e, t)=>{
            let i = this.mapObjects.get(e.map.id);
            if (!i || !i.hoverableMeshChildren) return [];
            let n = this.convertTo3DMapPosition(e);
            return n.setZ(this.controls.maxZoom), wi.set(n, new (0, _chunk4XLXKB34Js.S)(0, 0, -1)), (0, _chunkZRT45YCMJs.g)(this, Tm).call(this, i.hoverableMeshChildren, null == t ? void 0 : t.includeNonInteractive);
        }, "getPolygonsAtCoordinate")), (0, _chunkZRT45YCMJs.f)(this, "destroy", (0, _chunkZRT45YCMJs.a)(()=>{
            var e;
            this.flatLabels.removeAllLabels(), this.floatingLabels.removeAllLabels(), this.paths.removeAllPaths(), this.polygonInteraction.removeAllInteractivePolygons(), this.polygonColors.clearAllPolygonColors(), this.polygonHoverColors.clearAllPolygonHoverColors(), this.polygonStates.destroy(), this.markers.removeAll(), this.tooltips.removeAllTooltips(), this.smartCollisionEngine.destroy(), jo.imagesLoadingInProgress.clear(), this.controls.dispose(), this.off(2, this.tryRendering), this.off(3, (0, _chunkZRT45YCMJs.g)(this, bl)), this.off(4, (0, _chunkZRT45YCMJs.g)(this, vm)), this.off(0, (0, _chunkZRT45YCMJs.g)(this, ym)), window.removeEventListener("resize", (0, _chunkZRT45YCMJs.g)(this, fc), !1), (0, _chunkZRT45YCMJs.g)(this, gl) && (0, _chunkZRT45YCMJs.g)(this, gl).disconnect(), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.determineNewLabelSize), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, Em)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ZOOM_START_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, vr)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_START_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, vr)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_START_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, xl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, vr)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, this.publish(15)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, xl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.PAN_START_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, vr)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.PAN_START_EVENT.type, this.publish(15)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ZOOM_END_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, yr)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_END_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, yr)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.ROTATE_END_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, Tl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, yr)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, Tl)), this.controls.dispatcher.removeEventListener(this.controls.CAMERA_EVENTS.PAN_END_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, yr));
            for(let e in this.polygonMeshesById)this.polygonMeshesById[e].destroy();
            this.polygonMeshesById = {}, this.interactivePolygons = {}, this._subscribers = {}, null == (e = this.mapManager) || e.destroy(), this.scene.destroy(), this.interactivePolygons = {}, (0, _chunkZRT45YCMJs.g)(this, pc).dispose(), this.taskScheduler.destroy(), this.renderer.destroy(), this.container.removeChild(this.rendererDomElement), null != (0, _chunkZRT45YCMJs.g)(this, Ai) && this.hideDebugUI(), this.renderer = void 0;
        }, "destroy")), this.MapView = n, this.options = i, this.type = "MapView3D", this.container = e, this.venue = t, window.MappedinDebug || (window.MappedinDebug = {}), "test" === (0, _chunkA5C75TI6Js.b).env.NODE_ENV && (window.MappedinDebug.mapViewCoreInstance = this), (0, _chunkZRT45YCMJs.i)(this, uc, !1), (0, _chunkZRT45YCMJs.i)(this, cc, Qa.ENABLED ? Qv : i.backgroundColor || "#ffffff"), (0, _chunkZRT45YCMJs.i)(this, hc, null != (r = i.backgroundAlpha) ? r : 1), this.colors = {
            defaultHover2D: "#cccccc",
            select: "#4ca1fc",
            text: "#000000",
            path: "#ff834c",
            pathPulse: "#ffffff",
            textSelect: "#ffffff"
        }, i.disableZoomOnMapSizeChange && (0, _chunkZRT45YCMJs.i)(this, uc, !0), this.loadOptions = {
            mapRenderStrategy: "SINGLE_GEOMETRY",
            ...i.loadOptions
        }, !0 === this.loadOptions.loadAsync && "SINGLE_GEOMETRY" === this.loadOptions.mapRenderStrategy && (R.warn("Async loading does not work with the single geometry map render strategy. Reverting to non-async loading."), this.loadOptions.loadAsync = !1), (0, _chunkZRT45YCMJs.i)(this, pc, new Yo);
        let y = "boolean" == typeof i.multiBufferRendering && i.multiBufferRendering;
        this.renderer = new ac({
            antialias: "boolean" != typeof i.antialias || i.antialias,
            antialiasQuality: i.antialiasQuality,
            aoEnabled: i.aoEnabled,
            aoQuality: i.aoQuality,
            aoResolution: i.aoResolution,
            multiBufferRendering: y,
            xRayPath: "boolean" != typeof i.xRayPath || i.xRayPath,
            alpha: !0,
            onWebGLContextCreationError: i.onWebGLContextCreationError,
            onWebGLContextLost: i.onWebGLContextLost,
            onWebGLContextRestored: ()=>{
                i.onWebGLContextRestored && i.onWebGLContextRestored(), (0, _chunkZRT45YCMJs.g)(this, pc).onWebGLContextRestored(), this.tryRendering();
            },
            onWebGLRendererError: i.onWebGLRendererError,
            backgroundColor: (0, _chunkZRT45YCMJs.g)(this, cc),
            backgroundAlpha: (0, _chunkZRT45YCMJs.g)(this, hc),
            core: this
        }), (!1 !== this.options.dynamicPerformance || this.options.debug) && require("ddc34be949dc95a6").then(({ PerformanceController: e })=>{
            this.performanceController = new e({
                dynamicPerformance: void 0 === this.options.dynamicPerformance || this.options.dynamicPerformance,
                debug: !!this.options.debug,
                container: this.container,
                onFPSChangeArray: e.getDefaultOnFPSChangeArray(this)
            });
        }), this.taskScheduler = new Do({
            performance: !0,
            onUpdateEnd: ()=>{
                var e;
                null == (e = this.performanceController) || e.update();
            }
        }), this.scene = new (0, _chunk4XLXKB34Js.oa), this.outdoorGeometryLayers = null != (s = null == (o = i.loadOptions) ? void 0 : o.outdoorGeometryLayers) ? s : [];
        let b = window.__THREE_DEVTOOLS__;
        "dev" === (0, _chunkA5C75TI6Js.b).env.NODE_ENV && typeof b < "u" && (b.dispatchEvent(new CustomEvent("observe", {
            detail: this.scene
        })), b.dispatchEvent(new CustomEvent("observe", {
            detail: this.renderer
        }))), this.resolutionScale = window.devicePixelRatio, this.cameraObject = new (0, _chunk4XLXKB34Js.fa)(RX, this.aspect, 50, 1e5), this.cameraObject.renderOrder = 999;
        let A = new (0, _chunk4XLXKB34Js.X);
        A.add(this.cameraObject), (0, _chunkZRT45YCMJs.i)(this, $r, new (0, _chunk4XLXKB34Js.X)), (0, _chunkZRT45YCMJs.g)(this, $r).add(A), this.billboardManager = new Y5((0, _chunkZRT45YCMJs.g)(this, $r)), this.scene.add((0, _chunkZRT45YCMJs.g)(this, $r)), this.cameraObject.updateProjectionMatrix(), this.cameraObject.updateMatrixWorld(!0), this.focusZoomFactor = 1.1, (0, _chunkZRT45YCMJs.i)(this, Zs, !1), (0, _chunkZRT45YCMJs.i)(this, Ka, []), this.polygonMeshesById = {}, this.textLabelsByPolygonId = {}, this.labelOrientationDelay = 650, this.interactivePolygons = {}, this.polygonHoverColorsById = {};
        let x = new Map;
        this.mapObjects = x, t.maps.forEach((e)=>{
            var t, i, n;
            let r = new h1(e, this.polygonMeshesById, 0, this, {
                taskScheduler: this.taskScheduler,
                useLivePolygons: null != (n = null == (t = this.loadOptions) ? void 0 : t.useLivePolygons) ? n : null == (i = this.venue.venue.renderOptions) ? void 0 : i.useLivePolygons
            });
            this.mapObjects.set(e.id, r);
        }), this.referenceMap = t.getCollectionItemById("maps", t.venue.defaultMap), this.rendererDomElement = this.renderer.domElement(), this.resolution = new (0, _chunk4XLXKB34Js.M), this.isWebGL2 = !(null == (a = this.renderer.implementation.renderer) || !a.capabilities.isWebGL2), !0 === y && this.renderer.implementation instanceof sc && !0 === (null == (c = null == i ? void 0 : i.outdoorView) ? void 0 : c.enabled) && this.isWebGL2 && (this.outdoorViewController = new LM(this, null == i ? void 0 : i.outdoorView), this.outdoorViewController.load(), this.renderer.implementation.setOutdoorViewController(this.outdoorViewController)), (0, _chunkZRT45YCMJs.i)(this, mm, new si({
            name: "updateRenderTargets",
            ordering: wn.RENDER,
            callback: ()=>{
                this.renderer.render(Re.COMPOSITE, null, this.scene, this.cameraObject);
            }
        })), (0, _chunkZRT45YCMJs.i)(this, dc, new si({
            name: "updateBillboards",
            ordering: wn.BEFORE_CAMERA,
            callback: ()=>{
                this.billboardManager.update();
            }
        })), (0, _chunkZRT45YCMJs.i)(this, Ks, new si({
            name: "updateTweens",
            ordering: wn.BEFORE_CAMERA,
            callback: ()=>{
                d_.default.update();
            }
        })), this.cameraParameters = {}, (0, _chunkZRT45YCMJs.i)(this, om, new si({
            name: "camera",
            ordering: wn.CAMERA,
            callback: ()=>{
                this.controls.update(), this.cameraParameters.position = this.controls.getPosition(), this.cameraParameters.tilt = this.controls.getTilt(), this.cameraParameters.rotation = this.controls.getRotation(), this.cameraParameters.zoom = this.controls.getZoom(), this.controls.isCameraMoving() && this.publish(9, this.cameraParameters), this.publish(10, this.controls.getZoom());
            }
        })), (0, _chunkZRT45YCMJs.i)(this, lm, new si({
            name: "rotateObjects",
            ordering: wn.AFTER_CAMERA,
            callback: ()=>{
                let e = this.getNorth() + this.controls.getRotation();
                for(let t = 0, i = (0, _chunkZRT45YCMJs.g)(this, Ka).length; t < i; ++t)(0, _chunkZRT45YCMJs.g)(this, xm).call(this, (0, _chunkZRT45YCMJs.g)(this, Ka)[t], e);
                (0, _chunkZRT45YCMJs.g)(this, $v).call(this), (0, _chunkZRT45YCMJs.g)(this, e2).call(this), (0, _chunkZRT45YCMJs.i)(this, Ja, !1);
            }
        })), (0, _chunkZRT45YCMJs.i)(this, yl, new si({
            name: "renderAll",
            ordering: wn.RENDER,
            callback: ()=>{
                null != this.currentMap && this.renderer.isAvailable() && ((0, _chunkZRT45YCMJs.g)(this, Js) && (0, _chunkZRT45YCMJs.g)(this, $s).call(this), this.renderer.render(Re.ALL, null, this.scene, this.cameraObject), this.controls.postRender && this.controls.postRender());
            }
        })), (0, _chunkZRT45YCMJs.i)(this, um, new si({
            name: "renderAnimated",
            ordering: wn.RENDER,
            supersededBy: new Set([
                (0, _chunkZRT45YCMJs.g)(this, yl)
            ]),
            callback: ()=>{
                null != this.currentMap && this.renderer.isAvailable() && ((0, _chunkZRT45YCMJs.g)(this, Js) && (0, _chunkZRT45YCMJs.g)(this, $s).call(this), this.renderer.render(Re.ANIMATED, null, this.scene, this.cameraObject), this.controls.postRender && this.controls.postRender());
            }
        })), (0, _chunkZRT45YCMJs.i)(this, cm, new si({
            name: "renderAlwaysOnTop",
            ordering: wn.RENDER,
            supersededBy: new Set([
                (0, _chunkZRT45YCMJs.g)(this, yl)
            ]),
            callback: ()=>{
                null != this.currentMap && this.renderer.isAvailable() && ((0, _chunkZRT45YCMJs.g)(this, Js) && (0, _chunkZRT45YCMJs.g)(this, $s).call(this), this.renderer.render(Re.ALWAYS_ON_TOP, null, this.scene, this.cameraObject), this.controls.postRender && this.controls.postRender());
            }
        })), (0, _chunkZRT45YCMJs.i)(this, hm, new si({
            name: "updateBlueDotPosition",
            ordering: wn.AFTER_RENDER,
            callback: ()=>{
                this.publish(11);
            }
        })), (0, _chunkZRT45YCMJs.i)(this, dm, new si({
            name: "updateColliders",
            ordering: wn.AFTER_RENDER,
            frameCount: 32,
            callback: ()=>{
                this.smartCollisionEngine.reposition();
            }
        })), (0, _chunkZRT45YCMJs.i)(this, pm, new si({
            name: "updateDebugUI",
            ordering: wn.AFTER_ALL_UPDATES,
            frameCount: 1,
            callback: ()=>{
                var e;
                let t = {};
                for (let e of this.taskScheduler.getUpdatesRunLastFrame().values())t[e.name] = e.getLastFrameTime();
                null == (e = (0, _chunkZRT45YCMJs.g)(this, Ai)) || e.reportFramePerformance(t);
            }
        }));
        let E = new (0, _chunk4XLXKB34Js.ha)(1e6, 1e6), M = new (0, _chunk4XLXKB34Js._)({
            color: 0,
            visible: !1
        });
        this.worldPlane = new (0, _chunk4XLXKB34Js.ba)(E, M), this.scene.add(this.worldPlane), e.appendChild(this.rendererDomElement), window.addEventListener("resize", (0, _chunkZRT45YCMJs.g)(this, fc), !1), "function" == typeof ResizeObserver && "test" !== (null == (u = (0, _chunkA5C75TI6Js.b).env) ? void 0 : u.NODE_ENV) && ((0, _chunkZRT45YCMJs.i)(this, gl, new ResizeObserver(()=>{
            window.requestAnimationFrame((0, _chunkZRT45YCMJs.g)(this, fc));
        })), null == (d = (0, _chunkZRT45YCMJs.g)(this, gl)) || d.observe(e)), e.classList.add("mappedin-map"), this.rendererDomElement.style.width = null != (f = globalThis.MappedinDebug) && f.TEST_IOS ? "1080px" : "100%", this.rendererDomElement.style.height = null != (m = globalThis.MappedinDebug) && m.TEST_IOS ? "1920px" : "100%", this.rendererDomElement.style.cursor = "grab", this.canvasWidth = this.rendererDomElement.clientWidth, this.canvasHeight = this.rendererDomElement.clientHeight, this.rendererDomElement.style.touchAction = "manipulation";
        let q = this.canvasWidth, T = this.canvasHeight;
        (0, _chunkZRT45YCMJs.i)(this, Js, !0), this.setBackgroundColor((0, _chunkZRT45YCMJs.g)(this, cc), (0, _chunkZRT45YCMJs.g)(this, hc)), (0, _chunkZRT45YCMJs.g)(this, mc).call(this, Math.floor(q * this.resolutionScale), Math.floor(T * this.resolutionScale)), (0, _chunkZRT45YCMJs.g)(this, bl).call(this);
        let P = new (0, _chunk4XLXKB34Js.Ia)(16777215, .3 * Math.PI);
        P.position.set(-150, -150, 350), this.scene.add(P);
        let S = new (0, _chunk4XLXKB34Js.Ja)(16777215, .741 * Math.PI);
        this.scene.add(S), this.controls = new zv(this.cameraObject, this.rendererDomElement, this.scene, this), this.controls.enableZoom = !0, this.smartCollisionEngine = new V5(this), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, this.determineNewLabelSize), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.CHANGE_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, Em)), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ZOOM_START_EVENT.type, ()=>{
            this.publish(18), (0, _chunkZRT45YCMJs.g)(this, vr).call(this);
        }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ROTATE_START_EVENT.type, ()=>{
            this.publish(20), (0, _chunkZRT45YCMJs.g)(this, vr).call(this), (0, _chunkZRT45YCMJs.g)(this, xl).call(this);
        }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.MULTI_START_EVENT.type, ()=>{
            this.publish(24), this.publish(15), (0, _chunkZRT45YCMJs.g)(this, vr).call(this), (0, _chunkZRT45YCMJs.g)(this, xl).call(this);
        }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.PAN_START_EVENT.type, ()=>{
            this.publish(22), (0, _chunkZRT45YCMJs.g)(this, vr).call(this), this.publish(15);
        }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ZOOM_END_EVENT.type, ()=>{
            this.publish(17), this.publish(18), (0, _chunkZRT45YCMJs.g)(this, yr).call(this);
        }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.ROTATE_END_EVENT.type, ()=>{
            this.publish(19), (0, _chunkZRT45YCMJs.g)(this, yr).call(this), (0, _chunkZRT45YCMJs.g)(this, Tl).call(this);
        }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.MULTI_END_EVENT.type, ()=>{
            this.publish(25), (0, _chunkZRT45YCMJs.g)(this, yr).call(this), (0, _chunkZRT45YCMJs.g)(this, Tl).call(this);
        }), this.controls.dispatcher.addEventListener(this.controls.CAMERA_EVENTS.PAN_END_EVENT.type, (0, _chunkZRT45YCMJs.g)(this, yr)), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_PAN_START_EVENT.type, ()=>{
            this.currentInteractionEvent = 21;
        }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_ROTATE_START_EVENT.type, ()=>{
            this.currentInteractionEvent = 19;
        }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_DOLLY_START_EVENT.type, ()=>{
            this.currentInteractionEvent = 17;
        }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_TILT_START_EVENT.type, ()=>{
            this.currentInteractionEvent = 23;
        }), this.controls.dispatcher.addEventListener(this.controls.INTERACTION_EVENTS.USER_ZOOM_START_EVENT.type, ()=>{
            this.publish(17), this.currentInteractionEvent = 17;
        }), (0, _chunkZRT45YCMJs.i)(this, gm, Pp(t, i)), this.sceneManager = null != (null == (g = null == i ? void 0 : i.dynamicFocus) ? void 0 : g.baseMap) ? new Ap(this, null == (v = i.dynamicFocus) ? void 0 : v.baseMap) : new w4(this, new Ra([
            (0, _chunkZRT45YCMJs.g)(this, gm)
        ], this)), this.on(2, this.tryRendering), this.on(3, (0, _chunkZRT45YCMJs.g)(this, bl)), this.on(4, (0, _chunkZRT45YCMJs.g)(this, vm)), this.on(1, (e)=>{
            this.tryRendering(), this.renderer.preloadTexture(e);
        }), this.on(0, ()=>{
            (0, _chunkZRT45YCMJs.g)(this, ym).call(this), "function" == typeof this.options.onFirstMapLoaded && this.options.onFirstMapLoaded(t);
        }), t.imageBinaries && $M(new Ju(t.imageBinaries)), "function" == typeof i.onDataLoaded && i.onDataLoaded(t), this.setPadding(), this.eventSystem = new _5(this), this.floatingLabels = new xE(this), this.flatLabels = new CE(this), this.paths = new sE(this), this.polygonColors = new OE(this), this.polygonHoverColors = new qE(this), this.polygonInteraction = new kE(this), this.polygonStates = new GE(this), this.polygonImages = new WE(this), this.markers = new TT(this), this.tooltips = new UE(this), this.threeDMarkers = new vf(this), this.blueDot = new JE(this), this.camera = new E5(this), this.stackedMaps = new K5(this), this.tileManager = new Qa(this), this.watermark = new mr(this), this.layerController = new jv(this), this.exportController = new oc(this);
    }
    get aspect() {
        return this.canvasWidth / this.canvasHeight;
    }
    get visibleMapsInCurrentScene() {
        return this.visibleMapObjectsInCurrentScene.map((e)=>e.mapClass);
    }
    get visibleMapObjectsInCurrentScene() {
        return Array.from(this.sceneManager.currentScene.mapObjects.values()).filter((e)=>e.visible).map((e)=>e);
    }
    get visibleLayersInCurrentScene() {
        let e = {};
        for (let t of this.visibleMapsInCurrentScene){
            let i = this.layerController.getVisibleLayersForLoadedMap(t);
            e[t.id] = i;
        }
        return e;
    }
    get currentMap() {
        var e, t;
        return null != (t = null == (e = this.sceneManager) ? void 0 : e.currentMap) && t.id ? this.sceneManager.currentMap.id : (R.error("No maps loaded."), null);
    }
    async setState(e) {
        if (e !== this.state) {
            if ("explore" === e) this.publish(14, !1), this.state = e;
            else if ("STACKED" === e) this.publish(14, !1), this.state = e;
            else {
                if ("follow" !== e) throw new Error("Unsupported State");
                this.publish(14, !0), this.state = e;
            }
            return this.publish(12, {
                state: this.state
            }), Promise.resolve();
        }
    }
    getNearestNodeByScreenCoordinate(e, t, i) {
        let n = "string" == typeof i ? i : (null == i ? void 0 : i.id) || this.currentMap, r = this.mapObjects.get(n);
        if (null == r) throw new Error("getNodeByScreenCoordinates failed: map not found");
        this.cameraObject.updateMatrixWorld(!0), this.cameraObject.updateMatrix();
        let o = e / this.canvasWidth * 2 - 1, s = -t / this.canvasHeight * 2 + 1, a = new (0, _chunk4XLXKB34Js.S)(o, s, 0);
        wi.setFromCamera(a, this.cameraObject.clone());
        let l = wi.intersectObject(this.worldPlane, !1)[0].point.applyMatrix4(r.object.matrix);
        return this.venue._mapsById[n].createCoordinateByXY(l.x + r.mapClass.width / 2, -l.y + r.mapClass.height / 2).nearestNode;
    }
};
gl = new WeakMap, uc = new WeakMap, cc = new WeakMap, hc = new WeakMap, Zs = new WeakMap, Ka = new WeakMap, Qs = new WeakMap, Ai = new WeakMap, Kv = new WeakMap, vl = new WeakMap, dc = new WeakMap, Ks = new WeakMap, om = new WeakMap, lm = new WeakMap, yl = new WeakMap, um = new WeakMap, cm = new WeakMap, hm = new WeakMap, dm = new WeakMap, pm = new WeakMap, fm = new WeakMap, mm = new WeakMap, Js = new WeakMap, gm = new WeakMap, Ja = new WeakMap, $r = new WeakMap, pc = new WeakMap, vm = new WeakMap, ym = new WeakMap, bm = new WeakMap, fc = new WeakMap, bl = new WeakMap, xm = new WeakMap, xl = new WeakMap, Tl = new WeakMap, vr = new WeakMap, yr = new WeakMap, Jv = new WeakMap, mc = new WeakMap, $s = new WeakMap, $v = new WeakMap, e2 = new WeakMap, t2 = new WeakMap, i2 = new WeakMap, Tm = new WeakMap, Em = new WeakMap, (0, _chunkZRT45YCMJs.a)(JM, "Core");
var KM = JM, p_ = KM, $M = _u.setAssetManager.bind(_u);
(0, _chunkA5C75TI6Js.a)();
var eo, tw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, eo, void 0), (0, _chunkZRT45YCMJs.i)(this, eo, e);
    }
    draw(e, t) {
        var i, n, r, o;
        let s = (0, _chunkZRT45YCMJs.g)(this, eo).venue.venue.slug;
        return ae.addPendingEvent(new yh({
            animate_drawing: null == (i = null == t ? void 0 : t.pathOptions) ? void 0 : i.animateDrawing,
            display_arrows_on_path: null == (n = null == t ? void 0 : t.pathOptions) ? void 0 : n.displayArrowsOnPath,
            flatten_path: null == (r = null == t ? void 0 : t.pathOptions) ? void 0 : r.flattenPath,
            show_pulse: null == (o = null == t ? void 0 : t.pathOptions) ? void 0 : o.showPulse,
            venue: s
        })), mi.create(e, t, (0, _chunkZRT45YCMJs.g)(this, eo));
    }
    setStep(e) {
        if (null != mi.instance) {
            let t = (0, _chunkZRT45YCMJs.g)(this, eo).venue.venue.slug;
            ae.addPendingEvent(new bh({
                venue: t
            })), mi.instance.setStep(e);
        }
    }
    setStepByPath(e) {
        null != mi.instance && mi.instance.setStepByPath(e);
    }
    clear() {
        if (null != mi.instance) {
            let e = (0, _chunkZRT45YCMJs.g)(this, eo).venue.venue.slug;
            ae.addPendingEvent(new vh({
                venue: e
            })), mi.instance.destroy();
        }
    }
};
eo = new WeakMap, (0, _chunkZRT45YCMJs.a)(tw, "Journey");
var ew = tw, f_ = ew;
(0, _chunkA5C75TI6Js.a)();
var bn, iw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, bn, void 0), (0, _chunkZRT45YCMJs.i)(this, bn, e);
    }
    labelAllLocations(e) {
        var t, i;
        let n = (0, _chunkZRT45YCMJs.g)(this, bn).core.venue.venue.slug;
        ae.addPendingEvent(new ah({
            exclude_type: !(null == (t = null == e ? void 0 : e.excludeTypes) || !t.length) || void 0,
            include_locations: !(null == (i = null == e ? void 0 : e.locations) || !i.length) || void 0,
            venue: n
        })), (0, _chunkZRT45YCMJs.g)(this, bn).labelAllLocations(e);
    }
    add(e, t, i) {
        let n = (0, _chunkZRT45YCMJs.g)(this, bn).core.venue.venue.slug;
        ae.addPendingEvent(new rh({
            venue: n
        })), (0, _chunkZRT45YCMJs.g)(this, bn).labelPolygon(e, t, i);
    }
    remove(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, bn).core.venue.venue.slug;
        ae.addPendingEvent(new sh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, bn).removeLabel(e);
    }
    removeAll() {
        (0, _chunkZRT45YCMJs.g)(this, bn).removeAllLabels();
    }
    setAppearance(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, bn).core.venue.venue.slug;
        ae.addPendingEvent(new oh({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, bn).setAppearance(e, t);
    }
    setHoverColorForAll(e) {
        (0, _chunkZRT45YCMJs.g)(this, bn).setHoverColorForAll(e);
    }
};
bn = new WeakMap, (0, _chunkZRT45YCMJs.a)(iw, "FlatLabels");
var n2 = iw;
(0, _chunkA5C75TI6Js.a)();
var gi, nw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, gi, void 0), (0, _chunkZRT45YCMJs.i)(this, gi, e);
    }
    labelAllLocations(e) {
        var t, i, n, r;
        let o = (0, _chunkZRT45YCMJs.g)(this, gi).core.venue.venue.slug;
        return ae.addPendingEvent(new uh({
            exclude_type: !(null == (t = null == e ? void 0 : e.excludeTypes) || !t.length) || void 0,
            include_locations: !(null == (i = null == e ? void 0 : e.locations) || !i.length) || void 0,
            with_icon: !(null == (r = null == (n = null == e ? void 0 : e.appearance) ? void 0 : n.marker) || !r.icon) || void 0,
            venue: o
        })), (0, _chunkZRT45YCMJs.g)(this, gi).labelAllLocations(e);
    }
    add(e, t, i) {
        var n, r;
        let o = (0, _chunkZRT45YCMJs.g)(this, gi).core.venue.venue.slug;
        return ae.addPendingEvent(new lh({
            with_icon: !(null == (r = null == (n = null == i ? void 0 : i.appearance) ? void 0 : n.marker) || !r.icon) || void 0,
            venue: o
        })), (0, _chunkZRT45YCMJs.g)(this, gi).addLabel(e, t, i);
    }
    setAppearance(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, gi).core.venue.venue.slug;
        ae.addPendingEvent(new dh({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, gi).setAppearance(e, t);
    }
    remove(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, gi).core.venue.venue.slug;
        ae.addPendingEvent(new ch({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, gi).removeLabel(e, !1);
    }
    removeAll() {
        (0, _chunkZRT45YCMJs.g)(this, gi).removeAllLabels();
    }
    setPriority(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, gi).core.venue.venue.slug;
        ae.addPendingEvent(new ph({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, gi).setPriority(e, t);
    }
    resetPriority(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, gi).core.venue.venue.slug;
        ae.addPendingEvent(new hh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, gi).resetPriority(e);
    }
};
gi = new WeakMap, (0, _chunkZRT45YCMJs.a)(nw, "FloatingLabels");
var r2 = nw;
(0, _chunkA5C75TI6Js.a)();
var ea, rw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, ea, void 0), (0, _chunkZRT45YCMJs.i)(this, ea, e);
    }
    get markers() {
        return Array.from((0, _chunkZRT45YCMJs.g)(this, ea).markersMap.entries()).map((e)=>e[1].marker);
    }
    add(e, t, i) {
        return (0, _chunkZRT45YCMJs.g)(this, ea).add(e, t, i);
    }
    setPosition(e, t) {
        (0, _chunkZRT45YCMJs.g)(this, ea).setPosition(e, t);
    }
    animate(e, t, i) {
        return (0, _chunkZRT45YCMJs.g)(this, ea).animate(e, t, i);
    }
    remove(e) {
        (0, _chunkZRT45YCMJs.g)(this, ea).remove(e);
    }
    removeAll() {
        (0, _chunkZRT45YCMJs.g)(this, ea).removeAll();
    }
};
ea = new WeakMap, (0, _chunkZRT45YCMJs.a)(rw, "Markers");
var a2 = rw;
(0, _chunkA5C75TI6Js.a)();
var to, aw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, to, void 0), (0, _chunkZRT45YCMJs.i)(this, to, e);
    }
    get paths() {
        let e = [];
        return (0, _chunkZRT45YCMJs.g)(this, to).pathsById.forEach(({ path: t })=>{
            e.push(t);
        }), e;
    }
    add(e, t) {
        return (0, _chunkZRT45YCMJs.g)(this, to).drawPath(e, t);
    }
    remove(e) {
        (0, _chunkZRT45YCMJs.g)(this, to).removePath(null == e ? void 0 : e.id);
    }
    removeAll() {
        (0, _chunkZRT45YCMJs.g)(this, to).removeAllPaths();
    }
};
to = new WeakMap, (0, _chunkZRT45YCMJs.a)(aw, "Paths");
var s2 = aw;
(0, _chunkA5C75TI6Js.a)();
var Zn, sw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Zn, void 0), (0, _chunkZRT45YCMJs.f)(this, "on", (0, _chunkZRT45YCMJs.a)((...e)=>{
            let t = (0, _chunkZRT45YCMJs.g)(this, Zn).core.venue.venue.slug;
            return ae.addPendingEvent(new Xc({
                venue: t
            })), (0, _chunkZRT45YCMJs.g)(this, Zn).on(...e);
        }, "on")), (0, _chunkZRT45YCMJs.f)(this, "off", (0, _chunkZRT45YCMJs.a)((...e)=>{
            let t = (0, _chunkZRT45YCMJs.g)(this, Zn).core.venue.venue.slug;
            return ae.addPendingEvent(new Wc({
                venue: t
            })), (0, _chunkZRT45YCMJs.g)(this, Zn).off(...e);
        }, "off")), (0, _chunkZRT45YCMJs.i)(this, Zn, e);
    }
    enable(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, Zn).core.venue.venue.slug;
        return ae.addPendingEvent(new Yc({
            allow_implicit_floor_level: null == e ? void 0 : e.allowImplicitFloorLevel,
            use_rotation_mode: null == e ? void 0 : e.useRotationMode,
            smoothing: null == e ? void 0 : e.smoothing,
            show_bearing: null == e ? void 0 : e.showBearing,
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, Zn).enable(e);
    }
    disable() {
        let e = (0, _chunkZRT45YCMJs.g)(this, Zn).core.venue.venue.slug;
        ae.addPendingEvent(new Hc({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, Zn).disable();
    }
};
Zn = new WeakMap, (0, _chunkZRT45YCMJs.a)(sw, "BlueDot");
var o2 = sw;
(0, _chunkA5C75TI6Js.a)();
var je, ow = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, je, void 0), (0, _chunkZRT45YCMJs.f)(this, "on", (0, _chunkZRT45YCMJs.a)((...e)=>(0, _chunkZRT45YCMJs.g)(this, je).on(...e), "on")), (0, _chunkZRT45YCMJs.f)(this, "off", (0, _chunkZRT45YCMJs.a)((...e)=>(0, _chunkZRT45YCMJs.g)(this, je).off(...e), "off")), (0, _chunkZRT45YCMJs.f)(this, "interactions", {
            set: (e)=>(0, _chunkZRT45YCMJs.g)(this, je).interactions.set(e),
            enable: ()=>{
                let e = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
                return ae.addPendingEvent(new eh({
                    venue: e
                })), (0, _chunkZRT45YCMJs.g)(this, je).interactions.enable();
            },
            disable: ()=>{
                let e = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
                return ae.addPendingEvent(new $c({
                    venue: e
                })), (0, _chunkZRT45YCMJs.g)(this, je).interactions.disable();
            }
        }), (0, _chunkZRT45YCMJs.i)(this, je, e);
    }
    get currentAnimation() {
        return (0, _chunkZRT45YCMJs.g)(this, je).currentAnimation;
    }
    get zoom() {
        return (0, _chunkZRT45YCMJs.g)(this, je).zoom;
    }
    get rotation() {
        return (0, _chunkZRT45YCMJs.g)(this, je).rotation;
    }
    get tilt() {
        return (0, _chunkZRT45YCMJs.g)(this, je).tilt;
    }
    get minZoom() {
        return (0, _chunkZRT45YCMJs.g)(this, je).minZoom;
    }
    set minZoom(e) {
        (0, _chunkZRT45YCMJs.g)(this, je).minZoom = e;
    }
    get maxZoom() {
        return (0, _chunkZRT45YCMJs.g)(this, je).maxZoom;
    }
    set maxZoom(e) {
        (0, _chunkZRT45YCMJs.g)(this, je).maxZoom = e;
    }
    get maxTilt() {
        return (0, _chunkZRT45YCMJs.g)(this, je).maxTilt;
    }
    set maxTilt(e) {
        (0, _chunkZRT45YCMJs.g)(this, je).maxTilt = e;
    }
    get position() {
        return (0, _chunkZRT45YCMJs.g)(this, je).position;
    }
    setSafeAreaInsets(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
        return ae.addPendingEvent(new ih({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, je).setSafeAreaInsets(e);
    }
    getSafeAreaInsets() {
        let e = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
        return ae.addPendingEvent(new Jc({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, je).getSafeAreaInsets();
    }
    async focusOn(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
        return ae.addPendingEvent(new Kc({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, je).focusOn(e, t);
    }
    set(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
        return ae.addPendingEvent(new th({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, je).set(e);
    }
    convertZoomLevelToAltitude(e) {
        return (0, _chunkZRT45YCMJs.g)(this, je).convertZoomLevelToAltitude(e);
    }
    convertAltitudeToZoomLevel(e) {
        return (0, _chunkZRT45YCMJs.g)(this, je).convertAltitudeToZoomLevel(e);
    }
    async animate(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
        return ae.addPendingEvent(new Zc({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, je).animate(e, t);
    }
    async translate(e, t, i) {
        let n = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
        return ae.addPendingEvent(new nh({
            venue: n
        })), (0, _chunkZRT45YCMJs.g)(this, je).translate(e, t, i);
    }
    cancelAnimation() {
        let e = (0, _chunkZRT45YCMJs.g)(this, je).core.venue.venue.slug;
        return ae.addPendingEvent(new Qc({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, je).cancelAnimation();
    }
};
je = new WeakMap, (0, _chunkZRT45YCMJs.a)(ow, "Camera");
var l2 = ow;
(0, _chunkA5C75TI6Js.a)();
var wm, lw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, wm, void 0), (0, _chunkZRT45YCMJs.i)(this, wm, e);
    }
    async getCurrentSceneGLTF(e) {
        return (0, _chunkZRT45YCMJs.g)(this, wm).getCurrentSceneGLTF(e);
    }
};
wm = new WeakMap, (0, _chunkZRT45YCMJs.a)(lw, "Exporter");
var u2 = lw;
(0, _chunkA5C75TI6Js.a)();
var br, uw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, br, void 0), (0, _chunkZRT45YCMJs.f)(this, "enable", (0, _chunkZRT45YCMJs.a)((e)=>(0, _chunkZRT45YCMJs.g)(this, br).enable(e), "enable")), (0, _chunkZRT45YCMJs.f)(this, "disable", (0, _chunkZRT45YCMJs.a)(()=>(0, _chunkZRT45YCMJs.g)(this, br).disable(), "disable")), (0, _chunkZRT45YCMJs.f)(this, "showOverview", (0, _chunkZRT45YCMJs.a)(async (e)=>(0, _chunkZRT45YCMJs.g)(this, br).showOverview(e), "showOverview")), (0, _chunkZRT45YCMJs.f)(this, "scrollToMap", (0, _chunkZRT45YCMJs.a)((e, t)=>(0, _chunkZRT45YCMJs.g)(this, br).scrollToMap(e, t), "scrollToMap")), (0, _chunkZRT45YCMJs.f)(this, "zoomInToMap", (0, _chunkZRT45YCMJs.a)((e, t)=>(0, _chunkZRT45YCMJs.g)(this, br).zoomInToMap(e, t), "zoomInToMap")), (0, _chunkZRT45YCMJs.f)(this, "restack", (0, _chunkZRT45YCMJs.a)((e)=>(0, _chunkZRT45YCMJs.g)(this, br).restack(e), "restack")), (0, _chunkZRT45YCMJs.i)(this, br, e);
    }
    get state() {
        return (0, _chunkZRT45YCMJs.g)(this, br).currentState;
    }
};
br = new WeakMap, (0, _chunkZRT45YCMJs.a)(uw, "StackedMaps");
var c2 = uw;
(0, _chunkA5C75TI6Js.a)();
var Qn, hw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, Qn, void 0), e && (0, _chunkZRT45YCMJs.i)(this, Qn, e);
    }
    setStyle(e) {
        (0, _chunkZRT45YCMJs.g)(this, Qn) && (0, _chunkZRT45YCMJs.g)(this, Qn).setStyle(e);
    }
    setAttributionPosition(e) {
        (0, _chunkZRT45YCMJs.g)(this, Qn) && (0, _chunkZRT45YCMJs.g)(this, Qn).setAttributionPosition(e);
    }
    show() {
        (0, _chunkZRT45YCMJs.g)(this, Qn) && (0, _chunkZRT45YCMJs.g)(this, Qn).show();
    }
    hide() {
        (0, _chunkZRT45YCMJs.g)(this, Qn) && (0, _chunkZRT45YCMJs.g)(this, Qn).hide();
    }
};
Qn = new WeakMap, (0, _chunkZRT45YCMJs.a)(hw, "OutdoorView");
var cw = hw, m_ = cw;
(0, _chunkA5C75TI6Js.a)();
var ta, dw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, ta, void 0), e && (0, _chunkZRT45YCMJs.i)(this, ta, e);
    }
    async getAllLayersForMap(e) {
        var t, i;
        return (0, _chunkZRT45YCMJs.g)(this, ta) ? null != (i = null == (t = (0, _chunkZRT45YCMJs.g)(this, ta)) ? void 0 : t.getAllLayersForMap(e)) ? i : [] : {};
    }
    showLayers(e) {
        (0, _chunkZRT45YCMJs.g)(this, ta) && (0, _chunkZRT45YCMJs.g)(this, ta).showLayers(e);
    }
    addGeoJSONLayer(e, t) {
        var i;
        return null == (i = (0, _chunkZRT45YCMJs.g)(this, ta)) ? void 0 : i.addGeoJSONLayer(e, t);
    }
    removeGeoJSONLayer(e) {
        var t;
        return null == (t = (0, _chunkZRT45YCMJs.g)(this, ta)) ? void 0 : t.removeGeoJSONLayer(e);
    }
};
ta = new WeakMap, (0, _chunkZRT45YCMJs.a)(dw, "Layers");
var h2 = dw;
(0, _chunkA5C75TI6Js.a)();
var xr, pw = class {
    constructor(e){
        (0, _chunkZRT45YCMJs.h)(this, xr, void 0), (0, _chunkZRT45YCMJs.i)(this, xr, e);
    }
    set setMapOnUserInteraction(e) {
        (0, _chunkZRT45YCMJs.g)(this, xr).mapShouldSetOnUserInteraction = e;
    }
    get setMapOnUserInteraction() {
        return (0, _chunkZRT45YCMJs.g)(this, xr).mapShouldSetOnUserInteraction;
    }
    update() {
        (0, _chunkZRT45YCMJs.g)(this, xr).determineTargetMap();
    }
    setDefaultMapForMapGroup(e, t) {
        !1 === (0, _chunkZRT45YCMJs.g)(this, xr).mapShouldSetOnUserInteraction ? R.warn("Dynamic Focus is disabled. Please enable it by setting setMapOnUserInteraction to true") : (0, _chunkZRT45YCMJs.g)(this, xr).setDefaultMapForMapGroup(e, t);
    }
    resetDefaultMapForMapGroup(e) {
        !1 === (0, _chunkZRT45YCMJs.g)(this, xr).mapShouldSetOnUserInteraction ? R.warn("Dynamic Focus is disabled. Please enable it by setting setMapOnUserInteraction to true") : (0, _chunkZRT45YCMJs.g)(this, xr).resetDefaultMapForMapGroup(e);
    }
};
xr = new WeakMap, (0, _chunkZRT45YCMJs.a)(pw, "DynamicFocus");
var $, d2 = pw, fw = class extends zi {
    constructor(e, t, i){
        super(), (0, _chunkZRT45YCMJs.h)(this, $, void 0), (0, _chunkZRT45YCMJs.f)(this, "Journey"), (0, _chunkZRT45YCMJs.f)(this, "Camera"), (0, _chunkZRT45YCMJs.f)(this, "FlatLabels"), (0, _chunkZRT45YCMJs.f)(this, "Exporter"), (0, _chunkZRT45YCMJs.f)(this, "FloatingLabels"), (0, _chunkZRT45YCMJs.f)(this, "Markers"), (0, _chunkZRT45YCMJs.f)(this, "Paths"), (0, _chunkZRT45YCMJs.f)(this, "BlueDot"), (0, _chunkZRT45YCMJs.f)(this, "options", {}), (0, _chunkZRT45YCMJs.f)(this, "StackedMaps"), (0, _chunkZRT45YCMJs.f)(this, "OutdoorView"), (0, _chunkZRT45YCMJs.f)(this, "Layers"), (0, _chunkZRT45YCMJs.f)(this, "DynamicFocus"), (0, _chunkZRT45YCMJs.f)(this, "on", (0, _chunkZRT45YCMJs.a)((...e)=>{
            super.on(...e);
        }, "on")), (0, _chunkZRT45YCMJs.f)(this, "off", (0, _chunkZRT45YCMJs.a)((...e)=>{
            super.off(...e);
        }, "off")), this.options = i || {}, (0, _chunkZRT45YCMJs.i)(this, $, new p_(e, t, i, this)), (0, _chunkZRT45YCMJs.g)(this, $).on(16, ({ position: e, polygons: t, maps: i, floatingLabels: n, nearBlueDot: r, paths: o, markers: s, tooltips: a })=>{
            this.publish("CLICK", {
                position: e,
                polygons: t,
                maps: i,
                floatingLabels: n,
                markers: s,
                tooltips: a,
                nearBlueDot: r,
                paths: o
            });
        }), (0, _chunkZRT45YCMJs.g)(this, $).on(7, ()=>{
            this.publish("MAP_CHANGED", this.currentMap), this.publish("MAP_CHANGED_WITH_REASON", {
                map: this.currentMap,
                reason: (0, _chunkZRT45YCMJs.g)(this, $).setMapReason
            }), (0, _chunkZRT45YCMJs.g)(this, $).setMapReason = void 0;
        }), (0, _chunkZRT45YCMJs.g)(this, $).on(5, ()=>{
            this.publish("MAP_CHANGED", this.currentMap);
        }), (0, _chunkZRT45YCMJs.g)(this, $).on(31, ()=>{
            this.publish("OUTDOOR_VIEW_LOADED");
        }), (0, _chunkZRT45YCMJs.g)(this, $).on(12, ({ state: e })=>{
            this.publish("STATE_CHANGE", e);
        }), (0, _chunkZRT45YCMJs.g)(this, $).onPolygonClicked = (e)=>{
            this.publish("POLYGON_CLICKED", t.polygons.find((t)=>t.id === e));
        }, (0, _chunkZRT45YCMJs.g)(this, $).onNothingClicked = ()=>{
            this.publish("NOTHING_CLICKED");
        }, this.Journey = new f_((0, _chunkZRT45YCMJs.g)(this, $)), this.BlueDot = new o2((0, _chunkZRT45YCMJs.g)(this, $).blueDot), this.FlatLabels = new n2((0, _chunkZRT45YCMJs.g)(this, $).flatLabels), this.FloatingLabels = new r2((0, _chunkZRT45YCMJs.g)(this, $).floatingLabels), this.Markers = new a2((0, _chunkZRT45YCMJs.g)(this, $).markers), this.Paths = new s2((0, _chunkZRT45YCMJs.g)(this, $).paths), this.Camera = new l2((0, _chunkZRT45YCMJs.g)(this, $).camera), this.StackedMaps = new c2((0, _chunkZRT45YCMJs.g)(this, $).stackedMaps), this.OutdoorView = new m_((0, _chunkZRT45YCMJs.g)(this, $).outdoorViewController), this.Exporter = new u2((0, _chunkZRT45YCMJs.g)(this, $).exportController), this.Layers = new h2((0, _chunkZRT45YCMJs.g)(this, $).layerController), (0, _chunkZRT45YCMJs.g)(this, $).sceneManager instanceof Ap && (this.DynamicFocus = new d2((0, _chunkZRT45YCMJs.g)(this, $).sceneManager));
    }
    labelAllLocations(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new zh({
            venue: t
        })), null != e && e.flatLabels ? this.FlatLabels.labelAllLocations(e) : this.FloatingLabels.labelAllLocations(e), [];
    }
    getNearestNodeByScreenCoordinates(e, t, i) {
        let n = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Bh({
            venue: n
        })), (0, _chunkZRT45YCMJs.g)(this, $).getNearestNodeByScreenCoordinate(e, t, i);
    }
    async setState(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new $h({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).setState(e);
    }
    get state() {
        return (0, _chunkZRT45YCMJs.g)(this, $).state;
    }
    get venue() {
        return (0, _chunkZRT45YCMJs.g)(this, $).venue;
    }
    get container() {
        return (0, _chunkZRT45YCMJs.g)(this, $).container;
    }
    get currentMap() {
        return (0, _chunkZRT45YCMJs.g)(this, $).venue.maps.find((e)=>(0, _chunkZRT45YCMJs.g)(this, $).currentMap === e.id);
    }
    removeAllInteractivePolygons() {
        let e = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Vh({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonInteraction.removeAllInteractivePolygons();
    }
    setMap(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Kh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).setMap(e);
    }
    setPolygonColor(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Jh({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonColors.setPolygonColor(e, t);
    }
    clearPolygonColor(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new _h({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonColors.clearPolygonColor(e);
    }
    clearAllPolygonColors() {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonColors.clearAllPolygonColors();
    }
    setPolygonOutlineColor(e) {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonColors.setPolygonOutlineColor(e);
    }
    addPolygonOutline(e) {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonColors.addPolygonOutline(e);
    }
    removePolygonOutline(e) {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonColors.removePolygonOutline(e);
    }
    removeAllPolygonOutlines() {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonColors.removeAllPolygonOutlines();
    }
    addInteractivePolygon(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Sh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonInteraction.addInteractivePolygon(e);
    }
    addInteractivePolygonsForAllLocations(e) {
        var t, i;
        let n = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Ih({
            exclude_type: !(null == (t = null == e ? void 0 : e.excludeTypes) || !t.length) || void 0,
            include_locations: !(null == (i = null == e ? void 0 : e.locations) || !i.length) || void 0,
            venue: n
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonInteraction.addInteractivePolygonsForAllLocations(e);
    }
    removeInteractivePolygon(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Yh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonInteraction.removeInteractivePolygon(e);
    }
    createMarker(e, t, i) {
        return this.Markers.add(e, t, i);
    }
    removeMarker(e) {
        this.Markers.remove(e);
    }
    removeAllMarkers() {
        let e = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Gh({
            venue: e
        })), this.Markers.removeAll();
    }
    removeAllTooltips() {
        let e = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Hh({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, $).tooltips.removeAllTooltips();
    }
    createTooltip(e, t, i) {
        let n = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Dh({
            venue: n
        })), (0, _chunkZRT45YCMJs.g)(this, $).tooltips.createTooltip(e, t, i);
    }
    createCustomTooltip(e, t, i, n) {
        let r = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Oh({
            venue: r
        })), (0, _chunkZRT45YCMJs.g)(this, $).tooltips.createCustomTooltip(e, t, i, n);
    }
    removeTooltip(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Xh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).tooltips.removeTooltip(e);
    }
    enableImageFlippingForAllLocations(e) {
        var t, i;
        let n = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Rh({
            exclude_type: !(null == (t = null == e ? void 0 : e.excludeTypes) || !t.length) || void 0,
            include_locations: !(null == (i = null == e ? void 0 : e.locations) || !i.length) || void 0,
            venue: n
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonImages.enableImageFlippingForAllLocations(e);
    }
    enableImageFlippingForPolygon(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new kh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonImages.enableImageFlippingForPolygon(e);
    }
    disableImageFlippingForAllPolygons() {
        let e = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new qh({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, $).polygonImages.disableImageFlippingForAllPolygons();
    }
    drawPath(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Nh({
            ...void 0 !== (null == t ? void 0 : t.animateDrawing) && {
                animate_drawing: t.animateDrawing
            },
            ...void 0 !== (null == t ? void 0 : t.displayArrowsOnPath) && {
                display_arrows_on_path: t.displayArrowsOnPath
            },
            ...void 0 !== (null == t ? void 0 : t.flattenPath) && {
                flatten_path: t.flattenPath
            },
            ...void 0 !== (null == t ? void 0 : t.showPulse) && {
                show_pulse: t.showPulse
            },
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, $).paths.drawPath(e, t).id;
    }
    removePath(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Wh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).paths.removePath(e);
    }
    removeAllPaths() {
        let e = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new jh({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, $).paths.removeAllPaths();
    }
    setBackgroundColor(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Zh({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, $).setBackgroundColor(e, t);
    }
    setHoverColor(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Qh({
            venue: t
        })), (0, _chunkZRT45YCMJs.g)(this, $).eventSystem.setHoverColor(e);
    }
    setPolygonHoverColor(e, t) {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonHoverColors.setPolygonHoverColor(e, t);
    }
    clearPolygonHoverColor(e) {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonHoverColors.clearPolygonHoverColor(e);
    }
    clearAllPolygonHoverColors() {
        (0, _chunkZRT45YCMJs.g)(this, $).polygonHoverColors.clearAllPolygonHoverColors();
    }
    tryRendering(e) {}
    getPrimaryLocationForPolygon(e) {
        let t = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Uh({
            venue: t
        })), Ms(e, this.venue);
    }
    getPolygonsAtCoordinate(e, t) {
        let i = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        return ae.addPendingEvent(new Fh({
            venue: i
        })), (0, _chunkZRT45YCMJs.g)(this, $).getPolygonsAtCoordinate(e, t);
    }
    getPolygonsAtScreenCoordinate(e, t, i) {
        return (0, _chunkZRT45YCMJs.g)(this, $).getPolygonsAtScreenCoordinate(e, t, i);
    }
    getMappedinCoordinateAtScreenCoordinate(e, t, i) {
        return (0, _chunkZRT45YCMJs.g)(this, $).convertScreenCoordinateToMapCoordinate(e, t, i);
    }
    setAmbientOcclusionSettings(e) {
        (0, _chunkZRT45YCMJs.g)(this, $).renderer.implementation.effectComposer.setAmbientOcclusionConfiguration(e), (0, _chunkZRT45YCMJs.g)(this, $).tryRendering();
    }
    setAntialiasSettings(e) {
        (0, _chunkZRT45YCMJs.g)(this, $).renderer.implementation.effectComposer.setAntialiasConfiguration(e), (0, _chunkZRT45YCMJs.g)(this, $).tryRendering();
    }
    destroy() {
        let e = (0, _chunkZRT45YCMJs.g)(this, $).venue.venue.slug;
        ae.addPendingEvent(new Lh({
            venue: e
        })), (0, _chunkZRT45YCMJs.g)(this, $).destroy();
    }
};
$ = new WeakMap, (0, _chunkZRT45YCMJs.a)(fw, "MapView");
var Mm = fw;
(0, _chunkA5C75TI6Js.a)();
var vw = class {
    constructor(e = "en-US", t = 256, i, n){
        (0, _chunkZRT45YCMJs.f)(this, "lang"), (0, _chunkZRT45YCMJs.f)(this, "apiKey"), (0, _chunkZRT45YCMJs.f)(this, "token"), (0, _chunkZRT45YCMJs.f)(this, "tileSize"), (0, _chunkZRT45YCMJs.f)(this, "tilesetId", "microsoft.base.road"), this.lang = e, this.tileSize = t, this.apiKey = i, this.token = n;
    }
    makeURL(e, t, i) {
        return "https://atlas.microsoft.com/map/tile?api-version=2.0&tilesetId=".concat(this.tilesetId, "&zoom=").concat(i, "&x=").concat(e, "&y=").concat(t, "&tileSize=").concat(this.tileSize, "&language=").concat(this.lang, "&view=Auto").concat(this.apiKey ? "&subscription-key=".concat(this.apiKey) : "");
    }
    fetchAttribution(e, t) {
        return fetch("https://atlas.microsoft.com/map/attribution?api-version=2022-08-01&tilesetId=".concat(this.tilesetId, "&zoom=").concat(e, "&bounds=").concat(t[0] + "," + t[1] + "," + t[2] + "," + t[3]).concat(this.apiKey ? "&subscription-key=".concat(this.apiKey) : ""), {
            headers: {
                Authorization: "jwt-sas ".concat(this.token)
            }
        });
    }
    fetchTile(e, t, i, n) {
        return fetch(this.makeURL(e, t, i), {
            signal: n,
            headers: {
                Authorization: "jwt-sas ".concat(this.token)
            }
        });
    }
};
(0, _chunkZRT45YCMJs.a)(vw, "AzureOutdoorContextProvider");
var mw = vw, yw = class {
    makeURL(e, t, i, n) {
        return null == n ? "https://tile.openstreetmap.org/".concat(i, "/").concat(e, "/").concat(t, ".png") : "https://".concat(n, "/").concat(i, "/").concat(e, "/").concat(t, ".png");
    }
    async fetchTile(e, t, i, n, r) {
        return fetch(this.makeURL(e, t, i, r), {
            signal: n
        });
    }
};
(0, _chunkZRT45YCMJs.a)(yw, "OpenStreetMapOutdoorContext");
var gw = yw;
function gMe(e, t, i) {
    return new Promise((n, r)=>{
        var o, s, a;
        try {
            let { slug: r } = t.venue, l = new Mm(e, t, {
                ...i,
                onFirstMapLoaded () {
                    ae.sendEventNow(new ed({
                        venue: r
                    })), n(l);
                }
            });
            kn.create({
                ...null == (o = null == l ? void 0 : l.venue) ? void 0 : o.options,
                testMode: !(null != (a = null == (s = null == l ? void 0 : l.venue) ? void 0 : s.options) && a.emitAnalyticsEvents)
            }).mapViewLoaded("3d", !1, -1, ""), ae.addPendingEvent(new gh({
                venue: r
            }));
        } catch (e) {
            r(e);
        }
    });
}
function EMe(e) {
    Qa.ENABLED = !0, null != e && (Qa.OPTIONS = e);
}
function MMe(e) {
    mr.ENABLED = !0, null != e && (mr.OPTIONS = {
        ...mr.OPTIONS,
        ...e
    });
}
(0, _chunkZRT45YCMJs.a)(gMe, "showVenue"), (0, _chunkZRT45YCMJs.a)(EMe, "__enableTileManager"), (0, _chunkZRT45YCMJs.a)(MMe, "__showWatermark");

},{"./chunk-4XLXKB34.js":"aezwX","./chunk-A5C75TI6.js":"1qWho","./chunk-ZRT45YCM.js":"cpJAp","1644b1b23487925a":"2mYir","10456e581c28b1c":"40Qz9","86069125e75c7bcc":"hsbVk","acdec55bb19b447b":"2AQes","e9d46027c034d000":"iyPTa","e455ac7fb1276f9":"gLwi1","f94de3cd43c7a3f7":"aCqAc","925cc017cb2958e4":"2niDS","d3f49d3b805ec5ae":"dBv18","9d1903769c7848f8":"PMiT0","46b764d18178a48d":"D6ND1","ddc34be949dc95a6":"3KoBW","@parcel/transformer-js/src/esmodule-helpers.js":"gkKU3"}],"aezwX":[function(require,module,exports) {
var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
parcelHelpers.defineInteropFlag(exports);
parcelHelpers.export(exports, "a", ()=>io);
parcelHelpers.export(exports, "b", ()=>Z0);
parcelHelpers.export(exports, "c", ()=>yn);
parcelHelpers.export(exports, "d", ()=>Te);
parcelHelpers.export(exports, "e", ()=>nn);
parcelHelpers.export(exports, "f", ()=>_n);
parcelHelpers.export(exports, "g", ()=>vl);
parcelHelpers.export(exports, "h", ()=>Tu);
parcelHelpers.export(exports, "i", ()=>ma);
parcelHelpers.export(exports, "j", ()=>Be);
parcelHelpers.export(exports, "k", ()=>ga);
parcelHelpers.export(exports, "l", ()=>fe);
parcelHelpers.export(exports, "m", ()=>Sl);
parcelHelpers.export(exports, "n", ()=>Ti);
parcelHelpers.export(exports, "o", ()=>we);
parcelHelpers.export(exports, "p", ()=>Tr);
parcelHelpers.export(exports, "q", ()=>On);
parcelHelpers.export(exports, "r", ()=>vn);
parcelHelpers.export(exports, "s", ()=>gn);
parcelHelpers.export(exports, "t", ()=>sn);
parcelHelpers.export(exports, "u", ()=>Bi);
parcelHelpers.export(exports, "v", ()=>Bn);
parcelHelpers.export(exports, "w", ()=>ze);
parcelHelpers.export(exports, "x", ()=>Mi);
parcelHelpers.export(exports, "y", ()=>zd);
parcelHelpers.export(exports, "z", ()=>Us);
parcelHelpers.export(exports, "A", ()=>Ds);
parcelHelpers.export(exports, "B", ()=>Hd);
parcelHelpers.export(exports, "C", ()=>Gd);
parcelHelpers.export(exports, "D", ()=>mn);
parcelHelpers.export(exports, "E", ()=>Xe);
parcelHelpers.export(exports, "F", ()=>En);
parcelHelpers.export(exports, "G", ()=>Wn);
parcelHelpers.export(exports, "H", ()=>J0);
parcelHelpers.export(exports, "I", ()=>$0);
parcelHelpers.export(exports, "J", ()=>Kl);
parcelHelpers.export(exports, "K", ()=>Mn);
parcelHelpers.export(exports, "L", ()=>K0);
parcelHelpers.export(exports, "M", ()=>ht);
parcelHelpers.export(exports, "N", ()=>Vs);
parcelHelpers.export(exports, "O", ()=>xe);
parcelHelpers.export(exports, "P", ()=>te);
parcelHelpers.export(exports, "Q", ()=>Ye);
parcelHelpers.export(exports, "R", ()=>Sn);
parcelHelpers.export(exports, "S", ()=>P);
parcelHelpers.export(exports, "T", ()=>bn);
parcelHelpers.export(exports, "U", ()=>Si);
parcelHelpers.export(exports, "V", ()=>ee);
parcelHelpers.export(exports, "W", ()=>Ve);
parcelHelpers.export(exports, "X", ()=>be);
parcelHelpers.export(exports, "Y", ()=>Ht);
parcelHelpers.export(exports, "Z", ()=>an);
parcelHelpers.export(exports, "_", ()=>Gs);
parcelHelpers.export(exports, "$", ()=>Se);
parcelHelpers.export(exports, "aa", ()=>Ee);
parcelHelpers.export(exports, "ba", ()=>ke);
parcelHelpers.export(exports, "ca", ()=>Gi);
parcelHelpers.export(exports, "da", ()=>He);
parcelHelpers.export(exports, "ea", ()=>qs);
parcelHelpers.export(exports, "fa", ()=>Ae);
parcelHelpers.export(exports, "ga", ()=>Wi);
parcelHelpers.export(exports, "ha", ()=>Zs);
parcelHelpers.export(exports, "ia", ()=>Js);
parcelHelpers.export(exports, "ja", ()=>Ks);
parcelHelpers.export(exports, "ka", ()=>Ca);
parcelHelpers.export(exports, "la", ()=>li);
parcelHelpers.export(exports, "ma", ()=>Da);
parcelHelpers.export(exports, "na", ()=>Na);
parcelHelpers.export(exports, "oa", ()=>kh);
parcelHelpers.export(exports, "pa", ()=>Vh);
parcelHelpers.export(exports, "qa", ()=>Hh);
parcelHelpers.export(exports, "ra", ()=>Xi);
parcelHelpers.export(exports, "sa", ()=>Qs);
parcelHelpers.export(exports, "ta", ()=>Zh);
parcelHelpers.export(exports, "ua", ()=>Jh);
parcelHelpers.export(exports, "va", ()=>Ba);
parcelHelpers.export(exports, "wa", ()=>Yi);
parcelHelpers.export(exports, "xa", ()=>Kh);
parcelHelpers.export(exports, "ya", ()=>Qh);
parcelHelpers.export(exports, "za", ()=>_i);
parcelHelpers.export(exports, "Aa", ()=>nu);
parcelHelpers.export(exports, "Ba", ()=>iu);
parcelHelpers.export(exports, "Ca", ()=>su);
parcelHelpers.export(exports, "Da", ()=>ru);
parcelHelpers.export(exports, "Ea", ()=>au);
parcelHelpers.export(exports, "Fa", ()=>Ka);
parcelHelpers.export(exports, "Ga", ()=>cu);
parcelHelpers.export(exports, "Ha", ()=>du);
parcelHelpers.export(exports, "Ia", ()=>fu);
parcelHelpers.export(exports, "Ja", ()=>pu);
parcelHelpers.export(exports, "Ka", ()=>mu);
parcelHelpers.export(exports, "La", ()=>gu);
parcelHelpers.export(exports, "Ma", ()=>jt);
parcelHelpers.export(exports, "Na", ()=>xu);
parcelHelpers.export(exports, "Oa", ()=>yu);
parcelHelpers.export(exports, "Pa", ()=>Su);
parcelHelpers.export(exports, "Qa", ()=>bu);
parcelHelpers.export(exports, "Ra", ()=>Eu);
parcelHelpers.export(exports, "Sa", ()=>wu);
var _chunkA5C75TI6Js = require("./chunk-A5C75TI6.js");
var _chunkZRT45YCMJs = require("./chunk-ZRT45YCM.js");
(0, _chunkA5C75TI6Js.a)();
var io = "162", Z0 = {
    LEFT: 0,
    MIDDLE: 1,
    RIGHT: 2,
    ROTATE: 0,
    DOLLY: 1,
    PAN: 2
}, ju = 0, gl = 1, td = 2, Au = 1, ed = 2, tn = 3, yn = 0, Te = 1, nn = 2, _n = 0, fi = 1, _l = 2, xl = 3, vl = 4, nd = 5, Dn = 100, id = 101, sd = 102, yl = 103, Ml = 104, rd = 200, ad = 201, od = 202, cd = 203, ua = 204, da = 205, ld = 206, hd = 207, ud = 208, dd = 209, fd = 210, pd = 211, md = 212, gd = 213, _d = 214, xd = 0, vd = 1, yd = 2, Ls = 3, Md = 4, Sd = 5, bd = 6, Ed = 7, so = 0, wd = 1, Ad = 2, xn = 0, Td = 1, Rd = 2, Cd = 3, Pd = 4, Id = 5, Ld = 6, Ud = 7, Tu = 300, vi = 301, yi = 302, fa = 303, pa = 304, vr = 306, ma = 1e3, Be = 1001, ga = 1002, fe = 1003, Sl = 1004, Ti = 1005, we = 1006, Tr = 1007, On = 1008, vn = 1009, Dd = 1010, Nd = 1011, ro = 1012, Ru = 1013, gn = 1014, sn = 1015, Bi = 1016, Cu = 1017, Pu = 1018, Bn = 1020, Od = 1021, ze = 1023, Fd = 1024, Bd = 1025, zn = 1026, Mi = 1027, zd = 1028, Iu = 1029, kd = 1030, Lu = 1031, Uu = 1033, Rr = 33776, Cr = 33777, Pr = 33778, Ir = 33779, bl = 35840, El = 35841, wl = 35842, Al = 35843, Du = 36196, Tl = 37492, Rl = 37496, Cl = 37808, Pl = 37809, Il = 37810, Ll = 37811, Ul = 37812, Dl = 37813, Nl = 37814, Ol = 37815, Fl = 37816, Bl = 37817, zl = 37818, kl = 37819, Vl = 37820, Hl = 37821, Lr = 36492, Gl = 36494, Wl = 36495, Vd = 36283, Xl = 36284, ql = 36285, Yl = 36286, Us = 2300, Ds = 2301, Ur = 2302, Zl = 2400, Jl = 2401, $l = 2402, Hd = 3200, Gd = 3201, ao = 0, Wd = 1, mn = "", Xe = "srgb", En = "srgb-linear", oo = "display-p3", yr = "display-p3-linear", Ns = "linear", $t = "srgb", Os = "rec709", Fs = "p3", Wn = 7680, J0 = 7681, $0 = 514, Kl = 519, Xd = 512, qd = 513, Yd = 514, Nu = 515, Zd = 516, Jd = 517, $d = 518, Kd = 519, Ql = 35044, jl = "300 es", _a = 1035, rn = 2e3, Bs = 2001, po = class {
    addEventListener(e1, t) {
        void 0 === this._listeners && (this._listeners = {});
        let n = this._listeners;
        void 0 === n[e1] && (n[e1] = []), -1 === n[e1].indexOf(t) && n[e1].push(t);
    }
    hasEventListener(e1, t) {
        if (void 0 === this._listeners) return !1;
        let n = this._listeners;
        return void 0 !== n[e1] && -1 !== n[e1].indexOf(t);
    }
    removeEventListener(e1, t) {
        if (void 0 === this._listeners) return;
        let n = this._listeners[e1];
        if (void 0 !== n) {
            let e1 = n.indexOf(t);
            -1 !== e1 && n.splice(e1, 1);
        }
    }
    dispatchEvent(e1) {
        if (void 0 === this._listeners) return;
        let t = this._listeners[e1.type];
        if (void 0 !== t) {
            e1.target = this;
            let n = t.slice(0);
            for(let t = 0, i = n.length; t < i; t++)n[t].call(this, e1);
            e1.target = null;
        }
    }
};
(0, _chunkZRT45YCMJs.a)(po, "EventDispatcher");
var Mn = po, ge = [
    "00",
    "01",
    "02",
    "03",
    "04",
    "05",
    "06",
    "07",
    "08",
    "09",
    "0a",
    "0b",
    "0c",
    "0d",
    "0e",
    "0f",
    "10",
    "11",
    "12",
    "13",
    "14",
    "15",
    "16",
    "17",
    "18",
    "19",
    "1a",
    "1b",
    "1c",
    "1d",
    "1e",
    "1f",
    "20",
    "21",
    "22",
    "23",
    "24",
    "25",
    "26",
    "27",
    "28",
    "29",
    "2a",
    "2b",
    "2c",
    "2d",
    "2e",
    "2f",
    "30",
    "31",
    "32",
    "33",
    "34",
    "35",
    "36",
    "37",
    "38",
    "39",
    "3a",
    "3b",
    "3c",
    "3d",
    "3e",
    "3f",
    "40",
    "41",
    "42",
    "43",
    "44",
    "45",
    "46",
    "47",
    "48",
    "49",
    "4a",
    "4b",
    "4c",
    "4d",
    "4e",
    "4f",
    "50",
    "51",
    "52",
    "53",
    "54",
    "55",
    "56",
    "57",
    "58",
    "59",
    "5a",
    "5b",
    "5c",
    "5d",
    "5e",
    "5f",
    "60",
    "61",
    "62",
    "63",
    "64",
    "65",
    "66",
    "67",
    "68",
    "69",
    "6a",
    "6b",
    "6c",
    "6d",
    "6e",
    "6f",
    "70",
    "71",
    "72",
    "73",
    "74",
    "75",
    "76",
    "77",
    "78",
    "79",
    "7a",
    "7b",
    "7c",
    "7d",
    "7e",
    "7f",
    "80",
    "81",
    "82",
    "83",
    "84",
    "85",
    "86",
    "87",
    "88",
    "89",
    "8a",
    "8b",
    "8c",
    "8d",
    "8e",
    "8f",
    "90",
    "91",
    "92",
    "93",
    "94",
    "95",
    "96",
    "97",
    "98",
    "99",
    "9a",
    "9b",
    "9c",
    "9d",
    "9e",
    "9f",
    "a0",
    "a1",
    "a2",
    "a3",
    "a4",
    "a5",
    "a6",
    "a7",
    "a8",
    "a9",
    "aa",
    "ab",
    "ac",
    "ad",
    "ae",
    "af",
    "b0",
    "b1",
    "b2",
    "b3",
    "b4",
    "b5",
    "b6",
    "b7",
    "b8",
    "b9",
    "ba",
    "bb",
    "bc",
    "bd",
    "be",
    "bf",
    "c0",
    "c1",
    "c2",
    "c3",
    "c4",
    "c5",
    "c6",
    "c7",
    "c8",
    "c9",
    "ca",
    "cb",
    "cc",
    "cd",
    "ce",
    "cf",
    "d0",
    "d1",
    "d2",
    "d3",
    "d4",
    "d5",
    "d6",
    "d7",
    "d8",
    "d9",
    "da",
    "db",
    "dc",
    "dd",
    "de",
    "df",
    "e0",
    "e1",
    "e2",
    "e3",
    "e4",
    "e5",
    "e6",
    "e7",
    "e8",
    "e9",
    "ea",
    "eb",
    "ec",
    "ed",
    "ee",
    "ef",
    "f0",
    "f1",
    "f2",
    "f3",
    "f4",
    "f5",
    "f6",
    "f7",
    "f8",
    "f9",
    "fa",
    "fb",
    "fc",
    "fd",
    "fe",
    "ff"
], th = 1234567, pi = Math.PI / 180, zi = 180 / Math.PI;
function Gn() {
    let e1 = 4294967295 * Math.random() | 0, t = 4294967295 * Math.random() | 0, n = 4294967295 * Math.random() | 0, i = 4294967295 * Math.random() | 0;
    return (ge[255 & e1] + ge[e1 >> 8 & 255] + ge[e1 >> 16 & 255] + ge[e1 >> 24 & 255] + "-" + ge[255 & t] + ge[t >> 8 & 255] + "-" + ge[t >> 16 & 15 | 64] + ge[t >> 24 & 255] + "-" + ge[63 & n | 128] + ge[n >> 8 & 255] + "-" + ge[n >> 16 & 255] + ge[n >> 24 & 255] + ge[255 & i] + ge[i >> 8 & 255] + ge[i >> 16 & 255] + ge[i >> 24 & 255]).toLowerCase();
}
function pe(e1, t, n) {
    return Math.max(t, Math.min(n, e1));
}
function co(e1, t) {
    return (e1 % t + t) % t;
}
function Qd(e1, t, n, i, r) {
    return i + (e1 - t) * (r - i) / (n - t);
}
function jd(e1, t, n) {
    return e1 !== t ? (n - e1) / (t - e1) : 0;
}
function Ui(e1, t, n) {
    return (1 - n) * e1 + n * t;
}
function tf(e1, t, n, i) {
    return Ui(e1, t, 1 - Math.exp(-n * i));
}
function ef(e1, t = 1) {
    return t - Math.abs(co(e1, 2 * t) - t);
}
function nf(e1, t, n) {
    return e1 <= t ? 0 : e1 >= n ? 1 : (e1 = (e1 - t) / (n - t)) * e1 * (3 - 2 * e1);
}
function sf(e1, t, n) {
    return e1 <= t ? 0 : e1 >= n ? 1 : (e1 = (e1 - t) / (n - t)) * e1 * e1 * (e1 * (6 * e1 - 15) + 10);
}
function rf(e1, t) {
    return e1 + Math.floor(Math.random() * (t - e1 + 1));
}
function af(e1, t) {
    return e1 + Math.random() * (t - e1);
}
function of(e1) {
    return e1 * (.5 - Math.random());
}
function cf(e1) {
    void 0 !== e1 && (th = e1);
    let t = th += 1831565813;
    return t = Math.imul(t ^ t >>> 15, 1 | t), t ^= t + Math.imul(t ^ t >>> 7, 61 | t), ((t ^ t >>> 14) >>> 0) / 4294967296;
}
function lf(e1) {
    return e1 * pi;
}
function hf(e1) {
    return e1 * zi;
}
function xa(e1) {
    return 0 == (e1 & e1 - 1) && 0 !== e1;
}
function uf(e1) {
    return Math.pow(2, Math.ceil(Math.log(e1) / Math.LN2));
}
function zs(e1) {
    return Math.pow(2, Math.floor(Math.log(e1) / Math.LN2));
}
function df(e1, t, n, i, r) {
    let a = Math.cos, s = Math.sin, o = a(n / 2), l = s(n / 2), u = a((t + i) / 2), h = s((t + i) / 2), c = a((t - i) / 2), d = s((t - i) / 2), p = a((i - t) / 2), f = s((i - t) / 2);
    switch(r){
        case "XYX":
            e1.set(o * h, l * c, l * d, o * u);
            break;
        case "YZY":
            e1.set(l * d, o * h, l * c, o * u);
            break;
        case "ZXZ":
            e1.set(l * c, l * d, o * h, o * u);
            break;
        case "XZX":
            e1.set(o * h, l * f, l * p, o * u);
            break;
        case "YXY":
            e1.set(l * p, o * h, l * f, o * u);
            break;
        case "ZYZ":
            e1.set(l * f, l * p, o * h, o * u);
            break;
        default:
            console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: " + r);
    }
}
function ai(e1, t) {
    switch(t.constructor){
        case Float32Array:
            return e1;
        case Uint32Array:
            return e1 / 4294967295;
        case Uint16Array:
            return e1 / 65535;
        case Uint8Array:
            return e1 / 255;
        case Int32Array:
            return Math.max(e1 / 2147483647, -1);
        case Int16Array:
            return Math.max(e1 / 32767, -1);
        case Int8Array:
            return Math.max(e1 / 127, -1);
        default:
            throw new Error("Invalid component type.");
    }
}
function ye(e1, t) {
    switch(t.constructor){
        case Float32Array:
            return e1;
        case Uint32Array:
            return Math.round(4294967295 * e1);
        case Uint16Array:
            return Math.round(65535 * e1);
        case Uint8Array:
            return Math.round(255 * e1);
        case Int32Array:
            return Math.round(2147483647 * e1);
        case Int16Array:
            return Math.round(32767 * e1);
        case Int8Array:
            return Math.round(127 * e1);
        default:
            throw new Error("Invalid component type.");
    }
}
(0, _chunkZRT45YCMJs.a)(Gn, "generateUUID"), (0, _chunkZRT45YCMJs.a)(pe, "clamp"), (0, _chunkZRT45YCMJs.a)(co, "euclideanModulo"), (0, _chunkZRT45YCMJs.a)(Qd, "mapLinear"), (0, _chunkZRT45YCMJs.a)(jd, "inverseLerp"), (0, _chunkZRT45YCMJs.a)(Ui, "lerp"), (0, _chunkZRT45YCMJs.a)(tf, "damp"), (0, _chunkZRT45YCMJs.a)(ef, "pingpong"), (0, _chunkZRT45YCMJs.a)(nf, "smoothstep"), (0, _chunkZRT45YCMJs.a)(sf, "smootherstep"), (0, _chunkZRT45YCMJs.a)(rf, "randInt"), (0, _chunkZRT45YCMJs.a)(af, "randFloat"), (0, _chunkZRT45YCMJs.a)(of, "randFloatSpread"), (0, _chunkZRT45YCMJs.a)(cf, "seededRandom"), (0, _chunkZRT45YCMJs.a)(lf, "degToRad"), (0, _chunkZRT45YCMJs.a)(hf, "radToDeg"), (0, _chunkZRT45YCMJs.a)(xa, "isPowerOfTwo"), (0, _chunkZRT45YCMJs.a)(uf, "ceilPowerOfTwo"), (0, _chunkZRT45YCMJs.a)(zs, "floorPowerOfTwo"), (0, _chunkZRT45YCMJs.a)(df, "setQuaternionFromProperEuler"), (0, _chunkZRT45YCMJs.a)(ai, "denormalize"), (0, _chunkZRT45YCMJs.a)(ye, "normalize");
var K0 = {
    DEG2RAD: pi,
    RAD2DEG: zi,
    generateUUID: Gn,
    clamp: pe,
    euclideanModulo: co,
    mapLinear: Qd,
    inverseLerp: jd,
    lerp: Ui,
    damp: tf,
    pingpong: ef,
    smoothstep: nf,
    smootherstep: sf,
    randInt: rf,
    randFloat: af,
    randFloatSpread: of,
    seededRandom: cf,
    degToRad: lf,
    radToDeg: hf,
    isPowerOfTwo: xa,
    ceilPowerOfTwo: uf,
    floorPowerOfTwo: zs,
    setQuaternionFromProperEuler: df,
    normalize: ye,
    denormalize: ai
}, ar = class e1 {
    constructor(t = 0, n = 0){
        e1.prototype.isVector2 = !0, this.x = t, this.y = n;
    }
    get width() {
        return this.x;
    }
    set width(e1) {
        this.x = e1;
    }
    get height() {
        return this.y;
    }
    set height(e1) {
        this.y = e1;
    }
    set(e1, t) {
        return this.x = e1, this.y = t, this;
    }
    setScalar(e1) {
        return this.x = e1, this.y = e1, this;
    }
    setX(e1) {
        return this.x = e1, this;
    }
    setY(e1) {
        return this.y = e1, this;
    }
    setComponent(e1, t) {
        switch(e1){
            case 0:
                this.x = t;
                break;
            case 1:
                this.y = t;
                break;
            default:
                throw new Error("index is out of range: " + e1);
        }
        return this;
    }
    getComponent(e1) {
        switch(e1){
            case 0:
                return this.x;
            case 1:
                return this.y;
            default:
                throw new Error("index is out of range: " + e1);
        }
    }
    clone() {
        return new this.constructor(this.x, this.y);
    }
    copy(e1) {
        return this.x = e1.x, this.y = e1.y, this;
    }
    add(e1) {
        return this.x += e1.x, this.y += e1.y, this;
    }
    addScalar(e1) {
        return this.x += e1, this.y += e1, this;
    }
    addVectors(e1, t) {
        return this.x = e1.x + t.x, this.y = e1.y + t.y, this;
    }
    addScaledVector(e1, t) {
        return this.x += e1.x * t, this.y += e1.y * t, this;
    }
    sub(e1) {
        return this.x -= e1.x, this.y -= e1.y, this;
    }
    subScalar(e1) {
        return this.x -= e1, this.y -= e1, this;
    }
    subVectors(e1, t) {
        return this.x = e1.x - t.x, this.y = e1.y - t.y, this;
    }
    multiply(e1) {
        return this.x *= e1.x, this.y *= e1.y, this;
    }
    multiplyScalar(e1) {
        return this.x *= e1, this.y *= e1, this;
    }
    divide(e1) {
        return this.x /= e1.x, this.y /= e1.y, this;
    }
    divideScalar(e1) {
        return this.multiplyScalar(1 / e1);
    }
    applyMatrix3(e1) {
        let t = this.x, n = this.y, i = e1.elements;
        return this.x = i[0] * t + i[3] * n + i[6], this.y = i[1] * t + i[4] * n + i[7], this;
    }
    min(e1) {
        return this.x = Math.min(this.x, e1.x), this.y = Math.min(this.y, e1.y), this;
    }
    max(e1) {
        return this.x = Math.max(this.x, e1.x), this.y = Math.max(this.y, e1.y), this;
    }
    clamp(e1, t) {
        return this.x = Math.max(e1.x, Math.min(t.x, this.x)), this.y = Math.max(e1.y, Math.min(t.y, this.y)), this;
    }
    clampScalar(e1, t) {
        return this.x = Math.max(e1, Math.min(t, this.x)), this.y = Math.max(e1, Math.min(t, this.y)), this;
    }
    clampLength(e1, t) {
        let n = this.length();
        return this.divideScalar(n || 1).multiplyScalar(Math.max(e1, Math.min(t, n)));
    }
    floor() {
        return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this;
    }
    ceil() {
        return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this;
    }
    round() {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this;
    }
    roundToZero() {
        return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this;
    }
    negate() {
        return this.x = -this.x, this.y = -this.y, this;
    }
    dot(e1) {
        return this.x * e1.x + this.y * e1.y;
    }
    cross(e1) {
        return this.x * e1.y - this.y * e1.x;
    }
    lengthSq() {
        return this.x * this.x + this.y * this.y;
    }
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y);
    }
    manhattanLength() {
        return Math.abs(this.x) + Math.abs(this.y);
    }
    normalize() {
        return this.divideScalar(this.length() || 1);
    }
    angle() {
        return Math.atan2(-this.y, -this.x) + Math.PI;
    }
    angleTo(e1) {
        let t = Math.sqrt(this.lengthSq() * e1.lengthSq());
        if (0 === t) return Math.PI / 2;
        let n = this.dot(e1) / t;
        return Math.acos(pe(n, -1, 1));
    }
    distanceTo(e1) {
        return Math.sqrt(this.distanceToSquared(e1));
    }
    distanceToSquared(e1) {
        let t = this.x - e1.x, n = this.y - e1.y;
        return t * t + n * n;
    }
    manhattanDistanceTo(e1) {
        return Math.abs(this.x - e1.x) + Math.abs(this.y - e1.y);
    }
    setLength(e1) {
        return this.normalize().multiplyScalar(e1);
    }
    lerp(e1, t) {
        return this.x += (e1.x - this.x) * t, this.y += (e1.y - this.y) * t, this;
    }
    lerpVectors(e1, t, n) {
        return this.x = e1.x + (t.x - e1.x) * n, this.y = e1.y + (t.y - e1.y) * n, this;
    }
    equals(e1) {
        return e1.x === this.x && e1.y === this.y;
    }
    fromArray(e1, t = 0) {
        return this.x = e1[t], this.y = e1[t + 1], this;
    }
    toArray(e1 = [], t = 0) {
        return e1[t] = this.x, e1[t + 1] = this.y, e1;
    }
    fromBufferAttribute(e1, t) {
        return this.x = e1.getX(t), this.y = e1.getY(t), this;
    }
    rotateAround(e1, t) {
        let n = Math.cos(t), i = Math.sin(t), r = this.x - e1.x, a = this.y - e1.y;
        return this.x = r * n - a * i + e1.x, this.y = r * i + a * n + e1.y, this;
    }
    random() {
        return this.x = Math.random(), this.y = Math.random(), this;
    }
    *[Symbol.iterator]() {
        yield this.x, yield this.y;
    }
};
(0, _chunkZRT45YCMJs.a)(ar, "Vector2");
var ht = ar, or = class e1 {
    constructor(t, n, i, r, a, s, o, l, u){
        e1.prototype.isMatrix3 = !0, this.elements = [
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1
        ], void 0 !== t && this.set(t, n, i, r, a, s, o, l, u);
    }
    set(e1, t, n, i, r, a, s, o, l) {
        let u = this.elements;
        return u[0] = e1, u[1] = i, u[2] = s, u[3] = t, u[4] = r, u[5] = o, u[6] = n, u[7] = a, u[8] = l, this;
    }
    identity() {
        return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this;
    }
    copy(e1) {
        let t = this.elements, n = e1.elements;
        return t[0] = n[0], t[1] = n[1], t[2] = n[2], t[3] = n[3], t[4] = n[4], t[5] = n[5], t[6] = n[6], t[7] = n[7], t[8] = n[8], this;
    }
    extractBasis(e1, t, n) {
        return e1.setFromMatrix3Column(this, 0), t.setFromMatrix3Column(this, 1), n.setFromMatrix3Column(this, 2), this;
    }
    setFromMatrix4(e1) {
        let t = e1.elements;
        return this.set(t[0], t[4], t[8], t[1], t[5], t[9], t[2], t[6], t[10]), this;
    }
    multiply(e1) {
        return this.multiplyMatrices(this, e1);
    }
    premultiply(e1) {
        return this.multiplyMatrices(e1, this);
    }
    multiplyMatrices(e1, t) {
        let n = e1.elements, i = t.elements, r = this.elements, a = n[0], s = n[3], o = n[6], l = n[1], u = n[4], h = n[7], c = n[2], d = n[5], p = n[8], f = i[0], m = i[3], g = i[6], _ = i[1], v = i[4], x = i[7], y = i[2], M = i[5], S = i[8];
        return r[0] = a * f + s * _ + o * y, r[3] = a * m + s * v + o * M, r[6] = a * g + s * x + o * S, r[1] = l * f + u * _ + h * y, r[4] = l * m + u * v + h * M, r[7] = l * g + u * x + h * S, r[2] = c * f + d * _ + p * y, r[5] = c * m + d * v + p * M, r[8] = c * g + d * x + p * S, this;
    }
    multiplyScalar(e1) {
        let t = this.elements;
        return t[0] *= e1, t[3] *= e1, t[6] *= e1, t[1] *= e1, t[4] *= e1, t[7] *= e1, t[2] *= e1, t[5] *= e1, t[8] *= e1, this;
    }
    determinant() {
        let e1 = this.elements, t = e1[0], n = e1[1], i = e1[2], r = e1[3], a = e1[4], s = e1[5], o = e1[6], l = e1[7], u = e1[8];
        return t * a * u - t * s * l - n * r * u + n * s * o + i * r * l - i * a * o;
    }
    invert() {
        let e1 = this.elements, t = e1[0], n = e1[1], i = e1[2], r = e1[3], a = e1[4], s = e1[5], o = e1[6], l = e1[7], u = e1[8], h = u * a - s * l, c = s * o - u * r, d = l * r - a * o, p = t * h + n * c + i * d;
        if (0 === p) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);
        let f = 1 / p;
        return e1[0] = h * f, e1[1] = (i * l - u * n) * f, e1[2] = (s * n - i * a) * f, e1[3] = c * f, e1[4] = (u * t - i * o) * f, e1[5] = (i * r - s * t) * f, e1[6] = d * f, e1[7] = (n * o - l * t) * f, e1[8] = (a * t - n * r) * f, this;
    }
    transpose() {
        let e1, t = this.elements;
        return e1 = t[1], t[1] = t[3], t[3] = e1, e1 = t[2], t[2] = t[6], t[6] = e1, e1 = t[5], t[5] = t[7], t[7] = e1, this;
    }
    getNormalMatrix(e1) {
        return this.setFromMatrix4(e1).invert().transpose();
    }
    transposeIntoArray(e1) {
        let t = this.elements;
        return e1[0] = t[0], e1[1] = t[3], e1[2] = t[6], e1[3] = t[1], e1[4] = t[4], e1[5] = t[7], e1[6] = t[2], e1[7] = t[5], e1[8] = t[8], this;
    }
    setUvTransform(e1, t, n, i, r, a, s) {
        let o = Math.cos(r), l = Math.sin(r);
        return this.set(n * o, n * l, -n * (o * a + l * s) + a + e1, -i * l, i * o, -i * (-l * a + o * s) + s + t, 0, 0, 1), this;
    }
    scale(e1, t) {
        return this.premultiply(Dr.makeScale(e1, t)), this;
    }
    rotate(e1) {
        return this.premultiply(Dr.makeRotation(-e1)), this;
    }
    translate(e1, t) {
        return this.premultiply(Dr.makeTranslation(e1, t)), this;
    }
    makeTranslation(e1, t) {
        return e1.isVector2 ? this.set(1, 0, e1.x, 0, 1, e1.y, 0, 0, 1) : this.set(1, 0, e1, 0, 1, t, 0, 0, 1), this;
    }
    makeRotation(e1) {
        let t = Math.cos(e1), n = Math.sin(e1);
        return this.set(t, -n, 0, n, t, 0, 0, 0, 1), this;
    }
    makeScale(e1, t) {
        return this.set(e1, 0, 0, 0, t, 0, 0, 0, 1), this;
    }
    equals(e1) {
        let t = this.elements, n = e1.elements;
        for(let e1 = 0; e1 < 9; e1++)if (t[e1] !== n[e1]) return !1;
        return !0;
    }
    fromArray(e1, t = 0) {
        for(let n = 0; n < 9; n++)this.elements[n] = e1[n + t];
        return this;
    }
    toArray(e1 = [], t = 0) {
        let n = this.elements;
        return e1[t] = n[0], e1[t + 1] = n[1], e1[t + 2] = n[2], e1[t + 3] = n[3], e1[t + 4] = n[4], e1[t + 5] = n[5], e1[t + 6] = n[6], e1[t + 7] = n[7], e1[t + 8] = n[8], e1;
    }
    clone() {
        return (new this.constructor).fromArray(this.elements);
    }
};
(0, _chunkZRT45YCMJs.a)(or, "Matrix3");
var zt = or, Dr = new zt;
function Ou(e1) {
    for(let t = e1.length - 1; t >= 0; --t)if (e1[t] >= 65535) return !0;
    return !1;
}
function ki(e1) {
    return document.createElementNS("http://www.w3.org/1999/xhtml", e1);
}
function ff() {
    let e1 = ki("canvas");
    return e1.style.display = "block", e1;
}
(0, _chunkZRT45YCMJs.a)(Ou, "arrayNeedsUint32"), (0, _chunkZRT45YCMJs.a)(ki, "createElementNS"), (0, _chunkZRT45YCMJs.a)(ff, "createCanvasElement");
var eh = {};
function pf(e1) {
    e1 in eh || (eh[e1] = !0, console.warn(e1));
}
(0, _chunkZRT45YCMJs.a)(pf, "warnOnce");
var nh = (new zt).set(.8224621, .177538, 0, .0331941, .9668058, 0, .0170827, .0723974, .9105199), ih = (new zt).set(1.2249401, -0.2249404, 0, -0.0420569, 1.0420571, 0, -0.0196376, -0.0786361, 1.0982735), ns = {
    [En]: {
        transfer: Ns,
        primaries: Os,
        toReference: (e1)=>e1,
        fromReference: (e1)=>e1
    },
    [Xe]: {
        transfer: $t,
        primaries: Os,
        toReference: (e1)=>e1.convertSRGBToLinear(),
        fromReference: (e1)=>e1.convertLinearToSRGB()
    },
    [yr]: {
        transfer: Ns,
        primaries: Fs,
        toReference: (e1)=>e1.applyMatrix3(ih),
        fromReference: (e1)=>e1.applyMatrix3(nh)
    },
    [oo]: {
        transfer: $t,
        primaries: Fs,
        toReference: (e1)=>e1.convertSRGBToLinear().applyMatrix3(ih),
        fromReference: (e1)=>e1.applyMatrix3(nh).convertLinearToSRGB()
    }
}, mf = new Set([
    En,
    yr
]), Yt = {
    enabled: !0,
    _workingColorSpace: En,
    get workingColorSpace () {
        return this._workingColorSpace;
    },
    set workingColorSpace (e){
        if (!mf.has(e)) throw new Error('Unsupported working color space, "'.concat(e, '".'));
        this._workingColorSpace = e;
    },
    convert: function(e1, t, n) {
        if (!1 === this.enabled || t === n || !t || !n) return e1;
        let i = ns[t].toReference;
        return (0, ns[n].fromReference)(i(e1));
    },
    fromWorkingColorSpace: function(e1, t) {
        return this.convert(e1, this._workingColorSpace, t);
    },
    toWorkingColorSpace: function(e1, t) {
        return this.convert(e1, t, this._workingColorSpace);
    },
    getPrimaries: function(e1) {
        return ns[e1].primaries;
    },
    getTransfer: function(e1) {
        return e1 === mn ? Ns : ns[e1].transfer;
    }
};
function mi(e1) {
    return e1 < .04045 ? .0773993808 * e1 : Math.pow(.9478672986 * e1 + .0521327014, 2.4);
}
function Nr(e1) {
    return e1 < .0031308 ? 12.92 * e1 : 1.055 * Math.pow(e1, .41666) - .055;
}
(0, _chunkZRT45YCMJs.a)(mi, "SRGBToLinear"), (0, _chunkZRT45YCMJs.a)(Nr, "LinearToSRGB");
var Xn, mo = class {
    static getDataURL(e1) {
        if (/^data:/i.test(e1.src) || typeof HTMLCanvasElement > "u") return e1.src;
        let t;
        if (e1 instanceof HTMLCanvasElement) t = e1;
        else {
            void 0 === Xn && (Xn = ki("canvas")), Xn.width = e1.width, Xn.height = e1.height;
            let n = Xn.getContext("2d");
            e1 instanceof ImageData ? n.putImageData(e1, 0, 0) : n.drawImage(e1, 0, 0, e1.width, e1.height), t = Xn;
        }
        return t.width > 2048 || t.height > 2048 ? (console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons", e1), t.toDataURL("image/jpeg", .6)) : t.toDataURL("image/png");
    }
    static sRGBToLinear(e1) {
        if (typeof HTMLImageElement < "u" && e1 instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && e1 instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && e1 instanceof ImageBitmap) {
            let t = ki("canvas");
            t.width = e1.width, t.height = e1.height;
            let n = t.getContext("2d");
            n.drawImage(e1, 0, 0, e1.width, e1.height);
            let i = n.getImageData(0, 0, e1.width, e1.height), r = i.data;
            for(let e1 = 0; e1 < r.length; e1++)r[e1] = 255 * mi(r[e1] / 255);
            return n.putImageData(i, 0, 0), t;
        }
        if (e1.data) {
            let t = e1.data.slice(0);
            for(let e1 = 0; e1 < t.length; e1++)t instanceof Uint8Array || t instanceof Uint8ClampedArray ? t[e1] = Math.floor(255 * mi(t[e1] / 255)) : t[e1] = mi(t[e1]);
            return {
                data: t,
                width: e1.width,
                height: e1.height
            };
        }
        return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."), e1;
    }
};
(0, _chunkZRT45YCMJs.a)(mo, "ImageUtils");
var ks = mo, gf = 0, go = class {
    constructor(e1 = null){
        this.isSource = !0, Object.defineProperty(this, "id", {
            value: gf++
        }), this.uuid = Gn(), this.data = e1, this.dataReady = !0, this.version = 0;
    }
    set needsUpdate(e1) {
        !0 === e1 && this.version++;
    }
    toJSON(e1) {
        let t = void 0 === e1 || "string" == typeof e1;
        if (!t && void 0 !== e1.images[this.uuid]) return e1.images[this.uuid];
        let n = {
            uuid: this.uuid,
            url: ""
        }, i = this.data;
        if (null !== i) {
            let e1;
            if (Array.isArray(i)) {
                e1 = [];
                for(let t = 0, n = i.length; t < n; t++)i[t].isDataTexture ? e1.push(Or(i[t].image)) : e1.push(Or(i[t]));
            } else e1 = Or(i);
            n.url = e1;
        }
        return t || (e1.images[this.uuid] = n), n;
    }
};
(0, _chunkZRT45YCMJs.a)(go, "Source");
var Vs = go;
function Or(e1) {
    return typeof HTMLImageElement < "u" && e1 instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && e1 instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && e1 instanceof ImageBitmap ? ks.getDataURL(e1) : e1.data ? {
        data: Array.from(e1.data),
        width: e1.width,
        height: e1.height,
        type: e1.data.constructor.name
    } : (console.warn("THREE.Texture: Unable to serialize Texture."), {});
}
(0, _chunkZRT45YCMJs.a)(Or, "serializeImage");
var _f = 0, ui = class e1 extends Mn {
    constructor(t = e1.DEFAULT_IMAGE, n = e1.DEFAULT_MAPPING, i = Be, r = Be, a = we, s = On, o = ze, l = vn, u = e1.DEFAULT_ANISOTROPY, h = mn){
        super(), this.isTexture = !0, Object.defineProperty(this, "id", {
            value: _f++
        }), this.uuid = Gn(), this.name = "", this.source = new Vs(t), this.mipmaps = [], this.mapping = n, this.channel = 0, this.wrapS = i, this.wrapT = r, this.magFilter = a, this.minFilter = s, this.anisotropy = u, this.format = o, this.internalFormat = null, this.type = l, this.offset = new ht(0, 0), this.repeat = new ht(1, 1), this.center = new ht(0, 0), this.rotation = 0, this.matrixAutoUpdate = !0, this.matrix = new zt, this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.colorSpace = h, this.userData = {}, this.version = 0, this.onUpdate = null, this.isRenderTargetTexture = !1, this.needsPMREMUpdate = !1;
    }
    get image() {
        return this.source.data;
    }
    set image(e1 = null) {
        this.source.data = e1;
    }
    updateMatrix() {
        this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    copy(e1) {
        return this.name = e1.name, this.source = e1.source, this.mipmaps = e1.mipmaps.slice(0), this.mapping = e1.mapping, this.channel = e1.channel, this.wrapS = e1.wrapS, this.wrapT = e1.wrapT, this.magFilter = e1.magFilter, this.minFilter = e1.minFilter, this.anisotropy = e1.anisotropy, this.format = e1.format, this.internalFormat = e1.internalFormat, this.type = e1.type, this.offset.copy(e1.offset), this.repeat.copy(e1.repeat), this.center.copy(e1.center), this.rotation = e1.rotation, this.matrixAutoUpdate = e1.matrixAutoUpdate, this.matrix.copy(e1.matrix), this.generateMipmaps = e1.generateMipmaps, this.premultiplyAlpha = e1.premultiplyAlpha, this.flipY = e1.flipY, this.unpackAlignment = e1.unpackAlignment, this.colorSpace = e1.colorSpace, this.userData = JSON.parse(JSON.stringify(e1.userData)), this.needsUpdate = !0, this;
    }
    toJSON(e1) {
        let t = void 0 === e1 || "string" == typeof e1;
        if (!t && void 0 !== e1.textures[this.uuid]) return e1.textures[this.uuid];
        let n = {
            metadata: {
                version: 4.6,
                type: "Texture",
                generator: "Texture.toJSON"
            },
            uuid: this.uuid,
            name: this.name,
            image: this.source.toJSON(e1).uuid,
            mapping: this.mapping,
            channel: this.channel,
            repeat: [
                this.repeat.x,
                this.repeat.y
            ],
            offset: [
                this.offset.x,
                this.offset.y
            ],
            center: [
                this.center.x,
                this.center.y
            ],
            rotation: this.rotation,
            wrap: [
                this.wrapS,
                this.wrapT
            ],
            format: this.format,
            internalFormat: this.internalFormat,
            type: this.type,
            colorSpace: this.colorSpace,
            minFilter: this.minFilter,
            magFilter: this.magFilter,
            anisotropy: this.anisotropy,
            flipY: this.flipY,
            generateMipmaps: this.generateMipmaps,
            premultiplyAlpha: this.premultiplyAlpha,
            unpackAlignment: this.unpackAlignment
        };
        return Object.keys(this.userData).length > 0 && (n.userData = this.userData), t || (e1.textures[this.uuid] = n), n;
    }
    dispose() {
        this.dispatchEvent({
            type: "dispose"
        });
    }
    transformUv(e1) {
        if (this.mapping !== Tu) return e1;
        if (e1.applyMatrix3(this.matrix), e1.x < 0 || e1.x > 1) switch(this.wrapS){
            case ma:
                e1.x = e1.x - Math.floor(e1.x);
                break;
            case Be:
                e1.x = e1.x < 0 ? 0 : 1;
                break;
            case ga:
                1 === Math.abs(Math.floor(e1.x) % 2) ? e1.x = Math.ceil(e1.x) - e1.x : e1.x = e1.x - Math.floor(e1.x);
        }
        if (e1.y < 0 || e1.y > 1) switch(this.wrapT){
            case ma:
                e1.y = e1.y - Math.floor(e1.y);
                break;
            case Be:
                e1.y = e1.y < 0 ? 0 : 1;
                break;
            case ga:
                1 === Math.abs(Math.floor(e1.y) % 2) ? e1.y = Math.ceil(e1.y) - e1.y : e1.y = e1.y - Math.floor(e1.y);
        }
        return this.flipY && (e1.y = 1 - e1.y), e1;
    }
    set needsUpdate(e1) {
        !0 === e1 && (this.version++, this.source.needsUpdate = !0);
    }
};
(0, _chunkZRT45YCMJs.a)(ui, "Texture");
var xe = ui;
xe.DEFAULT_IMAGE = null, xe.DEFAULT_MAPPING = Tu, xe.DEFAULT_ANISOTROPY = 1;
var cr = class e1 {
    constructor(t = 0, n = 0, i = 0, r = 1){
        e1.prototype.isVector4 = !0, this.x = t, this.y = n, this.z = i, this.w = r;
    }
    get width() {
        return this.z;
    }
    set width(e1) {
        this.z = e1;
    }
    get height() {
        return this.w;
    }
    set height(e1) {
        this.w = e1;
    }
    set(e1, t, n, i) {
        return this.x = e1, this.y = t, this.z = n, this.w = i, this;
    }
    setScalar(e1) {
        return this.x = e1, this.y = e1, this.z = e1, this.w = e1, this;
    }
    setX(e1) {
        return this.x = e1, this;
    }
    setY(e1) {
        return this.y = e1, this;
    }
    setZ(e1) {
        return this.z = e1, this;
    }
    setW(e1) {
        return this.w = e1, this;
    }
    setComponent(e1, t) {
        switch(e1){
            case 0:
                this.x = t;
                break;
            case 1:
                this.y = t;
                break;
            case 2:
                this.z = t;
                break;
            case 3:
                this.w = t;
                break;
            default:
                throw new Error("index is out of range: " + e1);
        }
        return this;
    }
    getComponent(e1) {
        switch(e1){
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            case 3:
                return this.w;
            default:
                throw new Error("index is out of range: " + e1);
        }
    }
    clone() {
        return new this.constructor(this.x, this.y, this.z, this.w);
    }
    copy(e1) {
        return this.x = e1.x, this.y = e1.y, this.z = e1.z, this.w = void 0 !== e1.w ? e1.w : 1, this;
    }
    add(e1) {
        return this.x += e1.x, this.y += e1.y, this.z += e1.z, this.w += e1.w, this;
    }
    addScalar(e1) {
        return this.x += e1, this.y += e1, this.z += e1, this.w += e1, this;
    }
    addVectors(e1, t) {
        return this.x = e1.x + t.x, this.y = e1.y + t.y, this.z = e1.z + t.z, this.w = e1.w + t.w, this;
    }
    addScaledVector(e1, t) {
        return this.x += e1.x * t, this.y += e1.y * t, this.z += e1.z * t, this.w += e1.w * t, this;
    }
    sub(e1) {
        return this.x -= e1.x, this.y -= e1.y, this.z -= e1.z, this.w -= e1.w, this;
    }
    subScalar(e1) {
        return this.x -= e1, this.y -= e1, this.z -= e1, this.w -= e1, this;
    }
    subVectors(e1, t) {
        return this.x = e1.x - t.x, this.y = e1.y - t.y, this.z = e1.z - t.z, this.w = e1.w - t.w, this;
    }
    multiply(e1) {
        return this.x *= e1.x, this.y *= e1.y, this.z *= e1.z, this.w *= e1.w, this;
    }
    multiplyScalar(e1) {
        return this.x *= e1, this.y *= e1, this.z *= e1, this.w *= e1, this;
    }
    applyMatrix4(e1) {
        let t = this.x, n = this.y, i = this.z, r = this.w, a = e1.elements;
        return this.x = a[0] * t + a[4] * n + a[8] * i + a[12] * r, this.y = a[1] * t + a[5] * n + a[9] * i + a[13] * r, this.z = a[2] * t + a[6] * n + a[10] * i + a[14] * r, this.w = a[3] * t + a[7] * n + a[11] * i + a[15] * r, this;
    }
    divideScalar(e1) {
        return this.multiplyScalar(1 / e1);
    }
    setAxisAngleFromQuaternion(e1) {
        this.w = 2 * Math.acos(e1.w);
        let t = Math.sqrt(1 - e1.w * e1.w);
        return t < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = e1.x / t, this.y = e1.y / t, this.z = e1.z / t), this;
    }
    setAxisAngleFromRotationMatrix(e1) {
        let t, n, i, r, a = e1.elements, s = a[0], o = a[4], l = a[8], u = a[1], h = a[5], c = a[9], d = a[2], p = a[6], f = a[10];
        if (Math.abs(o - u) < .01 && Math.abs(l - d) < .01 && Math.abs(c - p) < .01) {
            if (Math.abs(o + u) < .1 && Math.abs(l + d) < .1 && Math.abs(c + p) < .1 && Math.abs(s + h + f - 3) < .1) return this.set(1, 0, 0, 0), this;
            t = Math.PI;
            let e1 = (s + 1) / 2, a = (h + 1) / 2, m = (f + 1) / 2, g = (o + u) / 4, _ = (l + d) / 4, v = (c + p) / 4;
            return e1 > a && e1 > m ? e1 < .01 ? (n = 0, i = .707106781, r = .707106781) : (n = Math.sqrt(e1), i = g / n, r = _ / n) : a > m ? a < .01 ? (n = .707106781, i = 0, r = .707106781) : (i = Math.sqrt(a), n = g / i, r = v / i) : m < .01 ? (n = .707106781, i = .707106781, r = 0) : (r = Math.sqrt(m), n = _ / r, i = v / r), this.set(n, i, r, t), this;
        }
        let m = Math.sqrt((p - c) * (p - c) + (l - d) * (l - d) + (u - o) * (u - o));
        return Math.abs(m) < .001 && (m = 1), this.x = (p - c) / m, this.y = (l - d) / m, this.z = (u - o) / m, this.w = Math.acos((s + h + f - 1) / 2), this;
    }
    min(e1) {
        return this.x = Math.min(this.x, e1.x), this.y = Math.min(this.y, e1.y), this.z = Math.min(this.z, e1.z), this.w = Math.min(this.w, e1.w), this;
    }
    max(e1) {
        return this.x = Math.max(this.x, e1.x), this.y = Math.max(this.y, e1.y), this.z = Math.max(this.z, e1.z), this.w = Math.max(this.w, e1.w), this;
    }
    clamp(e1, t) {
        return this.x = Math.max(e1.x, Math.min(t.x, this.x)), this.y = Math.max(e1.y, Math.min(t.y, this.y)), this.z = Math.max(e1.z, Math.min(t.z, this.z)), this.w = Math.max(e1.w, Math.min(t.w, this.w)), this;
    }
    clampScalar(e1, t) {
        return this.x = Math.max(e1, Math.min(t, this.x)), this.y = Math.max(e1, Math.min(t, this.y)), this.z = Math.max(e1, Math.min(t, this.z)), this.w = Math.max(e1, Math.min(t, this.w)), this;
    }
    clampLength(e1, t) {
        let n = this.length();
        return this.divideScalar(n || 1).multiplyScalar(Math.max(e1, Math.min(t, n)));
    }
    floor() {
        return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this;
    }
    ceil() {
        return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this;
    }
    round() {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this;
    }
    roundToZero() {
        return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this.z = Math.trunc(this.z), this.w = Math.trunc(this.w), this;
    }
    negate() {
        return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this;
    }
    dot(e1) {
        return this.x * e1.x + this.y * e1.y + this.z * e1.z + this.w * e1.w;
    }
    lengthSq() {
        return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;
    }
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);
    }
    manhattanLength() {
        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);
    }
    normalize() {
        return this.divideScalar(this.length() || 1);
    }
    setLength(e1) {
        return this.normalize().multiplyScalar(e1);
    }
    lerp(e1, t) {
        return this.x += (e1.x - this.x) * t, this.y += (e1.y - this.y) * t, this.z += (e1.z - this.z) * t, this.w += (e1.w - this.w) * t, this;
    }
    lerpVectors(e1, t, n) {
        return this.x = e1.x + (t.x - e1.x) * n, this.y = e1.y + (t.y - e1.y) * n, this.z = e1.z + (t.z - e1.z) * n, this.w = e1.w + (t.w - e1.w) * n, this;
    }
    equals(e1) {
        return e1.x === this.x && e1.y === this.y && e1.z === this.z && e1.w === this.w;
    }
    fromArray(e1, t = 0) {
        return this.x = e1[t], this.y = e1[t + 1], this.z = e1[t + 2], this.w = e1[t + 3], this;
    }
    toArray(e1 = [], t = 0) {
        return e1[t] = this.x, e1[t + 1] = this.y, e1[t + 2] = this.z, e1[t + 3] = this.w, e1;
    }
    fromBufferAttribute(e1, t) {
        return this.x = e1.getX(t), this.y = e1.getY(t), this.z = e1.getZ(t), this.w = e1.getW(t), this;
    }
    random() {
        return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this.w = Math.random(), this;
    }
    *[Symbol.iterator]() {
        yield this.x, yield this.y, yield this.z, yield this.w;
    }
};
(0, _chunkZRT45YCMJs.a)(cr, "Vector4");
var te = cr, _o = class extends Mn {
    constructor(e1 = 1, t = 1, n = {}){
        super(), this.isRenderTarget = !0, this.width = e1, this.height = t, this.depth = 1, this.scissor = new te(0, 0, e1, t), this.scissorTest = !1, this.viewport = new te(0, 0, e1, t);
        let i = {
            width: e1,
            height: t,
            depth: 1
        };
        n = Object.assign({
            generateMipmaps: !1,
            internalFormat: null,
            minFilter: we,
            depthBuffer: !0,
            stencilBuffer: !1,
            depthTexture: null,
            samples: 0,
            count: 1
        }, n);
        let r = new xe(i, n.mapping, n.wrapS, n.wrapT, n.magFilter, n.minFilter, n.format, n.type, n.anisotropy, n.colorSpace);
        r.flipY = !1, r.generateMipmaps = n.generateMipmaps, r.internalFormat = n.internalFormat, this.textures = [];
        let a = n.count;
        for(let e1 = 0; e1 < a; e1++)this.textures[e1] = r.clone(), this.textures[e1].isRenderTargetTexture = !0;
        this.depthBuffer = n.depthBuffer, this.stencilBuffer = n.stencilBuffer, this.depthTexture = n.depthTexture, this.samples = n.samples;
    }
    get texture() {
        return this.textures[0];
    }
    set texture(e1) {
        this.textures[0] = e1;
    }
    setSize(e1, t, n = 1) {
        if (this.width !== e1 || this.height !== t || this.depth !== n) {
            this.width = e1, this.height = t, this.depth = n;
            for(let i = 0, r = this.textures.length; i < r; i++)this.textures[i].image.width = e1, this.textures[i].image.height = t, this.textures[i].image.depth = n;
            this.dispose();
        }
        this.viewport.set(0, 0, e1, t), this.scissor.set(0, 0, e1, t);
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    copy(e1) {
        this.width = e1.width, this.height = e1.height, this.depth = e1.depth, this.scissor.copy(e1.scissor), this.scissorTest = e1.scissorTest, this.viewport.copy(e1.viewport), this.textures.length = 0;
        for(let t = 0, n = e1.textures.length; t < n; t++)this.textures[t] = e1.textures[t].clone(), this.textures[t].isRenderTargetTexture = !0;
        let t = Object.assign({}, e1.texture.image);
        return this.texture.source = new Vs(t), this.depthBuffer = e1.depthBuffer, this.stencilBuffer = e1.stencilBuffer, null !== e1.depthTexture && (this.depthTexture = e1.depthTexture.clone()), this.samples = e1.samples, this;
    }
    dispose() {
        this.dispatchEvent({
            type: "dispose"
        });
    }
};
(0, _chunkZRT45YCMJs.a)(_o, "RenderTarget");
var va = _o, xo = class extends va {
    constructor(e1 = 1, t = 1, n = {}){
        super(e1, t, n), this.isWebGLRenderTarget = !0;
    }
};
(0, _chunkZRT45YCMJs.a)(xo, "WebGLRenderTarget");
var Ye = xo, vo = class extends xe {
    constructor(e1 = null, t = 1, n = 1, i = 1){
        super(null), this.isDataArrayTexture = !0, this.image = {
            data: e1,
            width: t,
            height: n,
            depth: i
        }, this.magFilter = fe, this.minFilter = fe, this.wrapR = Be, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1;
    }
};
(0, _chunkZRT45YCMJs.a)(vo, "DataArrayTexture");
var Hs = vo, yo = class extends xe {
    constructor(e1 = null, t = 1, n = 1, i = 1){
        super(null), this.isData3DTexture = !0, this.image = {
            data: e1,
            width: t,
            height: n,
            depth: i
        }, this.magFilter = fe, this.minFilter = fe, this.wrapR = Be, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1;
    }
};
(0, _chunkZRT45YCMJs.a)(yo, "Data3DTexture");
var ya = yo, Mo = class {
    constructor(e1 = 0, t = 0, n = 0, i = 1){
        this.isQuaternion = !0, this._x = e1, this._y = t, this._z = n, this._w = i;
    }
    static slerpFlat(e1, t, n, i, r, a, s) {
        let o = n[i + 0], l = n[i + 1], u = n[i + 2], h = n[i + 3], c = r[a + 0], d = r[a + 1], p = r[a + 2], f = r[a + 3];
        if (0 === s) return e1[t + 0] = o, e1[t + 1] = l, e1[t + 2] = u, void (e1[t + 3] = h);
        if (1 === s) return e1[t + 0] = c, e1[t + 1] = d, e1[t + 2] = p, void (e1[t + 3] = f);
        if (h !== f || o !== c || l !== d || u !== p) {
            let e1 = 1 - s, t = o * c + l * d + u * p + h * f, n = t >= 0 ? 1 : -1, i = 1 - t * t;
            if (i > Number.EPSILON) {
                let r = Math.sqrt(i), a = Math.atan2(r, t * n);
                e1 = Math.sin(e1 * a) / r, s = Math.sin(s * a) / r;
            }
            let r = s * n;
            if (o = o * e1 + c * r, l = l * e1 + d * r, u = u * e1 + p * r, h = h * e1 + f * r, e1 === 1 - s) {
                let e1 = 1 / Math.sqrt(o * o + l * l + u * u + h * h);
                o *= e1, l *= e1, u *= e1, h *= e1;
            }
        }
        e1[t] = o, e1[t + 1] = l, e1[t + 2] = u, e1[t + 3] = h;
    }
    static multiplyQuaternionsFlat(e1, t, n, i, r, a) {
        let s = n[i], o = n[i + 1], l = n[i + 2], u = n[i + 3], h = r[a], c = r[a + 1], d = r[a + 2], p = r[a + 3];
        return e1[t] = s * p + u * h + o * d - l * c, e1[t + 1] = o * p + u * c + l * h - s * d, e1[t + 2] = l * p + u * d + s * c - o * h, e1[t + 3] = u * p - s * h - o * c - l * d, e1;
    }
    get x() {
        return this._x;
    }
    set x(e1) {
        this._x = e1, this._onChangeCallback();
    }
    get y() {
        return this._y;
    }
    set y(e1) {
        this._y = e1, this._onChangeCallback();
    }
    get z() {
        return this._z;
    }
    set z(e1) {
        this._z = e1, this._onChangeCallback();
    }
    get w() {
        return this._w;
    }
    set w(e1) {
        this._w = e1, this._onChangeCallback();
    }
    set(e1, t, n, i) {
        return this._x = e1, this._y = t, this._z = n, this._w = i, this._onChangeCallback(), this;
    }
    clone() {
        return new this.constructor(this._x, this._y, this._z, this._w);
    }
    copy(e1) {
        return this._x = e1.x, this._y = e1.y, this._z = e1.z, this._w = e1.w, this._onChangeCallback(), this;
    }
    setFromEuler(e1, t = !0) {
        let n = e1._x, i = e1._y, r = e1._z, a = e1._order, s = Math.cos, o = Math.sin, l = s(n / 2), u = s(i / 2), h = s(r / 2), c = o(n / 2), d = o(i / 2), p = o(r / 2);
        switch(a){
            case "XYZ":
                this._x = c * u * h + l * d * p, this._y = l * d * h - c * u * p, this._z = l * u * p + c * d * h, this._w = l * u * h - c * d * p;
                break;
            case "YXZ":
                this._x = c * u * h + l * d * p, this._y = l * d * h - c * u * p, this._z = l * u * p - c * d * h, this._w = l * u * h + c * d * p;
                break;
            case "ZXY":
                this._x = c * u * h - l * d * p, this._y = l * d * h + c * u * p, this._z = l * u * p + c * d * h, this._w = l * u * h - c * d * p;
                break;
            case "ZYX":
                this._x = c * u * h - l * d * p, this._y = l * d * h + c * u * p, this._z = l * u * p - c * d * h, this._w = l * u * h + c * d * p;
                break;
            case "YZX":
                this._x = c * u * h + l * d * p, this._y = l * d * h + c * u * p, this._z = l * u * p - c * d * h, this._w = l * u * h - c * d * p;
                break;
            case "XZY":
                this._x = c * u * h - l * d * p, this._y = l * d * h - c * u * p, this._z = l * u * p + c * d * h, this._w = l * u * h + c * d * p;
                break;
            default:
                console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: " + a);
        }
        return !0 === t && this._onChangeCallback(), this;
    }
    setFromAxisAngle(e1, t) {
        let n = t / 2, i = Math.sin(n);
        return this._x = e1.x * i, this._y = e1.y * i, this._z = e1.z * i, this._w = Math.cos(n), this._onChangeCallback(), this;
    }
    setFromRotationMatrix(e1) {
        let t = e1.elements, n = t[0], i = t[4], r = t[8], a = t[1], s = t[5], o = t[9], l = t[2], u = t[6], h = t[10], c = n + s + h;
        if (c > 0) {
            let e1 = .5 / Math.sqrt(c + 1);
            this._w = .25 / e1, this._x = (u - o) * e1, this._y = (r - l) * e1, this._z = (a - i) * e1;
        } else if (n > s && n > h) {
            let e1 = 2 * Math.sqrt(1 + n - s - h);
            this._w = (u - o) / e1, this._x = .25 * e1, this._y = (i + a) / e1, this._z = (r + l) / e1;
        } else if (s > h) {
            let e1 = 2 * Math.sqrt(1 + s - n - h);
            this._w = (r - l) / e1, this._x = (i + a) / e1, this._y = .25 * e1, this._z = (o + u) / e1;
        } else {
            let e1 = 2 * Math.sqrt(1 + h - n - s);
            this._w = (a - i) / e1, this._x = (r + l) / e1, this._y = (o + u) / e1, this._z = .25 * e1;
        }
        return this._onChangeCallback(), this;
    }
    setFromUnitVectors(e1, t) {
        let n = e1.dot(t) + 1;
        return n < Number.EPSILON ? (n = 0, Math.abs(e1.x) > Math.abs(e1.z) ? (this._x = -e1.y, this._y = e1.x, this._z = 0, this._w = n) : (this._x = 0, this._y = -e1.z, this._z = e1.y, this._w = n)) : (this._x = e1.y * t.z - e1.z * t.y, this._y = e1.z * t.x - e1.x * t.z, this._z = e1.x * t.y - e1.y * t.x, this._w = n), this.normalize();
    }
    angleTo(e1) {
        return 2 * Math.acos(Math.abs(pe(this.dot(e1), -1, 1)));
    }
    rotateTowards(e1, t) {
        let n = this.angleTo(e1);
        if (0 === n) return this;
        let i = Math.min(1, t / n);
        return this.slerp(e1, i), this;
    }
    identity() {
        return this.set(0, 0, 0, 1);
    }
    invert() {
        return this.conjugate();
    }
    conjugate() {
        return this._x *= -1, this._y *= -1, this._z *= -1, this._onChangeCallback(), this;
    }
    dot(e1) {
        return this._x * e1._x + this._y * e1._y + this._z * e1._z + this._w * e1._w;
    }
    lengthSq() {
        return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;
    }
    length() {
        return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);
    }
    normalize() {
        let e1 = this.length();
        return 0 === e1 ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (e1 = 1 / e1, this._x = this._x * e1, this._y = this._y * e1, this._z = this._z * e1, this._w = this._w * e1), this._onChangeCallback(), this;
    }
    multiply(e1) {
        return this.multiplyQuaternions(this, e1);
    }
    premultiply(e1) {
        return this.multiplyQuaternions(e1, this);
    }
    multiplyQuaternions(e1, t) {
        let n = e1._x, i = e1._y, r = e1._z, a = e1._w, s = t._x, o = t._y, l = t._z, u = t._w;
        return this._x = n * u + a * s + i * l - r * o, this._y = i * u + a * o + r * s - n * l, this._z = r * u + a * l + n * o - i * s, this._w = a * u - n * s - i * o - r * l, this._onChangeCallback(), this;
    }
    slerp(e1, t) {
        if (0 === t) return this;
        if (1 === t) return this.copy(e1);
        let n = this._x, i = this._y, r = this._z, a = this._w, s = a * e1._w + n * e1._x + i * e1._y + r * e1._z;
        if (s < 0 ? (this._w = -e1._w, this._x = -e1._x, this._y = -e1._y, this._z = -e1._z, s = -s) : this.copy(e1), s >= 1) return this._w = a, this._x = n, this._y = i, this._z = r, this;
        let o = 1 - s * s;
        if (o <= Number.EPSILON) {
            let e1 = 1 - t;
            return this._w = e1 * a + t * this._w, this._x = e1 * n + t * this._x, this._y = e1 * i + t * this._y, this._z = e1 * r + t * this._z, this.normalize(), this;
        }
        let l = Math.sqrt(o), u = Math.atan2(l, s), h = Math.sin((1 - t) * u) / l, c = Math.sin(t * u) / l;
        return this._w = a * h + this._w * c, this._x = n * h + this._x * c, this._y = i * h + this._y * c, this._z = r * h + this._z * c, this._onChangeCallback(), this;
    }
    slerpQuaternions(e1, t, n) {
        return this.copy(e1).slerp(t, n);
    }
    random() {
        let e1 = 2 * Math.PI * Math.random(), t = 2 * Math.PI * Math.random(), n = Math.random(), i = Math.sqrt(1 - n), r = Math.sqrt(n);
        return this.set(i * Math.sin(e1), i * Math.cos(e1), r * Math.sin(t), r * Math.cos(t));
    }
    equals(e1) {
        return e1._x === this._x && e1._y === this._y && e1._z === this._z && e1._w === this._w;
    }
    fromArray(e1, t = 0) {
        return this._x = e1[t], this._y = e1[t + 1], this._z = e1[t + 2], this._w = e1[t + 3], this._onChangeCallback(), this;
    }
    toArray(e1 = [], t = 0) {
        return e1[t] = this._x, e1[t + 1] = this._y, e1[t + 2] = this._z, e1[t + 3] = this._w, e1;
    }
    fromBufferAttribute(e1, t) {
        return this._x = e1.getX(t), this._y = e1.getY(t), this._z = e1.getZ(t), this._w = e1.getW(t), this._onChangeCallback(), this;
    }
    toJSON() {
        return this.toArray();
    }
    _onChange(e1) {
        return this._onChangeCallback = e1, this;
    }
    _onChangeCallback() {}
    *[Symbol.iterator]() {
        yield this._x, yield this._y, yield this._z, yield this._w;
    }
};
(0, _chunkZRT45YCMJs.a)(Mo, "Quaternion");
var Sn = Mo, lr = class e1 {
    constructor(t = 0, n = 0, i = 0){
        e1.prototype.isVector3 = !0, this.x = t, this.y = n, this.z = i;
    }
    set(e1, t, n) {
        return void 0 === n && (n = this.z), this.x = e1, this.y = t, this.z = n, this;
    }
    setScalar(e1) {
        return this.x = e1, this.y = e1, this.z = e1, this;
    }
    setX(e1) {
        return this.x = e1, this;
    }
    setY(e1) {
        return this.y = e1, this;
    }
    setZ(e1) {
        return this.z = e1, this;
    }
    setComponent(e1, t) {
        switch(e1){
            case 0:
                this.x = t;
                break;
            case 1:
                this.y = t;
                break;
            case 2:
                this.z = t;
                break;
            default:
                throw new Error("index is out of range: " + e1);
        }
        return this;
    }
    getComponent(e1) {
        switch(e1){
            case 0:
                return this.x;
            case 1:
                return this.y;
            case 2:
                return this.z;
            default:
                throw new Error("index is out of range: " + e1);
        }
    }
    clone() {
        return new this.constructor(this.x, this.y, this.z);
    }
    copy(e1) {
        return this.x = e1.x, this.y = e1.y, this.z = e1.z, this;
    }
    add(e1) {
        return this.x += e1.x, this.y += e1.y, this.z += e1.z, this;
    }
    addScalar(e1) {
        return this.x += e1, this.y += e1, this.z += e1, this;
    }
    addVectors(e1, t) {
        return this.x = e1.x + t.x, this.y = e1.y + t.y, this.z = e1.z + t.z, this;
    }
    addScaledVector(e1, t) {
        return this.x += e1.x * t, this.y += e1.y * t, this.z += e1.z * t, this;
    }
    sub(e1) {
        return this.x -= e1.x, this.y -= e1.y, this.z -= e1.z, this;
    }
    subScalar(e1) {
        return this.x -= e1, this.y -= e1, this.z -= e1, this;
    }
    subVectors(e1, t) {
        return this.x = e1.x - t.x, this.y = e1.y - t.y, this.z = e1.z - t.z, this;
    }
    multiply(e1) {
        return this.x *= e1.x, this.y *= e1.y, this.z *= e1.z, this;
    }
    multiplyScalar(e1) {
        return this.x *= e1, this.y *= e1, this.z *= e1, this;
    }
    multiplyVectors(e1, t) {
        return this.x = e1.x * t.x, this.y = e1.y * t.y, this.z = e1.z * t.z, this;
    }
    applyEuler(e1) {
        return this.applyQuaternion(sh.setFromEuler(e1));
    }
    applyAxisAngle(e1, t) {
        return this.applyQuaternion(sh.setFromAxisAngle(e1, t));
    }
    applyMatrix3(e1) {
        let t = this.x, n = this.y, i = this.z, r = e1.elements;
        return this.x = r[0] * t + r[3] * n + r[6] * i, this.y = r[1] * t + r[4] * n + r[7] * i, this.z = r[2] * t + r[5] * n + r[8] * i, this;
    }
    applyNormalMatrix(e1) {
        return this.applyMatrix3(e1).normalize();
    }
    applyMatrix4(e1) {
        let t = this.x, n = this.y, i = this.z, r = e1.elements, a = 1 / (r[3] * t + r[7] * n + r[11] * i + r[15]);
        return this.x = (r[0] * t + r[4] * n + r[8] * i + r[12]) * a, this.y = (r[1] * t + r[5] * n + r[9] * i + r[13]) * a, this.z = (r[2] * t + r[6] * n + r[10] * i + r[14]) * a, this;
    }
    applyQuaternion(e1) {
        let t = this.x, n = this.y, i = this.z, r = e1.x, a = e1.y, s = e1.z, o = e1.w, l = 2 * (a * i - s * n), u = 2 * (s * t - r * i), h = 2 * (r * n - a * t);
        return this.x = t + o * l + a * h - s * u, this.y = n + o * u + s * l - r * h, this.z = i + o * h + r * u - a * l, this;
    }
    project(e1) {
        return this.applyMatrix4(e1.matrixWorldInverse).applyMatrix4(e1.projectionMatrix);
    }
    unproject(e1) {
        return this.applyMatrix4(e1.projectionMatrixInverse).applyMatrix4(e1.matrixWorld);
    }
    transformDirection(e1) {
        let t = this.x, n = this.y, i = this.z, r = e1.elements;
        return this.x = r[0] * t + r[4] * n + r[8] * i, this.y = r[1] * t + r[5] * n + r[9] * i, this.z = r[2] * t + r[6] * n + r[10] * i, this.normalize();
    }
    divide(e1) {
        return this.x /= e1.x, this.y /= e1.y, this.z /= e1.z, this;
    }
    divideScalar(e1) {
        return this.multiplyScalar(1 / e1);
    }
    min(e1) {
        return this.x = Math.min(this.x, e1.x), this.y = Math.min(this.y, e1.y), this.z = Math.min(this.z, e1.z), this;
    }
    max(e1) {
        return this.x = Math.max(this.x, e1.x), this.y = Math.max(this.y, e1.y), this.z = Math.max(this.z, e1.z), this;
    }
    clamp(e1, t) {
        return this.x = Math.max(e1.x, Math.min(t.x, this.x)), this.y = Math.max(e1.y, Math.min(t.y, this.y)), this.z = Math.max(e1.z, Math.min(t.z, this.z)), this;
    }
    clampScalar(e1, t) {
        return this.x = Math.max(e1, Math.min(t, this.x)), this.y = Math.max(e1, Math.min(t, this.y)), this.z = Math.max(e1, Math.min(t, this.z)), this;
    }
    clampLength(e1, t) {
        let n = this.length();
        return this.divideScalar(n || 1).multiplyScalar(Math.max(e1, Math.min(t, n)));
    }
    floor() {
        return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this;
    }
    ceil() {
        return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this;
    }
    round() {
        return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this;
    }
    roundToZero() {
        return this.x = Math.trunc(this.x), this.y = Math.trunc(this.y), this.z = Math.trunc(this.z), this;
    }
    negate() {
        return this.x = -this.x, this.y = -this.y, this.z = -this.z, this;
    }
    dot(e1) {
        return this.x * e1.x + this.y * e1.y + this.z * e1.z;
    }
    lengthSq() {
        return this.x * this.x + this.y * this.y + this.z * this.z;
    }
    length() {
        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);
    }
    manhattanLength() {
        return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);
    }
    normalize() {
        return this.divideScalar(this.length() || 1);
    }
    setLength(e1) {
        return this.normalize().multiplyScalar(e1);
    }
    lerp(e1, t) {
        return this.x += (e1.x - this.x) * t, this.y += (e1.y - this.y) * t, this.z += (e1.z - this.z) * t, this;
    }
    lerpVectors(e1, t, n) {
        return this.x = e1.x + (t.x - e1.x) * n, this.y = e1.y + (t.y - e1.y) * n, this.z = e1.z + (t.z - e1.z) * n, this;
    }
    cross(e1) {
        return this.crossVectors(this, e1);
    }
    crossVectors(e1, t) {
        let n = e1.x, i = e1.y, r = e1.z, a = t.x, s = t.y, o = t.z;
        return this.x = i * o - r * s, this.y = r * a - n * o, this.z = n * s - i * a, this;
    }
    projectOnVector(e1) {
        let t = e1.lengthSq();
        if (0 === t) return this.set(0, 0, 0);
        let n = e1.dot(this) / t;
        return this.copy(e1).multiplyScalar(n);
    }
    projectOnPlane(e1) {
        return Fr.copy(this).projectOnVector(e1), this.sub(Fr);
    }
    reflect(e1) {
        return this.sub(Fr.copy(e1).multiplyScalar(2 * this.dot(e1)));
    }
    angleTo(e1) {
        let t = Math.sqrt(this.lengthSq() * e1.lengthSq());
        if (0 === t) return Math.PI / 2;
        let n = this.dot(e1) / t;
        return Math.acos(pe(n, -1, 1));
    }
    distanceTo(e1) {
        return Math.sqrt(this.distanceToSquared(e1));
    }
    distanceToSquared(e1) {
        let t = this.x - e1.x, n = this.y - e1.y, i = this.z - e1.z;
        return t * t + n * n + i * i;
    }
    manhattanDistanceTo(e1) {
        return Math.abs(this.x - e1.x) + Math.abs(this.y - e1.y) + Math.abs(this.z - e1.z);
    }
    setFromSpherical(e1) {
        return this.setFromSphericalCoords(e1.radius, e1.phi, e1.theta);
    }
    setFromSphericalCoords(e1, t, n) {
        let i = Math.sin(t) * e1;
        return this.x = i * Math.sin(n), this.y = Math.cos(t) * e1, this.z = i * Math.cos(n), this;
    }
    setFromCylindrical(e1) {
        return this.setFromCylindricalCoords(e1.radius, e1.theta, e1.y);
    }
    setFromCylindricalCoords(e1, t, n) {
        return this.x = e1 * Math.sin(t), this.y = n, this.z = e1 * Math.cos(t), this;
    }
    setFromMatrixPosition(e1) {
        let t = e1.elements;
        return this.x = t[12], this.y = t[13], this.z = t[14], this;
    }
    setFromMatrixScale(e1) {
        let t = this.setFromMatrixColumn(e1, 0).length(), n = this.setFromMatrixColumn(e1, 1).length(), i = this.setFromMatrixColumn(e1, 2).length();
        return this.x = t, this.y = n, this.z = i, this;
    }
    setFromMatrixColumn(e1, t) {
        return this.fromArray(e1.elements, 4 * t);
    }
    setFromMatrix3Column(e1, t) {
        return this.fromArray(e1.elements, 3 * t);
    }
    setFromEuler(e1) {
        return this.x = e1._x, this.y = e1._y, this.z = e1._z, this;
    }
    setFromColor(e1) {
        return this.x = e1.r, this.y = e1.g, this.z = e1.b, this;
    }
    equals(e1) {
        return e1.x === this.x && e1.y === this.y && e1.z === this.z;
    }
    fromArray(e1, t = 0) {
        return this.x = e1[t], this.y = e1[t + 1], this.z = e1[t + 2], this;
    }
    toArray(e1 = [], t = 0) {
        return e1[t] = this.x, e1[t + 1] = this.y, e1[t + 2] = this.z, e1;
    }
    fromBufferAttribute(e1, t) {
        return this.x = e1.getX(t), this.y = e1.getY(t), this.z = e1.getZ(t), this;
    }
    random() {
        return this.x = Math.random(), this.y = Math.random(), this.z = Math.random(), this;
    }
    randomDirection() {
        let e1 = Math.random() * Math.PI * 2, t = 2 * Math.random() - 1, n = Math.sqrt(1 - t * t);
        return this.x = n * Math.cos(e1), this.y = t, this.z = n * Math.sin(e1), this;
    }
    *[Symbol.iterator]() {
        yield this.x, yield this.y, yield this.z;
    }
};
(0, _chunkZRT45YCMJs.a)(lr, "Vector3");
var P = lr, Fr = new P, sh = new Sn, So = class {
    constructor(e1 = new P(1 / 0, 1 / 0, 1 / 0), t = new P(-1 / 0, -1 / 0, -1 / 0)){
        this.isBox3 = !0, this.min = e1, this.max = t;
    }
    set(e1, t) {
        return this.min.copy(e1), this.max.copy(t), this;
    }
    setFromArray(e1) {
        this.makeEmpty();
        for(let t = 0, n = e1.length; t < n; t += 3)this.expandByPoint(Ne.fromArray(e1, t));
        return this;
    }
    setFromBufferAttribute(e1) {
        this.makeEmpty();
        for(let t = 0, n = e1.count; t < n; t++)this.expandByPoint(Ne.fromBufferAttribute(e1, t));
        return this;
    }
    setFromPoints(e1) {
        this.makeEmpty();
        for(let t = 0, n = e1.length; t < n; t++)this.expandByPoint(e1[t]);
        return this;
    }
    setFromCenterAndSize(e1, t) {
        let n = Ne.copy(t).multiplyScalar(.5);
        return this.min.copy(e1).sub(n), this.max.copy(e1).add(n), this;
    }
    setFromObject(e1, t = !1) {
        return this.makeEmpty(), this.expandByObject(e1, t);
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    copy(e1) {
        return this.min.copy(e1.min), this.max.copy(e1.max), this;
    }
    makeEmpty() {
        return this.min.x = this.min.y = this.min.z = 1 / 0, this.max.x = this.max.y = this.max.z = -1 / 0, this;
    }
    isEmpty() {
        return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;
    }
    getCenter(e1) {
        return this.isEmpty() ? e1.set(0, 0, 0) : e1.addVectors(this.min, this.max).multiplyScalar(.5);
    }
    getSize(e1) {
        return this.isEmpty() ? e1.set(0, 0, 0) : e1.subVectors(this.max, this.min);
    }
    expandByPoint(e1) {
        return this.min.min(e1), this.max.max(e1), this;
    }
    expandByVector(e1) {
        return this.min.sub(e1), this.max.add(e1), this;
    }
    expandByScalar(e1) {
        return this.min.addScalar(-e1), this.max.addScalar(e1), this;
    }
    expandByObject(e1, t = !1) {
        e1.updateWorldMatrix(!1, !1);
        let n = e1.geometry;
        if (void 0 !== n) {
            let i = n.getAttribute("position");
            if (!0 === t && void 0 !== i && !0 !== e1.isInstancedMesh) for(let t = 0, n = i.count; t < n; t++)!0 === e1.isMesh ? e1.getVertexPosition(t, Ne) : Ne.fromBufferAttribute(i, t), Ne.applyMatrix4(e1.matrixWorld), this.expandByPoint(Ne);
            else void 0 !== e1.boundingBox ? (null === e1.boundingBox && e1.computeBoundingBox(), is.copy(e1.boundingBox)) : (null === n.boundingBox && n.computeBoundingBox(), is.copy(n.boundingBox)), is.applyMatrix4(e1.matrixWorld), this.union(is);
        }
        let i = e1.children;
        for(let e1 = 0, n = i.length; e1 < n; e1++)this.expandByObject(i[e1], t);
        return this;
    }
    containsPoint(e1) {
        return !(e1.x < this.min.x || e1.x > this.max.x || e1.y < this.min.y || e1.y > this.max.y || e1.z < this.min.z || e1.z > this.max.z);
    }
    containsBox(e1) {
        return this.min.x <= e1.min.x && e1.max.x <= this.max.x && this.min.y <= e1.min.y && e1.max.y <= this.max.y && this.min.z <= e1.min.z && e1.max.z <= this.max.z;
    }
    getParameter(e1, t) {
        return t.set((e1.x - this.min.x) / (this.max.x - this.min.x), (e1.y - this.min.y) / (this.max.y - this.min.y), (e1.z - this.min.z) / (this.max.z - this.min.z));
    }
    intersectsBox(e1) {
        return !(e1.max.x < this.min.x || e1.min.x > this.max.x || e1.max.y < this.min.y || e1.min.y > this.max.y || e1.max.z < this.min.z || e1.min.z > this.max.z);
    }
    intersectsSphere(e1) {
        return this.clampPoint(e1.center, Ne), Ne.distanceToSquared(e1.center) <= e1.radius * e1.radius;
    }
    intersectsPlane(e1) {
        let t, n;
        return e1.normal.x > 0 ? (t = e1.normal.x * this.min.x, n = e1.normal.x * this.max.x) : (t = e1.normal.x * this.max.x, n = e1.normal.x * this.min.x), e1.normal.y > 0 ? (t += e1.normal.y * this.min.y, n += e1.normal.y * this.max.y) : (t += e1.normal.y * this.max.y, n += e1.normal.y * this.min.y), e1.normal.z > 0 ? (t += e1.normal.z * this.min.z, n += e1.normal.z * this.max.z) : (t += e1.normal.z * this.max.z, n += e1.normal.z * this.min.z), t <= -e1.constant && n >= -e1.constant;
    }
    intersectsTriangle(e1) {
        if (this.isEmpty()) return !1;
        this.getCenter(Ri), ss.subVectors(this.max, Ri), qn.subVectors(e1.a, Ri), Yn.subVectors(e1.b, Ri), Zn.subVectors(e1.c, Ri), on.subVectors(Yn, qn), cn.subVectors(Zn, Yn), Tn.subVectors(qn, Zn);
        let t = [
            0,
            -on.z,
            on.y,
            0,
            -cn.z,
            cn.y,
            0,
            -Tn.z,
            Tn.y,
            on.z,
            0,
            -on.x,
            cn.z,
            0,
            -cn.x,
            Tn.z,
            0,
            -Tn.x,
            -on.y,
            on.x,
            0,
            -cn.y,
            cn.x,
            0,
            -Tn.y,
            Tn.x,
            0
        ];
        return !(!Br(t, qn, Yn, Zn, ss) || (t = [
            1,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            1
        ], !Br(t, qn, Yn, Zn, ss))) && (rs.crossVectors(on, cn), t = [
            rs.x,
            rs.y,
            rs.z
        ], Br(t, qn, Yn, Zn, ss));
    }
    clampPoint(e1, t) {
        return t.copy(e1).clamp(this.min, this.max);
    }
    distanceToPoint(e1) {
        return this.clampPoint(e1, Ne).distanceTo(e1);
    }
    getBoundingSphere(e1) {
        return this.isEmpty() ? e1.makeEmpty() : (this.getCenter(e1.center), e1.radius = .5 * this.getSize(Ne).length()), e1;
    }
    intersect(e1) {
        return this.min.max(e1.min), this.max.min(e1.max), this.isEmpty() && this.makeEmpty(), this;
    }
    union(e1) {
        return this.min.min(e1.min), this.max.max(e1.max), this;
    }
    applyMatrix4(e1) {
        return this.isEmpty() || (Je[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e1), Je[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e1), Je[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e1), Je[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e1), Je[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e1), Je[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e1), Je[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e1), Je[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e1), this.setFromPoints(Je)), this;
    }
    translate(e1) {
        return this.min.add(e1), this.max.add(e1), this;
    }
    equals(e1) {
        return e1.min.equals(this.min) && e1.max.equals(this.max);
    }
};
(0, _chunkZRT45YCMJs.a)(So, "Box3");
var bn = So, Je = [
    new P,
    new P,
    new P,
    new P,
    new P,
    new P,
    new P,
    new P
], Ne = new P, is = new bn, qn = new P, Yn = new P, Zn = new P, on = new P, cn = new P, Tn = new P, Ri = new P, ss = new P, rs = new P, Rn = new P;
function Br(e1, t, n, i, r) {
    for(let a = 0, s = e1.length - 3; a <= s; a += 3){
        Rn.fromArray(e1, a);
        let s = r.x * Math.abs(Rn.x) + r.y * Math.abs(Rn.y) + r.z * Math.abs(Rn.z), o = t.dot(Rn), l = n.dot(Rn), u = i.dot(Rn);
        if (Math.max(-Math.max(o, l, u), Math.min(o, l, u)) > s) return !1;
    }
    return !0;
}
(0, _chunkZRT45YCMJs.a)(Br, "satForAxes");
var xf = new bn, Ci = new P, zr = new P, bo = class {
    constructor(e1 = new P, t = -1){
        this.isSphere = !0, this.center = e1, this.radius = t;
    }
    set(e1, t) {
        return this.center.copy(e1), this.radius = t, this;
    }
    setFromPoints(e1, t) {
        let n = this.center;
        void 0 !== t ? n.copy(t) : xf.setFromPoints(e1).getCenter(n);
        let i = 0;
        for(let t = 0, r = e1.length; t < r; t++)i = Math.max(i, n.distanceToSquared(e1[t]));
        return this.radius = Math.sqrt(i), this;
    }
    copy(e1) {
        return this.center.copy(e1.center), this.radius = e1.radius, this;
    }
    isEmpty() {
        return this.radius < 0;
    }
    makeEmpty() {
        return this.center.set(0, 0, 0), this.radius = -1, this;
    }
    containsPoint(e1) {
        return e1.distanceToSquared(this.center) <= this.radius * this.radius;
    }
    distanceToPoint(e1) {
        return e1.distanceTo(this.center) - this.radius;
    }
    intersectsSphere(e1) {
        let t = this.radius + e1.radius;
        return e1.center.distanceToSquared(this.center) <= t * t;
    }
    intersectsBox(e1) {
        return e1.intersectsSphere(this);
    }
    intersectsPlane(e1) {
        return Math.abs(e1.distanceToPoint(this.center)) <= this.radius;
    }
    clampPoint(e1, t) {
        let n = this.center.distanceToSquared(e1);
        return t.copy(e1), n > this.radius * this.radius && (t.sub(this.center).normalize(), t.multiplyScalar(this.radius).add(this.center)), t;
    }
    getBoundingBox(e1) {
        return this.isEmpty() ? (e1.makeEmpty(), e1) : (e1.set(this.center, this.center), e1.expandByScalar(this.radius), e1);
    }
    applyMatrix4(e1) {
        return this.center.applyMatrix4(e1), this.radius = this.radius * e1.getMaxScaleOnAxis(), this;
    }
    translate(e1) {
        return this.center.add(e1), this;
    }
    expandByPoint(e1) {
        if (this.isEmpty()) return this.center.copy(e1), this.radius = 0, this;
        Ci.subVectors(e1, this.center);
        let t = Ci.lengthSq();
        if (t > this.radius * this.radius) {
            let e1 = Math.sqrt(t), n = .5 * (e1 - this.radius);
            this.center.addScaledVector(Ci, n / e1), this.radius += n;
        }
        return this;
    }
    union(e1) {
        return e1.isEmpty() ? this : this.isEmpty() ? (this.copy(e1), this) : (!0 === this.center.equals(e1.center) ? this.radius = Math.max(this.radius, e1.radius) : (zr.subVectors(e1.center, this.center).setLength(e1.radius), this.expandByPoint(Ci.copy(e1.center).add(zr)), this.expandByPoint(Ci.copy(e1.center).sub(zr))), this);
    }
    equals(e1) {
        return e1.center.equals(this.center) && e1.radius === this.radius;
    }
    clone() {
        return (new this.constructor).copy(this);
    }
};
(0, _chunkZRT45YCMJs.a)(bo, "Sphere");
var Si = bo, $e = new P, kr = new P, as = new P, ln = new P, Vr = new P, os = new P, Hr = new P, Eo = class {
    constructor(e1 = new P, t = new P(0, 0, -1)){
        this.origin = e1, this.direction = t;
    }
    set(e1, t) {
        return this.origin.copy(e1), this.direction.copy(t), this;
    }
    copy(e1) {
        return this.origin.copy(e1.origin), this.direction.copy(e1.direction), this;
    }
    at(e1, t) {
        return t.copy(this.origin).addScaledVector(this.direction, e1);
    }
    lookAt(e1) {
        return this.direction.copy(e1).sub(this.origin).normalize(), this;
    }
    recast(e1) {
        return this.origin.copy(this.at(e1, $e)), this;
    }
    closestPointToPoint(e1, t) {
        t.subVectors(e1, this.origin);
        let n = t.dot(this.direction);
        return n < 0 ? t.copy(this.origin) : t.copy(this.origin).addScaledVector(this.direction, n);
    }
    distanceToPoint(e1) {
        return Math.sqrt(this.distanceSqToPoint(e1));
    }
    distanceSqToPoint(e1) {
        let t = $e.subVectors(e1, this.origin).dot(this.direction);
        return t < 0 ? this.origin.distanceToSquared(e1) : ($e.copy(this.origin).addScaledVector(this.direction, t), $e.distanceToSquared(e1));
    }
    distanceSqToSegment(e1, t, n, i) {
        kr.copy(e1).add(t).multiplyScalar(.5), as.copy(t).sub(e1).normalize(), ln.copy(this.origin).sub(kr);
        let r, a, s, o, l = .5 * e1.distanceTo(t), u = -this.direction.dot(as), h = ln.dot(this.direction), c = -ln.dot(as), d = ln.lengthSq(), p = Math.abs(1 - u * u);
        if (p > 0) {
            if (r = u * c - h, a = u * h - c, o = l * p, r >= 0) {
                if (a >= -o) {
                    if (a <= o) {
                        let e1 = 1 / p;
                        r *= e1, a *= e1, s = r * (r + u * a + 2 * h) + a * (u * r + a + 2 * c) + d;
                    } else a = l, r = Math.max(0, -(u * a + h)), s = -r * r + a * (a + 2 * c) + d;
                } else a = -l, r = Math.max(0, -(u * a + h)), s = -r * r + a * (a + 2 * c) + d;
            } else a <= -o ? (r = Math.max(0, -(-u * l + h)), a = r > 0 ? -l : Math.min(Math.max(-l, -c), l), s = -r * r + a * (a + 2 * c) + d) : a <= o ? (r = 0, a = Math.min(Math.max(-l, -c), l), s = a * (a + 2 * c) + d) : (r = Math.max(0, -(u * l + h)), a = r > 0 ? l : Math.min(Math.max(-l, -c), l), s = -r * r + a * (a + 2 * c) + d);
        } else a = u > 0 ? -l : l, r = Math.max(0, -(u * a + h)), s = -r * r + a * (a + 2 * c) + d;
        return n && n.copy(this.origin).addScaledVector(this.direction, r), i && i.copy(kr).addScaledVector(as, a), s;
    }
    intersectSphere(e1, t) {
        $e.subVectors(e1.center, this.origin);
        let n = $e.dot(this.direction), i = $e.dot($e) - n * n, r = e1.radius * e1.radius;
        if (i > r) return null;
        let a = Math.sqrt(r - i), s = n - a, o = n + a;
        return o < 0 ? null : s < 0 ? this.at(o, t) : this.at(s, t);
    }
    intersectsSphere(e1) {
        return this.distanceSqToPoint(e1.center) <= e1.radius * e1.radius;
    }
    distanceToPlane(e1) {
        let t = e1.normal.dot(this.direction);
        if (0 === t) return 0 === e1.distanceToPoint(this.origin) ? 0 : null;
        let n = -(this.origin.dot(e1.normal) + e1.constant) / t;
        return n >= 0 ? n : null;
    }
    intersectPlane(e1, t) {
        let n = this.distanceToPlane(e1);
        return null === n ? null : this.at(n, t);
    }
    intersectsPlane(e1) {
        let t = e1.distanceToPoint(this.origin);
        return 0 === t || e1.normal.dot(this.direction) * t < 0;
    }
    intersectBox(e1, t) {
        let n, i, r, a, s, o, l = 1 / this.direction.x, u = 1 / this.direction.y, h = 1 / this.direction.z, c = this.origin;
        return l >= 0 ? (n = (e1.min.x - c.x) * l, i = (e1.max.x - c.x) * l) : (n = (e1.max.x - c.x) * l, i = (e1.min.x - c.x) * l), u >= 0 ? (r = (e1.min.y - c.y) * u, a = (e1.max.y - c.y) * u) : (r = (e1.max.y - c.y) * u, a = (e1.min.y - c.y) * u), n > a || r > i || ((r > n || isNaN(n)) && (n = r), (a < i || isNaN(i)) && (i = a), h >= 0 ? (s = (e1.min.z - c.z) * h, o = (e1.max.z - c.z) * h) : (s = (e1.max.z - c.z) * h, o = (e1.min.z - c.z) * h), n > o || s > i) || ((s > n || n != n) && (n = s), (o < i || i != i) && (i = o), i < 0) ? null : this.at(n >= 0 ? n : i, t);
    }
    intersectsBox(e1) {
        return null !== this.intersectBox(e1, $e);
    }
    intersectTriangle(e1, t, n, i, r) {
        Vr.subVectors(t, e1), os.subVectors(n, e1), Hr.crossVectors(Vr, os);
        let a, s = this.direction.dot(Hr);
        if (s > 0) {
            if (i) return null;
            a = 1;
        } else {
            if (!(s < 0)) return null;
            a = -1, s = -s;
        }
        ln.subVectors(this.origin, e1);
        let o = a * this.direction.dot(os.crossVectors(ln, os));
        if (o < 0) return null;
        let l = a * this.direction.dot(Vr.cross(ln));
        if (l < 0 || o + l > s) return null;
        let u = -a * ln.dot(Hr);
        return u < 0 ? null : this.at(u / s, r);
    }
    applyMatrix4(e1) {
        return this.origin.applyMatrix4(e1), this.direction.transformDirection(e1), this;
    }
    equals(e1) {
        return e1.origin.equals(this.origin) && e1.direction.equals(this.direction);
    }
    clone() {
        return (new this.constructor).copy(this);
    }
};
(0, _chunkZRT45YCMJs.a)(Eo, "Ray");
var Vi = Eo, Fi = class e1 {
    constructor(t, n, i, r, a, s, o, l, u, h, c, d, p, f, m, g){
        e1.prototype.isMatrix4 = !0, this.elements = [
            1,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            1,
            0,
            0,
            0,
            0,
            1
        ], void 0 !== t && this.set(t, n, i, r, a, s, o, l, u, h, c, d, p, f, m, g);
    }
    set(e1, t, n, i, r, a, s, o, l, u, h, c, d, p, f, m) {
        let g = this.elements;
        return g[0] = e1, g[4] = t, g[8] = n, g[12] = i, g[1] = r, g[5] = a, g[9] = s, g[13] = o, g[2] = l, g[6] = u, g[10] = h, g[14] = c, g[3] = d, g[7] = p, g[11] = f, g[15] = m, this;
    }
    identity() {
        return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this;
    }
    clone() {
        return (new e1).fromArray(this.elements);
    }
    copy(e1) {
        let t = this.elements, n = e1.elements;
        return t[0] = n[0], t[1] = n[1], t[2] = n[2], t[3] = n[3], t[4] = n[4], t[5] = n[5], t[6] = n[6], t[7] = n[7], t[8] = n[8], t[9] = n[9], t[10] = n[10], t[11] = n[11], t[12] = n[12], t[13] = n[13], t[14] = n[14], t[15] = n[15], this;
    }
    copyPosition(e1) {
        let t = this.elements, n = e1.elements;
        return t[12] = n[12], t[13] = n[13], t[14] = n[14], this;
    }
    setFromMatrix3(e1) {
        let t = e1.elements;
        return this.set(t[0], t[3], t[6], 0, t[1], t[4], t[7], 0, t[2], t[5], t[8], 0, 0, 0, 0, 1), this;
    }
    extractBasis(e1, t, n) {
        return e1.setFromMatrixColumn(this, 0), t.setFromMatrixColumn(this, 1), n.setFromMatrixColumn(this, 2), this;
    }
    makeBasis(e1, t, n) {
        return this.set(e1.x, t.x, n.x, 0, e1.y, t.y, n.y, 0, e1.z, t.z, n.z, 0, 0, 0, 0, 1), this;
    }
    extractRotation(e1) {
        let t = this.elements, n = e1.elements, i = 1 / Jn.setFromMatrixColumn(e1, 0).length(), r = 1 / Jn.setFromMatrixColumn(e1, 1).length(), a = 1 / Jn.setFromMatrixColumn(e1, 2).length();
        return t[0] = n[0] * i, t[1] = n[1] * i, t[2] = n[2] * i, t[3] = 0, t[4] = n[4] * r, t[5] = n[5] * r, t[6] = n[6] * r, t[7] = 0, t[8] = n[8] * a, t[9] = n[9] * a, t[10] = n[10] * a, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this;
    }
    makeRotationFromEuler(e1) {
        let t = this.elements, n = e1.x, i = e1.y, r = e1.z, a = Math.cos(n), s = Math.sin(n), o = Math.cos(i), l = Math.sin(i), u = Math.cos(r), h = Math.sin(r);
        if ("XYZ" === e1.order) {
            let e1 = a * u, n = a * h, i = s * u, r = s * h;
            t[0] = o * u, t[4] = -o * h, t[8] = l, t[1] = n + i * l, t[5] = e1 - r * l, t[9] = -s * o, t[2] = r - e1 * l, t[6] = i + n * l, t[10] = a * o;
        } else if ("YXZ" === e1.order) {
            let e1 = o * u, n = o * h, i = l * u, r = l * h;
            t[0] = e1 + r * s, t[4] = i * s - n, t[8] = a * l, t[1] = a * h, t[5] = a * u, t[9] = -s, t[2] = n * s - i, t[6] = r + e1 * s, t[10] = a * o;
        } else if ("ZXY" === e1.order) {
            let e1 = o * u, n = o * h, i = l * u, r = l * h;
            t[0] = e1 - r * s, t[4] = -a * h, t[8] = i + n * s, t[1] = n + i * s, t[5] = a * u, t[9] = r - e1 * s, t[2] = -a * l, t[6] = s, t[10] = a * o;
        } else if ("ZYX" === e1.order) {
            let e1 = a * u, n = a * h, i = s * u, r = s * h;
            t[0] = o * u, t[4] = i * l - n, t[8] = e1 * l + r, t[1] = o * h, t[5] = r * l + e1, t[9] = n * l - i, t[2] = -l, t[6] = s * o, t[10] = a * o;
        } else if ("YZX" === e1.order) {
            let e1 = a * o, n = a * l, i = s * o, r = s * l;
            t[0] = o * u, t[4] = r - e1 * h, t[8] = i * h + n, t[1] = h, t[5] = a * u, t[9] = -s * u, t[2] = -l * u, t[6] = n * h + i, t[10] = e1 - r * h;
        } else if ("XZY" === e1.order) {
            let e1 = a * o, n = a * l, i = s * o, r = s * l;
            t[0] = o * u, t[4] = -h, t[8] = l * u, t[1] = e1 * h + r, t[5] = a * u, t[9] = n * h - i, t[2] = i * h - n, t[6] = s * u, t[10] = r * h + e1;
        }
        return t[3] = 0, t[7] = 0, t[11] = 0, t[12] = 0, t[13] = 0, t[14] = 0, t[15] = 1, this;
    }
    makeRotationFromQuaternion(e1) {
        return this.compose(vf, e1, yf);
    }
    lookAt(e1, t, n) {
        let i = this.elements;
        return Ce.subVectors(e1, t), 0 === Ce.lengthSq() && (Ce.z = 1), Ce.normalize(), hn.crossVectors(n, Ce), 0 === hn.lengthSq() && (1 === Math.abs(n.z) ? Ce.x += 1e-4 : Ce.z += 1e-4, Ce.normalize(), hn.crossVectors(n, Ce)), hn.normalize(), cs.crossVectors(Ce, hn), i[0] = hn.x, i[4] = cs.x, i[8] = Ce.x, i[1] = hn.y, i[5] = cs.y, i[9] = Ce.y, i[2] = hn.z, i[6] = cs.z, i[10] = Ce.z, this;
    }
    multiply(e1) {
        return this.multiplyMatrices(this, e1);
    }
    premultiply(e1) {
        return this.multiplyMatrices(e1, this);
    }
    multiplyMatrices(e1, t) {
        let n = e1.elements, i = t.elements, r = this.elements, a = n[0], s = n[4], o = n[8], l = n[12], u = n[1], h = n[5], c = n[9], d = n[13], p = n[2], f = n[6], m = n[10], g = n[14], _ = n[3], v = n[7], x = n[11], y = n[15], M = i[0], S = i[4], E = i[8], T = i[12], b = i[1], A = i[5], w = i[9], R = i[13], P = i[2], C = i[6], L = i[10], U = i[14], N = i[3], D = i[7], I = i[11], O = i[15];
        return r[0] = a * M + s * b + o * P + l * N, r[4] = a * S + s * A + o * C + l * D, r[8] = a * E + s * w + o * L + l * I, r[12] = a * T + s * R + o * U + l * O, r[1] = u * M + h * b + c * P + d * N, r[5] = u * S + h * A + c * C + d * D, r[9] = u * E + h * w + c * L + d * I, r[13] = u * T + h * R + c * U + d * O, r[2] = p * M + f * b + m * P + g * N, r[6] = p * S + f * A + m * C + g * D, r[10] = p * E + f * w + m * L + g * I, r[14] = p * T + f * R + m * U + g * O, r[3] = _ * M + v * b + x * P + y * N, r[7] = _ * S + v * A + x * C + y * D, r[11] = _ * E + v * w + x * L + y * I, r[15] = _ * T + v * R + x * U + y * O, this;
    }
    multiplyScalar(e1) {
        let t = this.elements;
        return t[0] *= e1, t[4] *= e1, t[8] *= e1, t[12] *= e1, t[1] *= e1, t[5] *= e1, t[9] *= e1, t[13] *= e1, t[2] *= e1, t[6] *= e1, t[10] *= e1, t[14] *= e1, t[3] *= e1, t[7] *= e1, t[11] *= e1, t[15] *= e1, this;
    }
    determinant() {
        let e1 = this.elements, t = e1[0], n = e1[4], i = e1[8], r = e1[12], a = e1[1], s = e1[5], o = e1[9], l = e1[13], u = e1[2], h = e1[6], c = e1[10], d = e1[14];
        return e1[3] * (+r * o * h - i * l * h - r * s * c + n * l * c + i * s * d - n * o * d) + e1[7] * (+t * o * d - t * l * c + r * a * c - i * a * d + i * l * u - r * o * u) + e1[11] * (+t * l * h - t * s * d - r * a * h + n * a * d + r * s * u - n * l * u) + e1[15] * (-i * s * u - t * o * h + t * s * c + i * a * h - n * a * c + n * o * u);
    }
    transpose() {
        let e1, t = this.elements;
        return e1 = t[1], t[1] = t[4], t[4] = e1, e1 = t[2], t[2] = t[8], t[8] = e1, e1 = t[6], t[6] = t[9], t[9] = e1, e1 = t[3], t[3] = t[12], t[12] = e1, e1 = t[7], t[7] = t[13], t[13] = e1, e1 = t[11], t[11] = t[14], t[14] = e1, this;
    }
    setPosition(e1, t, n) {
        let i = this.elements;
        return e1.isVector3 ? (i[12] = e1.x, i[13] = e1.y, i[14] = e1.z) : (i[12] = e1, i[13] = t, i[14] = n), this;
    }
    invert() {
        let e1 = this.elements, t = e1[0], n = e1[1], i = e1[2], r = e1[3], a = e1[4], s = e1[5], o = e1[6], l = e1[7], u = e1[8], h = e1[9], c = e1[10], d = e1[11], p = e1[12], f = e1[13], m = e1[14], g = e1[15], _ = h * m * l - f * c * l + f * o * d - s * m * d - h * o * g + s * c * g, v = p * c * l - u * m * l - p * o * d + a * m * d + u * o * g - a * c * g, x = u * f * l - p * h * l + p * s * d - a * f * d - u * s * g + a * h * g, y = p * h * o - u * f * o - p * s * c + a * f * c + u * s * m - a * h * m, M = t * _ + n * v + i * x + r * y;
        if (0 === M) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
        let S = 1 / M;
        return e1[0] = _ * S, e1[1] = (f * c * r - h * m * r - f * i * d + n * m * d + h * i * g - n * c * g) * S, e1[2] = (s * m * r - f * o * r + f * i * l - n * m * l - s * i * g + n * o * g) * S, e1[3] = (h * o * r - s * c * r - h * i * l + n * c * l + s * i * d - n * o * d) * S, e1[4] = v * S, e1[5] = (u * m * r - p * c * r + p * i * d - t * m * d - u * i * g + t * c * g) * S, e1[6] = (p * o * r - a * m * r - p * i * l + t * m * l + a * i * g - t * o * g) * S, e1[7] = (a * c * r - u * o * r + u * i * l - t * c * l - a * i * d + t * o * d) * S, e1[8] = x * S, e1[9] = (p * h * r - u * f * r - p * n * d + t * f * d + u * n * g - t * h * g) * S, e1[10] = (a * f * r - p * s * r + p * n * l - t * f * l - a * n * g + t * s * g) * S, e1[11] = (u * s * r - a * h * r - u * n * l + t * h * l + a * n * d - t * s * d) * S, e1[12] = y * S, e1[13] = (u * f * i - p * h * i + p * n * c - t * f * c - u * n * m + t * h * m) * S, e1[14] = (p * s * i - a * f * i - p * n * o + t * f * o + a * n * m - t * s * m) * S, e1[15] = (a * h * i - u * s * i + u * n * o - t * h * o - a * n * c + t * s * c) * S, this;
    }
    scale(e1) {
        let t = this.elements, n = e1.x, i = e1.y, r = e1.z;
        return t[0] *= n, t[4] *= i, t[8] *= r, t[1] *= n, t[5] *= i, t[9] *= r, t[2] *= n, t[6] *= i, t[10] *= r, t[3] *= n, t[7] *= i, t[11] *= r, this;
    }
    getMaxScaleOnAxis() {
        let e1 = this.elements, t = e1[0] * e1[0] + e1[1] * e1[1] + e1[2] * e1[2], n = e1[4] * e1[4] + e1[5] * e1[5] + e1[6] * e1[6], i = e1[8] * e1[8] + e1[9] * e1[9] + e1[10] * e1[10];
        return Math.sqrt(Math.max(t, n, i));
    }
    makeTranslation(e1, t, n) {
        return e1.isVector3 ? this.set(1, 0, 0, e1.x, 0, 1, 0, e1.y, 0, 0, 1, e1.z, 0, 0, 0, 1) : this.set(1, 0, 0, e1, 0, 1, 0, t, 0, 0, 1, n, 0, 0, 0, 1), this;
    }
    makeRotationX(e1) {
        let t = Math.cos(e1), n = Math.sin(e1);
        return this.set(1, 0, 0, 0, 0, t, -n, 0, 0, n, t, 0, 0, 0, 0, 1), this;
    }
    makeRotationY(e1) {
        let t = Math.cos(e1), n = Math.sin(e1);
        return this.set(t, 0, n, 0, 0, 1, 0, 0, -n, 0, t, 0, 0, 0, 0, 1), this;
    }
    makeRotationZ(e1) {
        let t = Math.cos(e1), n = Math.sin(e1);
        return this.set(t, -n, 0, 0, n, t, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this;
    }
    makeRotationAxis(e1, t) {
        let n = Math.cos(t), i = Math.sin(t), r = 1 - n, a = e1.x, s = e1.y, o = e1.z, l = r * a, u = r * s;
        return this.set(l * a + n, l * s - i * o, l * o + i * s, 0, l * s + i * o, u * s + n, u * o - i * a, 0, l * o - i * s, u * o + i * a, r * o * o + n, 0, 0, 0, 0, 1), this;
    }
    makeScale(e1, t, n) {
        return this.set(e1, 0, 0, 0, 0, t, 0, 0, 0, 0, n, 0, 0, 0, 0, 1), this;
    }
    makeShear(e1, t, n, i, r, a) {
        return this.set(1, n, r, 0, e1, 1, a, 0, t, i, 1, 0, 0, 0, 0, 1), this;
    }
    compose(e1, t, n) {
        let i = this.elements, r = t._x, a = t._y, s = t._z, o = t._w, l = r + r, u = a + a, h = s + s, c = r * l, d = r * u, p = r * h, f = a * u, m = a * h, g = s * h, _ = o * l, v = o * u, x = o * h, y = n.x, M = n.y, S = n.z;
        return i[0] = (1 - (f + g)) * y, i[1] = (d + x) * y, i[2] = (p - v) * y, i[3] = 0, i[4] = (d - x) * M, i[5] = (1 - (c + g)) * M, i[6] = (m + _) * M, i[7] = 0, i[8] = (p + v) * S, i[9] = (m - _) * S, i[10] = (1 - (c + f)) * S, i[11] = 0, i[12] = e1.x, i[13] = e1.y, i[14] = e1.z, i[15] = 1, this;
    }
    decompose(e1, t, n) {
        let i = this.elements, r = Jn.set(i[0], i[1], i[2]).length(), a = Jn.set(i[4], i[5], i[6]).length(), s = Jn.set(i[8], i[9], i[10]).length();
        this.determinant() < 0 && (r = -r), e1.x = i[12], e1.y = i[13], e1.z = i[14], Oe.copy(this);
        let o = 1 / r, l = 1 / a, u = 1 / s;
        return Oe.elements[0] *= o, Oe.elements[1] *= o, Oe.elements[2] *= o, Oe.elements[4] *= l, Oe.elements[5] *= l, Oe.elements[6] *= l, Oe.elements[8] *= u, Oe.elements[9] *= u, Oe.elements[10] *= u, t.setFromRotationMatrix(Oe), n.x = r, n.y = a, n.z = s, this;
    }
    makePerspective(e1, t, n, i, r, a, s = rn) {
        let o, l, u = this.elements, h = 2 * r / (t - e1), c = 2 * r / (n - i), d = (t + e1) / (t - e1), p = (n + i) / (n - i);
        if (s === rn) o = -(a + r) / (a - r), l = -2 * a * r / (a - r);
        else {
            if (s !== Bs) throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: " + s);
            o = -a / (a - r), l = -a * r / (a - r);
        }
        return u[0] = h, u[4] = 0, u[8] = d, u[12] = 0, u[1] = 0, u[5] = c, u[9] = p, u[13] = 0, u[2] = 0, u[6] = 0, u[10] = o, u[14] = l, u[3] = 0, u[7] = 0, u[11] = -1, u[15] = 0, this;
    }
    makeOrthographic(e1, t, n, i, r, a, s = rn) {
        let o, l, u = this.elements, h = 1 / (t - e1), c = 1 / (n - i), d = 1 / (a - r), p = (t + e1) * h, f = (n + i) * c;
        if (s === rn) o = (a + r) * d, l = -2 * d;
        else {
            if (s !== Bs) throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: " + s);
            o = r * d, l = -1 * d;
        }
        return u[0] = 2 * h, u[4] = 0, u[8] = 0, u[12] = -p, u[1] = 0, u[5] = 2 * c, u[9] = 0, u[13] = -f, u[2] = 0, u[6] = 0, u[10] = l, u[14] = -o, u[3] = 0, u[7] = 0, u[11] = 0, u[15] = 1, this;
    }
    equals(e1) {
        let t = this.elements, n = e1.elements;
        for(let e1 = 0; e1 < 16; e1++)if (t[e1] !== n[e1]) return !1;
        return !0;
    }
    fromArray(e1, t = 0) {
        for(let n = 0; n < 16; n++)this.elements[n] = e1[n + t];
        return this;
    }
    toArray(e1 = [], t = 0) {
        let n = this.elements;
        return e1[t] = n[0], e1[t + 1] = n[1], e1[t + 2] = n[2], e1[t + 3] = n[3], e1[t + 4] = n[4], e1[t + 5] = n[5], e1[t + 6] = n[6], e1[t + 7] = n[7], e1[t + 8] = n[8], e1[t + 9] = n[9], e1[t + 10] = n[10], e1[t + 11] = n[11], e1[t + 12] = n[12], e1[t + 13] = n[13], e1[t + 14] = n[14], e1[t + 15] = n[15], e1;
    }
};
(0, _chunkZRT45YCMJs.a)(Fi, "Matrix4");
var ee = Fi, Jn = new P, Oe = new ee, vf = new P(0, 0, 0), yf = new P(1, 1, 1), hn = new P, cs = new P, Ce = new P, rh = new ee, ah = new Sn, hr = class e1 {
    constructor(t = 0, n = 0, i = 0, r = e1.DEFAULT_ORDER){
        this.isEuler = !0, this._x = t, this._y = n, this._z = i, this._order = r;
    }
    get x() {
        return this._x;
    }
    set x(e1) {
        this._x = e1, this._onChangeCallback();
    }
    get y() {
        return this._y;
    }
    set y(e1) {
        this._y = e1, this._onChangeCallback();
    }
    get z() {
        return this._z;
    }
    set z(e1) {
        this._z = e1, this._onChangeCallback();
    }
    get order() {
        return this._order;
    }
    set order(e1) {
        this._order = e1, this._onChangeCallback();
    }
    set(e1, t, n, i = this._order) {
        return this._x = e1, this._y = t, this._z = n, this._order = i, this._onChangeCallback(), this;
    }
    clone() {
        return new this.constructor(this._x, this._y, this._z, this._order);
    }
    copy(e1) {
        return this._x = e1._x, this._y = e1._y, this._z = e1._z, this._order = e1._order, this._onChangeCallback(), this;
    }
    setFromRotationMatrix(e1, t = this._order, n = !0) {
        let i = e1.elements, r = i[0], a = i[4], s = i[8], o = i[1], l = i[5], u = i[9], h = i[2], c = i[6], d = i[10];
        switch(t){
            case "XYZ":
                this._y = Math.asin(pe(s, -1, 1)), Math.abs(s) < .9999999 ? (this._x = Math.atan2(-u, d), this._z = Math.atan2(-a, r)) : (this._x = Math.atan2(c, l), this._z = 0);
                break;
            case "YXZ":
                this._x = Math.asin(-pe(u, -1, 1)), Math.abs(u) < .9999999 ? (this._y = Math.atan2(s, d), this._z = Math.atan2(o, l)) : (this._y = Math.atan2(-h, r), this._z = 0);
                break;
            case "ZXY":
                this._x = Math.asin(pe(c, -1, 1)), Math.abs(c) < .9999999 ? (this._y = Math.atan2(-h, d), this._z = Math.atan2(-a, l)) : (this._y = 0, this._z = Math.atan2(o, r));
                break;
            case "ZYX":
                this._y = Math.asin(-pe(h, -1, 1)), Math.abs(h) < .9999999 ? (this._x = Math.atan2(c, d), this._z = Math.atan2(o, r)) : (this._x = 0, this._z = Math.atan2(-a, l));
                break;
            case "YZX":
                this._z = Math.asin(pe(o, -1, 1)), Math.abs(o) < .9999999 ? (this._x = Math.atan2(-u, l), this._y = Math.atan2(-h, r)) : (this._x = 0, this._y = Math.atan2(s, d));
                break;
            case "XZY":
                this._z = Math.asin(-pe(a, -1, 1)), Math.abs(a) < .9999999 ? (this._x = Math.atan2(c, l), this._y = Math.atan2(s, r)) : (this._x = Math.atan2(-u, d), this._y = 0);
                break;
            default:
                console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: " + t);
        }
        return this._order = t, !0 === n && this._onChangeCallback(), this;
    }
    setFromQuaternion(e1, t, n) {
        return rh.makeRotationFromQuaternion(e1), this.setFromRotationMatrix(rh, t, n);
    }
    setFromVector3(e1, t = this._order) {
        return this.set(e1.x, e1.y, e1.z, t);
    }
    reorder(e1) {
        return ah.setFromEuler(this), this.setFromQuaternion(ah, e1);
    }
    equals(e1) {
        return e1._x === this._x && e1._y === this._y && e1._z === this._z && e1._order === this._order;
    }
    fromArray(e1) {
        return this._x = e1[0], this._y = e1[1], this._z = e1[2], void 0 !== e1[3] && (this._order = e1[3]), this._onChangeCallback(), this;
    }
    toArray(e1 = [], t = 0) {
        return e1[t] = this._x, e1[t + 1] = this._y, e1[t + 2] = this._z, e1[t + 3] = this._order, e1;
    }
    _onChange(e1) {
        return this._onChangeCallback = e1, this;
    }
    _onChangeCallback() {}
    *[Symbol.iterator]() {
        yield this._x, yield this._y, yield this._z, yield this._order;
    }
};
(0, _chunkZRT45YCMJs.a)(hr, "Euler");
var Ve = hr;
Ve.DEFAULT_ORDER = "XYZ";
var wo = class {
    constructor(){
        this.mask = 1;
    }
    set(e1) {
        this.mask = (1 << e1 | 0) >>> 0;
    }
    enable(e1) {
        this.mask |= 1 << e1 | 0;
    }
    enableAll() {
        this.mask = -1;
    }
    toggle(e1) {
        this.mask ^= 1 << e1 | 0;
    }
    disable(e1) {
        this.mask &= ~(1 << e1 | 0);
    }
    disableAll() {
        this.mask = 0;
    }
    test(e1) {
        return 0 != (this.mask & e1.mask);
    }
    isEnabled(e1) {
        return 0 != (this.mask & (1 << e1 | 0));
    }
};
(0, _chunkZRT45YCMJs.a)(wo, "Layers");
var Hi = wo, Mf = 0, oh = new P, $n = new Sn, Ke = new ee, ls = new P, Pi = new P, Sf = new P, bf = new Sn, ch = new P(1, 0, 0), lh = new P(0, 1, 0), hh = new P(0, 0, 1), Ef = {
    type: "added"
}, wf = {
    type: "removed"
}, Gr = {
    type: "childadded",
    child: null
}, Wr = {
    type: "childremoved",
    child: null
}, di = class e1 extends Mn {
    constructor(){
        super(), this.isObject3D = !0, Object.defineProperty(this, "id", {
            value: Mf++
        }), this.uuid = Gn(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = e1.DEFAULT_UP.clone();
        let t = new P, n = new Ve, i = new Sn, r = new P(1, 1, 1);
        function a() {
            i.setFromEuler(n, !1);
        }
        function s() {
            n.setFromQuaternion(i, void 0, !1);
        }
        (0, _chunkZRT45YCMJs.a)(a, "onRotationChange"), (0, _chunkZRT45YCMJs.a)(s, "onQuaternionChange"), n._onChange(a), i._onChange(s), Object.defineProperties(this, {
            position: {
                configurable: !0,
                enumerable: !0,
                value: t
            },
            rotation: {
                configurable: !0,
                enumerable: !0,
                value: n
            },
            quaternion: {
                configurable: !0,
                enumerable: !0,
                value: i
            },
            scale: {
                configurable: !0,
                enumerable: !0,
                value: r
            },
            modelViewMatrix: {
                value: new ee
            },
            normalMatrix: {
                value: new zt
            }
        }), this.matrix = new ee, this.matrixWorld = new ee, this.matrixAutoUpdate = e1.DEFAULT_MATRIX_AUTO_UPDATE, this.matrixWorldAutoUpdate = e1.DEFAULT_MATRIX_WORLD_AUTO_UPDATE, this.matrixWorldNeedsUpdate = !1, this.layers = new Hi, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.animations = [], this.userData = {};
    }
    onBeforeShadow() {}
    onAfterShadow() {}
    onBeforeRender() {}
    onAfterRender() {}
    applyMatrix4(e1) {
        this.matrixAutoUpdate && this.updateMatrix(), this.matrix.premultiply(e1), this.matrix.decompose(this.position, this.quaternion, this.scale);
    }
    applyQuaternion(e1) {
        return this.quaternion.premultiply(e1), this;
    }
    setRotationFromAxisAngle(e1, t) {
        this.quaternion.setFromAxisAngle(e1, t);
    }
    setRotationFromEuler(e1) {
        this.quaternion.setFromEuler(e1, !0);
    }
    setRotationFromMatrix(e1) {
        this.quaternion.setFromRotationMatrix(e1);
    }
    setRotationFromQuaternion(e1) {
        this.quaternion.copy(e1);
    }
    rotateOnAxis(e1, t) {
        return $n.setFromAxisAngle(e1, t), this.quaternion.multiply($n), this;
    }
    rotateOnWorldAxis(e1, t) {
        return $n.setFromAxisAngle(e1, t), this.quaternion.premultiply($n), this;
    }
    rotateX(e1) {
        return this.rotateOnAxis(ch, e1);
    }
    rotateY(e1) {
        return this.rotateOnAxis(lh, e1);
    }
    rotateZ(e1) {
        return this.rotateOnAxis(hh, e1);
    }
    translateOnAxis(e1, t) {
        return oh.copy(e1).applyQuaternion(this.quaternion), this.position.add(oh.multiplyScalar(t)), this;
    }
    translateX(e1) {
        return this.translateOnAxis(ch, e1);
    }
    translateY(e1) {
        return this.translateOnAxis(lh, e1);
    }
    translateZ(e1) {
        return this.translateOnAxis(hh, e1);
    }
    localToWorld(e1) {
        return this.updateWorldMatrix(!0, !1), e1.applyMatrix4(this.matrixWorld);
    }
    worldToLocal(e1) {
        return this.updateWorldMatrix(!0, !1), e1.applyMatrix4(Ke.copy(this.matrixWorld).invert());
    }
    lookAt(e1, t, n) {
        e1.isVector3 ? ls.copy(e1) : ls.set(e1, t, n);
        let i = this.parent;
        this.updateWorldMatrix(!0, !1), Pi.setFromMatrixPosition(this.matrixWorld), this.isCamera || this.isLight ? Ke.lookAt(Pi, ls, this.up) : Ke.lookAt(ls, Pi, this.up), this.quaternion.setFromRotationMatrix(Ke), i && (Ke.extractRotation(i.matrixWorld), $n.setFromRotationMatrix(Ke), this.quaternion.premultiply($n.invert()));
    }
    add(e1) {
        if (arguments.length > 1) {
            for(let e1 = 0; e1 < arguments.length; e1++)this.add(arguments[e1]);
            return this;
        }
        return e1 === this ? (console.error("THREE.Object3D.add: object can't be added as a child of itself.", e1), this) : (e1 && e1.isObject3D ? (null !== e1.parent && e1.parent.remove(e1), e1.parent = this, this.children.push(e1), e1.dispatchEvent(Ef), Gr.child = e1, this.dispatchEvent(Gr), Gr.child = null) : console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.", e1), this);
    }
    remove(e1) {
        if (arguments.length > 1) {
            for(let e1 = 0; e1 < arguments.length; e1++)this.remove(arguments[e1]);
            return this;
        }
        let t = this.children.indexOf(e1);
        return -1 !== t && (e1.parent = null, this.children.splice(t, 1), e1.dispatchEvent(wf), Wr.child = e1, this.dispatchEvent(Wr), Wr.child = null), this;
    }
    removeFromParent() {
        let e1 = this.parent;
        return null !== e1 && e1.remove(this), this;
    }
    clear() {
        return this.remove(...this.children);
    }
    attach(e1) {
        return this.updateWorldMatrix(!0, !1), Ke.copy(this.matrixWorld).invert(), null !== e1.parent && (e1.parent.updateWorldMatrix(!0, !1), Ke.multiply(e1.parent.matrixWorld)), e1.applyMatrix4(Ke), this.add(e1), e1.updateWorldMatrix(!1, !0), this;
    }
    getObjectById(e1) {
        return this.getObjectByProperty("id", e1);
    }
    getObjectByName(e1) {
        return this.getObjectByProperty("name", e1);
    }
    getObjectByProperty(e1, t) {
        if (this[e1] === t) return this;
        for(let n = 0, i = this.children.length; n < i; n++){
            let i = this.children[n].getObjectByProperty(e1, t);
            if (void 0 !== i) return i;
        }
    }
    getObjectsByProperty(e1, t, n = []) {
        this[e1] === t && n.push(this);
        let i = this.children;
        for(let r = 0, a = i.length; r < a; r++)i[r].getObjectsByProperty(e1, t, n);
        return n;
    }
    getWorldPosition(e1) {
        return this.updateWorldMatrix(!0, !1), e1.setFromMatrixPosition(this.matrixWorld);
    }
    getWorldQuaternion(e1) {
        return this.updateWorldMatrix(!0, !1), this.matrixWorld.decompose(Pi, e1, Sf), e1;
    }
    getWorldScale(e1) {
        return this.updateWorldMatrix(!0, !1), this.matrixWorld.decompose(Pi, bf, e1), e1;
    }
    getWorldDirection(e1) {
        this.updateWorldMatrix(!0, !1);
        let t = this.matrixWorld.elements;
        return e1.set(t[8], t[9], t[10]).normalize();
    }
    raycast() {}
    traverse(e1) {
        e1(this);
        let t = this.children;
        for(let n = 0, i = t.length; n < i; n++)t[n].traverse(e1);
    }
    traverseVisible(e1) {
        if (!1 === this.visible) return;
        e1(this);
        let t = this.children;
        for(let n = 0, i = t.length; n < i; n++)t[n].traverseVisible(e1);
    }
    traverseAncestors(e1) {
        let t = this.parent;
        null !== t && (e1(t), t.traverseAncestors(e1));
    }
    updateMatrix() {
        this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0;
    }
    updateMatrixWorld(e1) {
        this.matrixAutoUpdate && this.updateMatrix(), (this.matrixWorldNeedsUpdate || e1) && (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, e1 = !0);
        let t = this.children;
        for(let n = 0, i = t.length; n < i; n++){
            let i = t[n];
            (!0 === i.matrixWorldAutoUpdate || !0 === e1) && i.updateMatrixWorld(e1);
        }
    }
    updateWorldMatrix(e1, t) {
        let n = this.parent;
        if (!0 === e1 && null !== n && !0 === n.matrixWorldAutoUpdate && n.updateWorldMatrix(!0, !1), this.matrixAutoUpdate && this.updateMatrix(), null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), !0 === t) {
            let e1 = this.children;
            for(let t = 0, n = e1.length; t < n; t++){
                let n = e1[t];
                !0 === n.matrixWorldAutoUpdate && n.updateWorldMatrix(!1, !0);
            }
        }
    }
    toJSON(e1) {
        let t = void 0 === e1 || "string" == typeof e1, n = {};
        t && (e1 = {
            geometries: {},
            materials: {},
            textures: {},
            images: {},
            shapes: {},
            skeletons: {},
            animations: {},
            nodes: {}
        }, n.metadata = {
            version: 4.6,
            type: "Object",
            generator: "Object3D.toJSON"
        });
        let i = {};
        function r(t, n) {
            return void 0 === t[n.uuid] && (t[n.uuid] = n.toJSON(e1)), n.uuid;
        }
        if (i.uuid = this.uuid, i.type = this.type, "" !== this.name && (i.name = this.name), !0 === this.castShadow && (i.castShadow = !0), !0 === this.receiveShadow && (i.receiveShadow = !0), !1 === this.visible && (i.visible = !1), !1 === this.frustumCulled && (i.frustumCulled = !1), 0 !== this.renderOrder && (i.renderOrder = this.renderOrder), Object.keys(this.userData).length > 0 && (i.userData = this.userData), i.layers = this.layers.mask, i.matrix = this.matrix.toArray(), i.up = this.up.toArray(), !1 === this.matrixAutoUpdate && (i.matrixAutoUpdate = !1), this.isInstancedMesh && (i.type = "InstancedMesh", i.count = this.count, i.instanceMatrix = this.instanceMatrix.toJSON(), null !== this.instanceColor && (i.instanceColor = this.instanceColor.toJSON())), this.isBatchedMesh && (i.type = "BatchedMesh", i.perObjectFrustumCulled = this.perObjectFrustumCulled, i.sortObjects = this.sortObjects, i.drawRanges = this._drawRanges, i.reservedRanges = this._reservedRanges, i.visibility = this._visibility, i.active = this._active, i.bounds = this._bounds.map((e1)=>({
                boxInitialized: e1.boxInitialized,
                boxMin: e1.box.min.toArray(),
                boxMax: e1.box.max.toArray(),
                sphereInitialized: e1.sphereInitialized,
                sphereRadius: e1.sphere.radius,
                sphereCenter: e1.sphere.center.toArray()
            })), i.maxGeometryCount = this._maxGeometryCount, i.maxVertexCount = this._maxVertexCount, i.maxIndexCount = this._maxIndexCount, i.geometryInitialized = this._geometryInitialized, i.geometryCount = this._geometryCount, i.matricesTexture = this._matricesTexture.toJSON(e1), null !== this.boundingSphere && (i.boundingSphere = {
            center: i.boundingSphere.center.toArray(),
            radius: i.boundingSphere.radius
        }), null !== this.boundingBox && (i.boundingBox = {
            min: i.boundingBox.min.toArray(),
            max: i.boundingBox.max.toArray()
        })), (0, _chunkZRT45YCMJs.a)(r, "serialize"), this.isScene) this.background && (this.background.isColor ? i.background = this.background.toJSON() : this.background.isTexture && (i.background = this.background.toJSON(e1).uuid)), this.environment && this.environment.isTexture && !0 !== this.environment.isRenderTargetTexture && (i.environment = this.environment.toJSON(e1).uuid);
        else if (this.isMesh || this.isLine || this.isPoints) {
            i.geometry = r(e1.geometries, this.geometry);
            let t = this.geometry.parameters;
            if (void 0 !== t && void 0 !== t.shapes) {
                let n = t.shapes;
                if (Array.isArray(n)) for(let t = 0, i = n.length; t < i; t++){
                    let i = n[t];
                    r(e1.shapes, i);
                }
                else r(e1.shapes, n);
            }
        }
        if (this.isSkinnedMesh && (i.bindMode = this.bindMode, i.bindMatrix = this.bindMatrix.toArray(), void 0 !== this.skeleton && (r(e1.skeletons, this.skeleton), i.skeleton = this.skeleton.uuid)), void 0 !== this.material) {
            if (Array.isArray(this.material)) {
                let t = [];
                for(let n = 0, i = this.material.length; n < i; n++)t.push(r(e1.materials, this.material[n]));
                i.material = t;
            } else i.material = r(e1.materials, this.material);
        }
        if (this.children.length > 0) {
            i.children = [];
            for(let t = 0; t < this.children.length; t++)i.children.push(this.children[t].toJSON(e1).object);
        }
        if (this.animations.length > 0) {
            i.animations = [];
            for(let t = 0; t < this.animations.length; t++){
                let n = this.animations[t];
                i.animations.push(r(e1.animations, n));
            }
        }
        if (t) {
            let t = a(e1.geometries), i = a(e1.materials), r = a(e1.textures), s = a(e1.images), o = a(e1.shapes), l = a(e1.skeletons), u = a(e1.animations), h = a(e1.nodes);
            t.length > 0 && (n.geometries = t), i.length > 0 && (n.materials = i), r.length > 0 && (n.textures = r), s.length > 0 && (n.images = s), o.length > 0 && (n.shapes = o), l.length > 0 && (n.skeletons = l), u.length > 0 && (n.animations = u), h.length > 0 && (n.nodes = h);
        }
        return n.object = i, n;
        function a(e1) {
            let t = [];
            for(let n in e1){
                let i = e1[n];
                delete i.metadata, t.push(i);
            }
            return t;
        }
    }
    clone(e1) {
        return (new this.constructor).copy(this, e1);
    }
    copy(e1, t = !0) {
        if (this.name = e1.name, this.up.copy(e1.up), this.position.copy(e1.position), this.rotation.order = e1.rotation.order, this.quaternion.copy(e1.quaternion), this.scale.copy(e1.scale), this.matrix.copy(e1.matrix), this.matrixWorld.copy(e1.matrixWorld), this.matrixAutoUpdate = e1.matrixAutoUpdate, this.matrixWorldAutoUpdate = e1.matrixWorldAutoUpdate, this.matrixWorldNeedsUpdate = e1.matrixWorldNeedsUpdate, this.layers.mask = e1.layers.mask, this.visible = e1.visible, this.castShadow = e1.castShadow, this.receiveShadow = e1.receiveShadow, this.frustumCulled = e1.frustumCulled, this.renderOrder = e1.renderOrder, this.animations = e1.animations.slice(), this.userData = JSON.parse(JSON.stringify(e1.userData)), !0 === t) for(let t = 0; t < e1.children.length; t++){
            let n = e1.children[t];
            this.add(n.clone());
        }
        return this;
    }
};
(0, _chunkZRT45YCMJs.a)(di, "Object3D");
var be = di;
be.DEFAULT_UP = new P(0, 1, 0), be.DEFAULT_MATRIX_AUTO_UPDATE = !0, be.DEFAULT_MATRIX_WORLD_AUTO_UPDATE = !0;
var Fe = new P, Qe = new P, Xr = new P, je = new P, Kn = new P, Qn = new P, uh = new P, qr = new P, Yr = new P, Zr = new P, fn = class e1 {
    constructor(e1 = new P, t = new P, n = new P){
        this.a = e1, this.b = t, this.c = n;
    }
    static getNormal(e1, t, n, i) {
        i.subVectors(n, t), Fe.subVectors(e1, t), i.cross(Fe);
        let r = i.lengthSq();
        return r > 0 ? i.multiplyScalar(1 / Math.sqrt(r)) : i.set(0, 0, 0);
    }
    static getBarycoord(e1, t, n, i, r) {
        Fe.subVectors(i, t), Qe.subVectors(n, t), Xr.subVectors(e1, t);
        let a = Fe.dot(Fe), s = Fe.dot(Qe), o = Fe.dot(Xr), l = Qe.dot(Qe), u = Qe.dot(Xr), h = a * l - s * s;
        if (0 === h) return r.set(0, 0, 0), null;
        let c = 1 / h, d = (l * o - s * u) * c, p = (a * u - s * o) * c;
        return r.set(1 - d - p, p, d);
    }
    static containsPoint(e1, t, n, i) {
        return null !== this.getBarycoord(e1, t, n, i, je) && je.x >= 0 && je.y >= 0 && je.x + je.y <= 1;
    }
    static getInterpolation(e1, t, n, i, r, a, s, o) {
        return null === this.getBarycoord(e1, t, n, i, je) ? (o.x = 0, o.y = 0, "z" in o && (o.z = 0), "w" in o && (o.w = 0), null) : (o.setScalar(0), o.addScaledVector(r, je.x), o.addScaledVector(a, je.y), o.addScaledVector(s, je.z), o);
    }
    static isFrontFacing(e1, t, n, i) {
        return Fe.subVectors(n, t), Qe.subVectors(e1, t), Fe.cross(Qe).dot(i) < 0;
    }
    set(e1, t, n) {
        return this.a.copy(e1), this.b.copy(t), this.c.copy(n), this;
    }
    setFromPointsAndIndices(e1, t, n, i) {
        return this.a.copy(e1[t]), this.b.copy(e1[n]), this.c.copy(e1[i]), this;
    }
    setFromAttributeAndIndices(e1, t, n, i) {
        return this.a.fromBufferAttribute(e1, t), this.b.fromBufferAttribute(e1, n), this.c.fromBufferAttribute(e1, i), this;
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    copy(e1) {
        return this.a.copy(e1.a), this.b.copy(e1.b), this.c.copy(e1.c), this;
    }
    getArea() {
        return Fe.subVectors(this.c, this.b), Qe.subVectors(this.a, this.b), .5 * Fe.cross(Qe).length();
    }
    getMidpoint(e1) {
        return e1.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);
    }
    getNormal(t) {
        return e1.getNormal(this.a, this.b, this.c, t);
    }
    getPlane(e1) {
        return e1.setFromCoplanarPoints(this.a, this.b, this.c);
    }
    getBarycoord(t, n) {
        return e1.getBarycoord(t, this.a, this.b, this.c, n);
    }
    getInterpolation(t, n, i, r, a) {
        return e1.getInterpolation(t, this.a, this.b, this.c, n, i, r, a);
    }
    containsPoint(t) {
        return e1.containsPoint(t, this.a, this.b, this.c);
    }
    isFrontFacing(t) {
        return e1.isFrontFacing(this.a, this.b, this.c, t);
    }
    intersectsBox(e1) {
        return e1.intersectsTriangle(this);
    }
    closestPointToPoint(e1, t) {
        let n, i, r = this.a, a = this.b, s = this.c;
        Kn.subVectors(a, r), Qn.subVectors(s, r), qr.subVectors(e1, r);
        let o = Kn.dot(qr), l = Qn.dot(qr);
        if (o <= 0 && l <= 0) return t.copy(r);
        Yr.subVectors(e1, a);
        let u = Kn.dot(Yr), h = Qn.dot(Yr);
        if (u >= 0 && h <= u) return t.copy(a);
        let c = o * h - u * l;
        if (c <= 0 && o >= 0 && u <= 0) return n = o / (o - u), t.copy(r).addScaledVector(Kn, n);
        Zr.subVectors(e1, s);
        let d = Kn.dot(Zr), p = Qn.dot(Zr);
        if (p >= 0 && d <= p) return t.copy(s);
        let f = d * l - o * p;
        if (f <= 0 && l >= 0 && p <= 0) return i = l / (l - p), t.copy(r).addScaledVector(Qn, i);
        let m = u * p - d * h;
        if (m <= 0 && h - u >= 0 && d - p >= 0) return uh.subVectors(s, a), i = (h - u) / (h - u + (d - p)), t.copy(a).addScaledVector(uh, i);
        let g = 1 / (m + f + c);
        return n = f * g, i = c * g, t.copy(r).addScaledVector(Kn, n).addScaledVector(Qn, i);
    }
    equals(e1) {
        return e1.a.equals(this.a) && e1.b.equals(this.b) && e1.c.equals(this.c);
    }
};
(0, _chunkZRT45YCMJs.a)(fn, "Triangle");
var Fn = fn, Fu = {
    aliceblue: 15792383,
    antiquewhite: 16444375,
    aqua: 65535,
    aquamarine: 8388564,
    azure: 15794175,
    beige: 16119260,
    bisque: 16770244,
    black: 0,
    blanchedalmond: 16772045,
    blue: 255,
    blueviolet: 9055202,
    brown: 10824234,
    burlywood: 14596231,
    cadetblue: 6266528,
    chartreuse: 8388352,
    chocolate: 13789470,
    coral: 16744272,
    cornflowerblue: 6591981,
    cornsilk: 16775388,
    crimson: 14423100,
    cyan: 65535,
    darkblue: 139,
    darkcyan: 35723,
    darkgoldenrod: 12092939,
    darkgray: 11119017,
    darkgreen: 25600,
    darkgrey: 11119017,
    darkkhaki: 12433259,
    darkmagenta: 9109643,
    darkolivegreen: 5597999,
    darkorange: 16747520,
    darkorchid: 10040012,
    darkred: 9109504,
    darksalmon: 15308410,
    darkseagreen: 9419919,
    darkslateblue: 4734347,
    darkslategray: 3100495,
    darkslategrey: 3100495,
    darkturquoise: 52945,
    darkviolet: 9699539,
    deeppink: 16716947,
    deepskyblue: 49151,
    dimgray: 6908265,
    dimgrey: 6908265,
    dodgerblue: 2003199,
    firebrick: 11674146,
    floralwhite: 16775920,
    forestgreen: 2263842,
    fuchsia: 16711935,
    gainsboro: 14474460,
    ghostwhite: 16316671,
    gold: 16766720,
    goldenrod: 14329120,
    gray: 8421504,
    green: 32768,
    greenyellow: 11403055,
    grey: 8421504,
    honeydew: 15794160,
    hotpink: 16738740,
    indianred: 13458524,
    indigo: 4915330,
    ivory: 16777200,
    khaki: 15787660,
    lavender: 15132410,
    lavenderblush: 16773365,
    lawngreen: 8190976,
    lemonchiffon: 16775885,
    lightblue: 11393254,
    lightcoral: 15761536,
    lightcyan: 14745599,
    lightgoldenrodyellow: 16448210,
    lightgray: 13882323,
    lightgreen: 9498256,
    lightgrey: 13882323,
    lightpink: 16758465,
    lightsalmon: 16752762,
    lightseagreen: 2142890,
    lightskyblue: 8900346,
    lightslategray: 7833753,
    lightslategrey: 7833753,
    lightsteelblue: 11584734,
    lightyellow: 16777184,
    lime: 65280,
    limegreen: 3329330,
    linen: 16445670,
    magenta: 16711935,
    maroon: 8388608,
    mediumaquamarine: 6737322,
    mediumblue: 205,
    mediumorchid: 12211667,
    mediumpurple: 9662683,
    mediumseagreen: 3978097,
    mediumslateblue: 8087790,
    mediumspringgreen: 64154,
    mediumturquoise: 4772300,
    mediumvioletred: 13047173,
    midnightblue: 1644912,
    mintcream: 16121850,
    mistyrose: 16770273,
    moccasin: 16770229,
    navajowhite: 16768685,
    navy: 128,
    oldlace: 16643558,
    olive: 8421376,
    olivedrab: 7048739,
    orange: 16753920,
    orangered: 16729344,
    orchid: 14315734,
    palegoldenrod: 15657130,
    palegreen: 10025880,
    paleturquoise: 11529966,
    palevioletred: 14381203,
    papayawhip: 16773077,
    peachpuff: 16767673,
    peru: 13468991,
    pink: 16761035,
    plum: 14524637,
    powderblue: 11591910,
    purple: 8388736,
    rebeccapurple: 6697881,
    red: 16711680,
    rosybrown: 12357519,
    royalblue: 4286945,
    saddlebrown: 9127187,
    salmon: 16416882,
    sandybrown: 16032864,
    seagreen: 3050327,
    seashell: 16774638,
    sienna: 10506797,
    silver: 12632256,
    skyblue: 8900331,
    slateblue: 6970061,
    slategray: 7372944,
    slategrey: 7372944,
    snow: 16775930,
    springgreen: 65407,
    steelblue: 4620980,
    tan: 13808780,
    teal: 32896,
    thistle: 14204888,
    tomato: 16737095,
    turquoise: 4251856,
    violet: 15631086,
    wheat: 16113331,
    white: 16777215,
    whitesmoke: 16119285,
    yellow: 16776960,
    yellowgreen: 10145074
}, un = {
    h: 0,
    s: 0,
    l: 0
}, hs = {
    h: 0,
    s: 0,
    l: 0
};
function Jr(e1, t, n) {
    return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? e1 + 6 * (t - e1) * n : n < .5 ? t : n < 2 / 3 ? e1 + 6 * (t - e1) * (2 / 3 - n) : e1;
}
(0, _chunkZRT45YCMJs.a)(Jr, "hue2rgb");
var Ao = class {
    constructor(e1, t, n){
        return this.isColor = !0, this.r = 1, this.g = 1, this.b = 1, this.set(e1, t, n);
    }
    set(e1, t, n) {
        if (void 0 === t && void 0 === n) {
            let t = e1;
            t && t.isColor ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t);
        } else this.setRGB(e1, t, n);
        return this;
    }
    setScalar(e1) {
        return this.r = e1, this.g = e1, this.b = e1, this;
    }
    setHex(e1, t = Xe) {
        return e1 = Math.floor(e1), this.r = (e1 >> 16 & 255) / 255, this.g = (e1 >> 8 & 255) / 255, this.b = (255 & e1) / 255, Yt.toWorkingColorSpace(this, t), this;
    }
    setRGB(e1, t, n, i = Yt.workingColorSpace) {
        return this.r = e1, this.g = t, this.b = n, Yt.toWorkingColorSpace(this, i), this;
    }
    setHSL(e1, t, n, i = Yt.workingColorSpace) {
        if (e1 = co(e1, 1), t = pe(t, 0, 1), n = pe(n, 0, 1), 0 === t) this.r = this.g = this.b = n;
        else {
            let i = n <= .5 ? n * (1 + t) : n + t - n * t, r = 2 * n - i;
            this.r = Jr(r, i, e1 + 1 / 3), this.g = Jr(r, i, e1), this.b = Jr(r, i, e1 - 1 / 3);
        }
        return Yt.toWorkingColorSpace(this, i), this;
    }
    setStyle(e1, t = Xe) {
        function n(t) {
            void 0 !== t && parseFloat(t) < 1 && console.warn("THREE.Color: Alpha component of " + e1 + " will be ignored.");
        }
        let i;
        if ((0, _chunkZRT45YCMJs.a)(n, "handleAlpha"), i = /^(\w+)\(([^\)]*)\)/.exec(e1)) {
            let r, a = i[1], s = i[2];
            switch(a){
                case "rgb":
                case "rgba":
                    if (r = /^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)) return n(r[4]), this.setRGB(Math.min(255, parseInt(r[1], 10)) / 255, Math.min(255, parseInt(r[2], 10)) / 255, Math.min(255, parseInt(r[3], 10)) / 255, t);
                    if (r = /^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)) return n(r[4]), this.setRGB(Math.min(100, parseInt(r[1], 10)) / 100, Math.min(100, parseInt(r[2], 10)) / 100, Math.min(100, parseInt(r[3], 10)) / 100, t);
                    break;
                case "hsl":
                case "hsla":
                    if (r = /^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s)) return n(r[4]), this.setHSL(parseFloat(r[1]) / 360, parseFloat(r[2]) / 100, parseFloat(r[3]) / 100, t);
                    break;
                default:
                    console.warn("THREE.Color: Unknown color model " + e1);
            }
        } else if (i = /^\#([A-Fa-f\d]+)$/.exec(e1)) {
            let n = i[1], r = n.length;
            if (3 === r) return this.setRGB(parseInt(n.charAt(0), 16) / 15, parseInt(n.charAt(1), 16) / 15, parseInt(n.charAt(2), 16) / 15, t);
            if (6 === r) return this.setHex(parseInt(n, 16), t);
            console.warn("THREE.Color: Invalid hex color " + e1);
        } else if (e1 && e1.length > 0) return this.setColorName(e1, t);
        return this;
    }
    setColorName(e1, t = Xe) {
        let n = Fu[e1.toLowerCase()];
        return void 0 !== n ? this.setHex(n, t) : console.warn("THREE.Color: Unknown color " + e1), this;
    }
    clone() {
        return new this.constructor(this.r, this.g, this.b);
    }
    copy(e1) {
        return this.r = e1.r, this.g = e1.g, this.b = e1.b, this;
    }
    copySRGBToLinear(e1) {
        return this.r = mi(e1.r), this.g = mi(e1.g), this.b = mi(e1.b), this;
    }
    copyLinearToSRGB(e1) {
        return this.r = Nr(e1.r), this.g = Nr(e1.g), this.b = Nr(e1.b), this;
    }
    convertSRGBToLinear() {
        return this.copySRGBToLinear(this), this;
    }
    convertLinearToSRGB() {
        return this.copyLinearToSRGB(this), this;
    }
    getHex(e1 = Xe) {
        return Yt.fromWorkingColorSpace(_e.copy(this), e1), 65536 * Math.round(pe(255 * _e.r, 0, 255)) + 256 * Math.round(pe(255 * _e.g, 0, 255)) + Math.round(pe(255 * _e.b, 0, 255));
    }
    getHexString(e1 = Xe) {
        return ("000000" + this.getHex(e1).toString(16)).slice(-6);
    }
    getHSL(e1, t = Yt.workingColorSpace) {
        Yt.fromWorkingColorSpace(_e.copy(this), t);
        let n, i, r = _e.r, a = _e.g, s = _e.b, o = Math.max(r, a, s), l = Math.min(r, a, s), u = (l + o) / 2;
        if (l === o) n = 0, i = 0;
        else {
            let e1 = o - l;
            switch(i = u <= .5 ? e1 / (o + l) : e1 / (2 - o - l), o){
                case r:
                    n = (a - s) / e1 + (a < s ? 6 : 0);
                    break;
                case a:
                    n = (s - r) / e1 + 2;
                    break;
                case s:
                    n = (r - a) / e1 + 4;
            }
            n /= 6;
        }
        return e1.h = n, e1.s = i, e1.l = u, e1;
    }
    getRGB(e1, t = Yt.workingColorSpace) {
        return Yt.fromWorkingColorSpace(_e.copy(this), t), e1.r = _e.r, e1.g = _e.g, e1.b = _e.b, e1;
    }
    getStyle(e1 = Xe) {
        Yt.fromWorkingColorSpace(_e.copy(this), e1);
        let t = _e.r, n = _e.g, i = _e.b;
        return e1 !== Xe ? "color(".concat(e1, " ").concat(t.toFixed(3), " ").concat(n.toFixed(3), " ").concat(i.toFixed(3), ")") : "rgb(".concat(Math.round(255 * t), ",").concat(Math.round(255 * n), ",").concat(Math.round(255 * i), ")");
    }
    offsetHSL(e1, t, n) {
        return this.getHSL(un), this.setHSL(un.h + e1, un.s + t, un.l + n);
    }
    add(e1) {
        return this.r += e1.r, this.g += e1.g, this.b += e1.b, this;
    }
    addColors(e1, t) {
        return this.r = e1.r + t.r, this.g = e1.g + t.g, this.b = e1.b + t.b, this;
    }
    addScalar(e1) {
        return this.r += e1, this.g += e1, this.b += e1, this;
    }
    sub(e1) {
        return this.r = Math.max(0, this.r - e1.r), this.g = Math.max(0, this.g - e1.g), this.b = Math.max(0, this.b - e1.b), this;
    }
    multiply(e1) {
        return this.r *= e1.r, this.g *= e1.g, this.b *= e1.b, this;
    }
    multiplyScalar(e1) {
        return this.r *= e1, this.g *= e1, this.b *= e1, this;
    }
    lerp(e1, t) {
        return this.r += (e1.r - this.r) * t, this.g += (e1.g - this.g) * t, this.b += (e1.b - this.b) * t, this;
    }
    lerpColors(e1, t, n) {
        return this.r = e1.r + (t.r - e1.r) * n, this.g = e1.g + (t.g - e1.g) * n, this.b = e1.b + (t.b - e1.b) * n, this;
    }
    lerpHSL(e1, t) {
        this.getHSL(un), e1.getHSL(hs);
        let n = Ui(un.h, hs.h, t), i = Ui(un.s, hs.s, t), r = Ui(un.l, hs.l, t);
        return this.setHSL(n, i, r), this;
    }
    setFromVector3(e1) {
        return this.r = e1.x, this.g = e1.y, this.b = e1.z, this;
    }
    applyMatrix3(e1) {
        let t = this.r, n = this.g, i = this.b, r = e1.elements;
        return this.r = r[0] * t + r[3] * n + r[6] * i, this.g = r[1] * t + r[4] * n + r[7] * i, this.b = r[2] * t + r[5] * n + r[8] * i, this;
    }
    equals(e1) {
        return e1.r === this.r && e1.g === this.g && e1.b === this.b;
    }
    fromArray(e1, t = 0) {
        return this.r = e1[t], this.g = e1[t + 1], this.b = e1[t + 2], this;
    }
    toArray(e1 = [], t = 0) {
        return e1[t] = this.r, e1[t + 1] = this.g, e1[t + 2] = this.b, e1;
    }
    fromBufferAttribute(e1, t) {
        return this.r = e1.getX(t), this.g = e1.getY(t), this.b = e1.getZ(t), this;
    }
    toJSON() {
        return this.getHex();
    }
    *[Symbol.iterator]() {
        yield this.r, yield this.g, yield this.b;
    }
};
(0, _chunkZRT45YCMJs.a)(Ao, "Color");
var Ht = Ao, _e = new Ht;
Ht.NAMES = Fu;
var Af = 0, To = class extends Mn {
    constructor(){
        super(), this.isMaterial = !0, Object.defineProperty(this, "id", {
            value: Af++
        }), this.uuid = Gn(), this.name = "", this.type = "Material", this.blending = fi, this.side = yn, this.vertexColors = !1, this.opacity = 1, this.transparent = !1, this.alphaHash = !1, this.blendSrc = ua, this.blendDst = da, this.blendEquation = Dn, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.blendColor = new Ht(0, 0, 0), this.blendAlpha = 0, this.depthFunc = Ls, this.depthTest = !0, this.depthWrite = !0, this.stencilWriteMask = 255, this.stencilFunc = Kl, this.stencilRef = 0, this.stencilFuncMask = 255, this.stencilFail = Wn, this.stencilZFail = Wn, this.stencilZPass = Wn, this.stencilWrite = !1, this.clippingPlanes = null, this.clipIntersection = !1, this.clipShadows = !1, this.shadowSide = null, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.dithering = !1, this.alphaToCoverage = !1, this.premultipliedAlpha = !1, this.forceSinglePass = !1, this.visible = !0, this.toneMapped = !0, this.userData = {}, this.version = 0, this._alphaTest = 0;
    }
    get alphaTest() {
        return this._alphaTest;
    }
    set alphaTest(e1) {
        this._alphaTest > 0 != e1 > 0 && this.version++, this._alphaTest = e1;
    }
    onBuild() {}
    onBeforeRender() {}
    onBeforeCompile() {}
    customProgramCacheKey() {
        return this.onBeforeCompile.toString();
    }
    setValues(e1) {
        if (void 0 !== e1) for(let t in e1){
            let n = e1[t];
            if (void 0 === n) {
                console.warn("THREE.Material: parameter '".concat(t, "' has value of undefined."));
                continue;
            }
            let i = this[t];
            void 0 !== i ? i && i.isColor ? i.set(n) : i && i.isVector3 && n && n.isVector3 ? i.copy(n) : this[t] = n : console.warn("THREE.Material: '".concat(t, "' is not a property of THREE.").concat(this.type, "."));
        }
    }
    toJSON(e1) {
        let t = void 0 === e1 || "string" == typeof e1;
        t && (e1 = {
            textures: {},
            images: {}
        });
        let n = {
            metadata: {
                version: 4.6,
                type: "Material",
                generator: "Material.toJSON"
            }
        };
        function i(e1) {
            let t = [];
            for(let n in e1){
                let i = e1[n];
                delete i.metadata, t.push(i);
            }
            return t;
        }
        if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), this.color && this.color.isColor && (n.color = this.color.getHex()), void 0 !== this.roughness && (n.roughness = this.roughness), void 0 !== this.metalness && (n.metalness = this.metalness), void 0 !== this.sheen && (n.sheen = this.sheen), this.sheenColor && this.sheenColor.isColor && (n.sheenColor = this.sheenColor.getHex()), void 0 !== this.sheenRoughness && (n.sheenRoughness = this.sheenRoughness), this.emissive && this.emissive.isColor && (n.emissive = this.emissive.getHex()), void 0 !== this.emissiveIntensity && 1 !== this.emissiveIntensity && (n.emissiveIntensity = this.emissiveIntensity), this.specular && this.specular.isColor && (n.specular = this.specular.getHex()), void 0 !== this.specularIntensity && (n.specularIntensity = this.specularIntensity), this.specularColor && this.specularColor.isColor && (n.specularColor = this.specularColor.getHex()), void 0 !== this.shininess && (n.shininess = this.shininess), void 0 !== this.clearcoat && (n.clearcoat = this.clearcoat), void 0 !== this.clearcoatRoughness && (n.clearcoatRoughness = this.clearcoatRoughness), this.clearcoatMap && this.clearcoatMap.isTexture && (n.clearcoatMap = this.clearcoatMap.toJSON(e1).uuid), this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture && (n.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(e1).uuid), this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture && (n.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(e1).uuid, n.clearcoatNormalScale = this.clearcoatNormalScale.toArray()), void 0 !== this.iridescence && (n.iridescence = this.iridescence), void 0 !== this.iridescenceIOR && (n.iridescenceIOR = this.iridescenceIOR), void 0 !== this.iridescenceThicknessRange && (n.iridescenceThicknessRange = this.iridescenceThicknessRange), this.iridescenceMap && this.iridescenceMap.isTexture && (n.iridescenceMap = this.iridescenceMap.toJSON(e1).uuid), this.iridescenceThicknessMap && this.iridescenceThicknessMap.isTexture && (n.iridescenceThicknessMap = this.iridescenceThicknessMap.toJSON(e1).uuid), void 0 !== this.anisotropy && (n.anisotropy = this.anisotropy), void 0 !== this.anisotropyRotation && (n.anisotropyRotation = this.anisotropyRotation), this.anisotropyMap && this.anisotropyMap.isTexture && (n.anisotropyMap = this.anisotropyMap.toJSON(e1).uuid), this.map && this.map.isTexture && (n.map = this.map.toJSON(e1).uuid), this.matcap && this.matcap.isTexture && (n.matcap = this.matcap.toJSON(e1).uuid), this.alphaMap && this.alphaMap.isTexture && (n.alphaMap = this.alphaMap.toJSON(e1).uuid), this.lightMap && this.lightMap.isTexture && (n.lightMap = this.lightMap.toJSON(e1).uuid, n.lightMapIntensity = this.lightMapIntensity), this.aoMap && this.aoMap.isTexture && (n.aoMap = this.aoMap.toJSON(e1).uuid, n.aoMapIntensity = this.aoMapIntensity), this.bumpMap && this.bumpMap.isTexture && (n.bumpMap = this.bumpMap.toJSON(e1).uuid, n.bumpScale = this.bumpScale), this.normalMap && this.normalMap.isTexture && (n.normalMap = this.normalMap.toJSON(e1).uuid, n.normalMapType = this.normalMapType, n.normalScale = this.normalScale.toArray()), this.displacementMap && this.displacementMap.isTexture && (n.displacementMap = this.displacementMap.toJSON(e1).uuid, n.displacementScale = this.displacementScale, n.displacementBias = this.displacementBias), this.roughnessMap && this.roughnessMap.isTexture && (n.roughnessMap = this.roughnessMap.toJSON(e1).uuid), this.metalnessMap && this.metalnessMap.isTexture && (n.metalnessMap = this.metalnessMap.toJSON(e1).uuid), this.emissiveMap && this.emissiveMap.isTexture && (n.emissiveMap = this.emissiveMap.toJSON(e1).uuid), this.specularMap && this.specularMap.isTexture && (n.specularMap = this.specularMap.toJSON(e1).uuid), this.specularIntensityMap && this.specularIntensityMap.isTexture && (n.specularIntensityMap = this.specularIntensityMap.toJSON(e1).uuid), this.specularColorMap && this.specularColorMap.isTexture && (n.specularColorMap = this.specularColorMap.toJSON(e1).uuid), this.envMap && this.envMap.isTexture && (n.envMap = this.envMap.toJSON(e1).uuid, void 0 !== this.combine && (n.combine = this.combine)), void 0 !== this.envMapRotation && (n.envMapRotation = this.envMapRotation.toArray()), void 0 !== this.envMapIntensity && (n.envMapIntensity = this.envMapIntensity), void 0 !== this.reflectivity && (n.reflectivity = this.reflectivity), void 0 !== this.refractionRatio && (n.refractionRatio = this.refractionRatio), this.gradientMap && this.gradientMap.isTexture && (n.gradientMap = this.gradientMap.toJSON(e1).uuid), void 0 !== this.transmission && (n.transmission = this.transmission), this.transmissionMap && this.transmissionMap.isTexture && (n.transmissionMap = this.transmissionMap.toJSON(e1).uuid), void 0 !== this.thickness && (n.thickness = this.thickness), this.thicknessMap && this.thicknessMap.isTexture && (n.thicknessMap = this.thicknessMap.toJSON(e1).uuid), void 0 !== this.attenuationDistance && this.attenuationDistance !== 1 / 0 && (n.attenuationDistance = this.attenuationDistance), void 0 !== this.attenuationColor && (n.attenuationColor = this.attenuationColor.getHex()), void 0 !== this.size && (n.size = this.size), null !== this.shadowSide && (n.shadowSide = this.shadowSide), void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation), this.blending !== fi && (n.blending = this.blending), this.side !== yn && (n.side = this.side), !0 === this.vertexColors && (n.vertexColors = !0), this.opacity < 1 && (n.opacity = this.opacity), !0 === this.transparent && (n.transparent = !0), this.blendSrc !== ua && (n.blendSrc = this.blendSrc), this.blendDst !== da && (n.blendDst = this.blendDst), this.blendEquation !== Dn && (n.blendEquation = this.blendEquation), null !== this.blendSrcAlpha && (n.blendSrcAlpha = this.blendSrcAlpha), null !== this.blendDstAlpha && (n.blendDstAlpha = this.blendDstAlpha), null !== this.blendEquationAlpha && (n.blendEquationAlpha = this.blendEquationAlpha), this.blendColor && this.blendColor.isColor && (n.blendColor = this.blendColor.getHex()), 0 !== this.blendAlpha && (n.blendAlpha = this.blendAlpha), this.depthFunc !== Ls && (n.depthFunc = this.depthFunc), !1 === this.depthTest && (n.depthTest = this.depthTest), !1 === this.depthWrite && (n.depthWrite = this.depthWrite), !1 === this.colorWrite && (n.colorWrite = this.colorWrite), 255 !== this.stencilWriteMask && (n.stencilWriteMask = this.stencilWriteMask), this.stencilFunc !== Kl && (n.stencilFunc = this.stencilFunc), 0 !== this.stencilRef && (n.stencilRef = this.stencilRef), 255 !== this.stencilFuncMask && (n.stencilFuncMask = this.stencilFuncMask), this.stencilFail !== Wn && (n.stencilFail = this.stencilFail), this.stencilZFail !== Wn && (n.stencilZFail = this.stencilZFail), this.stencilZPass !== Wn && (n.stencilZPass = this.stencilZPass), !0 === this.stencilWrite && (n.stencilWrite = this.stencilWrite), void 0 !== this.rotation && 0 !== this.rotation && (n.rotation = this.rotation), !0 === this.polygonOffset && (n.polygonOffset = !0), 0 !== this.polygonOffsetFactor && (n.polygonOffsetFactor = this.polygonOffsetFactor), 0 !== this.polygonOffsetUnits && (n.polygonOffsetUnits = this.polygonOffsetUnits), void 0 !== this.linewidth && 1 !== this.linewidth && (n.linewidth = this.linewidth), void 0 !== this.dashSize && (n.dashSize = this.dashSize), void 0 !== this.gapSize && (n.gapSize = this.gapSize), void 0 !== this.scale && (n.scale = this.scale), !0 === this.dithering && (n.dithering = !0), this.alphaTest > 0 && (n.alphaTest = this.alphaTest), !0 === this.alphaHash && (n.alphaHash = !0), !0 === this.alphaToCoverage && (n.alphaToCoverage = !0), !0 === this.premultipliedAlpha && (n.premultipliedAlpha = !0), !0 === this.forceSinglePass && (n.forceSinglePass = !0), !0 === this.wireframe && (n.wireframe = !0), this.wireframeLinewidth > 1 && (n.wireframeLinewidth = this.wireframeLinewidth), "round" !== this.wireframeLinecap && (n.wireframeLinecap = this.wireframeLinecap), "round" !== this.wireframeLinejoin && (n.wireframeLinejoin = this.wireframeLinejoin), !0 === this.flatShading && (n.flatShading = !0), !1 === this.visible && (n.visible = !1), !1 === this.toneMapped && (n.toneMapped = !1), !1 === this.fog && (n.fog = !1), Object.keys(this.userData).length > 0 && (n.userData = this.userData), (0, _chunkZRT45YCMJs.a)(i, "extractFromCache"), t) {
            let t = i(e1.textures), r = i(e1.images);
            t.length > 0 && (n.textures = t), r.length > 0 && (n.images = r);
        }
        return n;
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    copy(e1) {
        this.name = e1.name, this.blending = e1.blending, this.side = e1.side, this.vertexColors = e1.vertexColors, this.opacity = e1.opacity, this.transparent = e1.transparent, this.blendSrc = e1.blendSrc, this.blendDst = e1.blendDst, this.blendEquation = e1.blendEquation, this.blendSrcAlpha = e1.blendSrcAlpha, this.blendDstAlpha = e1.blendDstAlpha, this.blendEquationAlpha = e1.blendEquationAlpha, this.blendColor.copy(e1.blendColor), this.blendAlpha = e1.blendAlpha, this.depthFunc = e1.depthFunc, this.depthTest = e1.depthTest, this.depthWrite = e1.depthWrite, this.stencilWriteMask = e1.stencilWriteMask, this.stencilFunc = e1.stencilFunc, this.stencilRef = e1.stencilRef, this.stencilFuncMask = e1.stencilFuncMask, this.stencilFail = e1.stencilFail, this.stencilZFail = e1.stencilZFail, this.stencilZPass = e1.stencilZPass, this.stencilWrite = e1.stencilWrite;
        let t = e1.clippingPlanes, n = null;
        if (null !== t) {
            let e1 = t.length;
            n = new Array(e1);
            for(let i = 0; i !== e1; ++i)n[i] = t[i].clone();
        }
        return this.clippingPlanes = n, this.clipIntersection = e1.clipIntersection, this.clipShadows = e1.clipShadows, this.shadowSide = e1.shadowSide, this.colorWrite = e1.colorWrite, this.precision = e1.precision, this.polygonOffset = e1.polygonOffset, this.polygonOffsetFactor = e1.polygonOffsetFactor, this.polygonOffsetUnits = e1.polygonOffsetUnits, this.dithering = e1.dithering, this.alphaTest = e1.alphaTest, this.alphaHash = e1.alphaHash, this.alphaToCoverage = e1.alphaToCoverage, this.premultipliedAlpha = e1.premultipliedAlpha, this.forceSinglePass = e1.forceSinglePass, this.visible = e1.visible, this.toneMapped = e1.toneMapped, this.userData = JSON.parse(JSON.stringify(e1.userData)), this;
    }
    dispose() {
        this.dispatchEvent({
            type: "dispose"
        });
    }
    set needsUpdate(e1) {
        !0 === e1 && this.version++;
    }
};
(0, _chunkZRT45YCMJs.a)(To, "Material");
var an = To, Ro = class extends an {
    constructor(e1){
        super(), this.isMeshBasicMaterial = !0, this.type = "MeshBasicMaterial", this.color = new Ht(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new Ve, this.combine = so, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.fog = !0, this.setValues(e1);
    }
    copy(e1) {
        return super.copy(e1), this.color.copy(e1.color), this.map = e1.map, this.lightMap = e1.lightMap, this.lightMapIntensity = e1.lightMapIntensity, this.aoMap = e1.aoMap, this.aoMapIntensity = e1.aoMapIntensity, this.specularMap = e1.specularMap, this.alphaMap = e1.alphaMap, this.envMap = e1.envMap, this.envMapRotation.copy(e1.envMapRotation), this.combine = e1.combine, this.reflectivity = e1.reflectivity, this.refractionRatio = e1.refractionRatio, this.wireframe = e1.wireframe, this.wireframeLinewidth = e1.wireframeLinewidth, this.wireframeLinecap = e1.wireframeLinecap, this.wireframeLinejoin = e1.wireframeLinejoin, this.fog = e1.fog, this;
    }
};
(0, _chunkZRT45YCMJs.a)(Ro, "MeshBasicMaterial");
var Gs = Ro, oe = new P, us = new ht, Co = class {
    constructor(e1, t, n = !1){
        if (Array.isArray(e1)) throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");
        this.isBufferAttribute = !0, this.name = "", this.array = e1, this.itemSize = t, this.count = void 0 !== e1 ? e1.length / t : 0, this.normalized = n, this.usage = Ql, this._updateRange = {
            offset: 0,
            count: -1
        }, this.updateRanges = [], this.gpuType = sn, this.version = 0;
    }
    onUploadCallback() {}
    set needsUpdate(e1) {
        !0 === e1 && this.version++;
    }
    get updateRange() {
        return pf("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."), this._updateRange;
    }
    setUsage(e1) {
        return this.usage = e1, this;
    }
    addUpdateRange(e1, t) {
        this.updateRanges.push({
            start: e1,
            count: t
        });
    }
    clearUpdateRanges() {
        this.updateRanges.length = 0;
    }
    copy(e1) {
        return this.name = e1.name, this.array = new e1.array.constructor(e1.array), this.itemSize = e1.itemSize, this.count = e1.count, this.normalized = e1.normalized, this.usage = e1.usage, this.gpuType = e1.gpuType, this;
    }
    copyAt(e1, t, n) {
        e1 *= this.itemSize, n *= t.itemSize;
        for(let i = 0, r = this.itemSize; i < r; i++)this.array[e1 + i] = t.array[n + i];
        return this;
    }
    copyArray(e1) {
        return this.array.set(e1), this;
    }
    applyMatrix3(e1) {
        if (2 === this.itemSize) for(let t = 0, n = this.count; t < n; t++)us.fromBufferAttribute(this, t), us.applyMatrix3(e1), this.setXY(t, us.x, us.y);
        else if (3 === this.itemSize) for(let t = 0, n = this.count; t < n; t++)oe.fromBufferAttribute(this, t), oe.applyMatrix3(e1), this.setXYZ(t, oe.x, oe.y, oe.z);
        return this;
    }
    applyMatrix4(e1) {
        for(let t = 0, n = this.count; t < n; t++)oe.fromBufferAttribute(this, t), oe.applyMatrix4(e1), this.setXYZ(t, oe.x, oe.y, oe.z);
        return this;
    }
    applyNormalMatrix(e1) {
        for(let t = 0, n = this.count; t < n; t++)oe.fromBufferAttribute(this, t), oe.applyNormalMatrix(e1), this.setXYZ(t, oe.x, oe.y, oe.z);
        return this;
    }
    transformDirection(e1) {
        for(let t = 0, n = this.count; t < n; t++)oe.fromBufferAttribute(this, t), oe.transformDirection(e1), this.setXYZ(t, oe.x, oe.y, oe.z);
        return this;
    }
    set(e1, t = 0) {
        return this.array.set(e1, t), this;
    }
    getComponent(e1, t) {
        let n = this.array[e1 * this.itemSize + t];
        return this.normalized && (n = ai(n, this.array)), n;
    }
    setComponent(e1, t, n) {
        return this.normalized && (n = ye(n, this.array)), this.array[e1 * this.itemSize + t] = n, this;
    }
    getX(e1) {
        let t = this.array[e1 * this.itemSize];
        return this.normalized && (t = ai(t, this.array)), t;
    }
    setX(e1, t) {
        return this.normalized && (t = ye(t, this.array)), this.array[e1 * this.itemSize] = t, this;
    }
    getY(e1) {
        let t = this.array[e1 * this.itemSize + 1];
        return this.normalized && (t = ai(t, this.array)), t;
    }
    setY(e1, t) {
        return this.normalized && (t = ye(t, this.array)), this.array[e1 * this.itemSize + 1] = t, this;
    }
    getZ(e1) {
        let t = this.array[e1 * this.itemSize + 2];
        return this.normalized && (t = ai(t, this.array)), t;
    }
    setZ(e1, t) {
        return this.normalized && (t = ye(t, this.array)), this.array[e1 * this.itemSize + 2] = t, this;
    }
    getW(e1) {
        let t = this.array[e1 * this.itemSize + 3];
        return this.normalized && (t = ai(t, this.array)), t;
    }
    setW(e1, t) {
        return this.normalized && (t = ye(t, this.array)), this.array[e1 * this.itemSize + 3] = t, this;
    }
    setXY(e1, t, n) {
        return e1 *= this.itemSize, this.normalized && (t = ye(t, this.array), n = ye(n, this.array)), this.array[e1 + 0] = t, this.array[e1 + 1] = n, this;
    }
    setXYZ(e1, t, n, i) {
        return e1 *= this.itemSize, this.normalized && (t = ye(t, this.array), n = ye(n, this.array), i = ye(i, this.array)), this.array[e1 + 0] = t, this.array[e1 + 1] = n, this.array[e1 + 2] = i, this;
    }
    setXYZW(e1, t, n, i, r) {
        return e1 *= this.itemSize, this.normalized && (t = ye(t, this.array), n = ye(n, this.array), i = ye(i, this.array), r = ye(r, this.array)), this.array[e1 + 0] = t, this.array[e1 + 1] = n, this.array[e1 + 2] = i, this.array[e1 + 3] = r, this;
    }
    onUpload(e1) {
        return this.onUploadCallback = e1, this;
    }
    clone() {
        return new this.constructor(this.array, this.itemSize).copy(this);
    }
    toJSON() {
        let e1 = {
            itemSize: this.itemSize,
            type: this.array.constructor.name,
            array: Array.from(this.array),
            normalized: this.normalized
        };
        return "" !== this.name && (e1.name = this.name), this.usage !== Ql && (e1.usage = this.usage), e1;
    }
};
(0, _chunkZRT45YCMJs.a)(Co, "BufferAttribute");
var Se = Co, Po = class extends Se {
    constructor(e1, t, n){
        super(new Uint16Array(e1), t, n);
    }
};
(0, _chunkZRT45YCMJs.a)(Po, "Uint16BufferAttribute");
var Ws = Po, Io = class extends Se {
    constructor(e1, t, n){
        super(new Uint32Array(e1), t, n);
    }
};
(0, _chunkZRT45YCMJs.a)(Io, "Uint32BufferAttribute");
var Xs = Io, Lo = class extends Se {
    constructor(e1, t, n){
        super(new Float32Array(e1), t, n);
    }
};
(0, _chunkZRT45YCMJs.a)(Lo, "Float32BufferAttribute");
var se = Lo, Tf = 0, Ue = new ee, $r = new be, jn = new P, Pe = new bn, Ii = new bn, ue = new P, ur = class e1 extends Mn {
    constructor(){
        super(), this.isBufferGeometry = !0, Object.defineProperty(this, "id", {
            value: Tf++
        }), this.uuid = Gn(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.morphTargetsRelative = !1, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = {
            start: 0,
            count: 1 / 0
        }, this.userData = {};
    }
    getIndex() {
        return this.index;
    }
    setIndex(e1) {
        return Array.isArray(e1) ? this.index = new (Ou(e1) ? Xs : Ws)(e1, 1) : this.index = e1, this;
    }
    getAttribute(e1) {
        return this.attributes[e1];
    }
    setAttribute(e1, t) {
        return this.attributes[e1] = t, this;
    }
    deleteAttribute(e1) {
        return delete this.attributes[e1], this;
    }
    hasAttribute(e1) {
        return void 0 !== this.attributes[e1];
    }
    addGroup(e1, t, n = 0) {
        this.groups.push({
            start: e1,
            count: t,
            materialIndex: n
        });
    }
    clearGroups() {
        this.groups = [];
    }
    setDrawRange(e1, t) {
        this.drawRange.start = e1, this.drawRange.count = t;
    }
    applyMatrix4(e1) {
        let t = this.attributes.position;
        void 0 !== t && (t.applyMatrix4(e1), t.needsUpdate = !0);
        let n = this.attributes.normal;
        if (void 0 !== n) {
            let t = (new zt).getNormalMatrix(e1);
            n.applyNormalMatrix(t), n.needsUpdate = !0;
        }
        let i = this.attributes.tangent;
        return void 0 !== i && (i.transformDirection(e1), i.needsUpdate = !0), null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this;
    }
    applyQuaternion(e1) {
        return Ue.makeRotationFromQuaternion(e1), this.applyMatrix4(Ue), this;
    }
    rotateX(e1) {
        return Ue.makeRotationX(e1), this.applyMatrix4(Ue), this;
    }
    rotateY(e1) {
        return Ue.makeRotationY(e1), this.applyMatrix4(Ue), this;
    }
    rotateZ(e1) {
        return Ue.makeRotationZ(e1), this.applyMatrix4(Ue), this;
    }
    translate(e1, t, n) {
        return Ue.makeTranslation(e1, t, n), this.applyMatrix4(Ue), this;
    }
    scale(e1, t, n) {
        return Ue.makeScale(e1, t, n), this.applyMatrix4(Ue), this;
    }
    lookAt(e1) {
        return $r.lookAt(e1), $r.updateMatrix(), this.applyMatrix4($r.matrix), this;
    }
    center() {
        return this.computeBoundingBox(), this.boundingBox.getCenter(jn).negate(), this.translate(jn.x, jn.y, jn.z), this;
    }
    setFromPoints(e1) {
        let t = [];
        for(let n = 0, i = e1.length; n < i; n++){
            let i = e1[n];
            t.push(i.x, i.y, i.z || 0);
        }
        return this.setAttribute("position", new se(t, 3)), this;
    }
    computeBoundingBox() {
        null === this.boundingBox && (this.boundingBox = new bn);
        let e1 = this.attributes.position, t = this.morphAttributes.position;
        if (e1 && e1.isGLBufferAttribute) return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.", this), void this.boundingBox.set(new P(-1 / 0, -1 / 0, -1 / 0), new P(1 / 0, 1 / 0, 1 / 0));
        if (void 0 !== e1) {
            if (this.boundingBox.setFromBufferAttribute(e1), t) for(let e1 = 0, n = t.length; e1 < n; e1++){
                let n = t[e1];
                Pe.setFromBufferAttribute(n), this.morphTargetsRelative ? (ue.addVectors(this.boundingBox.min, Pe.min), this.boundingBox.expandByPoint(ue), ue.addVectors(this.boundingBox.max, Pe.max), this.boundingBox.expandByPoint(ue)) : (this.boundingBox.expandByPoint(Pe.min), this.boundingBox.expandByPoint(Pe.max));
            }
        } else this.boundingBox.makeEmpty();
        (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) && console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.', this);
    }
    computeBoundingSphere() {
        null === this.boundingSphere && (this.boundingSphere = new Si);
        let e1 = this.attributes.position, t = this.morphAttributes.position;
        if (e1 && e1.isGLBufferAttribute) return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.", this), void this.boundingSphere.set(new P, 1 / 0);
        if (e1) {
            let n = this.boundingSphere.center;
            if (Pe.setFromBufferAttribute(e1), t) for(let e1 = 0, n = t.length; e1 < n; e1++){
                let n = t[e1];
                Ii.setFromBufferAttribute(n), this.morphTargetsRelative ? (ue.addVectors(Pe.min, Ii.min), Pe.expandByPoint(ue), ue.addVectors(Pe.max, Ii.max), Pe.expandByPoint(ue)) : (Pe.expandByPoint(Ii.min), Pe.expandByPoint(Ii.max));
            }
            Pe.getCenter(n);
            let i = 0;
            for(let t = 0, r = e1.count; t < r; t++)ue.fromBufferAttribute(e1, t), i = Math.max(i, n.distanceToSquared(ue));
            if (t) for(let r = 0, a = t.length; r < a; r++){
                let a = t[r], s = this.morphTargetsRelative;
                for(let t = 0, r = a.count; t < r; t++)ue.fromBufferAttribute(a, t), s && (jn.fromBufferAttribute(e1, t), ue.add(jn)), i = Math.max(i, n.distanceToSquared(ue));
            }
            this.boundingSphere.radius = Math.sqrt(i), isNaN(this.boundingSphere.radius) && console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.', this);
        }
    }
    computeTangents() {
        let e1 = this.index, t = this.attributes;
        if (null === e1 || void 0 === t.position || void 0 === t.normal || void 0 === t.uv) return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");
        let n = t.position, i = t.normal, r = t.uv;
        !1 === this.hasAttribute("tangent") && this.setAttribute("tangent", new Se(new Float32Array(4 * n.count), 4));
        let a = this.getAttribute("tangent"), s = [], o = [];
        for(let e1 = 0; e1 < n.count; e1++)s[e1] = new P, o[e1] = new P;
        let l = new P, h = new P, c = new P, d = new ht, p = new ht, f = new ht, m = new P, g = new P;
        function _(e1, t, i) {
            l.fromBufferAttribute(n, e1), h.fromBufferAttribute(n, t), c.fromBufferAttribute(n, i), d.fromBufferAttribute(r, e1), p.fromBufferAttribute(r, t), f.fromBufferAttribute(r, i), h.sub(l), c.sub(l), p.sub(d), f.sub(d);
            let a = 1 / (p.x * f.y - f.x * p.y);
            isFinite(a) && (m.copy(h).multiplyScalar(f.y).addScaledVector(c, -p.y).multiplyScalar(a), g.copy(c).multiplyScalar(p.x).addScaledVector(h, -f.x).multiplyScalar(a), s[e1].add(m), s[t].add(m), s[i].add(m), o[e1].add(g), o[t].add(g), o[i].add(g));
        }
        (0, _chunkZRT45YCMJs.a)(_, "handleTriangle");
        let v = this.groups;
        0 === v.length && (v = [
            {
                start: 0,
                count: e1.count
            }
        ]);
        for(let t = 0, n = v.length; t < n; ++t){
            let n = v[t], i = n.start;
            for(let t = i, r = i + n.count; t < r; t += 3)_(e1.getX(t + 0), e1.getX(t + 1), e1.getX(t + 2));
        }
        let x = new P, y = new P, M = new P, S = new P;
        function E(e1) {
            M.fromBufferAttribute(i, e1), S.copy(M);
            let t = s[e1];
            x.copy(t), x.sub(M.multiplyScalar(M.dot(t))).normalize(), y.crossVectors(S, t);
            let n = y.dot(o[e1]) < 0 ? -1 : 1;
            a.setXYZW(e1, x.x, x.y, x.z, n);
        }
        (0, _chunkZRT45YCMJs.a)(E, "handleVertex");
        for(let t = 0, n = v.length; t < n; ++t){
            let n = v[t], i = n.start;
            for(let t = i, r = i + n.count; t < r; t += 3)E(e1.getX(t + 0)), E(e1.getX(t + 1)), E(e1.getX(t + 2));
        }
    }
    computeVertexNormals() {
        let e1 = this.index, t = this.getAttribute("position");
        if (void 0 !== t) {
            let n = this.getAttribute("normal");
            if (void 0 === n) n = new Se(new Float32Array(3 * t.count), 3), this.setAttribute("normal", n);
            else for(let e1 = 0, t = n.count; e1 < t; e1++)n.setXYZ(e1, 0, 0, 0);
            let i = new P, r = new P, a = new P, s = new P, o = new P, l = new P, u = new P, h = new P;
            if (e1) for(let c = 0, d = e1.count; c < d; c += 3){
                let d = e1.getX(c + 0), p = e1.getX(c + 1), f = e1.getX(c + 2);
                i.fromBufferAttribute(t, d), r.fromBufferAttribute(t, p), a.fromBufferAttribute(t, f), u.subVectors(a, r), h.subVectors(i, r), u.cross(h), s.fromBufferAttribute(n, d), o.fromBufferAttribute(n, p), l.fromBufferAttribute(n, f), s.add(u), o.add(u), l.add(u), n.setXYZ(d, s.x, s.y, s.z), n.setXYZ(p, o.x, o.y, o.z), n.setXYZ(f, l.x, l.y, l.z);
            }
            else for(let e1 = 0, s = t.count; e1 < s; e1 += 3)i.fromBufferAttribute(t, e1 + 0), r.fromBufferAttribute(t, e1 + 1), a.fromBufferAttribute(t, e1 + 2), u.subVectors(a, r), h.subVectors(i, r), u.cross(h), n.setXYZ(e1 + 0, u.x, u.y, u.z), n.setXYZ(e1 + 1, u.x, u.y, u.z), n.setXYZ(e1 + 2, u.x, u.y, u.z);
            this.normalizeNormals(), n.needsUpdate = !0;
        }
    }
    normalizeNormals() {
        let e1 = this.attributes.normal;
        for(let t = 0, n = e1.count; t < n; t++)ue.fromBufferAttribute(e1, t), ue.normalize(), e1.setXYZ(t, ue.x, ue.y, ue.z);
    }
    toNonIndexed() {
        function t(e1, t) {
            let n = e1.array, i = e1.itemSize, r = e1.normalized, a = new n.constructor(t.length * i), s = 0, o = 0;
            for(let r = 0, l = t.length; r < l; r++){
                s = e1.isInterleavedBufferAttribute ? t[r] * e1.data.stride + e1.offset : t[r] * i;
                for(let e1 = 0; e1 < i; e1++)a[o++] = n[s++];
            }
            return new Se(a, i, r);
        }
        if ((0, _chunkZRT45YCMJs.a)(t, "convertBufferAttribute"), null === this.index) return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."), this;
        let n = new e1, i = this.index.array, r = this.attributes;
        for(let e1 in r){
            let a = t(r[e1], i);
            n.setAttribute(e1, a);
        }
        let a = this.morphAttributes;
        for(let e1 in a){
            let r = [], s = a[e1];
            for(let e1 = 0, n = s.length; e1 < n; e1++){
                let n = t(s[e1], i);
                r.push(n);
            }
            n.morphAttributes[e1] = r;
        }
        n.morphTargetsRelative = this.morphTargetsRelative;
        let s = this.groups;
        for(let e1 = 0, t = s.length; e1 < t; e1++){
            let t = s[e1];
            n.addGroup(t.start, t.count, t.materialIndex);
        }
        return n;
    }
    toJSON() {
        let e1 = {
            metadata: {
                version: 4.6,
                type: "BufferGeometry",
                generator: "BufferGeometry.toJSON"
            }
        };
        if (e1.uuid = this.uuid, e1.type = this.type, "" !== this.name && (e1.name = this.name), Object.keys(this.userData).length > 0 && (e1.userData = this.userData), void 0 !== this.parameters) {
            let t = this.parameters;
            for(let n in t)void 0 !== t[n] && (e1[n] = t[n]);
            return e1;
        }
        e1.data = {
            attributes: {}
        };
        let t = this.index;
        null !== t && (e1.data.index = {
            type: t.array.constructor.name,
            array: Array.prototype.slice.call(t.array)
        });
        let n = this.attributes;
        for(let t in n){
            let i = n[t];
            e1.data.attributes[t] = i.toJSON(e1.data);
        }
        let i = {}, r = !1;
        for(let t in this.morphAttributes){
            let n = this.morphAttributes[t], a = [];
            for(let t = 0, i = n.length; t < i; t++){
                let i = n[t];
                a.push(i.toJSON(e1.data));
            }
            a.length > 0 && (i[t] = a, r = !0);
        }
        r && (e1.data.morphAttributes = i, e1.data.morphTargetsRelative = this.morphTargetsRelative);
        let a = this.groups;
        a.length > 0 && (e1.data.groups = JSON.parse(JSON.stringify(a)));
        let s = this.boundingSphere;
        return null !== s && (e1.data.boundingSphere = {
            center: s.center.toArray(),
            radius: s.radius
        }), e1;
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    copy(e1) {
        this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null;
        let t = {};
        this.name = e1.name;
        let n = e1.index;
        null !== n && this.setIndex(n.clone(t));
        let i = e1.attributes;
        for(let e1 in i){
            let n = i[e1];
            this.setAttribute(e1, n.clone(t));
        }
        let r = e1.morphAttributes;
        for(let e1 in r){
            let n = [], i = r[e1];
            for(let e1 = 0, r = i.length; e1 < r; e1++)n.push(i[e1].clone(t));
            this.morphAttributes[e1] = n;
        }
        this.morphTargetsRelative = e1.morphTargetsRelative;
        let a = e1.groups;
        for(let e1 = 0, t = a.length; e1 < t; e1++){
            let t = a[e1];
            this.addGroup(t.start, t.count, t.materialIndex);
        }
        let s = e1.boundingBox;
        null !== s && (this.boundingBox = s.clone());
        let o = e1.boundingSphere;
        return null !== o && (this.boundingSphere = o.clone()), this.drawRange.start = e1.drawRange.start, this.drawRange.count = e1.drawRange.count, this.userData = e1.userData, this;
    }
    dispose() {
        this.dispatchEvent({
            type: "dispose"
        });
    }
};
(0, _chunkZRT45YCMJs.a)(ur, "BufferGeometry");
var Ee = ur, dh = new ee, Cn = new Vi, ds = new Si, fh = new P, ti = new P, ei = new P, ni = new P, Kr = new P, fs = new P, ps = new ht, ms = new ht, gs = new ht, ph = new P, mh = new P, gh = new P, _s = new P, xs = new P, Uo = class extends be {
    constructor(e1 = new Ee, t = new Gs){
        super(), this.isMesh = !0, this.type = "Mesh", this.geometry = e1, this.material = t, this.updateMorphTargets();
    }
    copy(e1, t) {
        return super.copy(e1, t), void 0 !== e1.morphTargetInfluences && (this.morphTargetInfluences = e1.morphTargetInfluences.slice()), void 0 !== e1.morphTargetDictionary && (this.morphTargetDictionary = Object.assign({}, e1.morphTargetDictionary)), this.material = Array.isArray(e1.material) ? e1.material.slice() : e1.material, this.geometry = e1.geometry, this;
    }
    updateMorphTargets() {
        let e1 = this.geometry.morphAttributes, t = Object.keys(e1);
        if (t.length > 0) {
            let n = e1[t[0]];
            if (void 0 !== n) {
                this.morphTargetInfluences = [], this.morphTargetDictionary = {};
                for(let e1 = 0, t = n.length; e1 < t; e1++){
                    let t = n[e1].name || String(e1);
                    this.morphTargetInfluences.push(0), this.morphTargetDictionary[t] = e1;
                }
            }
        }
    }
    getVertexPosition(e1, t) {
        let n = this.geometry, i = n.attributes.position, r = n.morphAttributes.position, a = n.morphTargetsRelative;
        t.fromBufferAttribute(i, e1);
        let s = this.morphTargetInfluences;
        if (r && s) {
            fs.set(0, 0, 0);
            for(let n = 0, i = r.length; n < i; n++){
                let i = s[n], o = r[n];
                0 !== i && (Kr.fromBufferAttribute(o, e1), a ? fs.addScaledVector(Kr, i) : fs.addScaledVector(Kr.sub(t), i));
            }
            t.add(fs);
        }
        return t;
    }
    raycast(e1, t) {
        let n = this.geometry, i = this.material, r = this.matrixWorld;
        void 0 !== i && (null === n.boundingSphere && n.computeBoundingSphere(), ds.copy(n.boundingSphere), ds.applyMatrix4(r), Cn.copy(e1.ray).recast(e1.near), (!1 !== ds.containsPoint(Cn.origin) || !(null === Cn.intersectSphere(ds, fh) || Cn.origin.distanceToSquared(fh) > (e1.far - e1.near) ** 2)) && (dh.copy(r).invert(), Cn.copy(e1.ray).applyMatrix4(dh), (null === n.boundingBox || !1 !== Cn.intersectsBox(n.boundingBox)) && this._computeIntersections(e1, t, Cn)));
    }
    _computeIntersections(e1, t, n) {
        let i, r = this.geometry, a = this.material, s = r.index, o = r.attributes.position, l = r.attributes.uv, u = r.attributes.uv1, h = r.attributes.normal, c = r.groups, d = r.drawRange;
        if (null !== s) {
            if (Array.isArray(a)) for(let r = 0, o = c.length; r < o; r++){
                let o = c[r], p = a[o.materialIndex];
                for(let r = Math.max(o.start, d.start), a = Math.min(s.count, Math.min(o.start + o.count, d.start + d.count)); r < a; r += 3)i = vs(this, p, e1, n, l, u, h, s.getX(r), s.getX(r + 1), s.getX(r + 2)), i && (i.faceIndex = Math.floor(r / 3), i.face.materialIndex = o.materialIndex, t.push(i));
            }
            else for(let r = Math.max(0, d.start), o = Math.min(s.count, d.start + d.count); r < o; r += 3)i = vs(this, a, e1, n, l, u, h, s.getX(r), s.getX(r + 1), s.getX(r + 2)), i && (i.faceIndex = Math.floor(r / 3), t.push(i));
        } else if (void 0 !== o) {
            if (Array.isArray(a)) for(let r = 0, s = c.length; r < s; r++){
                let s = c[r], p = a[s.materialIndex];
                for(let r = Math.max(s.start, d.start), a = Math.min(o.count, Math.min(s.start + s.count, d.start + d.count)); r < a; r += 3)i = vs(this, p, e1, n, l, u, h, r, r + 1, r + 2), i && (i.faceIndex = Math.floor(r / 3), i.face.materialIndex = s.materialIndex, t.push(i));
            }
            else for(let r = Math.max(0, d.start), s = Math.min(o.count, d.start + d.count); r < s; r += 3)i = vs(this, a, e1, n, l, u, h, r, r + 1, r + 2), i && (i.faceIndex = Math.floor(r / 3), t.push(i));
        }
    }
};
(0, _chunkZRT45YCMJs.a)(Uo, "Mesh");
var ke = Uo;
function Rf(e1, t, n, i, r, a, s, o) {
    let l;
    if (l = t.side === Te ? i.intersectTriangle(s, a, r, !0, o) : i.intersectTriangle(r, a, s, t.side === yn, o), null === l) return null;
    xs.copy(o), xs.applyMatrix4(e1.matrixWorld);
    let u = n.ray.origin.distanceTo(xs);
    return u < n.near || u > n.far ? null : {
        distance: u,
        point: xs.clone(),
        object: e1
    };
}
function vs(e1, t, n, i, r, a, s, o, l, u) {
    e1.getVertexPosition(o, ti), e1.getVertexPosition(l, ei), e1.getVertexPosition(u, ni);
    let h = Rf(e1, t, n, i, ti, ei, ni, _s);
    if (h) {
        r && (ps.fromBufferAttribute(r, o), ms.fromBufferAttribute(r, l), gs.fromBufferAttribute(r, u), h.uv = Fn.getInterpolation(_s, ti, ei, ni, ps, ms, gs, new ht)), a && (ps.fromBufferAttribute(a, o), ms.fromBufferAttribute(a, l), gs.fromBufferAttribute(a, u), h.uv1 = Fn.getInterpolation(_s, ti, ei, ni, ps, ms, gs, new ht)), s && (ph.fromBufferAttribute(s, o), mh.fromBufferAttribute(s, l), gh.fromBufferAttribute(s, u), h.normal = Fn.getInterpolation(_s, ti, ei, ni, ph, mh, gh, new P), h.normal.dot(i.direction) > 0 && h.normal.multiplyScalar(-1));
        let e1 = {
            a: o,
            b: l,
            c: u,
            normal: new P,
            materialIndex: 0
        };
        Fn.getNormal(ti, ei, ni, e1.normal), h.face = e1;
    }
    return h;
}
(0, _chunkZRT45YCMJs.a)(Rf, "checkIntersection"), (0, _chunkZRT45YCMJs.a)(vs, "checkGeometryIntersection");
var dr = class e1 extends Ee {
    constructor(e1 = 1, t = 1, n = 1, i = 1, r = 1, a = 1){
        super(), this.type = "BoxGeometry", this.parameters = {
            width: e1,
            height: t,
            depth: n,
            widthSegments: i,
            heightSegments: r,
            depthSegments: a
        };
        let s = this;
        i = Math.floor(i), r = Math.floor(r), a = Math.floor(a);
        let o = [], l = [], h = [], c = [], d = 0, p = 0;
        function f(e1, t, n, i, r, a, u, f, m, g, _) {
            let v = a / m, x = u / g, y = a / 2, M = u / 2, S = f / 2, E = m + 1, T = g + 1, b = 0, A = 0, w = new P;
            for(let a = 0; a < T; a++){
                let s = a * x - M;
                for(let o = 0; o < E; o++){
                    let u = o * v - y;
                    w[e1] = u * i, w[t] = s * r, w[n] = S, l.push(w.x, w.y, w.z), w[e1] = 0, w[t] = 0, w[n] = f > 0 ? 1 : -1, h.push(w.x, w.y, w.z), c.push(o / m), c.push(1 - a / g), b += 1;
                }
            }
            for(let e1 = 0; e1 < g; e1++)for(let t = 0; t < m; t++){
                let n = d + t + E * e1, i = d + t + E * (e1 + 1), r = d + (t + 1) + E * (e1 + 1), a = d + (t + 1) + E * e1;
                o.push(n, i, a), o.push(i, r, a), A += 6;
            }
            s.addGroup(p, A, _), p += A, d += b;
        }
        f("z", "y", "x", -1, -1, n, t, e1, a, r, 0), f("z", "y", "x", 1, -1, n, t, -e1, a, r, 1), f("x", "z", "y", 1, 1, e1, n, t, i, a, 2), f("x", "z", "y", 1, -1, e1, n, -t, i, a, 3), f("x", "y", "z", 1, -1, e1, t, n, i, r, 4), f("x", "y", "z", -1, -1, e1, t, -n, i, r, 5), this.setIndex(o), this.setAttribute("position", new se(l, 3)), this.setAttribute("normal", new se(h, 3)), this.setAttribute("uv", new se(c, 2)), (0, _chunkZRT45YCMJs.a)(f, "buildPlane");
    }
    copy(e1) {
        return super.copy(e1), this.parameters = Object.assign({}, e1.parameters), this;
    }
    static fromJSON(t) {
        return new e1(t.width, t.height, t.depth, t.widthSegments, t.heightSegments, t.depthSegments);
    }
};
(0, _chunkZRT45YCMJs.a)(dr, "BoxGeometry");
var Gi = dr;
function bi(e1) {
    let t = {};
    for(let n in e1){
        t[n] = {};
        for(let i in e1[n]){
            let r = e1[n][i];
            r && (r.isColor || r.isMatrix3 || r.isMatrix4 || r.isVector2 || r.isVector3 || r.isVector4 || r.isTexture || r.isQuaternion) ? r.isRenderTargetTexture ? (console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."), t[n][i] = null) : t[n][i] = r.clone() : Array.isArray(r) ? t[n][i] = r.slice() : t[n][i] = r;
        }
    }
    return t;
}
function Me(e1) {
    let t = {};
    for(let n = 0; n < e1.length; n++){
        let i = bi(e1[n]);
        for(let e1 in i)t[e1] = i[e1];
    }
    return t;
}
function Cf(e1) {
    let t = [];
    for(let n = 0; n < e1.length; n++)t.push(e1[n].clone());
    return t;
}
function Bu(e1) {
    return null === e1.getRenderTarget() ? e1.outputColorSpace : Yt.workingColorSpace;
}
(0, _chunkZRT45YCMJs.a)(bi, "cloneUniforms"), (0, _chunkZRT45YCMJs.a)(Me, "mergeUniforms"), (0, _chunkZRT45YCMJs.a)(Cf, "cloneUniformsGroups"), (0, _chunkZRT45YCMJs.a)(Bu, "getUnlitUniformColorSpace");
var Pf = {
    clone: bi,
    merge: Me
}, If = "void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", Lf = "void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", Do = class extends an {
    constructor(e1){
        super(), this.isShaderMaterial = !0, this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.uniformsGroups = [], this.vertexShader = If, this.fragmentShader = Lf, this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.clipping = !1, this.forceSinglePass = !0, this.extensions = {
            derivatives: !1,
            fragDepth: !1,
            drawBuffers: !1,
            shaderTextureLOD: !1,
            clipCullDistance: !1,
            multiDraw: !1
        }, this.defaultAttributeValues = {
            color: [
                1,
                1,
                1
            ],
            uv: [
                0,
                0
            ],
            uv1: [
                0,
                0
            ]
        }, this.index0AttributeName = void 0, this.uniformsNeedUpdate = !1, this.glslVersion = null, void 0 !== e1 && this.setValues(e1);
    }
    copy(e1) {
        return super.copy(e1), this.fragmentShader = e1.fragmentShader, this.vertexShader = e1.vertexShader, this.uniforms = bi(e1.uniforms), this.uniformsGroups = Cf(e1.uniformsGroups), this.defines = Object.assign({}, e1.defines), this.wireframe = e1.wireframe, this.wireframeLinewidth = e1.wireframeLinewidth, this.fog = e1.fog, this.lights = e1.lights, this.clipping = e1.clipping, this.extensions = Object.assign({}, e1.extensions), this.glslVersion = e1.glslVersion, this;
    }
    toJSON(e1) {
        let t = super.toJSON(e1);
        t.glslVersion = this.glslVersion, t.uniforms = {};
        for(let n in this.uniforms){
            let i = this.uniforms[n].value;
            i && i.isTexture ? t.uniforms[n] = {
                type: "t",
                value: i.toJSON(e1).uuid
            } : i && i.isColor ? t.uniforms[n] = {
                type: "c",
                value: i.getHex()
            } : i && i.isVector2 ? t.uniforms[n] = {
                type: "v2",
                value: i.toArray()
            } : i && i.isVector3 ? t.uniforms[n] = {
                type: "v3",
                value: i.toArray()
            } : i && i.isVector4 ? t.uniforms[n] = {
                type: "v4",
                value: i.toArray()
            } : i && i.isMatrix3 ? t.uniforms[n] = {
                type: "m3",
                value: i.toArray()
            } : i && i.isMatrix4 ? t.uniforms[n] = {
                type: "m4",
                value: i.toArray()
            } : t.uniforms[n] = {
                value: i
            };
        }
        Object.keys(this.defines).length > 0 && (t.defines = this.defines), t.vertexShader = this.vertexShader, t.fragmentShader = this.fragmentShader, t.lights = this.lights, t.clipping = this.clipping;
        let n = {};
        for(let e1 in this.extensions)!0 === this.extensions[e1] && (n[e1] = !0);
        return Object.keys(n).length > 0 && (t.extensions = n), t;
    }
};
(0, _chunkZRT45YCMJs.a)(Do, "ShaderMaterial");
var He = Do, No = class extends be {
    constructor(){
        super(), this.isCamera = !0, this.type = "Camera", this.matrixWorldInverse = new ee, this.projectionMatrix = new ee, this.projectionMatrixInverse = new ee, this.coordinateSystem = rn;
    }
    copy(e1, t) {
        return super.copy(e1, t), this.matrixWorldInverse.copy(e1.matrixWorldInverse), this.projectionMatrix.copy(e1.projectionMatrix), this.projectionMatrixInverse.copy(e1.projectionMatrixInverse), this.coordinateSystem = e1.coordinateSystem, this;
    }
    getWorldDirection(e1) {
        return super.getWorldDirection(e1).negate();
    }
    updateMatrixWorld(e1) {
        super.updateMatrixWorld(e1), this.matrixWorldInverse.copy(this.matrixWorld).invert();
    }
    updateWorldMatrix(e1, t) {
        super.updateWorldMatrix(e1, t), this.matrixWorldInverse.copy(this.matrixWorld).invert();
    }
    clone() {
        return (new this.constructor).copy(this);
    }
};
(0, _chunkZRT45YCMJs.a)(No, "Camera");
var qs = No, dn = new P, _h = new ht, xh = new ht, Oo = class extends qs {
    constructor(e1 = 50, t = 1, n = .1, i = 2e3){
        super(), this.isPerspectiveCamera = !0, this.type = "PerspectiveCamera", this.fov = e1, this.zoom = 1, this.near = n, this.far = i, this.focus = 10, this.aspect = t, this.view = null, this.filmGauge = 35, this.filmOffset = 0, this.updateProjectionMatrix();
    }
    copy(e1, t) {
        return super.copy(e1, t), this.fov = e1.fov, this.zoom = e1.zoom, this.near = e1.near, this.far = e1.far, this.focus = e1.focus, this.aspect = e1.aspect, this.view = null === e1.view ? null : Object.assign({}, e1.view), this.filmGauge = e1.filmGauge, this.filmOffset = e1.filmOffset, this;
    }
    setFocalLength(e1) {
        let t = .5 * this.getFilmHeight() / e1;
        this.fov = 2 * zi * Math.atan(t), this.updateProjectionMatrix();
    }
    getFocalLength() {
        let e1 = Math.tan(.5 * pi * this.fov);
        return .5 * this.getFilmHeight() / e1;
    }
    getEffectiveFOV() {
        return 2 * zi * Math.atan(Math.tan(.5 * pi * this.fov) / this.zoom);
    }
    getFilmWidth() {
        return this.filmGauge * Math.min(this.aspect, 1);
    }
    getFilmHeight() {
        return this.filmGauge / Math.max(this.aspect, 1);
    }
    getViewBounds(e1, t, n) {
        dn.set(-1, -1, .5).applyMatrix4(this.projectionMatrixInverse), t.set(dn.x, dn.y).multiplyScalar(-e1 / dn.z), dn.set(1, 1, .5).applyMatrix4(this.projectionMatrixInverse), n.set(dn.x, dn.y).multiplyScalar(-e1 / dn.z);
    }
    getViewSize(e1, t) {
        return this.getViewBounds(e1, _h, xh), t.subVectors(xh, _h);
    }
    setViewOffset(e1, t, n, i, r, a) {
        this.aspect = e1 / t, null === this.view && (this.view = {
            enabled: !0,
            fullWidth: 1,
            fullHeight: 1,
            offsetX: 0,
            offsetY: 0,
            width: 1,
            height: 1
        }), this.view.enabled = !0, this.view.fullWidth = e1, this.view.fullHeight = t, this.view.offsetX = n, this.view.offsetY = i, this.view.width = r, this.view.height = a, this.updateProjectionMatrix();
    }
    clearViewOffset() {
        null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix();
    }
    updateProjectionMatrix() {
        let e1 = this.near, t = e1 * Math.tan(.5 * pi * this.fov) / this.zoom, n = 2 * t, i = this.aspect * n, r = -0.5 * i, a = this.view;
        if (null !== this.view && this.view.enabled) {
            let e1 = a.fullWidth, s = a.fullHeight;
            r += a.offsetX * i / e1, t -= a.offsetY * n / s, i *= a.width / e1, n *= a.height / s;
        }
        let s = this.filmOffset;
        0 !== s && (r += e1 * s / this.getFilmWidth()), this.projectionMatrix.makePerspective(r, r + i, t, t - n, e1, this.far, this.coordinateSystem), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
    }
    toJSON(e1) {
        let t = super.toJSON(e1);
        return t.object.fov = this.fov, t.object.zoom = this.zoom, t.object.near = this.near, t.object.far = this.far, t.object.focus = this.focus, t.object.aspect = this.aspect, null !== this.view && (t.object.view = Object.assign({}, this.view)), t.object.filmGauge = this.filmGauge, t.object.filmOffset = this.filmOffset, t;
    }
};
(0, _chunkZRT45YCMJs.a)(Oo, "PerspectiveCamera");
var Ae = Oo, ii = -90, si = 1, Fo = class extends be {
    constructor(e1, t, n){
        super(), this.type = "CubeCamera", this.renderTarget = n, this.coordinateSystem = null, this.activeMipmapLevel = 0;
        let i = new Ae(ii, si, e1, t);
        i.layers = this.layers, this.add(i);
        let r = new Ae(ii, si, e1, t);
        r.layers = this.layers, this.add(r);
        let a = new Ae(ii, si, e1, t);
        a.layers = this.layers, this.add(a);
        let s = new Ae(ii, si, e1, t);
        s.layers = this.layers, this.add(s);
        let o = new Ae(ii, si, e1, t);
        o.layers = this.layers, this.add(o);
        let l = new Ae(ii, si, e1, t);
        l.layers = this.layers, this.add(l);
    }
    updateCoordinateSystem() {
        let e1 = this.coordinateSystem, t = this.children.concat(), [n, i, r, a, s, o] = t;
        for (let e1 of t)this.remove(e1);
        if (e1 === rn) n.up.set(0, 1, 0), n.lookAt(1, 0, 0), i.up.set(0, 1, 0), i.lookAt(-1, 0, 0), r.up.set(0, 0, -1), r.lookAt(0, 1, 0), a.up.set(0, 0, 1), a.lookAt(0, -1, 0), s.up.set(0, 1, 0), s.lookAt(0, 0, 1), o.up.set(0, 1, 0), o.lookAt(0, 0, -1);
        else {
            if (e1 !== Bs) throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: " + e1);
            n.up.set(0, -1, 0), n.lookAt(-1, 0, 0), i.up.set(0, -1, 0), i.lookAt(1, 0, 0), r.up.set(0, 0, 1), r.lookAt(0, 1, 0), a.up.set(0, 0, -1), a.lookAt(0, -1, 0), s.up.set(0, -1, 0), s.lookAt(0, 0, 1), o.up.set(0, -1, 0), o.lookAt(0, 0, -1);
        }
        for (let e1 of t)this.add(e1), e1.updateMatrixWorld();
    }
    update(e1, t) {
        null === this.parent && this.updateMatrixWorld();
        let { renderTarget: n, activeMipmapLevel: i } = this;
        this.coordinateSystem !== e1.coordinateSystem && (this.coordinateSystem = e1.coordinateSystem, this.updateCoordinateSystem());
        let [r, a, s, o, l, u] = this.children, h = e1.getRenderTarget(), c = e1.getActiveCubeFace(), d = e1.getActiveMipmapLevel(), p = e1.xr.enabled;
        e1.xr.enabled = !1;
        let f = n.texture.generateMipmaps;
        n.texture.generateMipmaps = !1, e1.setRenderTarget(n, 0, i), e1.render(t, r), e1.setRenderTarget(n, 1, i), e1.render(t, a), e1.setRenderTarget(n, 2, i), e1.render(t, s), e1.setRenderTarget(n, 3, i), e1.render(t, o), e1.setRenderTarget(n, 4, i), e1.render(t, l), n.texture.generateMipmaps = f, e1.setRenderTarget(n, 5, i), e1.render(t, u), e1.setRenderTarget(h, c, d), e1.xr.enabled = p, n.texture.needsPMREMUpdate = !0;
    }
};
(0, _chunkZRT45YCMJs.a)(Fo, "CubeCamera");
var Ma = Fo, Bo = class extends xe {
    constructor(e1, t, n, i, r, a, s, o, l, u){
        super(e1 = void 0 !== e1 ? e1 : [], t = void 0 !== t ? t : vi, n, i, r, a, s, o, l, u), this.isCubeTexture = !0, this.flipY = !1;
    }
    get images() {
        return this.image;
    }
    set images(e1) {
        this.image = e1;
    }
};
(0, _chunkZRT45YCMJs.a)(Bo, "CubeTexture");
var Ys = Bo, zo = class extends Ye {
    constructor(e1 = 1, t = {}){
        super(e1, e1, t), this.isWebGLCubeRenderTarget = !0;
        let n = {
            width: e1,
            height: e1,
            depth: 1
        }, i = [
            n,
            n,
            n,
            n,
            n,
            n
        ];
        this.texture = new Ys(i, t.mapping, t.wrapS, t.wrapT, t.magFilter, t.minFilter, t.format, t.type, t.anisotropy, t.colorSpace), this.texture.isRenderTargetTexture = !0, this.texture.generateMipmaps = void 0 !== t.generateMipmaps && t.generateMipmaps, this.texture.minFilter = void 0 !== t.minFilter ? t.minFilter : we;
    }
    fromEquirectangularTexture(e1, t) {
        this.texture.type = t.type, this.texture.colorSpace = t.colorSpace, this.texture.generateMipmaps = t.generateMipmaps, this.texture.minFilter = t.minFilter, this.texture.magFilter = t.magFilter;
        let n = {
            tEquirect: {
                value: null
            }
        }, i = "\n\n				varying vec3 vWorldDirection;\n\n				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n				}\n\n				void main() {\n\n					vWorldDirection = transformDirection( position, modelMatrix );\n\n					#include <begin_vertex>\n					#include <project_vertex>\n\n				}\n			", r = "\n\n				uniform sampler2D tEquirect;\n\n				varying vec3 vWorldDirection;\n\n				#include <common>\n\n				void main() {\n\n					vec3 direction = normalize( vWorldDirection );\n\n					vec2 sampleUV = equirectUv( direction );\n\n					gl_FragColor = texture2D( tEquirect, sampleUV );\n\n				}\n			", a = new Gi(5, 5, 5), s = new He({
            name: "CubemapFromEquirect",
            uniforms: bi(n),
            vertexShader: i,
            fragmentShader: r,
            side: Te,
            blending: _n
        });
        s.uniforms.tEquirect.value = t;
        let o = new ke(a, s), l = t.minFilter;
        return t.minFilter === On && (t.minFilter = we), new Ma(1, 10, this).update(e1, o), t.minFilter = l, o.geometry.dispose(), o.material.dispose(), this;
    }
    clear(e1, t, n, i) {
        let r = e1.getRenderTarget();
        for(let r = 0; r < 6; r++)e1.setRenderTarget(this, r), e1.clear(t, n, i);
        e1.setRenderTarget(r);
    }
};
(0, _chunkZRT45YCMJs.a)(zo, "WebGLCubeRenderTarget");
var Sa = zo, Qr = new P, Uf = new P, Df = new zt, ko = class {
    constructor(e1 = new P(1, 0, 0), t = 0){
        this.isPlane = !0, this.normal = e1, this.constant = t;
    }
    set(e1, t) {
        return this.normal.copy(e1), this.constant = t, this;
    }
    setComponents(e1, t, n, i) {
        return this.normal.set(e1, t, n), this.constant = i, this;
    }
    setFromNormalAndCoplanarPoint(e1, t) {
        return this.normal.copy(e1), this.constant = -t.dot(this.normal), this;
    }
    setFromCoplanarPoints(e1, t, n) {
        let i = Qr.subVectors(n, t).cross(Uf.subVectors(e1, t)).normalize();
        return this.setFromNormalAndCoplanarPoint(i, e1), this;
    }
    copy(e1) {
        return this.normal.copy(e1.normal), this.constant = e1.constant, this;
    }
    normalize() {
        let e1 = 1 / this.normal.length();
        return this.normal.multiplyScalar(e1), this.constant *= e1, this;
    }
    negate() {
        return this.constant *= -1, this.normal.negate(), this;
    }
    distanceToPoint(e1) {
        return this.normal.dot(e1) + this.constant;
    }
    distanceToSphere(e1) {
        return this.distanceToPoint(e1.center) - e1.radius;
    }
    projectPoint(e1, t) {
        return t.copy(e1).addScaledVector(this.normal, -this.distanceToPoint(e1));
    }
    intersectLine(e1, t) {
        let n = e1.delta(Qr), i = this.normal.dot(n);
        if (0 === i) return 0 === this.distanceToPoint(e1.start) ? t.copy(e1.start) : null;
        let r = -(e1.start.dot(this.normal) + this.constant) / i;
        return r < 0 || r > 1 ? null : t.copy(e1.start).addScaledVector(n, r);
    }
    intersectsLine(e1) {
        let t = this.distanceToPoint(e1.start), n = this.distanceToPoint(e1.end);
        return t < 0 && n > 0 || n < 0 && t > 0;
    }
    intersectsBox(e1) {
        return e1.intersectsPlane(this);
    }
    intersectsSphere(e1) {
        return e1.intersectsPlane(this);
    }
    coplanarPoint(e1) {
        return e1.copy(this.normal).multiplyScalar(-this.constant);
    }
    applyMatrix4(e1, t) {
        let n = t || Df.getNormalMatrix(e1), i = this.coplanarPoint(Qr).applyMatrix4(e1), r = this.normal.applyMatrix3(n).normalize();
        return this.constant = -i.dot(r), this;
    }
    translate(e1) {
        return this.constant -= e1.dot(this.normal), this;
    }
    equals(e1) {
        return e1.normal.equals(this.normal) && e1.constant === this.constant;
    }
    clone() {
        return (new this.constructor).copy(this);
    }
};
(0, _chunkZRT45YCMJs.a)(ko, "Plane");
var en = ko, Pn = new Si, ys = new P, Vo = class {
    constructor(e1 = new en, t = new en, n = new en, i = new en, r = new en, a = new en){
        this.planes = [
            e1,
            t,
            n,
            i,
            r,
            a
        ];
    }
    set(e1, t, n, i, r, a) {
        let s = this.planes;
        return s[0].copy(e1), s[1].copy(t), s[2].copy(n), s[3].copy(i), s[4].copy(r), s[5].copy(a), this;
    }
    copy(e1) {
        let t = this.planes;
        for(let n = 0; n < 6; n++)t[n].copy(e1.planes[n]);
        return this;
    }
    setFromProjectionMatrix(e1, t = rn) {
        let n = this.planes, i = e1.elements, r = i[0], a = i[1], s = i[2], o = i[3], l = i[4], u = i[5], h = i[6], c = i[7], d = i[8], p = i[9], f = i[10], m = i[11], g = i[12], _ = i[13], v = i[14], x = i[15];
        if (n[0].setComponents(o - r, c - l, m - d, x - g).normalize(), n[1].setComponents(o + r, c + l, m + d, x + g).normalize(), n[2].setComponents(o + a, c + u, m + p, x + _).normalize(), n[3].setComponents(o - a, c - u, m - p, x - _).normalize(), n[4].setComponents(o - s, c - h, m - f, x - v).normalize(), t === rn) n[5].setComponents(o + s, c + h, m + f, x + v).normalize();
        else {
            if (t !== Bs) throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: " + t);
            n[5].setComponents(s, h, f, v).normalize();
        }
        return this;
    }
    intersectsObject(e1) {
        if (void 0 !== e1.boundingSphere) null === e1.boundingSphere && e1.computeBoundingSphere(), Pn.copy(e1.boundingSphere).applyMatrix4(e1.matrixWorld);
        else {
            let t = e1.geometry;
            null === t.boundingSphere && t.computeBoundingSphere(), Pn.copy(t.boundingSphere).applyMatrix4(e1.matrixWorld);
        }
        return this.intersectsSphere(Pn);
    }
    intersectsSprite(e1) {
        return Pn.center.set(0, 0, 0), Pn.radius = .7071067811865476, Pn.applyMatrix4(e1.matrixWorld), this.intersectsSphere(Pn);
    }
    intersectsSphere(e1) {
        let t = this.planes, n = e1.center, i = -e1.radius;
        for(let e1 = 0; e1 < 6; e1++)if (t[e1].distanceToPoint(n) < i) return !1;
        return !0;
    }
    intersectsBox(e1) {
        let t = this.planes;
        for(let n = 0; n < 6; n++){
            let i = t[n];
            if (ys.x = i.normal.x > 0 ? e1.max.x : e1.min.x, ys.y = i.normal.y > 0 ? e1.max.y : e1.min.y, ys.z = i.normal.z > 0 ? e1.max.z : e1.min.z, i.distanceToPoint(ys) < 0) return !1;
        }
        return !0;
    }
    containsPoint(e1) {
        let t = this.planes;
        for(let n = 0; n < 6; n++)if (t[n].distanceToPoint(e1) < 0) return !1;
        return !0;
    }
    clone() {
        return (new this.constructor).copy(this);
    }
};
(0, _chunkZRT45YCMJs.a)(Vo, "Frustum");
var Wi = Vo;
function zu() {
    let e1 = null, t = !1, n = null, i = null;
    function r(t, a) {
        n(t, a), i = e1.requestAnimationFrame(r);
    }
    return (0, _chunkZRT45YCMJs.a)(r, "onAnimationFrame"), {
        start: function() {
            !0 !== t && null !== n && (i = e1.requestAnimationFrame(r), t = !0);
        },
        stop: function() {
            e1.cancelAnimationFrame(i), t = !1;
        },
        setAnimationLoop: function(e1) {
            n = e1;
        },
        setContext: function(t) {
            e1 = t;
        }
    };
}
function Nf(e1, t) {
    let n = t.isWebGL2, i = new WeakMap;
    function r(t, i) {
        let r, a = t.array, s = t.usage, o = a.byteLength, l = e1.createBuffer();
        if (e1.bindBuffer(i, l), e1.bufferData(i, a, s), t.onUploadCallback(), a instanceof Float32Array) r = e1.FLOAT;
        else if (a instanceof Uint16Array) {
            if (t.isFloat16BufferAttribute) {
                if (!n) throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");
                r = e1.HALF_FLOAT;
            } else r = e1.UNSIGNED_SHORT;
        } else if (a instanceof Int16Array) r = e1.SHORT;
        else if (a instanceof Uint32Array) r = e1.UNSIGNED_INT;
        else if (a instanceof Int32Array) r = e1.INT;
        else if (a instanceof Int8Array) r = e1.BYTE;
        else if (a instanceof Uint8Array) r = e1.UNSIGNED_BYTE;
        else {
            if (!(a instanceof Uint8ClampedArray)) throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: " + a);
            r = e1.UNSIGNED_BYTE;
        }
        return {
            buffer: l,
            type: r,
            bytesPerElement: a.BYTES_PER_ELEMENT,
            version: t.version,
            size: o
        };
    }
    function a(t, i, r) {
        let a = i.array, s = i._updateRange, o = i.updateRanges;
        if (e1.bindBuffer(r, t), -1 === s.count && 0 === o.length && e1.bufferSubData(r, 0, a), 0 !== o.length) {
            for(let t = 0, i = o.length; t < i; t++){
                let i = o[t];
                n ? e1.bufferSubData(r, i.start * a.BYTES_PER_ELEMENT, a, i.start, i.count) : e1.bufferSubData(r, i.start * a.BYTES_PER_ELEMENT, a.subarray(i.start, i.start + i.count));
            }
            i.clearUpdateRanges();
        }
        -1 !== s.count && (n ? e1.bufferSubData(r, s.offset * a.BYTES_PER_ELEMENT, a, s.offset, s.count) : e1.bufferSubData(r, s.offset * a.BYTES_PER_ELEMENT, a.subarray(s.offset, s.offset + s.count)), s.count = -1), i.onUploadCallback();
    }
    function s(e1) {
        return e1.isInterleavedBufferAttribute && (e1 = e1.data), i.get(e1);
    }
    function o(t) {
        t.isInterleavedBufferAttribute && (t = t.data);
        let n = i.get(t);
        n && (e1.deleteBuffer(n.buffer), i.delete(t));
    }
    function l(e1, t) {
        if (e1.isGLBufferAttribute) {
            let t = i.get(e1);
            return void ((!t || t.version < e1.version) && i.set(e1, {
                buffer: e1.buffer,
                type: e1.type,
                bytesPerElement: e1.elementSize,
                version: e1.version
            }));
        }
        e1.isInterleavedBufferAttribute && (e1 = e1.data);
        let n = i.get(e1);
        if (void 0 === n) i.set(e1, r(e1, t));
        else if (n.version < e1.version) {
            if (n.size !== e1.array.byteLength) throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");
            a(n.buffer, e1, t), n.version = e1.version;
        }
    }
    return (0, _chunkZRT45YCMJs.a)(r, "createBuffer"), (0, _chunkZRT45YCMJs.a)(a, "updateBuffer"), (0, _chunkZRT45YCMJs.a)(s, "get"), (0, _chunkZRT45YCMJs.a)(o, "remove"), (0, _chunkZRT45YCMJs.a)(l, "update"), {
        get: s,
        remove: o,
        update: l
    };
}
(0, _chunkZRT45YCMJs.a)(zu, "WebGLAnimation"), (0, _chunkZRT45YCMJs.a)(Nf, "WebGLAttributes");
var fr = class e1 extends Ee {
    constructor(e1 = 1, t = 1, n = 1, i = 1){
        super(), this.type = "PlaneGeometry", this.parameters = {
            width: e1,
            height: t,
            widthSegments: n,
            heightSegments: i
        };
        let r = e1 / 2, a = t / 2, s = Math.floor(n), o = Math.floor(i), l = s + 1, u = o + 1, h = e1 / s, c = t / o, d = [], p = [], f = [], m = [];
        for(let e1 = 0; e1 < u; e1++){
            let t = e1 * c - a;
            for(let n = 0; n < l; n++){
                let i = n * h - r;
                p.push(i, -t, 0), f.push(0, 0, 1), m.push(n / s), m.push(1 - e1 / o);
            }
        }
        for(let e1 = 0; e1 < o; e1++)for(let t = 0; t < s; t++){
            let n = t + l * e1, i = t + l * (e1 + 1), r = t + 1 + l * (e1 + 1), a = t + 1 + l * e1;
            d.push(n, i, a), d.push(i, r, a);
        }
        this.setIndex(d), this.setAttribute("position", new se(p, 3)), this.setAttribute("normal", new se(f, 3)), this.setAttribute("uv", new se(m, 2));
    }
    copy(e1) {
        return super.copy(e1), this.parameters = Object.assign({}, e1.parameters), this;
    }
    static fromJSON(t) {
        return new e1(t.width, t.height, t.widthSegments, t.heightSegments);
    }
};
(0, _chunkZRT45YCMJs.a)(fr, "PlaneGeometry");
var Zs = fr, Of = "#ifdef USE_ALPHAHASH\n	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif", Ff = "#ifdef USE_ALPHAHASH\n	const float ALPHA_HASH_SCALE = 0.05;\n	float hash2D( vec2 value ) {\n		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n	}\n	float hash3D( vec3 value ) {\n		return hash2D( vec2( hash2D( value.xy ), value.z ) );\n	}\n	float getAlphaHashThreshold( vec3 position ) {\n		float maxDeriv = max(\n			length( dFdx( position.xyz ) ),\n			length( dFdy( position.xyz ) )\n		);\n		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n		vec2 pixScales = vec2(\n			exp2( floor( log2( pixScale ) ) ),\n			exp2( ceil( log2( pixScale ) ) )\n		);\n		vec2 alpha = vec2(\n			hash3D( floor( pixScales.x * position.xyz ) ),\n			hash3D( floor( pixScales.y * position.xyz ) )\n		);\n		float lerpFactor = fract( log2( pixScale ) );\n		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n		float a = min( lerpFactor, 1.0 - lerpFactor );\n		vec3 cases = vec3(\n			x * x / ( 2.0 * a * ( 1.0 - a ) ),\n			( x - 0.5 * a ) / ( 1.0 - a ),\n			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n		);\n		float threshold = ( x < ( 1.0 - a ) )\n			? ( ( x < a ) ? cases.x : cases.y )\n			: cases.z;\n		return clamp( threshold , 1.0e-6, 1.0 );\n	}\n#endif", Bf = "#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif", zf = "#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif", kf = "#ifdef USE_ALPHATEST\n	#ifdef ALPHA_TO_COVERAGE\n	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n	if ( diffuseColor.a == 0.0 ) discard;\n	#else\n	if ( diffuseColor.a < alphaTest ) discard;\n	#endif\n#endif", Vf = "#ifdef USE_ALPHATEST\n	uniform float alphaTest;\n#endif", Hf = "#ifdef USE_AOMAP\n	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n	reflectedLight.indirectDiffuse *= ambientOcclusion;\n	#if defined( USE_CLEARCOAT ) \n		clearcoatSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_SHEEN ) \n		sheenSpecularIndirect *= ambientOcclusion;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD )\n		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n	#endif\n#endif", Gf = "#ifdef USE_AOMAP\n	uniform sampler2D aoMap;\n	uniform float aoMapIntensity;\n#endif", Wf = "#ifdef USE_BATCHING\n	attribute float batchId;\n	uniform highp sampler2D batchingTexture;\n	mat4 getBatchingMatrix( const in float i ) {\n		int size = textureSize( batchingTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n#endif", Xf = "#ifdef USE_BATCHING\n	mat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif", qf = "vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n	vPosition = vec3( position );\n#endif", Yf = "vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n	vec3 objectTangent = vec3( tangent.xyz );\n#endif", Zf = "float G_BlinnPhong_Implicit( ) {\n	return 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( specularColor, 1.0, dotVH );\n	float G = G_BlinnPhong_Implicit( );\n	float D = D_BlinnPhong( shininess, dotNH );\n	return F * ( G * D );\n} // validated", Jf = "#ifdef USE_IRIDESCENCE\n	const mat3 XYZ_TO_REC709 = mat3(\n		 3.2404542, -0.9692660,  0.0556434,\n		-1.5371385,  1.8760108, -0.2040259,\n		-0.4985314,  0.0415560,  1.0572252\n	);\n	vec3 Fresnel0ToIor( vec3 fresnel0 ) {\n		vec3 sqrtF0 = sqrt( fresnel0 );\n		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n	}\n	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n	}\n	float IorToFresnel0( float transmittedIor, float incidentIor ) {\n		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n	}\n	vec3 evalSensitivity( float OPD, vec3 shift ) {\n		float phase = 2.0 * PI * OPD * 1.0e-9;\n		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n		xyz /= 1.0685e-7;\n		vec3 rgb = XYZ_TO_REC709 * xyz;\n		return rgb;\n	}\n	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n		vec3 I;\n		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n		float cosTheta2Sq = 1.0 - sinTheta2Sq;\n		if ( cosTheta2Sq < 0.0 ) {\n			return vec3( 1.0 );\n		}\n		float cosTheta2 = sqrt( cosTheta2Sq );\n		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n		float R12 = F_Schlick( R0, 1.0, cosTheta1 );\n		float T121 = 1.0 - R12;\n		float phi12 = 0.0;\n		if ( iridescenceIOR < outsideIOR ) phi12 = PI;\n		float phi21 = PI - phi12;\n		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n		vec3 phi23 = vec3( 0.0 );\n		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n		vec3 phi = vec3( phi21 ) + phi23;\n		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n		vec3 r123 = sqrt( R123 );\n		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n		vec3 C0 = R12 + Rs;\n		I = C0;\n		vec3 Cm = Rs - T121;\n		for ( int m = 1; m <= 2; ++ m ) {\n			Cm *= r123;\n			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n			I += Cm * Sm;\n		}\n		return max( I, vec3( 0.0 ) );\n	}\n#endif", $f = "#ifdef USE_BUMPMAP\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n	vec2 dHdxy_fwd() {\n		vec2 dSTdx = dFdx( vBumpMapUv );\n		vec2 dSTdy = dFdy( vBumpMapUv );\n		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n		return vec2( dBx, dBy );\n	}\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n		vec3 vN = surf_norm;\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n		float fDet = dot( vSigmaX, R1 ) * faceDirection;\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n	}\n#endif", Kf = "#if NUM_CLIPPING_PLANES > 0\n	vec4 plane;\n	#ifdef ALPHA_TO_COVERAGE\n		float distanceToPlane, distanceGradient;\n		float clipOpacity = 1.0;\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n			distanceGradient = fwidth( distanceToPlane ) / 2.0;\n			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			if ( clipOpacity == 0.0 ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			float unionClipOpacity = 1.0;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n				distanceGradient = fwidth( distanceToPlane ) / 2.0;\n				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n			}\n			#pragma unroll_loop_end\n			clipOpacity *= 1.0 - unionClipOpacity;\n		#endif\n		diffuseColor.a *= clipOpacity;\n		if ( diffuseColor.a == 0.0 ) discard;\n	#else\n		#pragma unroll_loop_start\n		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n			plane = clippingPlanes[ i ];\n			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n		}\n		#pragma unroll_loop_end\n		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n			bool clipped = true;\n			#pragma unroll_loop_start\n			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n				plane = clippingPlanes[ i ];\n				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n			}\n			#pragma unroll_loop_end\n			if ( clipped ) discard;\n		#endif\n	#endif\n#endif", Qf = "#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif", jf = "#if NUM_CLIPPING_PLANES > 0\n	varying vec3 vClipPosition;\n#endif", tp = "#if NUM_CLIPPING_PLANES > 0\n	vClipPosition = - mvPosition.xyz;\n#endif", ep = "#if defined( USE_COLOR_ALPHA )\n	diffuseColor *= vColor;\n#elif defined( USE_COLOR )\n	diffuseColor.rgb *= vColor;\n#endif", np = "#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR )\n	varying vec3 vColor;\n#endif", ip = "#if defined( USE_COLOR_ALPHA )\n	varying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	varying vec3 vColor;\n#endif", sp = "#if defined( USE_COLOR_ALPHA )\n	vColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n	vColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n	vColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n	vColor.xyz *= instanceColor.xyz;\n#endif", rp = "#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n	const highp float a = 12.9898, b = 78.233, c = 43758.5453;\n	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n	return fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n	float precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n	float precisionSafeLength( vec3 v ) {\n		float maxComponent = max3( abs( v ) );\n		return length( v / maxComponent ) * maxComponent;\n	}\n#endif\nstruct IncidentLight {\n	vec3 color;\n	vec3 direction;\n	bool visible;\n};\nstruct ReflectedLight {\n	vec3 directDiffuse;\n	vec3 directSpecular;\n	vec3 indirectDiffuse;\n	vec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n	varying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n	mat3 tmp;\n	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n	return tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n	return dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n	return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n	return vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n	return RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated", ap = "#ifdef ENVMAP_TYPE_CUBE_UV\n	#define cubeUV_minMipLevel 4.0\n	#define cubeUV_minTileSize 16.0\n	float getFace( vec3 direction ) {\n		vec3 absDirection = abs( direction );\n		float face = - 1.0;\n		if ( absDirection.x > absDirection.z ) {\n			if ( absDirection.x > absDirection.y )\n				face = direction.x > 0.0 ? 0.0 : 3.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		} else {\n			if ( absDirection.z > absDirection.y )\n				face = direction.z > 0.0 ? 2.0 : 5.0;\n			else\n				face = direction.y > 0.0 ? 1.0 : 4.0;\n		}\n		return face;\n	}\n	vec2 getUV( vec3 direction, float face ) {\n		vec2 uv;\n		if ( face == 0.0 ) {\n			uv = vec2( direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 1.0 ) {\n			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n		} else if ( face == 2.0 ) {\n			uv = vec2( - direction.x, direction.y ) / abs( direction.z );\n		} else if ( face == 3.0 ) {\n			uv = vec2( - direction.z, direction.y ) / abs( direction.x );\n		} else if ( face == 4.0 ) {\n			uv = vec2( - direction.x, direction.z ) / abs( direction.y );\n		} else {\n			uv = vec2( direction.x, direction.y ) / abs( direction.z );\n		}\n		return 0.5 * ( uv + 1.0 );\n	}\n	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n		float face = getFace( direction );\n		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n		mipInt = max( mipInt, cubeUV_minMipLevel );\n		float faceSize = exp2( mipInt );\n		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n		if ( face > 2.0 ) {\n			uv.y += faceSize;\n			face -= 3.0;\n		}\n		uv.x += face * faceSize;\n		uv.x += filterInt * 3.0 * cubeUV_minTileSize;\n		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n		uv.x *= CUBEUV_TEXEL_WIDTH;\n		uv.y *= CUBEUV_TEXEL_HEIGHT;\n		#ifdef texture2DGradEXT\n			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n		#else\n			return texture2D( envMap, uv ).rgb;\n		#endif\n	}\n	#define cubeUV_r0 1.0\n	#define cubeUV_m0 - 2.0\n	#define cubeUV_r1 0.8\n	#define cubeUV_m1 - 1.0\n	#define cubeUV_r4 0.4\n	#define cubeUV_m4 2.0\n	#define cubeUV_r5 0.305\n	#define cubeUV_m5 3.0\n	#define cubeUV_r6 0.21\n	#define cubeUV_m6 4.0\n	float roughnessToMip( float roughness ) {\n		float mip = 0.0;\n		if ( roughness >= cubeUV_r1 ) {\n			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n		} else if ( roughness >= cubeUV_r4 ) {\n			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n		} else if ( roughness >= cubeUV_r5 ) {\n			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n		} else if ( roughness >= cubeUV_r6 ) {\n			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n		} else {\n			mip = - 2.0 * log2( 1.16 * roughness );		}\n		return mip;\n	}\n	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n		float mipF = fract( mip );\n		float mipInt = floor( mip );\n		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n		if ( mipF == 0.0 ) {\n			return vec4( color0, 1.0 );\n		} else {\n			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n			return vec4( mix( color0, color1, mipF ), 1.0 );\n		}\n	}\n#endif", op = "vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n	vec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n	mat3 bm = mat3( batchingMatrix );\n	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n	transformedNormal = bm * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = bm * transformedTangent;\n	#endif\n#endif\n#ifdef USE_INSTANCING\n	mat3 im = mat3( instanceMatrix );\n	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n	transformedNormal = im * transformedNormal;\n	#ifdef USE_TANGENT\n		transformedTangent = im * transformedTangent;\n	#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n	transformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n	#ifdef FLIP_SIDED\n		transformedTangent = - transformedTangent;\n	#endif\n#endif", cp = "#ifdef USE_DISPLACEMENTMAP\n	uniform sampler2D displacementMap;\n	uniform float displacementScale;\n	uniform float displacementBias;\n#endif", lp = "#ifdef USE_DISPLACEMENTMAP\n	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif", hp = "#ifdef USE_EMISSIVEMAP\n	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n	totalEmissiveRadiance *= emissiveColor.rgb;\n#endif", up = "#ifdef USE_EMISSIVEMAP\n	uniform sampler2D emissiveMap;\n#endif", dp = "gl_FragColor = linearToOutputTexel( gl_FragColor );", fp = "\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n	vec3( 0.8224621, 0.177538, 0.0 ),\n	vec3( 0.0331941, 0.9668058, 0.0 ),\n	vec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n	vec3( 1.2249401, - 0.2249404, 0.0 ),\n	vec3( - 0.0420569, 1.0420571, 0.0 ),\n	vec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n	return value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n	return value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n	return sRGBTransferOETF( value );\n}", pp = "#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vec3 cameraToFrag;\n		if ( isOrthographic ) {\n			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToFrag = normalize( vWorldPosition - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vec3 reflectVec = reflect( cameraToFrag, worldNormal );\n		#else\n			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n		#endif\n	#else\n		vec3 reflectVec = vReflect;\n	#endif\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n	#else\n		vec4 envColor = vec4( 0.0 );\n	#endif\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_MIX )\n		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n	#elif defined( ENVMAP_BLENDING_ADD )\n		outgoingLight += envColor.xyz * specularStrength * reflectivity;\n	#endif\n#endif", mp = "#ifdef USE_ENVMAP\n	uniform float envMapIntensity;\n	uniform float flipEnvMap;\n	uniform mat3 envMapRotation;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	\n#endif", gp = "#ifdef USE_ENVMAP\n	uniform float reflectivity;\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		varying vec3 vWorldPosition;\n		uniform float refractionRatio;\n	#else\n		varying vec3 vReflect;\n	#endif\n#endif", _p = "#ifdef USE_ENVMAP\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n		#define ENV_WORLDPOS\n	#endif\n	#ifdef ENV_WORLDPOS\n		\n		varying vec3 vWorldPosition;\n	#else\n		varying vec3 vReflect;\n		uniform float refractionRatio;\n	#endif\n#endif", xp = "#ifdef USE_ENVMAP\n	#ifdef ENV_WORLDPOS\n		vWorldPosition = worldPosition.xyz;\n	#else\n		vec3 cameraToVertex;\n		if ( isOrthographic ) {\n			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n		} else {\n			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n		}\n		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n		#ifdef ENVMAP_MODE_REFLECTION\n			vReflect = reflect( cameraToVertex, worldNormal );\n		#else\n			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n		#endif\n	#endif\n#endif", vp = "#ifdef USE_FOG\n	vFogDepth = - mvPosition.z;\n#endif", yp = "#ifdef USE_FOG\n	varying float vFogDepth;\n#endif", Mp = "#ifdef USE_FOG\n	#ifdef FOG_EXP2\n		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n	#else\n		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n	#endif\n	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif", Sp = "#ifdef USE_FOG\n	uniform vec3 fogColor;\n	varying float vFogDepth;\n	#ifdef FOG_EXP2\n		uniform float fogDensity;\n	#else\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n#endif", bp = "#ifdef USE_GRADIENTMAP\n	uniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n	float dotNL = dot( normal, lightDirection );\n	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n	#ifdef USE_GRADIENTMAP\n		return vec3( texture2D( gradientMap, coord ).r );\n	#else\n		vec2 fw = fwidth( coord ) * 0.5;\n		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n	#endif\n}", Ep = "#ifdef USE_LIGHTMAP\n	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n	reflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif", wp = "#ifdef USE_LIGHTMAP\n	uniform sampler2D lightMap;\n	uniform float lightMapIntensity;\n#endif", Ap = "LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;", Tp = "varying vec3 vViewPosition;\nstruct LambertMaterial {\n	vec3 diffuseColor;\n	float specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Lambert\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert", Rp = "uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n	uniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n	float x = normal.x, y = normal.y, z = normal.z;\n	vec3 result = shCoefficients[ 0 ] * 0.886227;\n	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n	return result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n	return irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n	vec3 irradiance = ambientLightColor;\n	return irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n	#if defined ( LEGACY_LIGHTS )\n		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n		}\n		return 1.0;\n	#else\n		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n		if ( cutoffDistance > 0.0 ) {\n			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n		}\n		return distanceFalloff;\n	#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n	return smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n	struct DirectionalLight {\n		vec3 direction;\n		vec3 color;\n	};\n	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n		light.color = directionalLight.color;\n		light.direction = directionalLight.direction;\n		light.visible = true;\n	}\n#endif\n#if NUM_POINT_LIGHTS > 0\n	struct PointLight {\n		vec3 position;\n		vec3 color;\n		float distance;\n		float decay;\n	};\n	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = pointLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float lightDistance = length( lVector );\n		light.color = pointLight.color;\n		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n		light.visible = ( light.color != vec3( 0.0 ) );\n	}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n	struct SpotLight {\n		vec3 position;\n		vec3 direction;\n		vec3 color;\n		float distance;\n		float decay;\n		float coneCos;\n		float penumbraCos;\n	};\n	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n		vec3 lVector = spotLight.position - geometryPosition;\n		light.direction = normalize( lVector );\n		float angleCos = dot( light.direction, spotLight.direction );\n		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n		if ( spotAttenuation > 0.0 ) {\n			float lightDistance = length( lVector );\n			light.color = spotLight.color * spotAttenuation;\n			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n			light.visible = ( light.color != vec3( 0.0 ) );\n		} else {\n			light.color = vec3( 0.0 );\n			light.visible = false;\n		}\n	}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n	struct RectAreaLight {\n		vec3 color;\n		vec3 position;\n		vec3 halfWidth;\n		vec3 halfHeight;\n	};\n	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;\n	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n	struct HemisphereLight {\n		vec3 direction;\n		vec3 skyColor;\n		vec3 groundColor;\n	};\n	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n		float dotNL = dot( normal, hemiLight.direction );\n		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n		return irradiance;\n	}\n#endif", Cp = "#ifdef USE_ENVMAP\n	vec3 getIBLIrradiance( const in vec3 normal ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n			return PI * envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n		#ifdef ENVMAP_TYPE_CUBE_UV\n			vec3 reflectVec = reflect( - viewDir, normal );\n			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n			return envMapColor.rgb * envMapIntensity;\n		#else\n			return vec3( 0.0 );\n		#endif\n	}\n	#ifdef USE_ANISOTROPY\n		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n			#ifdef ENVMAP_TYPE_CUBE_UV\n				vec3 bentNormal = cross( bitangent, viewDir );\n				bentNormal = normalize( cross( bentNormal, bitangent ) );\n				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n				return getIBLRadiance( viewDir, bentNormal, roughness );\n			#else\n				return vec3( 0.0 );\n			#endif\n		}\n	#endif\n#endif", Pp = "ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;", Ip = "varying vec3 vViewPosition;\nstruct ToonMaterial {\n	vec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_Toon\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon", Lp = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;", Up = "varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n	vec3 diffuseColor;\n	vec3 specularColor;\n	float specularShininess;\n	float specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct				RE_Direct_BlinnPhong\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong", Dp = "PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n	material.ior = ior;\n	#ifdef USE_SPECULAR\n		float specularIntensityFactor = specularIntensity;\n		vec3 specularColorFactor = specularColor;\n		#ifdef USE_SPECULAR_COLORMAP\n			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n		#endif\n		#ifdef USE_SPECULAR_INTENSITYMAP\n			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n		#endif\n		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n	#else\n		float specularIntensityFactor = 1.0;\n		vec3 specularColorFactor = vec3( 1.0 );\n		material.specularF90 = 1.0;\n	#endif\n	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n	material.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n	material.clearcoat = clearcoat;\n	material.clearcoatRoughness = clearcoatRoughness;\n	material.clearcoatF0 = vec3( 0.04 );\n	material.clearcoatF90 = 1.0;\n	#ifdef USE_CLEARCOATMAP\n		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n	#endif\n	#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n	#endif\n	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n	material.clearcoatRoughness += geometryRoughness;\n	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n	material.iridescence = iridescence;\n	material.iridescenceIOR = iridescenceIOR;\n	#ifdef USE_IRIDESCENCEMAP\n		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n	#endif\n	#ifdef USE_IRIDESCENCE_THICKNESSMAP\n		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n	#else\n		material.iridescenceThickness = iridescenceThicknessMaximum;\n	#endif\n#endif\n#ifdef USE_SHEEN\n	material.sheenColor = sheenColor;\n	#ifdef USE_SHEEN_COLORMAP\n		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n	#endif\n	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	#ifdef USE_ANISOTROPYMAP\n		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n	#else\n		vec2 anisotropyV = anisotropyVector;\n	#endif\n	material.anisotropy = length( anisotropyV );\n	if( material.anisotropy == 0.0 ) {\n		anisotropyV = vec2( 1.0, 0.0 );\n	} else {\n		anisotropyV /= material.anisotropy;\n		material.anisotropy = saturate( material.anisotropy );\n	}\n	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif", Np = "struct PhysicalMaterial {\n	vec3 diffuseColor;\n	float roughness;\n	vec3 specularColor;\n	float specularF90;\n	#ifdef USE_CLEARCOAT\n		float clearcoat;\n		float clearcoatRoughness;\n		vec3 clearcoatF0;\n		float clearcoatF90;\n	#endif\n	#ifdef USE_IRIDESCENCE\n		float iridescence;\n		float iridescenceIOR;\n		float iridescenceThickness;\n		vec3 iridescenceFresnel;\n		vec3 iridescenceF0;\n	#endif\n	#ifdef USE_SHEEN\n		vec3 sheenColor;\n		float sheenRoughness;\n	#endif\n	#ifdef IOR\n		float ior;\n	#endif\n	#ifdef USE_TRANSMISSION\n		float transmission;\n		float transmissionAlpha;\n		float thickness;\n		float attenuationDistance;\n		vec3 attenuationColor;\n	#endif\n	#ifdef USE_ANISOTROPY\n		float anisotropy;\n		float alphaT;\n		vec3 anisotropyT;\n		vec3 anisotropyB;\n	#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n	float a2 = pow2( alpha );\n	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n	return 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n	float a2 = pow2( alpha );\n	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n	return RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n		float v = 0.5 / ( gv + gl );\n		return saturate(v);\n	}\n	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n		float a2 = alphaT * alphaB;\n		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n		highp float v2 = dot( v, v );\n		float w2 = a2 / v2;\n		return RECIPROCAL_PI * a2 * pow2 ( w2 );\n	}\n#endif\n#ifdef USE_CLEARCOAT\n	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n		vec3 f0 = material.clearcoatF0;\n		float f90 = material.clearcoatF90;\n		float roughness = material.clearcoatRoughness;\n		float alpha = pow2( roughness );\n		vec3 halfDir = normalize( lightDir + viewDir );\n		float dotNL = saturate( dot( normal, lightDir ) );\n		float dotNV = saturate( dot( normal, viewDir ) );\n		float dotNH = saturate( dot( normal, halfDir ) );\n		float dotVH = saturate( dot( viewDir, halfDir ) );\n		vec3 F = F_Schlick( f0, f90, dotVH );\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n		return F * ( V * D );\n	}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n	vec3 f0 = material.specularColor;\n	float f90 = material.specularF90;\n	float roughness = material.roughness;\n	float alpha = pow2( roughness );\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float dotVH = saturate( dot( viewDir, halfDir ) );\n	vec3 F = F_Schlick( f0, f90, dotVH );\n	#ifdef USE_IRIDESCENCE\n		F = mix( F, material.iridescenceFresnel, material.iridescence );\n	#endif\n	#ifdef USE_ANISOTROPY\n		float dotTL = dot( material.anisotropyT, lightDir );\n		float dotTV = dot( material.anisotropyT, viewDir );\n		float dotTH = dot( material.anisotropyT, halfDir );\n		float dotBL = dot( material.anisotropyB, lightDir );\n		float dotBV = dot( material.anisotropyB, viewDir );\n		float dotBH = dot( material.anisotropyB, halfDir );\n		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n	#else\n		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n		float D = D_GGX( alpha, dotNH );\n	#endif\n	return F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n	const float LUT_SIZE = 64.0;\n	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n	const float LUT_BIAS = 0.5 / LUT_SIZE;\n	float dotNV = saturate( dot( N, V ) );\n	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n	uv = uv * LUT_SCALE + LUT_BIAS;\n	return uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n	float l = length( f );\n	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n	float x = dot( v1, v2 );\n	float y = abs( x );\n	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n	float b = 3.4175940 + ( 4.1616724 + y ) * y;\n	float v = a / b;\n	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n	return cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n	vec3 lightNormal = cross( v1, v2 );\n	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n	vec3 T1, T2;\n	T1 = normalize( V - N * dot( V, N ) );\n	T2 = - cross( N, T1 );\n	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n	vec3 coords[ 4 ];\n	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n	coords[ 0 ] = normalize( coords[ 0 ] );\n	coords[ 1 ] = normalize( coords[ 1 ] );\n	coords[ 2 ] = normalize( coords[ 2 ] );\n	coords[ 3 ] = normalize( coords[ 3 ] );\n	vec3 vectorFormFactor = vec3( 0.0 );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n	return vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n	float alpha = pow2( roughness );\n	float invAlpha = 1.0 / alpha;\n	float cos2h = dotNH * dotNH;\n	float sin2h = max( 1.0 - cos2h, 0.0078125 );\n	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n	vec3 halfDir = normalize( lightDir + viewDir );\n	float dotNL = saturate( dot( normal, lightDir ) );\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float dotNH = saturate( dot( normal, halfDir ) );\n	float D = D_Charlie( sheenRoughness, dotNH );\n	float V = V_Neubelt( dotNV, dotNL );\n	return sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	float r2 = roughness * roughness;\n	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n	return saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n	float dotNV = saturate( dot( normal, viewDir ) );\n	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n	vec4 r = roughness * c0 + c1;\n	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n	return fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	return specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n	vec2 fab = DFGApprox( normal, viewDir, roughness );\n	#ifdef USE_IRIDESCENCE\n		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n	#else\n		vec3 Fr = specularColor;\n	#endif\n	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n	float Ess = fab.x + fab.y;\n	float Ems = 1.0 - Ess;\n	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n	singleScatter += FssEss;\n	multiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n		vec3 normal = geometryNormal;\n		vec3 viewDir = geometryViewDir;\n		vec3 position = geometryPosition;\n		vec3 lightPos = rectAreaLight.position;\n		vec3 halfWidth = rectAreaLight.halfWidth;\n		vec3 halfHeight = rectAreaLight.halfHeight;\n		vec3 lightColor = rectAreaLight.color;\n		float roughness = material.roughness;\n		vec3 rectCoords[ 4 ];\n		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n		vec2 uv = LTC_Uv( normal, viewDir, roughness );\n		vec4 t1 = texture2D( ltc_1, uv );\n		vec4 t2 = texture2D( ltc_2, uv );\n		mat3 mInv = mat3(\n			vec3( t1.x, 0, t1.y ),\n			vec3(    0, 1,    0 ),\n			vec3( t1.z, 0, t1.w )\n		);\n		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n	}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n	vec3 irradiance = dotNL * directLight.color;\n	#ifdef USE_CLEARCOAT\n		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n		vec3 ccIrradiance = dotNLcc * directLight.color;\n		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n	#endif\n	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n	#ifdef USE_CLEARCOAT\n		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n	#endif\n	#ifdef USE_SHEEN\n		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n	#endif\n	vec3 singleScattering = vec3( 0.0 );\n	vec3 multiScattering = vec3( 0.0 );\n	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n	#ifdef USE_IRIDESCENCE\n		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n	#else\n		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n	#endif\n	vec3 totalScattering = singleScattering + multiScattering;\n	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n	reflectedLight.indirectSpecular += radiance * singleScattering;\n	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct				RE_Direct_Physical\n#define RE_Direct_RectArea		RE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular		RE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}", Op = "\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n	geometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n	float dotNVi = saturate( dot( normal, geometryViewDir ) );\n	if ( material.iridescenceThickness == 0.0 ) {\n		material.iridescence = 0.0;\n	} else {\n		material.iridescence = saturate( material.iridescence );\n	}\n	if ( material.iridescence > 0.0 ) {\n		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n	}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n	PointLight pointLight;\n	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n		pointLight = pointLights[ i ];\n		getPointLightInfo( pointLight, geometryPosition, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n		pointLightShadow = pointLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n	SpotLight spotLight;\n	vec4 spotColor;\n	vec3 spotLightCoord;\n	bool inSpotLightMap;\n	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n		spotLight = spotLights[ i ];\n		getSpotLightInfo( spotLight, geometryPosition, directLight );\n		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n		#else\n		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n		#endif\n		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n		#endif\n		#undef SPOT_LIGHT_MAP_INDEX\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n		spotLightShadow = spotLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n	DirectionalLight directionalLight;\n	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLightShadow;\n	#endif\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n		directionalLight = directionalLights[ i ];\n		getDirectionalLightInfo( directionalLight, directLight );\n		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n		directionalLightShadow = directionalLightShadows[ i ];\n		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n		#endif\n		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n	RectAreaLight rectAreaLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n		rectAreaLight = rectAreaLights[ i ];\n		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n	}\n	#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n	vec3 iblIrradiance = vec3( 0.0 );\n	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n	#if defined( USE_LIGHT_PROBES )\n		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n	#endif\n	#if ( NUM_HEMI_LIGHTS > 0 )\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if defined( RE_IndirectSpecular )\n	vec3 radiance = vec3( 0.0 );\n	vec3 clearcoatRadiance = vec3( 0.0 );\n#endif", Fp = "#if defined( RE_IndirectDiffuse )\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n		irradiance += lightMapIrradiance;\n	#endif\n	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n		iblIrradiance += getIBLIrradiance( geometryNormal );\n	#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n	#ifdef USE_ANISOTROPY\n		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n	#else\n		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n	#endif\n	#ifdef USE_CLEARCOAT\n		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n	#endif\n#endif", Bp = "#if defined( RE_IndirectDiffuse )\n	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif", zp = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif", kp = "#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n	uniform float logDepthBufFC;\n	varying float vFragDepth;\n	varying float vIsPerspective;\n#endif", Vp = "#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		varying float vFragDepth;\n		varying float vIsPerspective;\n	#else\n		uniform float logDepthBufFC;\n	#endif\n#endif", Hp = "#ifdef USE_LOGDEPTHBUF\n	#ifdef USE_LOGDEPTHBUF_EXT\n		vFragDepth = 1.0 + gl_Position.w;\n		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n	#else\n		if ( isPerspectiveMatrix( projectionMatrix ) ) {\n			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n			gl_Position.z *= gl_Position.w;\n		}\n	#endif\n#endif", Gp = "#ifdef USE_MAP\n	vec4 sampledDiffuseColor = texture2D( map, vMapUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n	\n	#endif\n	diffuseColor *= sampledDiffuseColor;\n#endif", Wp = "#ifdef USE_MAP\n	uniform sampler2D map;\n#endif", Xp = "#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n	#if defined( USE_POINTS_UV )\n		vec2 uv = vUv;\n	#else\n		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n	#endif\n#endif\n#ifdef USE_MAP\n	diffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n	diffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif", qp = "#if defined( USE_POINTS_UV )\n	varying vec2 vUv;\n#else\n	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n		uniform mat3 uvTransform;\n	#endif\n#endif\n#ifdef USE_MAP\n	uniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform sampler2D alphaMap;\n#endif", Yp = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n	metalnessFactor *= texelMetalness.b;\n#endif", Zp = "#ifdef USE_METALNESSMAP\n	uniform sampler2D metalnessMap;\n#endif", Jp = "#ifdef USE_INSTANCING_MORPH\n	float morphTargetInfluences[MORPHTARGETS_COUNT];\n	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n	}\n#endif", $p = "#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n	vColor *= morphTargetBaseInfluence;\n	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n		#if defined( USE_COLOR_ALPHA )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n		#elif defined( USE_COLOR )\n			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n		#endif\n	}\n#endif", Kp = "#ifdef USE_MORPHNORMALS\n	objectNormal *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n	#endif\n#endif", Qp = "#ifdef USE_MORPHTARGETS\n	#ifndef USE_INSTANCING_MORPH\n		uniform float morphTargetBaseInfluence;\n	#endif\n	#ifdef MORPHTARGETS_TEXTURE\n		#ifndef USE_INSTANCING_MORPH\n			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n		#endif\n		uniform sampler2DArray morphTargetsTexture;\n		uniform ivec2 morphTargetsTextureSize;\n		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n			int y = texelIndex / morphTargetsTextureSize.x;\n			int x = texelIndex - y * morphTargetsTextureSize.x;\n			ivec3 morphUV = ivec3( x, y, morphTargetIndex );\n			return texelFetch( morphTargetsTexture, morphUV, 0 );\n		}\n	#else\n		#ifndef USE_MORPHNORMALS\n			uniform float morphTargetInfluences[ 8 ];\n		#else\n			uniform float morphTargetInfluences[ 4 ];\n		#endif\n	#endif\n#endif", jp = "#ifdef USE_MORPHTARGETS\n	transformed *= morphTargetBaseInfluence;\n	#ifdef MORPHTARGETS_TEXTURE\n		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n		}\n	#else\n		transformed += morphTarget0 * morphTargetInfluences[ 0 ];\n		transformed += morphTarget1 * morphTargetInfluences[ 1 ];\n		transformed += morphTarget2 * morphTargetInfluences[ 2 ];\n		transformed += morphTarget3 * morphTargetInfluences[ 3 ];\n		#ifndef USE_MORPHNORMALS\n			transformed += morphTarget4 * morphTargetInfluences[ 4 ];\n			transformed += morphTarget5 * morphTargetInfluences[ 5 ];\n			transformed += morphTarget6 * morphTargetInfluences[ 6 ];\n			transformed += morphTarget7 * morphTargetInfluences[ 7 ];\n		#endif\n	#endif\n#endif", tm = "float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n	vec3 fdx = dFdx( vViewPosition );\n	vec3 fdy = dFdy( vViewPosition );\n	vec3 normal = normalize( cross( fdx, fdy ) );\n#else\n	vec3 normal = normalize( vNormal );\n	#ifdef DOUBLE_SIDED\n		normal *= faceDirection;\n	#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n	#ifdef USE_TANGENT\n		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn = getTangentFrame( - vViewPosition, normal,\n		#if defined( USE_NORMALMAP )\n			vNormalMapUv\n		#elif defined( USE_CLEARCOAT_NORMALMAP )\n			vClearcoatNormalMapUv\n		#else\n			vUv\n		#endif\n		);\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn[0] *= faceDirection;\n		tbn[1] *= faceDirection;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	#ifdef USE_TANGENT\n		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n	#else\n		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n	#endif\n	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n		tbn2[0] *= faceDirection;\n		tbn2[1] *= faceDirection;\n	#endif\n#endif\nvec3 nonPerturbedNormal = normal;", em = "#ifdef USE_NORMALMAP_OBJECTSPACE\n	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	#ifdef FLIP_SIDED\n		normal = - normal;\n	#endif\n	#ifdef DOUBLE_SIDED\n		normal = normal * faceDirection;\n	#endif\n	normal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n	mapN.xy *= normalScale;\n	normal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif", nm = "#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif", im = "#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n	#ifdef USE_TANGENT\n		varying vec3 vTangent;\n		varying vec3 vBitangent;\n	#endif\n#endif", sm = "#ifndef FLAT_SHADED\n	vNormal = normalize( transformedNormal );\n	#ifdef USE_TANGENT\n		vTangent = normalize( transformedTangent );\n		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n	#endif\n#endif", rm = "#ifdef USE_NORMALMAP\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n	uniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( uv.st );\n		vec2 st1 = dFdy( uv.st );\n		vec3 N = surf_norm;\n		vec3 q1perp = cross( q1, N );\n		vec3 q0perp = cross( N, q0 );\n		vec3 T = q1perp * st0.x + q0perp * st1.x;\n		vec3 B = q1perp * st0.y + q0perp * st1.y;\n		float det = max( dot( T, T ), dot( B, B ) );\n		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n		return mat3( T * scale, B * scale, N );\n	}\n#endif", am = "#ifdef USE_CLEARCOAT\n	vec3 clearcoatNormal = nonPerturbedNormal;\n#endif", om = "#ifdef USE_CLEARCOAT_NORMALMAP\n	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n	clearcoatMapN.xy *= clearcoatNormalScale;\n	clearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif", cm = "#ifdef USE_CLEARCOATMAP\n	uniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform sampler2D clearcoatNormalMap;\n	uniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform sampler2D clearcoatRoughnessMap;\n#endif", lm = "#ifdef USE_IRIDESCENCEMAP\n	uniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform sampler2D iridescenceThicknessMap;\n#endif", hm = "#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );", um = "vec3 packNormalToRGB( const in vec3 normal ) {\n	return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n	return 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n	vec4 r = vec4( fract( v * PackFactors ), v );\n	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n	return dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n	return packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n	return ( near * far ) / ( ( far - near ) * depth - far );\n}", dm = "#ifdef PREMULTIPLIED_ALPHA\n	gl_FragColor.rgb *= gl_FragColor.a;\n#endif", fm = "vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n	mvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n	mvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;", pm = "#ifdef DITHERING\n	gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif", mm = "#ifdef DITHERING\n	vec3 dithering( vec3 color ) {\n		float grid_position = rand( gl_FragCoord.xy );\n		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n		return color + dither_shift_RGB;\n	}\n#endif", gm = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n	roughnessFactor *= texelRoughness.g;\n#endif", _m = "#ifdef USE_ROUGHNESSMAP\n	uniform sampler2D roughnessMap;\n#endif", xm = "#if NUM_SPOT_LIGHT_COORDS > 0\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n	}\n	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n		return unpackRGBATo2Half( texture2D( shadow, uv ) );\n	}\n	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n		float occlusion = 1.0;\n		vec2 distribution = texture2DDistribution( shadow, uv );\n		float hard_shadow = step( compare , distribution.x );\n		if (hard_shadow != 1.0 ) {\n			float distance = compare - distribution.x ;\n			float variance = max( 0.00000, distribution.y * distribution.y );\n			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n		}\n		return occlusion;\n	}\n	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n		float shadow = 1.0;\n		shadowCoord.xyz /= shadowCoord.w;\n		shadowCoord.z += shadowBias;\n		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n		if ( frustumTest ) {\n		#if defined( SHADOWMAP_TYPE_PCF )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx0 = - texelSize.x * shadowRadius;\n			float dy0 = - texelSize.y * shadowRadius;\n			float dx1 = + texelSize.x * shadowRadius;\n			float dy1 = + texelSize.y * shadowRadius;\n			float dx2 = dx0 / 2.0;\n			float dy2 = dy0 / 2.0;\n			float dx3 = dx1 / 2.0;\n			float dy3 = dy1 / 2.0;\n			shadow = (\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n			) * ( 1.0 / 17.0 );\n		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n			float dx = texelSize.x;\n			float dy = texelSize.y;\n			vec2 uv = shadowCoord.xy;\n			vec2 f = fract( uv * shadowMapSize + 0.5 );\n			uv -= f * texelSize;\n			shadow = (\n				texture2DCompare( shadowMap, uv, shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n					 f.x ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n					 f.y ) +\n				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n						  f.x ),\n					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n						  f.x ),\n					 f.y )\n			) * ( 1.0 / 9.0 );\n		#elif defined( SHADOWMAP_TYPE_VSM )\n			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#else\n			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n		#endif\n		}\n		return shadow;\n	}\n	vec2 cubeToUV( vec3 v, float texelSizeY ) {\n		vec3 absV = abs( v );\n		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n		absV *= scaleToCube;\n		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n		vec2 planar = v.xy;\n		float almostATexel = 1.5 * texelSizeY;\n		float almostOne = 1.0 - almostATexel;\n		if ( absV.z >= almostOne ) {\n			if ( v.z > 0.0 )\n				planar.x = 4.0 - v.x;\n		} else if ( absV.x >= almostOne ) {\n			float signX = sign( v.x );\n			planar.x = v.z * signX + 2.0 * signX;\n		} else if ( absV.y >= almostOne ) {\n			float signY = sign( v.y );\n			planar.x = v.x + 2.0 * signY + 2.0;\n			planar.y = v.z * signY - 2.0;\n		}\n		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n	}\n	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n		vec3 lightToPosition = shadowCoord.xyz;\n		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;\n		vec3 bd3D = normalize( lightToPosition );\n		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n			return (\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n			) * ( 1.0 / 9.0 );\n		#else\n			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n		#endif\n	}\n#endif", vm = "#if NUM_SPOT_LIGHT_COORDS > 0\n	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n		struct DirectionalLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n		struct SpotLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n		};\n		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n		struct PointLightShadow {\n			float shadowBias;\n			float shadowNormalBias;\n			float shadowRadius;\n			vec2 shadowMapSize;\n			float shadowCameraNear;\n			float shadowCameraFar;\n		};\n		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n	#endif\n#endif", ym = "#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n	vec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n		#pragma unroll_loop_start\n		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n		}\n		#pragma unroll_loop_end\n	#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n		shadowWorldPosition = worldPosition;\n		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n		#endif\n		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n	}\n	#pragma unroll_loop_end\n#endif", Mm = "float getShadowMask() {\n	float shadow = 1.0;\n	#ifdef USE_SHADOWMAP\n	#if NUM_DIR_LIGHT_SHADOWS > 0\n	DirectionalLightShadow directionalLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n		directionalLight = directionalLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_SPOT_LIGHT_SHADOWS > 0\n	SpotLightShadow spotLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n		spotLight = spotLightShadows[ i ];\n		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#if NUM_POINT_LIGHT_SHADOWS > 0\n	PointLightShadow pointLight;\n	#pragma unroll_loop_start\n	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n		pointLight = pointLightShadows[ i ];\n		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n	}\n	#pragma unroll_loop_end\n	#endif\n	#endif\n	return shadow;\n}", Sm = "#ifdef USE_SKINNING\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif", bm = "#ifdef USE_SKINNING\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n	uniform highp sampler2D boneTexture;\n	mat4 getBoneMatrix( const in float i ) {\n		int size = textureSize( boneTexture, 0 ).x;\n		int j = int( i ) * 4;\n		int x = j % size;\n		int y = j / size;\n		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n		return mat4( v1, v2, v3, v4 );\n	}\n#endif", Em = "#ifdef USE_SKINNING\n	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	transformed = ( bindMatrixInverse * skinned ).xyz;\n#endif", wm = "#ifdef USE_SKINNING\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n	#ifdef USE_TANGENT\n		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n	#endif\n#endif", Am = "float specularStrength;\n#ifdef USE_SPECULARMAP\n	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n	specularStrength = texelSpecular.r;\n#else\n	specularStrength = 1.0;\n#endif", Tm = "#ifdef USE_SPECULARMAP\n	uniform sampler2D specularMap;\n#endif", Rm = "#if defined( TONE_MAPPING )\n	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif", Cm = "#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n	return saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	return saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n	color *= toneMappingExposure;\n	color = max( vec3( 0.0 ), color - 0.004 );\n	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n	return a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n	const mat3 ACESInputMat = mat3(\n		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),\n		vec3( 0.04823, 0.01566, 0.83777 )\n	);\n	const mat3 ACESOutputMat = mat3(\n		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),\n		vec3( -0.07367, -0.00605,  1.07602 )\n	);\n	color *= toneMappingExposure / 0.6;\n	color = ACESInputMat * color;\n	color = RRTAndODTFit( color );\n	color = ACESOutputMat * color;\n	return saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n	vec3( 1.6605, - 0.1246, - 0.0182 ),\n	vec3( - 0.5876, 1.1329, - 0.1006 ),\n	vec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n	vec3( 0.6274, 0.0691, 0.0164 ),\n	vec3( 0.3293, 0.9195, 0.0880 ),\n	vec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n	vec3 x2 = x * x;\n	vec3 x4 = x2 * x2;\n	return + 15.5 * x4 * x2\n		- 40.14 * x4 * x\n		+ 31.96 * x4\n		- 6.868 * x2 * x\n		+ 0.4298 * x2\n		+ 0.1191 * x\n		- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n	const mat3 AgXInsetMatrix = mat3(\n		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n	);\n	const mat3 AgXOutsetMatrix = mat3(\n		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n	);\n	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;\n	color *= toneMappingExposure;\n	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n	color = AgXInsetMatrix * color;\n	color = max( color, 1e-10 );	color = log2( color );\n	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n	color = clamp( color, 0.0, 1.0 );\n	color = agxDefaultContrastApprox( color );\n	color = AgXOutsetMatrix * color;\n	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n	color = clamp( color, 0.0, 1.0 );\n	return color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n	float startCompression = 0.8 - 0.04;\n	float desaturation = 0.15;\n	color *= toneMappingExposure;\n	float x = min(color.r, min(color.g, color.b));\n	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n	color -= offset;\n	float peak = max(color.r, max(color.g, color.b));\n	if (peak < startCompression) return color;\n	float d = 1. - startCompression;\n	float newPeak = 1. - d * d / (peak + d - startCompression);\n	color *= newPeak / peak;\n	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);\n	return mix(color, vec3(1, 1, 1), g);\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }", Pm = "#ifdef USE_TRANSMISSION\n	material.transmission = transmission;\n	material.transmissionAlpha = 1.0;\n	material.thickness = thickness;\n	material.attenuationDistance = attenuationDistance;\n	material.attenuationColor = attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n	#endif\n	vec3 pos = vWorldPosition;\n	vec3 v = normalize( cameraPosition - pos );\n	vec3 n = inverseTransformDirection( normal, viewMatrix );\n	vec4 transmitted = getIBLVolumeRefraction(\n		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n		material.attenuationColor, material.attenuationDistance );\n	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif", Im = "#ifdef USE_TRANSMISSION\n	uniform float transmission;\n	uniform float thickness;\n	uniform float attenuationDistance;\n	uniform vec3 attenuationColor;\n	#ifdef USE_TRANSMISSIONMAP\n		uniform sampler2D transmissionMap;\n	#endif\n	#ifdef USE_THICKNESSMAP\n		uniform sampler2D thicknessMap;\n	#endif\n	uniform vec2 transmissionSamplerSize;\n	uniform sampler2D transmissionSamplerMap;\n	uniform mat4 modelMatrix;\n	uniform mat4 projectionMatrix;\n	varying vec3 vWorldPosition;\n	float w0( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n	}\n	float w1( float a ) {\n		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n	}\n	float w2( float a ){\n		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n	}\n	float w3( float a ) {\n		return ( 1.0 / 6.0 ) * ( a * a * a );\n	}\n	float g0( float a ) {\n		return w0( a ) + w1( a );\n	}\n	float g1( float a ) {\n		return w2( a ) + w3( a );\n	}\n	float h0( float a ) {\n		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n	}\n	float h1( float a ) {\n		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n	}\n	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n		uv = uv * texelSize.zw + 0.5;\n		vec2 iuv = floor( uv );\n		vec2 fuv = fract( uv );\n		float g0x = g0( fuv.x );\n		float g1x = g1( fuv.x );\n		float h0x = h0( fuv.x );\n		float h1x = h1( fuv.x );\n		float h0y = h0( fuv.y );\n		float h1y = h1( fuv.y );\n		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n	}\n	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n		vec2 fLodSizeInv = 1.0 / fLodSize;\n		vec2 cLodSizeInv = 1.0 / cLodSize;\n		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n		return mix( fSample, cSample, fract( lod ) );\n	}\n	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n		vec3 modelScale;\n		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n		return normalize( refractionVector ) * thickness * modelScale;\n	}\n	float applyIorToRoughness( const in float roughness, const in float ior ) {\n		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n	}\n	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n	}\n	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n		if ( isinf( attenuationDistance ) ) {\n			return vec3( 1.0 );\n		} else {\n			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;\n		}\n	}\n	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n		const in vec3 attenuationColor, const in float attenuationDistance ) {\n		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n		vec3 refractedRayExit = position + transmissionRay;\n		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n		vec2 refractionCoords = ndcPos.xy / ndcPos.w;\n		refractionCoords += 1.0;\n		refractionCoords /= 2.0;\n		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n		vec3 attenuatedColor = transmittance * transmittedLight.rgb;\n		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n	}\n#endif", Lm = "#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif", Um = "#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	varying vec2 vUv;\n#endif\n#ifdef USE_MAP\n	uniform mat3 mapTransform;\n	varying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n	uniform mat3 alphaMapTransform;\n	varying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n	uniform mat3 lightMapTransform;\n	varying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n	uniform mat3 aoMapTransform;\n	varying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n	uniform mat3 bumpMapTransform;\n	varying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n	uniform mat3 normalMapTransform;\n	varying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	uniform mat3 displacementMapTransform;\n	varying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n	uniform mat3 emissiveMapTransform;\n	varying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n	uniform mat3 metalnessMapTransform;\n	varying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	uniform mat3 roughnessMapTransform;\n	varying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	uniform mat3 anisotropyMapTransform;\n	varying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n	uniform mat3 clearcoatMapTransform;\n	varying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	uniform mat3 clearcoatNormalMapTransform;\n	varying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	uniform mat3 clearcoatRoughnessMapTransform;\n	varying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	uniform mat3 sheenColorMapTransform;\n	varying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	uniform mat3 sheenRoughnessMapTransform;\n	varying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	uniform mat3 iridescenceMapTransform;\n	varying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	uniform mat3 iridescenceThicknessMapTransform;\n	varying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n	uniform mat3 specularMapTransform;\n	varying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	uniform mat3 specularColorMapTransform;\n	varying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	uniform mat3 specularIntensityMapTransform;\n	varying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	uniform mat3 transmissionMapTransform;\n	varying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n	uniform mat3 thicknessMapTransform;\n	varying vec2 vThicknessMapUv;\n#endif", Dm = "#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n	vUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif", Nm = "#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n	vec4 worldPosition = vec4( transformed, 1.0 );\n	#ifdef USE_BATCHING\n		worldPosition = batchingMatrix * worldPosition;\n	#endif\n	#ifdef USE_INSTANCING\n		worldPosition = instanceMatrix * worldPosition;\n	#endif\n	worldPosition = modelMatrix * worldPosition;\n#endif", Om = "varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	gl_Position = vec4( position.xy, 1.0, 1.0 );\n}", Fm = "uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n	vec4 texColor = texture2D( t2D, vUv );\n	#ifdef DECODE_VIDEO_TEXTURE\n		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}", Bm = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}", zm = "#ifdef ENVMAP_TYPE_CUBE\n	uniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n	uniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n	#elif defined( ENVMAP_TYPE_CUBE_UV )\n		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n	#else\n		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n	#endif\n	texColor.rgb *= backgroundIntensity;\n	gl_FragColor = texColor;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}", km = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n	gl_Position.z = gl_Position.w;\n}", Vm = "uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n	gl_FragColor = texColor;\n	gl_FragColor.a *= opacity;\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}", Hm = "#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vHighPrecisionZW = gl_Position.zw;\n}", Gm = "#if DEPTH_PACKING == 3200\n	uniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#if DEPTH_PACKING == 3200\n		diffuseColor.a = opacity;\n	#endif\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <logdepthbuf_fragment>\n	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n	#if DEPTH_PACKING == 3200\n		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n	#elif DEPTH_PACKING == 3201\n		gl_FragColor = packDepthToRGBA( fragCoordZ );\n	#endif\n}", Wm = "#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <skinbase_vertex>\n	#include <morphinstance_vertex>\n	#ifdef USE_DISPLACEMENTMAP\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <worldpos_vertex>\n	#include <clipping_planes_vertex>\n	vWorldPosition = worldPosition.xyz;\n}", Xm = "#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n	vec4 diffuseColor = vec4( 1.0 );\n	#include <clipping_planes_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	float dist = length( vWorldPosition - referencePosition );\n	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n	dist = saturate( dist );\n	gl_FragColor = packDepthToRGBA( dist );\n}", qm = "varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vWorldDirection = transformDirection( position, modelMatrix );\n	#include <begin_vertex>\n	#include <project_vertex>\n}", Ym = "uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n	vec3 direction = normalize( vWorldDirection );\n	vec2 sampleUV = equirectUv( direction );\n	gl_FragColor = texture2D( tEquirect, sampleUV );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n}", Zm = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	vLineDistance = scale * lineDistance;\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}", Jm = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	if ( mod( vLineDistance, totalSize ) > dashSize ) {\n		discard;\n	}\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}", $m = "#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n		#include <beginnormal_vertex>\n		#include <morphnormal_vertex>\n		#include <skinbase_vertex>\n		#include <skinnormal_vertex>\n		#include <defaultnormal_vertex>\n	#endif\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <fog_vertex>\n}", Km = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n	varying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	#ifdef USE_LIGHTMAP\n		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n	#else\n		reflectedLight.indirectDiffuse += vec3( 1.0 );\n	#endif\n	#include <aomap_fragment>\n	reflectedLight.indirectDiffuse *= diffuseColor.rgb;\n	vec3 outgoingLight = reflectedLight.indirectDiffuse;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}", Qm = "#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}", jm = "#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_lambert_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}", tg = "#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n	vViewPosition = - mvPosition.xyz;\n}", eg = "#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	vec3 viewDir = normalize( vViewPosition );\n	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n	vec3 y = cross( viewDir, x );\n	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n	#ifdef USE_MATCAP\n		vec4 matcapColor = texture2D( matcap, uv );\n	#else\n		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n	#endif\n	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}", ng = "#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	vViewPosition = - mvPosition.xyz;\n#endif\n}", ig = "#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n	varying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n	#include <clipping_planes_fragment>\n	#include <logdepthbuf_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n	#ifdef OPAQUE\n		gl_FragColor.a = 1.0;\n	#endif\n}", sg = "#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <envmap_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}", rg = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <specularmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_phong_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n	#include <envmap_fragment>\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}", ag = "#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n	varying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n	vWorldPosition = worldPosition.xyz;\n#endif\n}", og = "#define STANDARD\n#ifdef PHYSICAL\n	#define IOR\n	#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n	uniform float ior;\n#endif\n#ifdef USE_SPECULAR\n	uniform float specularIntensity;\n	uniform vec3 specularColor;\n	#ifdef USE_SPECULAR_COLORMAP\n		uniform sampler2D specularColorMap;\n	#endif\n	#ifdef USE_SPECULAR_INTENSITYMAP\n		uniform sampler2D specularIntensityMap;\n	#endif\n#endif\n#ifdef USE_CLEARCOAT\n	uniform float clearcoat;\n	uniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n	uniform float iridescence;\n	uniform float iridescenceIOR;\n	uniform float iridescenceThicknessMinimum;\n	uniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n	uniform vec3 sheenColor;\n	uniform float sheenRoughness;\n	#ifdef USE_SHEEN_COLORMAP\n		uniform sampler2D sheenColorMap;\n	#endif\n	#ifdef USE_SHEEN_ROUGHNESSMAP\n		uniform sampler2D sheenRoughnessMap;\n	#endif\n#endif\n#ifdef USE_ANISOTROPY\n	uniform vec2 anisotropyVector;\n	#ifdef USE_ANISOTROPYMAP\n		uniform sampler2D anisotropyMap;\n	#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <roughnessmap_fragment>\n	#include <metalnessmap_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <clearcoat_normal_fragment_begin>\n	#include <clearcoat_normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_physical_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n	#include <transmission_fragment>\n	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n	#ifdef USE_SHEEN\n		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n	#endif\n	#ifdef USE_CLEARCOAT\n		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n	#endif\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}", cg = "#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <normal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <displacementmap_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	vViewPosition = - mvPosition.xyz;\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}", lg = "#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n	vec3 totalEmissiveRadiance = emissive;\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <color_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	#include <normal_fragment_begin>\n	#include <normal_fragment_maps>\n	#include <emissivemap_fragment>\n	#include <lights_toon_fragment>\n	#include <lights_fragment_begin>\n	#include <lights_fragment_maps>\n	#include <lights_fragment_end>\n	#include <aomap_fragment>\n	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n	#include <dithering_fragment>\n}", hg = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n	varying vec2 vUv;\n	uniform mat3 uvTransform;\n#endif\nvoid main() {\n	#ifdef USE_POINTS_UV\n		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n	#endif\n	#include <color_vertex>\n	#include <morphinstance_vertex>\n	#include <morphcolor_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <project_vertex>\n	gl_PointSize = size;\n	#ifdef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n	#endif\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <worldpos_vertex>\n	#include <fog_vertex>\n}", ug = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_particle_fragment>\n	#include <color_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n	#include <premultiplied_alpha_fragment>\n}", dg = "#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n	#include <batching_vertex>\n	#include <beginnormal_vertex>\n	#include <morphinstance_vertex>\n	#include <morphnormal_vertex>\n	#include <skinbase_vertex>\n	#include <skinnormal_vertex>\n	#include <defaultnormal_vertex>\n	#include <begin_vertex>\n	#include <morphtarget_vertex>\n	#include <skinning_vertex>\n	#include <project_vertex>\n	#include <logdepthbuf_vertex>\n	#include <worldpos_vertex>\n	#include <shadowmap_vertex>\n	#include <fog_vertex>\n}", fg = "uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n	#include <logdepthbuf_fragment>\n	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}", pg = "uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n	#include <uv_vertex>\n	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n	vec2 scale;\n	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n	#ifndef USE_SIZEATTENUATION\n		bool isPerspective = isPerspectiveMatrix( projectionMatrix );\n		if ( isPerspective ) scale *= - mvPosition.z;\n	#endif\n	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n	vec2 rotatedPosition;\n	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n	mvPosition.xy += rotatedPosition;\n	gl_Position = projectionMatrix * mvPosition;\n	#include <logdepthbuf_vertex>\n	#include <clipping_planes_vertex>\n	#include <fog_vertex>\n}", mg = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n	vec4 diffuseColor = vec4( diffuse, opacity );\n	#include <clipping_planes_fragment>\n	vec3 outgoingLight = vec3( 0.0 );\n	#include <logdepthbuf_fragment>\n	#include <map_fragment>\n	#include <alphamap_fragment>\n	#include <alphatest_fragment>\n	#include <alphahash_fragment>\n	outgoingLight = diffuseColor.rgb;\n	#include <opaque_fragment>\n	#include <tonemapping_fragment>\n	#include <colorspace_fragment>\n	#include <fog_fragment>\n}", Bt = {
    alphahash_fragment: Of,
    alphahash_pars_fragment: Ff,
    alphamap_fragment: Bf,
    alphamap_pars_fragment: zf,
    alphatest_fragment: kf,
    alphatest_pars_fragment: Vf,
    aomap_fragment: Hf,
    aomap_pars_fragment: Gf,
    batching_pars_vertex: Wf,
    batching_vertex: Xf,
    begin_vertex: qf,
    beginnormal_vertex: Yf,
    bsdfs: Zf,
    iridescence_fragment: Jf,
    bumpmap_pars_fragment: $f,
    clipping_planes_fragment: Kf,
    clipping_planes_pars_fragment: Qf,
    clipping_planes_pars_vertex: jf,
    clipping_planes_vertex: tp,
    color_fragment: ep,
    color_pars_fragment: np,
    color_pars_vertex: ip,
    color_vertex: sp,
    common: rp,
    cube_uv_reflection_fragment: ap,
    defaultnormal_vertex: op,
    displacementmap_pars_vertex: cp,
    displacementmap_vertex: lp,
    emissivemap_fragment: hp,
    emissivemap_pars_fragment: up,
    colorspace_fragment: dp,
    colorspace_pars_fragment: fp,
    envmap_fragment: pp,
    envmap_common_pars_fragment: mp,
    envmap_pars_fragment: gp,
    envmap_pars_vertex: _p,
    envmap_physical_pars_fragment: Cp,
    envmap_vertex: xp,
    fog_vertex: vp,
    fog_pars_vertex: yp,
    fog_fragment: Mp,
    fog_pars_fragment: Sp,
    gradientmap_pars_fragment: bp,
    lightmap_fragment: Ep,
    lightmap_pars_fragment: wp,
    lights_lambert_fragment: Ap,
    lights_lambert_pars_fragment: Tp,
    lights_pars_begin: Rp,
    lights_toon_fragment: Pp,
    lights_toon_pars_fragment: Ip,
    lights_phong_fragment: Lp,
    lights_phong_pars_fragment: Up,
    lights_physical_fragment: Dp,
    lights_physical_pars_fragment: Np,
    lights_fragment_begin: Op,
    lights_fragment_maps: Fp,
    lights_fragment_end: Bp,
    logdepthbuf_fragment: zp,
    logdepthbuf_pars_fragment: kp,
    logdepthbuf_pars_vertex: Vp,
    logdepthbuf_vertex: Hp,
    map_fragment: Gp,
    map_pars_fragment: Wp,
    map_particle_fragment: Xp,
    map_particle_pars_fragment: qp,
    metalnessmap_fragment: Yp,
    metalnessmap_pars_fragment: Zp,
    morphinstance_vertex: Jp,
    morphcolor_vertex: $p,
    morphnormal_vertex: Kp,
    morphtarget_pars_vertex: Qp,
    morphtarget_vertex: jp,
    normal_fragment_begin: tm,
    normal_fragment_maps: em,
    normal_pars_fragment: nm,
    normal_pars_vertex: im,
    normal_vertex: sm,
    normalmap_pars_fragment: rm,
    clearcoat_normal_fragment_begin: am,
    clearcoat_normal_fragment_maps: om,
    clearcoat_pars_fragment: cm,
    iridescence_pars_fragment: lm,
    opaque_fragment: hm,
    packing: um,
    premultiplied_alpha_fragment: dm,
    project_vertex: fm,
    dithering_fragment: pm,
    dithering_pars_fragment: mm,
    roughnessmap_fragment: gm,
    roughnessmap_pars_fragment: _m,
    shadowmap_pars_fragment: xm,
    shadowmap_pars_vertex: vm,
    shadowmap_vertex: ym,
    shadowmask_pars_fragment: Mm,
    skinbase_vertex: Sm,
    skinning_pars_vertex: bm,
    skinning_vertex: Em,
    skinnormal_vertex: wm,
    specularmap_fragment: Am,
    specularmap_pars_fragment: Tm,
    tonemapping_fragment: Rm,
    tonemapping_pars_fragment: Cm,
    transmission_fragment: Pm,
    transmission_pars_fragment: Im,
    uv_pars_fragment: Lm,
    uv_pars_vertex: Um,
    uv_vertex: Dm,
    worldpos_vertex: Nm,
    background_vert: Om,
    background_frag: Fm,
    backgroundCube_vert: Bm,
    backgroundCube_frag: zm,
    cube_vert: km,
    cube_frag: Vm,
    depth_vert: Hm,
    depth_frag: Gm,
    distanceRGBA_vert: Wm,
    distanceRGBA_frag: Xm,
    equirect_vert: qm,
    equirect_frag: Ym,
    linedashed_vert: Zm,
    linedashed_frag: Jm,
    meshbasic_vert: $m,
    meshbasic_frag: Km,
    meshlambert_vert: Qm,
    meshlambert_frag: jm,
    meshmatcap_vert: tg,
    meshmatcap_frag: eg,
    meshnormal_vert: ng,
    meshnormal_frag: ig,
    meshphong_vert: sg,
    meshphong_frag: rg,
    meshphysical_vert: ag,
    meshphysical_frag: og,
    meshtoon_vert: cg,
    meshtoon_frag: lg,
    points_vert: hg,
    points_frag: ug,
    shadow_vert: dg,
    shadow_frag: fg,
    sprite_vert: pg,
    sprite_frag: mg
}, lt = {
    common: {
        diffuse: {
            value: new Ht(16777215)
        },
        opacity: {
            value: 1
        },
        map: {
            value: null
        },
        mapTransform: {
            value: new zt
        },
        alphaMap: {
            value: null
        },
        alphaMapTransform: {
            value: new zt
        },
        alphaTest: {
            value: 0
        }
    },
    specularmap: {
        specularMap: {
            value: null
        },
        specularMapTransform: {
            value: new zt
        }
    },
    envmap: {
        envMap: {
            value: null
        },
        envMapRotation: {
            value: new zt
        },
        flipEnvMap: {
            value: -1
        },
        reflectivity: {
            value: 1
        },
        ior: {
            value: 1.5
        },
        refractionRatio: {
            value: .98
        }
    },
    aomap: {
        aoMap: {
            value: null
        },
        aoMapIntensity: {
            value: 1
        },
        aoMapTransform: {
            value: new zt
        }
    },
    lightmap: {
        lightMap: {
            value: null
        },
        lightMapIntensity: {
            value: 1
        },
        lightMapTransform: {
            value: new zt
        }
    },
    bumpmap: {
        bumpMap: {
            value: null
        },
        bumpMapTransform: {
            value: new zt
        },
        bumpScale: {
            value: 1
        }
    },
    normalmap: {
        normalMap: {
            value: null
        },
        normalMapTransform: {
            value: new zt
        },
        normalScale: {
            value: new ht(1, 1)
        }
    },
    displacementmap: {
        displacementMap: {
            value: null
        },
        displacementMapTransform: {
            value: new zt
        },
        displacementScale: {
            value: 1
        },
        displacementBias: {
            value: 0
        }
    },
    emissivemap: {
        emissiveMap: {
            value: null
        },
        emissiveMapTransform: {
            value: new zt
        }
    },
    metalnessmap: {
        metalnessMap: {
            value: null
        },
        metalnessMapTransform: {
            value: new zt
        }
    },
    roughnessmap: {
        roughnessMap: {
            value: null
        },
        roughnessMapTransform: {
            value: new zt
        }
    },
    gradientmap: {
        gradientMap: {
            value: null
        }
    },
    fog: {
        fogDensity: {
            value: 25e-5
        },
        fogNear: {
            value: 1
        },
        fogFar: {
            value: 2e3
        },
        fogColor: {
            value: new Ht(16777215)
        }
    },
    lights: {
        ambientLightColor: {
            value: []
        },
        lightProbe: {
            value: []
        },
        directionalLights: {
            value: [],
            properties: {
                direction: {},
                color: {}
            }
        },
        directionalLightShadows: {
            value: [],
            properties: {
                shadowBias: {},
                shadowNormalBias: {},
                shadowRadius: {},
                shadowMapSize: {}
            }
        },
        directionalShadowMap: {
            value: []
        },
        directionalShadowMatrix: {
            value: []
        },
        spotLights: {
            value: [],
            properties: {
                color: {},
                position: {},
                direction: {},
                distance: {},
                coneCos: {},
                penumbraCos: {},
                decay: {}
            }
        },
        spotLightShadows: {
            value: [],
            properties: {
                shadowBias: {},
                shadowNormalBias: {},
                shadowRadius: {},
                shadowMapSize: {}
            }
        },
        spotLightMap: {
            value: []
        },
        spotShadowMap: {
            value: []
        },
        spotLightMatrix: {
            value: []
        },
        pointLights: {
            value: [],
            properties: {
                color: {},
                position: {},
                decay: {},
                distance: {}
            }
        },
        pointLightShadows: {
            value: [],
            properties: {
                shadowBias: {},
                shadowNormalBias: {},
                shadowRadius: {},
                shadowMapSize: {},
                shadowCameraNear: {},
                shadowCameraFar: {}
            }
        },
        pointShadowMap: {
            value: []
        },
        pointShadowMatrix: {
            value: []
        },
        hemisphereLights: {
            value: [],
            properties: {
                direction: {},
                skyColor: {},
                groundColor: {}
            }
        },
        rectAreaLights: {
            value: [],
            properties: {
                color: {},
                position: {},
                width: {},
                height: {}
            }
        },
        ltc_1: {
            value: null
        },
        ltc_2: {
            value: null
        }
    },
    points: {
        diffuse: {
            value: new Ht(16777215)
        },
        opacity: {
            value: 1
        },
        size: {
            value: 1
        },
        scale: {
            value: 1
        },
        map: {
            value: null
        },
        alphaMap: {
            value: null
        },
        alphaMapTransform: {
            value: new zt
        },
        alphaTest: {
            value: 0
        },
        uvTransform: {
            value: new zt
        }
    },
    sprite: {
        diffuse: {
            value: new Ht(16777215)
        },
        opacity: {
            value: 1
        },
        center: {
            value: new ht(.5, .5)
        },
        rotation: {
            value: 0
        },
        map: {
            value: null
        },
        mapTransform: {
            value: new zt
        },
        alphaMap: {
            value: null
        },
        alphaMapTransform: {
            value: new zt
        },
        alphaTest: {
            value: 0
        }
    }
}, qe = {
    basic: {
        uniforms: Me([
            lt.common,
            lt.specularmap,
            lt.envmap,
            lt.aomap,
            lt.lightmap,
            lt.fog
        ]),
        vertexShader: Bt.meshbasic_vert,
        fragmentShader: Bt.meshbasic_frag
    },
    lambert: {
        uniforms: Me([
            lt.common,
            lt.specularmap,
            lt.envmap,
            lt.aomap,
            lt.lightmap,
            lt.emissivemap,
            lt.bumpmap,
            lt.normalmap,
            lt.displacementmap,
            lt.fog,
            lt.lights,
            {
                emissive: {
                    value: new Ht(0)
                }
            }
        ]),
        vertexShader: Bt.meshlambert_vert,
        fragmentShader: Bt.meshlambert_frag
    },
    phong: {
        uniforms: Me([
            lt.common,
            lt.specularmap,
            lt.envmap,
            lt.aomap,
            lt.lightmap,
            lt.emissivemap,
            lt.bumpmap,
            lt.normalmap,
            lt.displacementmap,
            lt.fog,
            lt.lights,
            {
                emissive: {
                    value: new Ht(0)
                },
                specular: {
                    value: new Ht(1118481)
                },
                shininess: {
                    value: 30
                }
            }
        ]),
        vertexShader: Bt.meshphong_vert,
        fragmentShader: Bt.meshphong_frag
    },
    standard: {
        uniforms: Me([
            lt.common,
            lt.envmap,
            lt.aomap,
            lt.lightmap,
            lt.emissivemap,
            lt.bumpmap,
            lt.normalmap,
            lt.displacementmap,
            lt.roughnessmap,
            lt.metalnessmap,
            lt.fog,
            lt.lights,
            {
                emissive: {
                    value: new Ht(0)
                },
                roughness: {
                    value: 1
                },
                metalness: {
                    value: 0
                },
                envMapIntensity: {
                    value: 1
                }
            }
        ]),
        vertexShader: Bt.meshphysical_vert,
        fragmentShader: Bt.meshphysical_frag
    },
    toon: {
        uniforms: Me([
            lt.common,
            lt.aomap,
            lt.lightmap,
            lt.emissivemap,
            lt.bumpmap,
            lt.normalmap,
            lt.displacementmap,
            lt.gradientmap,
            lt.fog,
            lt.lights,
            {
                emissive: {
                    value: new Ht(0)
                }
            }
        ]),
        vertexShader: Bt.meshtoon_vert,
        fragmentShader: Bt.meshtoon_frag
    },
    matcap: {
        uniforms: Me([
            lt.common,
            lt.bumpmap,
            lt.normalmap,
            lt.displacementmap,
            lt.fog,
            {
                matcap: {
                    value: null
                }
            }
        ]),
        vertexShader: Bt.meshmatcap_vert,
        fragmentShader: Bt.meshmatcap_frag
    },
    points: {
        uniforms: Me([
            lt.points,
            lt.fog
        ]),
        vertexShader: Bt.points_vert,
        fragmentShader: Bt.points_frag
    },
    dashed: {
        uniforms: Me([
            lt.common,
            lt.fog,
            {
                scale: {
                    value: 1
                },
                dashSize: {
                    value: 1
                },
                totalSize: {
                    value: 2
                }
            }
        ]),
        vertexShader: Bt.linedashed_vert,
        fragmentShader: Bt.linedashed_frag
    },
    depth: {
        uniforms: Me([
            lt.common,
            lt.displacementmap
        ]),
        vertexShader: Bt.depth_vert,
        fragmentShader: Bt.depth_frag
    },
    normal: {
        uniforms: Me([
            lt.common,
            lt.bumpmap,
            lt.normalmap,
            lt.displacementmap,
            {
                opacity: {
                    value: 1
                }
            }
        ]),
        vertexShader: Bt.meshnormal_vert,
        fragmentShader: Bt.meshnormal_frag
    },
    sprite: {
        uniforms: Me([
            lt.sprite,
            lt.fog
        ]),
        vertexShader: Bt.sprite_vert,
        fragmentShader: Bt.sprite_frag
    },
    background: {
        uniforms: {
            uvTransform: {
                value: new zt
            },
            t2D: {
                value: null
            },
            backgroundIntensity: {
                value: 1
            }
        },
        vertexShader: Bt.background_vert,
        fragmentShader: Bt.background_frag
    },
    backgroundCube: {
        uniforms: {
            envMap: {
                value: null
            },
            flipEnvMap: {
                value: -1
            },
            backgroundBlurriness: {
                value: 0
            },
            backgroundIntensity: {
                value: 1
            },
            backgroundRotation: {
                value: new zt
            }
        },
        vertexShader: Bt.backgroundCube_vert,
        fragmentShader: Bt.backgroundCube_frag
    },
    cube: {
        uniforms: {
            tCube: {
                value: null
            },
            tFlip: {
                value: -1
            },
            opacity: {
                value: 1
            }
        },
        vertexShader: Bt.cube_vert,
        fragmentShader: Bt.cube_frag
    },
    equirect: {
        uniforms: {
            tEquirect: {
                value: null
            }
        },
        vertexShader: Bt.equirect_vert,
        fragmentShader: Bt.equirect_frag
    },
    distanceRGBA: {
        uniforms: Me([
            lt.common,
            lt.displacementmap,
            {
                referencePosition: {
                    value: new P
                },
                nearDistance: {
                    value: 1
                },
                farDistance: {
                    value: 1e3
                }
            }
        ]),
        vertexShader: Bt.distanceRGBA_vert,
        fragmentShader: Bt.distanceRGBA_frag
    },
    shadow: {
        uniforms: Me([
            lt.lights,
            lt.fog,
            {
                color: {
                    value: new Ht(0)
                },
                opacity: {
                    value: 1
                }
            }
        ]),
        vertexShader: Bt.shadow_vert,
        fragmentShader: Bt.shadow_frag
    }
};
qe.physical = {
    uniforms: Me([
        qe.standard.uniforms,
        {
            clearcoat: {
                value: 0
            },
            clearcoatMap: {
                value: null
            },
            clearcoatMapTransform: {
                value: new zt
            },
            clearcoatNormalMap: {
                value: null
            },
            clearcoatNormalMapTransform: {
                value: new zt
            },
            clearcoatNormalScale: {
                value: new ht(1, 1)
            },
            clearcoatRoughness: {
                value: 0
            },
            clearcoatRoughnessMap: {
                value: null
            },
            clearcoatRoughnessMapTransform: {
                value: new zt
            },
            iridescence: {
                value: 0
            },
            iridescenceMap: {
                value: null
            },
            iridescenceMapTransform: {
                value: new zt
            },
            iridescenceIOR: {
                value: 1.3
            },
            iridescenceThicknessMinimum: {
                value: 100
            },
            iridescenceThicknessMaximum: {
                value: 400
            },
            iridescenceThicknessMap: {
                value: null
            },
            iridescenceThicknessMapTransform: {
                value: new zt
            },
            sheen: {
                value: 0
            },
            sheenColor: {
                value: new Ht(0)
            },
            sheenColorMap: {
                value: null
            },
            sheenColorMapTransform: {
                value: new zt
            },
            sheenRoughness: {
                value: 1
            },
            sheenRoughnessMap: {
                value: null
            },
            sheenRoughnessMapTransform: {
                value: new zt
            },
            transmission: {
                value: 0
            },
            transmissionMap: {
                value: null
            },
            transmissionMapTransform: {
                value: new zt
            },
            transmissionSamplerSize: {
                value: new ht
            },
            transmissionSamplerMap: {
                value: null
            },
            thickness: {
                value: 0
            },
            thicknessMap: {
                value: null
            },
            thicknessMapTransform: {
                value: new zt
            },
            attenuationDistance: {
                value: 0
            },
            attenuationColor: {
                value: new Ht(0)
            },
            specularColor: {
                value: new Ht(1, 1, 1)
            },
            specularColorMap: {
                value: null
            },
            specularColorMapTransform: {
                value: new zt
            },
            specularIntensity: {
                value: 1
            },
            specularIntensityMap: {
                value: null
            },
            specularIntensityMapTransform: {
                value: new zt
            },
            anisotropyVector: {
                value: new ht
            },
            anisotropyMap: {
                value: null
            },
            anisotropyMapTransform: {
                value: new zt
            }
        }
    ]),
    vertexShader: Bt.meshphysical_vert,
    fragmentShader: Bt.meshphysical_frag
};
var Ms = {
    r: 0,
    b: 0,
    g: 0
}, In = new Ve, gg = new ee;
function _g(e1, t, n, i, r, a, s) {
    let o, l, h = new Ht(0), c = !0 === a ? 0 : 1, d = null, p = 0, f = null;
    function m(a, u) {
        let m = !1, _ = !0 === u.isScene ? u.background : null;
        _ && _.isTexture && (_ = (u.backgroundBlurriness > 0 ? n : t).get(_)), null === _ ? g(h, c) : _ && _.isColor && (g(_, 1), m = !0);
        let v = e1.xr.getEnvironmentBlendMode();
        "additive" === v ? i.buffers.color.setClear(0, 0, 0, 1, s) : "alpha-blend" === v && i.buffers.color.setClear(0, 0, 0, 0, s), (e1.autoClear || m) && e1.clear(e1.autoClearColor, e1.autoClearDepth, e1.autoClearStencil), _ && (_.isCubeTexture || _.mapping === vr) ? (void 0 === l && (l = new ke(new Gi(1, 1, 1), new He({
            name: "BackgroundCubeMaterial",
            uniforms: bi(qe.backgroundCube.uniforms),
            vertexShader: qe.backgroundCube.vertexShader,
            fragmentShader: qe.backgroundCube.fragmentShader,
            side: Te,
            depthTest: !1,
            depthWrite: !1,
            fog: !1
        })), l.geometry.deleteAttribute("normal"), l.geometry.deleteAttribute("uv"), l.onBeforeRender = function(e1, t, n) {
            this.matrixWorld.copyPosition(n.matrixWorld);
        }, Object.defineProperty(l.material, "envMap", {
            get: function() {
                return this.uniforms.envMap.value;
            }
        }), r.update(l)), In.copy(u.backgroundRotation), In.x *= -1, In.y *= -1, In.z *= -1, _.isCubeTexture && !1 === _.isRenderTargetTexture && (In.y *= -1, In.z *= -1), l.material.uniforms.envMap.value = _, l.material.uniforms.flipEnvMap.value = _.isCubeTexture && !1 === _.isRenderTargetTexture ? -1 : 1, l.material.uniforms.backgroundBlurriness.value = u.backgroundBlurriness, l.material.uniforms.backgroundIntensity.value = u.backgroundIntensity, l.material.uniforms.backgroundRotation.value.setFromMatrix4(gg.makeRotationFromEuler(In)), l.material.toneMapped = Yt.getTransfer(_.colorSpace) !== $t, (d !== _ || p !== _.version || f !== e1.toneMapping) && (l.material.needsUpdate = !0, d = _, p = _.version, f = e1.toneMapping), l.layers.enableAll(), a.unshift(l, l.geometry, l.material, 0, 0, null)) : _ && _.isTexture && (void 0 === o && (o = new ke(new Zs(2, 2), new He({
            name: "BackgroundMaterial",
            uniforms: bi(qe.background.uniforms),
            vertexShader: qe.background.vertexShader,
            fragmentShader: qe.background.fragmentShader,
            side: yn,
            depthTest: !1,
            depthWrite: !1,
            fog: !1
        })), o.geometry.deleteAttribute("normal"), Object.defineProperty(o.material, "map", {
            get: function() {
                return this.uniforms.t2D.value;
            }
        }), r.update(o)), o.material.uniforms.t2D.value = _, o.material.uniforms.backgroundIntensity.value = u.backgroundIntensity, o.material.toneMapped = Yt.getTransfer(_.colorSpace) !== $t, !0 === _.matrixAutoUpdate && _.updateMatrix(), o.material.uniforms.uvTransform.value.copy(_.matrix), (d !== _ || p !== _.version || f !== e1.toneMapping) && (o.material.needsUpdate = !0, d = _, p = _.version, f = e1.toneMapping), o.layers.enableAll(), a.unshift(o, o.geometry, o.material, 0, 0, null));
    }
    function g(t, n) {
        t.getRGB(Ms, Bu(e1)), i.buffers.color.setClear(Ms.r, Ms.g, Ms.b, n, s);
    }
    return (0, _chunkZRT45YCMJs.a)(m, "render"), (0, _chunkZRT45YCMJs.a)(g, "setClear"), {
        getClearColor: function() {
            return h;
        },
        setClearColor: function(e1, t = 1) {
            h.set(e1), c = t, g(h, c);
        },
        getClearAlpha: function() {
            return c;
        },
        setClearAlpha: function(e1) {
            c = e1, g(h, c);
        },
        render: m
    };
}
function xg(e1, t, n, i) {
    let r = e1.getParameter(e1.MAX_VERTEX_ATTRIBS), a = i.isWebGL2 ? null : t.get("OES_vertex_array_object"), s = i.isWebGL2 || null !== a, o = {}, l = _(null), h = l, c = !1;
    function d(t, i, r, a, o) {
        let l = !1;
        if (s) {
            let e1 = g(a, r, i);
            h !== e1 && (h = e1, f(h.object)), l = v(t, a, r, o), l && x(t, a, r, o);
        } else {
            let e1 = !0 === i.wireframe;
            (h.geometry !== a.id || h.program !== r.id || h.wireframe !== e1) && (h.geometry = a.id, h.program = r.id, h.wireframe = e1, l = !0);
        }
        null !== o && n.update(o, e1.ELEMENT_ARRAY_BUFFER), (l || c) && (c = !1, b(t, i, r, a), null !== o && e1.bindBuffer(e1.ELEMENT_ARRAY_BUFFER, n.get(o).buffer));
    }
    function p() {
        return i.isWebGL2 ? e1.createVertexArray() : a.createVertexArrayOES();
    }
    function f(t) {
        return i.isWebGL2 ? e1.bindVertexArray(t) : a.bindVertexArrayOES(t);
    }
    function m(t) {
        return i.isWebGL2 ? e1.deleteVertexArray(t) : a.deleteVertexArrayOES(t);
    }
    function g(e1, t, n) {
        let i = !0 === n.wireframe, r = o[e1.id];
        void 0 === r && (r = {}, o[e1.id] = r);
        let a = r[t.id];
        void 0 === a && (a = {}, r[t.id] = a);
        let s = a[i];
        return void 0 === s && (s = _(p()), a[i] = s), s;
    }
    function _(e1) {
        let t = [], n = [], i = [];
        for(let e1 = 0; e1 < r; e1++)t[e1] = 0, n[e1] = 0, i[e1] = 0;
        return {
            geometry: null,
            program: null,
            wireframe: !1,
            newAttributes: t,
            enabledAttributes: n,
            attributeDivisors: i,
            object: e1,
            attributes: {},
            index: null
        };
    }
    function v(e1, t, n, i) {
        let r = h.attributes, a = t.attributes, s = 0, o = n.getAttributes();
        for(let t in o)if (o[t].location >= 0) {
            let n = r[t], i = a[t];
            if (void 0 === i && ("instanceMatrix" === t && e1.instanceMatrix && (i = e1.instanceMatrix), "instanceColor" === t && e1.instanceColor && (i = e1.instanceColor)), void 0 === n || n.attribute !== i || i && n.data !== i.data) return !0;
            s++;
        }
        return h.attributesNum !== s || h.index !== i;
    }
    function x(e1, t, n, i) {
        let r = {}, a = t.attributes, s = 0, o = n.getAttributes();
        for(let t in o)if (o[t].location >= 0) {
            let n = a[t];
            void 0 === n && ("instanceMatrix" === t && e1.instanceMatrix && (n = e1.instanceMatrix), "instanceColor" === t && e1.instanceColor && (n = e1.instanceColor));
            let i = {};
            i.attribute = n, n && n.data && (i.data = n.data), r[t] = i, s++;
        }
        h.attributes = r, h.attributesNum = s, h.index = i;
    }
    function y() {
        let e1 = h.newAttributes;
        for(let t = 0, n = e1.length; t < n; t++)e1[t] = 0;
    }
    function M(e1) {
        S(e1, 0);
    }
    function S(n, r) {
        let a = h.newAttributes, s = h.enabledAttributes, o = h.attributeDivisors;
        a[n] = 1, 0 === s[n] && (e1.enableVertexAttribArray(n), s[n] = 1), o[n] !== r && ((i.isWebGL2 ? e1 : t.get("ANGLE_instanced_arrays"))[i.isWebGL2 ? "vertexAttribDivisor" : "vertexAttribDivisorANGLE"](n, r), o[n] = r);
    }
    function E() {
        let t = h.newAttributes, n = h.enabledAttributes;
        for(let i = 0, r = n.length; i < r; i++)n[i] !== t[i] && (e1.disableVertexAttribArray(i), n[i] = 0);
    }
    function T(t, n, i, r, a, s, o) {
        !0 === o ? e1.vertexAttribIPointer(t, n, i, a, s) : e1.vertexAttribPointer(t, n, i, r, a, s);
    }
    function b(r, a, s, o) {
        if (!1 === i.isWebGL2 && (r.isInstancedMesh || o.isInstancedBufferGeometry) && null === t.get("ANGLE_instanced_arrays")) return;
        y();
        let l = o.attributes, u = s.getAttributes(), h = a.defaultAttributeValues;
        for(let t in u){
            let a = u[t];
            if (a.location >= 0) {
                let s = l[t];
                if (void 0 === s && ("instanceMatrix" === t && r.instanceMatrix && (s = r.instanceMatrix), "instanceColor" === t && r.instanceColor && (s = r.instanceColor)), void 0 !== s) {
                    let t = s.normalized, l = s.itemSize, u = n.get(s);
                    if (void 0 === u) continue;
                    let h = u.buffer, c = u.type, d = u.bytesPerElement, p = !0 === i.isWebGL2 && (c === e1.INT || c === e1.UNSIGNED_INT || s.gpuType === Ru);
                    if (s.isInterleavedBufferAttribute) {
                        let n = s.data, i = n.stride, u = s.offset;
                        if (n.isInstancedInterleavedBuffer) {
                            for(let e1 = 0; e1 < a.locationSize; e1++)S(a.location + e1, n.meshPerAttribute);
                            !0 !== r.isInstancedMesh && void 0 === o._maxInstanceCount && (o._maxInstanceCount = n.meshPerAttribute * n.count);
                        } else for(let e1 = 0; e1 < a.locationSize; e1++)M(a.location + e1);
                        e1.bindBuffer(e1.ARRAY_BUFFER, h);
                        for(let e1 = 0; e1 < a.locationSize; e1++)T(a.location + e1, l / a.locationSize, c, t, i * d, (u + l / a.locationSize * e1) * d, p);
                    } else {
                        if (s.isInstancedBufferAttribute) {
                            for(let e1 = 0; e1 < a.locationSize; e1++)S(a.location + e1, s.meshPerAttribute);
                            !0 !== r.isInstancedMesh && void 0 === o._maxInstanceCount && (o._maxInstanceCount = s.meshPerAttribute * s.count);
                        } else for(let e1 = 0; e1 < a.locationSize; e1++)M(a.location + e1);
                        e1.bindBuffer(e1.ARRAY_BUFFER, h);
                        for(let e1 = 0; e1 < a.locationSize; e1++)T(a.location + e1, l / a.locationSize, c, t, l * d, l / a.locationSize * e1 * d, p);
                    }
                } else if (void 0 !== h) {
                    let n = h[t];
                    if (void 0 !== n) switch(n.length){
                        case 2:
                            e1.vertexAttrib2fv(a.location, n);
                            break;
                        case 3:
                            e1.vertexAttrib3fv(a.location, n);
                            break;
                        case 4:
                            e1.vertexAttrib4fv(a.location, n);
                            break;
                        default:
                            e1.vertexAttrib1fv(a.location, n);
                    }
                }
            }
        }
        E();
    }
    function A() {
        P();
        for(let e1 in o){
            let t = o[e1];
            for(let e1 in t){
                let n = t[e1];
                for(let e1 in n)m(n[e1].object), delete n[e1];
                delete t[e1];
            }
            delete o[e1];
        }
    }
    function w(e1) {
        if (void 0 === o[e1.id]) return;
        let t = o[e1.id];
        for(let e1 in t){
            let n = t[e1];
            for(let e1 in n)m(n[e1].object), delete n[e1];
            delete t[e1];
        }
        delete o[e1.id];
    }
    function R(e1) {
        for(let t in o){
            let n = o[t];
            if (void 0 === n[e1.id]) continue;
            let i = n[e1.id];
            for(let e1 in i)m(i[e1].object), delete i[e1];
            delete n[e1.id];
        }
    }
    function P() {
        C(), c = !0, h !== l && (h = l, f(h.object));
    }
    function C() {
        l.geometry = null, l.program = null, l.wireframe = !1;
    }
    return (0, _chunkZRT45YCMJs.a)(d, "setup"), (0, _chunkZRT45YCMJs.a)(p, "createVertexArrayObject"), (0, _chunkZRT45YCMJs.a)(f, "bindVertexArrayObject"), (0, _chunkZRT45YCMJs.a)(m, "deleteVertexArrayObject"), (0, _chunkZRT45YCMJs.a)(g, "getBindingState"), (0, _chunkZRT45YCMJs.a)(_, "createBindingState"), (0, _chunkZRT45YCMJs.a)(v, "needsUpdate"), (0, _chunkZRT45YCMJs.a)(x, "saveCache"), (0, _chunkZRT45YCMJs.a)(y, "initAttributes"), (0, _chunkZRT45YCMJs.a)(M, "enableAttribute"), (0, _chunkZRT45YCMJs.a)(S, "enableAttributeAndDivisor"), (0, _chunkZRT45YCMJs.a)(E, "disableUnusedAttributes"), (0, _chunkZRT45YCMJs.a)(T, "vertexAttribPointer"), (0, _chunkZRT45YCMJs.a)(b, "setupVertexAttributes"), (0, _chunkZRT45YCMJs.a)(A, "dispose"), (0, _chunkZRT45YCMJs.a)(w, "releaseStatesOfGeometry"), (0, _chunkZRT45YCMJs.a)(R, "releaseStatesOfProgram"), (0, _chunkZRT45YCMJs.a)(P, "reset"), (0, _chunkZRT45YCMJs.a)(C, "resetDefaultState"), {
        setup: d,
        reset: P,
        resetDefaultState: C,
        dispose: A,
        releaseStatesOfGeometry: w,
        releaseStatesOfProgram: R,
        initAttributes: y,
        enableAttribute: M,
        disableUnusedAttributes: E
    };
}
function vg(e1, t, n, i) {
    let r, a = i.isWebGL2;
    function s(e1) {
        r = e1;
    }
    function o(t, i) {
        e1.drawArrays(r, t, i), n.update(i, r, 1);
    }
    function l(i, s, o) {
        if (0 === o) return;
        let l, u;
        if (a) l = e1, u = "drawArraysInstanced";
        else if (l = t.get("ANGLE_instanced_arrays"), u = "drawArraysInstancedANGLE", null === l) return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
        l[u](r, i, s, o), n.update(s, r, o);
    }
    function h(e1, i, a) {
        if (0 === a) return;
        let s = t.get("WEBGL_multi_draw");
        if (null === s) for(let t = 0; t < a; t++)this.render(e1[t], i[t]);
        else {
            s.multiDrawArraysWEBGL(r, e1, 0, i, 0, a);
            let t = 0;
            for(let e1 = 0; e1 < a; e1++)t += i[e1];
            n.update(t, r, 1);
        }
    }
    (0, _chunkZRT45YCMJs.a)(s, "setMode"), (0, _chunkZRT45YCMJs.a)(o, "render"), (0, _chunkZRT45YCMJs.a)(l, "renderInstances"), (0, _chunkZRT45YCMJs.a)(h, "renderMultiDraw"), this.setMode = s, this.render = o, this.renderInstances = l, this.renderMultiDraw = h;
}
function yg(e1, t, n) {
    let i;
    function r() {
        if (void 0 !== i) return i;
        if (!0 === t.has("EXT_texture_filter_anisotropic")) {
            let n = t.get("EXT_texture_filter_anisotropic");
            i = e1.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
        } else i = 0;
        return i;
    }
    function a(t) {
        if ("highp" === t) {
            if (e1.getShaderPrecisionFormat(e1.VERTEX_SHADER, e1.HIGH_FLOAT).precision > 0 && e1.getShaderPrecisionFormat(e1.FRAGMENT_SHADER, e1.HIGH_FLOAT).precision > 0) return "highp";
            t = "mediump";
        }
        return "mediump" === t && e1.getShaderPrecisionFormat(e1.VERTEX_SHADER, e1.MEDIUM_FLOAT).precision > 0 && e1.getShaderPrecisionFormat(e1.FRAGMENT_SHADER, e1.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp";
    }
    (0, _chunkZRT45YCMJs.a)(r, "getMaxAnisotropy"), (0, _chunkZRT45YCMJs.a)(a, "getMaxPrecision");
    let s = typeof WebGL2RenderingContext < "u" && "WebGL2RenderingContext" === e1.constructor.name, o = void 0 !== n.precision ? n.precision : "highp", l = a(o);
    l !== o && (console.warn("THREE.WebGLRenderer:", o, "not supported, using", l, "instead."), o = l);
    let h = s || t.has("WEBGL_draw_buffers"), c = !0 === n.logarithmicDepthBuffer, d = e1.getParameter(e1.MAX_TEXTURE_IMAGE_UNITS), p = e1.getParameter(e1.MAX_VERTEX_TEXTURE_IMAGE_UNITS), f = e1.getParameter(e1.MAX_TEXTURE_SIZE), m = e1.getParameter(e1.MAX_CUBE_MAP_TEXTURE_SIZE), g = e1.getParameter(e1.MAX_VERTEX_ATTRIBS), _ = e1.getParameter(e1.MAX_VERTEX_UNIFORM_VECTORS), v = e1.getParameter(e1.MAX_VARYING_VECTORS), x = e1.getParameter(e1.MAX_FRAGMENT_UNIFORM_VECTORS), y = p > 0, M = s || t.has("OES_texture_float");
    return {
        isWebGL2: s,
        drawBuffers: h,
        getMaxAnisotropy: r,
        getMaxPrecision: a,
        precision: o,
        logarithmicDepthBuffer: c,
        maxTextures: d,
        maxVertexTextures: p,
        maxTextureSize: f,
        maxCubemapSize: m,
        maxAttributes: g,
        maxVertexUniforms: _,
        maxVaryings: v,
        maxFragmentUniforms: x,
        vertexTextures: y,
        floatFragmentTextures: M,
        floatVertexTextures: y && M,
        maxSamples: s ? e1.getParameter(e1.MAX_SAMPLES) : 0
    };
}
function Mg(e1) {
    let t = this, n = null, i = 0, r = !1, a = !1, s = new en, o = new zt, l = {
        value: null,
        needsUpdate: !1
    };
    function h() {
        l.value !== n && (l.value = n, l.needsUpdate = i > 0), t.numPlanes = i, t.numIntersection = 0;
    }
    function c(e1, n, i, r) {
        let a = null !== e1 ? e1.length : 0, u = null;
        if (0 !== a) {
            if (u = l.value, !0 !== r || null === u) {
                let t = i + 4 * a, r = n.matrixWorldInverse;
                o.getNormalMatrix(r), (null === u || u.length < t) && (u = new Float32Array(t));
                for(let t = 0, n = i; t !== a; ++t, n += 4)s.copy(e1[t]).applyMatrix4(r, o), s.normal.toArray(u, n), u[n + 3] = s.constant;
            }
            l.value = u, l.needsUpdate = !0;
        }
        return t.numPlanes = a, t.numIntersection = 0, u;
    }
    this.uniform = l, this.numPlanes = 0, this.numIntersection = 0, this.init = function(e1, t) {
        let n = 0 !== e1.length || t || 0 !== i || r;
        return r = t, i = e1.length, n;
    }, this.beginShadows = function() {
        a = !0, c(null);
    }, this.endShadows = function() {
        a = !1;
    }, this.setGlobalState = function(e1, t) {
        n = c(e1, t, 0);
    }, this.setState = function(t, s, o) {
        let u = t.clippingPlanes, d = t.clipIntersection, p = t.clipShadows, f = e1.get(t);
        if (!r || null === u || 0 === u.length || a && !p) a ? c(null) : h();
        else {
            let e1 = a ? 0 : i, t = 4 * e1, r = f.clippingState || null;
            l.value = r, r = c(u, s, t, o);
            for(let e1 = 0; e1 !== t; ++e1)r[e1] = n[e1];
            f.clippingState = r, this.numIntersection = d ? this.numPlanes : 0, this.numPlanes += e1;
        }
    }, (0, _chunkZRT45YCMJs.a)(h, "resetGlobalState"), (0, _chunkZRT45YCMJs.a)(c, "projectPlanes");
}
function Sg(e1) {
    let t = new WeakMap;
    function n(e1, t) {
        return t === fa ? e1.mapping = vi : t === pa && (e1.mapping = yi), e1;
    }
    function i(i) {
        if (i && i.isTexture) {
            let a = i.mapping;
            if (a === fa || a === pa) {
                if (t.has(i)) return n(t.get(i).texture, i.mapping);
                {
                    let a = i.image;
                    if (a && a.height > 0) {
                        let s = new Sa(a.height);
                        return s.fromEquirectangularTexture(e1, i), t.set(i, s), i.addEventListener("dispose", r), n(s.texture, i.mapping);
                    }
                    return null;
                }
            }
        }
        return i;
    }
    function r(e1) {
        let n = e1.target;
        n.removeEventListener("dispose", r);
        let i = t.get(n);
        void 0 !== i && (t.delete(n), i.dispose());
    }
    function a() {
        t = new WeakMap;
    }
    return (0, _chunkZRT45YCMJs.a)(n, "mapTextureMapping"), (0, _chunkZRT45YCMJs.a)(i, "get"), (0, _chunkZRT45YCMJs.a)(r, "onTextureDispose"), (0, _chunkZRT45YCMJs.a)(a, "dispose"), {
        get: i,
        dispose: a
    };
}
(0, _chunkZRT45YCMJs.a)(_g, "WebGLBackground"), (0, _chunkZRT45YCMJs.a)(xg, "WebGLBindingStates"), (0, _chunkZRT45YCMJs.a)(vg, "WebGLBufferRenderer"), (0, _chunkZRT45YCMJs.a)(yg, "WebGLCapabilities"), (0, _chunkZRT45YCMJs.a)(Mg, "WebGLClipping"), (0, _chunkZRT45YCMJs.a)(Sg, "WebGLCubeMaps");
var Ho = class extends qs {
    constructor(e1 = -1, t = 1, n = 1, i = -1, r = .1, a = 2e3){
        super(), this.isOrthographicCamera = !0, this.type = "OrthographicCamera", this.zoom = 1, this.view = null, this.left = e1, this.right = t, this.top = n, this.bottom = i, this.near = r, this.far = a, this.updateProjectionMatrix();
    }
    copy(e1, t) {
        return super.copy(e1, t), this.left = e1.left, this.right = e1.right, this.top = e1.top, this.bottom = e1.bottom, this.near = e1.near, this.far = e1.far, this.zoom = e1.zoom, this.view = null === e1.view ? null : Object.assign({}, e1.view), this;
    }
    setViewOffset(e1, t, n, i, r, a) {
        null === this.view && (this.view = {
            enabled: !0,
            fullWidth: 1,
            fullHeight: 1,
            offsetX: 0,
            offsetY: 0,
            width: 1,
            height: 1
        }), this.view.enabled = !0, this.view.fullWidth = e1, this.view.fullHeight = t, this.view.offsetX = n, this.view.offsetY = i, this.view.width = r, this.view.height = a, this.updateProjectionMatrix();
    }
    clearViewOffset() {
        null !== this.view && (this.view.enabled = !1), this.updateProjectionMatrix();
    }
    updateProjectionMatrix() {
        let e1 = (this.right - this.left) / (2 * this.zoom), t = (this.top - this.bottom) / (2 * this.zoom), n = (this.right + this.left) / 2, i = (this.top + this.bottom) / 2, r = n - e1, a = n + e1, s = i + t, o = i - t;
        if (null !== this.view && this.view.enabled) {
            let e1 = (this.right - this.left) / this.view.fullWidth / this.zoom, t = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
            r += e1 * this.view.offsetX, a = r + e1 * this.view.width, s -= t * this.view.offsetY, o = s - t * this.view.height;
        }
        this.projectionMatrix.makeOrthographic(r, a, s, o, this.near, this.far, this.coordinateSystem), this.projectionMatrixInverse.copy(this.projectionMatrix).invert();
    }
    toJSON(e1) {
        let t = super.toJSON(e1);
        return t.object.zoom = this.zoom, t.object.left = this.left, t.object.right = this.right, t.object.top = this.top, t.object.bottom = this.bottom, t.object.near = this.near, t.object.far = this.far, null !== this.view && (t.object.view = Object.assign({}, this.view)), t;
    }
};
(0, _chunkZRT45YCMJs.a)(Ho, "OrthographicCamera");
var Js = Ho, oi = 4, vh = [
    .125,
    .215,
    .35,
    .446,
    .526,
    .582
], Nn = 20, jr = new Js, yh = new Ht, ta = null, ea = 0, na = 0, Un = (1 + Math.sqrt(5)) / 2, ri = 1 / Un, Mh = [
    new P(1, 1, 1),
    new P(-1, 1, 1),
    new P(1, 1, -1),
    new P(-1, 1, -1),
    new P(0, Un, ri),
    new P(0, Un, -ri),
    new P(ri, 0, Un),
    new P(-ri, 0, Un),
    new P(Un, ri, 0),
    new P(-Un, ri, 0)
], Go = class {
    constructor(e1){
        this._renderer = e1, this._pingPongRenderTarget = null, this._lodMax = 0, this._cubeSize = 0, this._lodPlanes = [], this._sizeLods = [], this._sigmas = [], this._blurMaterial = null, this._cubemapMaterial = null, this._equirectMaterial = null, this._compileMaterial(this._blurMaterial);
    }
    fromScene(e1, t = 0, n = .1, i = 100) {
        ta = this._renderer.getRenderTarget(), ea = this._renderer.getActiveCubeFace(), na = this._renderer.getActiveMipmapLevel(), this._setSize(256);
        let r = this._allocateTargets();
        return r.depthBuffer = !0, this._sceneToCubeUV(e1, n, i, r), t > 0 && this._blur(r, 0, 0, t), this._applyPMREM(r), this._cleanup(r), r;
    }
    fromEquirectangular(e1, t = null) {
        return this._fromTexture(e1, t);
    }
    fromCubemap(e1, t = null) {
        return this._fromTexture(e1, t);
    }
    compileCubemapShader() {
        null === this._cubemapMaterial && (this._cubemapMaterial = Eh(), this._compileMaterial(this._cubemapMaterial));
    }
    compileEquirectangularShader() {
        null === this._equirectMaterial && (this._equirectMaterial = bh(), this._compileMaterial(this._equirectMaterial));
    }
    dispose() {
        this._dispose(), null !== this._cubemapMaterial && this._cubemapMaterial.dispose(), null !== this._equirectMaterial && this._equirectMaterial.dispose();
    }
    _setSize(e1) {
        this._lodMax = Math.floor(Math.log2(e1)), this._cubeSize = Math.pow(2, this._lodMax);
    }
    _dispose() {
        null !== this._blurMaterial && this._blurMaterial.dispose(), null !== this._pingPongRenderTarget && this._pingPongRenderTarget.dispose();
        for(let e1 = 0; e1 < this._lodPlanes.length; e1++)this._lodPlanes[e1].dispose();
    }
    _cleanup(e1) {
        this._renderer.setRenderTarget(ta, ea, na), e1.scissorTest = !1, Ss(e1, 0, 0, e1.width, e1.height);
    }
    _fromTexture(e1, t) {
        e1.mapping === vi || e1.mapping === yi ? this._setSize(0 === e1.image.length ? 16 : e1.image[0].width || e1.image[0].image.width) : this._setSize(e1.image.width / 4), ta = this._renderer.getRenderTarget(), ea = this._renderer.getActiveCubeFace(), na = this._renderer.getActiveMipmapLevel();
        let n = t || this._allocateTargets();
        return this._textureToCubeUV(e1, n), this._applyPMREM(n), this._cleanup(n), n;
    }
    _allocateTargets() {
        let e1 = 3 * Math.max(this._cubeSize, 112), t = 4 * this._cubeSize, n = {
            magFilter: we,
            minFilter: we,
            generateMipmaps: !1,
            type: Bi,
            format: ze,
            colorSpace: En,
            depthBuffer: !1
        }, i = Sh(e1, t, n);
        if (null === this._pingPongRenderTarget || this._pingPongRenderTarget.width !== e1 || this._pingPongRenderTarget.height !== t) {
            null !== this._pingPongRenderTarget && this._dispose(), this._pingPongRenderTarget = Sh(e1, t, n);
            let { _lodMax: i } = this;
            ({ sizeLods: this._sizeLods, lodPlanes: this._lodPlanes, sigmas: this._sigmas } = bg(i)), this._blurMaterial = Eg(i, e1, t);
        }
        return i;
    }
    _compileMaterial(e1) {
        let t = new ke(this._lodPlanes[0], e1);
        this._renderer.compile(t, jr);
    }
    _sceneToCubeUV(e1, t, n, i) {
        let r = new Ae(90, 1, t, n), a = [
            1,
            -1,
            1,
            1,
            1,
            1
        ], s = [
            1,
            1,
            1,
            -1,
            -1,
            -1
        ], o = this._renderer, l = o.autoClear, u = o.toneMapping;
        o.getClearColor(yh), o.toneMapping = xn, o.autoClear = !1;
        let h = new Gs({
            name: "PMREM.Background",
            side: Te,
            depthWrite: !1,
            depthTest: !1
        }), c = new ke(new Gi, h), d = !1, p = e1.background;
        p ? p.isColor && (h.color.copy(p), e1.background = null, d = !0) : (h.color.copy(yh), d = !0);
        for(let t = 0; t < 6; t++){
            let n = t % 3;
            0 === n ? (r.up.set(0, a[t], 0), r.lookAt(s[t], 0, 0)) : 1 === n ? (r.up.set(0, 0, a[t]), r.lookAt(0, s[t], 0)) : (r.up.set(0, a[t], 0), r.lookAt(0, 0, s[t]));
            let l = this._cubeSize;
            Ss(i, n * l, t > 2 ? l : 0, l, l), o.setRenderTarget(i), d && o.render(c, r), o.render(e1, r);
        }
        c.geometry.dispose(), c.material.dispose(), o.toneMapping = u, o.autoClear = l, e1.background = p;
    }
    _textureToCubeUV(e1, t) {
        let n = this._renderer, i = e1.mapping === vi || e1.mapping === yi;
        i ? (null === this._cubemapMaterial && (this._cubemapMaterial = Eh()), this._cubemapMaterial.uniforms.flipEnvMap.value = !1 === e1.isRenderTargetTexture ? -1 : 1) : null === this._equirectMaterial && (this._equirectMaterial = bh());
        let r = i ? this._cubemapMaterial : this._equirectMaterial, a = new ke(this._lodPlanes[0], r);
        r.uniforms.envMap.value = e1;
        let s = this._cubeSize;
        Ss(t, 0, 0, 3 * s, 2 * s), n.setRenderTarget(t), n.render(a, jr);
    }
    _applyPMREM(e1) {
        let t = this._renderer, n = t.autoClear;
        t.autoClear = !1;
        for(let t = 1; t < this._lodPlanes.length; t++){
            let n = Math.sqrt(this._sigmas[t] * this._sigmas[t] - this._sigmas[t - 1] * this._sigmas[t - 1]), i = Mh[(t - 1) % Mh.length];
            this._blur(e1, t - 1, t, n, i);
        }
        t.autoClear = n;
    }
    _blur(e1, t, n, i, r) {
        let a = this._pingPongRenderTarget;
        this._halfBlur(e1, a, t, n, i, "latitudinal", r), this._halfBlur(a, e1, n, n, i, "longitudinal", r);
    }
    _halfBlur(e1, t, n, i, r, a, s) {
        let o = this._renderer, l = this._blurMaterial;
        "latitudinal" !== a && "longitudinal" !== a && console.error("blur direction must be either latitudinal or longitudinal!");
        let u = new ke(this._lodPlanes[i], l), h = l.uniforms, c = this._sizeLods[n] - 1, d = isFinite(r) ? Math.PI / (2 * c) : 2 * Math.PI / (2 * Nn - 1), p = r / d, f = isFinite(r) ? 1 + Math.floor(3 * p) : Nn;
        f > Nn && console.warn("sigmaRadians, ".concat(r, ", is too large and will clip, as it requested ").concat(f, " samples when the maximum is set to ").concat(Nn));
        let m = [], g = 0;
        for(let e1 = 0; e1 < Nn; ++e1){
            let t = e1 / p, n = Math.exp(-t * t / 2);
            m.push(n), 0 === e1 ? g += n : e1 < f && (g += 2 * n);
        }
        for(let e1 = 0; e1 < m.length; e1++)m[e1] = m[e1] / g;
        h.envMap.value = e1.texture, h.samples.value = f, h.weights.value = m, h.latitudinal.value = "latitudinal" === a, s && (h.poleAxis.value = s);
        let { _lodMax: _ } = this;
        h.dTheta.value = d, h.mipInt.value = _ - n;
        let v = this._sizeLods[i];
        Ss(t, 3 * v * (i > _ - oi ? i - _ + oi : 0), 4 * (this._cubeSize - v), 3 * v, 2 * v), o.setRenderTarget(t), o.render(u, jr);
    }
};
(0, _chunkZRT45YCMJs.a)(Go, "PMREMGenerator");
var $s = Go;
function bg(e1) {
    let t = [], n = [], i = [], r = e1, a = e1 - oi + 1 + vh.length;
    for(let s = 0; s < a; s++){
        let a = Math.pow(2, r);
        n.push(a);
        let o = 1 / a;
        s > e1 - oi ? o = vh[s - e1 + oi - 1] : 0 === s && (o = 0), i.push(o);
        let l = 1 / (a - 2), u = -l, h = 1 + l, c = [
            u,
            u,
            h,
            u,
            h,
            h,
            u,
            u,
            h,
            h,
            u,
            h
        ], d = 6, p = 6, f = 3, m = 2, g = 1, _ = new Float32Array(f * p * d), v = new Float32Array(m * p * d), x = new Float32Array(g * p * d);
        for(let e1 = 0; e1 < d; e1++){
            let t = e1 % 3 * 2 / 3 - 1, n = e1 > 2 ? 0 : -1, i = [
                t,
                n,
                0,
                t + 2 / 3,
                n,
                0,
                t + 2 / 3,
                n + 1,
                0,
                t,
                n,
                0,
                t + 2 / 3,
                n + 1,
                0,
                t,
                n + 1,
                0
            ];
            _.set(i, f * p * e1), v.set(c, m * p * e1);
            let r = [
                e1,
                e1,
                e1,
                e1,
                e1,
                e1
            ];
            x.set(r, g * p * e1);
        }
        let y = new Ee;
        y.setAttribute("position", new Se(_, f)), y.setAttribute("uv", new Se(v, m)), y.setAttribute("faceIndex", new Se(x, g)), t.push(y), r > oi && r--;
    }
    return {
        lodPlanes: t,
        sizeLods: n,
        sigmas: i
    };
}
function Sh(e1, t, n) {
    let i = new Ye(e1, t, n);
    return i.texture.mapping = vr, i.texture.name = "PMREM.cubeUv", i.scissorTest = !0, i;
}
function Ss(e1, t, n, i, r) {
    e1.viewport.set(t, n, i, r), e1.scissor.set(t, n, i, r);
}
function Eg(e1, t, n) {
    let i = new Float32Array(Nn), r = new P(0, 1, 0);
    return new He({
        name: "SphericalGaussianBlur",
        defines: {
            n: Nn,
            CUBEUV_TEXEL_WIDTH: 1 / t,
            CUBEUV_TEXEL_HEIGHT: 1 / n,
            CUBEUV_MAX_MIP: "".concat(e1, ".0")
        },
        uniforms: {
            envMap: {
                value: null
            },
            samples: {
                value: 1
            },
            weights: {
                value: i
            },
            latitudinal: {
                value: !1
            },
            dTheta: {
                value: 0
            },
            mipInt: {
                value: 0
            },
            poleAxis: {
                value: r
            }
        },
        vertexShader: lo(),
        fragmentShader: "\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n			uniform int samples;\n			uniform float weights[ n ];\n			uniform bool latitudinal;\n			uniform float dTheta;\n			uniform float mipInt;\n			uniform vec3 poleAxis;\n\n			#define ENVMAP_TYPE_CUBE_UV\n			#include <cube_uv_reflection_fragment>\n\n			vec3 getSample( float theta, vec3 axis ) {\n\n				float cosTheta = cos( theta );\n				// Rodrigues' axis-angle rotation\n				vec3 sampleDirection = vOutputDirection * cosTheta\n					+ cross( axis, vOutputDirection ) * sin( theta )\n					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n				return bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n			}\n\n			void main() {\n\n				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n				}\n\n				axis = normalize( axis );\n\n				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n				for ( int i = 1; i < n; i++ ) {\n\n					if ( i >= samples ) {\n\n						break;\n\n					}\n\n					float theta = dTheta * float( i );\n					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n				}\n\n			}\n		",
        blending: _n,
        depthTest: !1,
        depthWrite: !1
    });
}
function bh() {
    return new He({
        name: "EquirectangularToCubeUV",
        uniforms: {
            envMap: {
                value: null
            }
        },
        vertexShader: lo(),
        fragmentShader: "\n\n			precision mediump float;\n			precision mediump int;\n\n			varying vec3 vOutputDirection;\n\n			uniform sampler2D envMap;\n\n			#include <common>\n\n			void main() {\n\n				vec3 outputDirection = normalize( vOutputDirection );\n				vec2 uv = equirectUv( outputDirection );\n\n				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n			}\n		",
        blending: _n,
        depthTest: !1,
        depthWrite: !1
    });
}
function Eh() {
    return new He({
        name: "CubemapToCubeUV",
        uniforms: {
            envMap: {
                value: null
            },
            flipEnvMap: {
                value: -1
            }
        },
        vertexShader: lo(),
        fragmentShader: "\n\n			precision mediump float;\n			precision mediump int;\n\n			uniform float flipEnvMap;\n\n			varying vec3 vOutputDirection;\n\n			uniform samplerCube envMap;\n\n			void main() {\n\n				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n			}\n		",
        blending: _n,
        depthTest: !1,
        depthWrite: !1
    });
}
function lo() {
    return "\n\n		precision mediump float;\n		precision mediump int;\n\n		attribute float faceIndex;\n\n		varying vec3 vOutputDirection;\n\n		// RH coordinate system; PMREM face-indexing convention\n		vec3 getDirection( vec2 uv, float face ) {\n\n			uv = 2.0 * uv - 1.0;\n\n			vec3 direction = vec3( uv, 1.0 );\n\n			if ( face == 0.0 ) {\n\n				direction = direction.zyx; // ( 1, v, u ) pos x\n\n			} else if ( face == 1.0 ) {\n\n				direction = direction.xzy;\n				direction.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n			} else if ( face == 2.0 ) {\n\n				direction.x *= -1.0; // ( -u, v, 1 ) pos z\n\n			} else if ( face == 3.0 ) {\n\n				direction = direction.zyx;\n				direction.xz *= -1.0; // ( -1, v, -u ) neg x\n\n			} else if ( face == 4.0 ) {\n\n				direction = direction.xzy;\n				direction.xy *= -1.0; // ( -u, -1, v ) neg y\n\n			} else if ( face == 5.0 ) {\n\n				direction.z *= -1.0; // ( u, v, -1 ) neg z\n\n			}\n\n			return direction;\n\n		}\n\n		void main() {\n\n			vOutputDirection = getDirection( uv, faceIndex );\n			gl_Position = vec4( position, 1.0 );\n\n		}\n	";
}
function wg(e1) {
    let t = new WeakMap, n = null;
    function i(i) {
        if (i && i.isTexture) {
            let s = i.mapping, o = s === fa || s === pa, l = s === vi || s === yi;
            if (o || l) {
                if (i.isRenderTargetTexture && !0 === i.needsPMREMUpdate) {
                    i.needsPMREMUpdate = !1;
                    let r = t.get(i);
                    return null === n && (n = new $s(e1)), r = o ? n.fromEquirectangular(i, r) : n.fromCubemap(i, r), t.set(i, r), r.texture;
                }
                if (t.has(i)) return t.get(i).texture;
                {
                    let s = i.image;
                    if (o && s && s.height > 0 || l && s && r(s)) {
                        null === n && (n = new $s(e1));
                        let r = o ? n.fromEquirectangular(i) : n.fromCubemap(i);
                        return t.set(i, r), i.addEventListener("dispose", a), r.texture;
                    }
                    return null;
                }
            }
        }
        return i;
    }
    function r(e1) {
        let t = 0;
        for(let n = 0; n < 6; n++)void 0 !== e1[n] && t++;
        return 6 === t;
    }
    function a(e1) {
        let n = e1.target;
        n.removeEventListener("dispose", a);
        let i = t.get(n);
        void 0 !== i && (t.delete(n), i.dispose());
    }
    function s() {
        t = new WeakMap, null !== n && (n.dispose(), n = null);
    }
    return (0, _chunkZRT45YCMJs.a)(i, "get"), (0, _chunkZRT45YCMJs.a)(r, "isCubeTextureComplete"), (0, _chunkZRT45YCMJs.a)(a, "onTextureDispose"), (0, _chunkZRT45YCMJs.a)(s, "dispose"), {
        get: i,
        dispose: s
    };
}
function Ag(e1) {
    let t = {};
    function n(n) {
        if (void 0 !== t[n]) return t[n];
        let i;
        switch(n){
            case "WEBGL_depth_texture":
                i = e1.getExtension("WEBGL_depth_texture") || e1.getExtension("MOZ_WEBGL_depth_texture") || e1.getExtension("WEBKIT_WEBGL_depth_texture");
                break;
            case "EXT_texture_filter_anisotropic":
                i = e1.getExtension("EXT_texture_filter_anisotropic") || e1.getExtension("MOZ_EXT_texture_filter_anisotropic") || e1.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
                break;
            case "WEBGL_compressed_texture_s3tc":
                i = e1.getExtension("WEBGL_compressed_texture_s3tc") || e1.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || e1.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");
                break;
            case "WEBGL_compressed_texture_pvrtc":
                i = e1.getExtension("WEBGL_compressed_texture_pvrtc") || e1.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");
                break;
            default:
                i = e1.getExtension(n);
        }
        return t[n] = i, i;
    }
    return (0, _chunkZRT45YCMJs.a)(n, "getExtension"), {
        has: function(e1) {
            return null !== n(e1);
        },
        init: function(e1) {
            e1.isWebGL2 ? (n("EXT_color_buffer_float"), n("WEBGL_clip_cull_distance")) : (n("WEBGL_depth_texture"), n("OES_texture_float"), n("OES_texture_half_float"), n("OES_texture_half_float_linear"), n("OES_standard_derivatives"), n("OES_element_index_uint"), n("OES_vertex_array_object"), n("ANGLE_instanced_arrays")), n("OES_texture_float_linear"), n("EXT_color_buffer_half_float"), n("WEBGL_multisampled_render_to_texture");
        },
        get: function(e1) {
            let t = n(e1);
            return null === t && console.warn("THREE.WebGLRenderer: " + e1 + " extension not supported."), t;
        }
    };
}
function Tg(e1, t, n, i) {
    let r = {}, a = new WeakMap;
    function s(e1) {
        let o = e1.target;
        null !== o.index && t.remove(o.index);
        for(let e1 in o.attributes)t.remove(o.attributes[e1]);
        for(let e1 in o.morphAttributes){
            let n = o.morphAttributes[e1];
            for(let e1 = 0, i = n.length; e1 < i; e1++)t.remove(n[e1]);
        }
        o.removeEventListener("dispose", s), delete r[o.id];
        let l = a.get(o);
        l && (t.remove(l), a.delete(o)), i.releaseStatesOfGeometry(o), !0 === o.isInstancedBufferGeometry && delete o._maxInstanceCount, n.memory.geometries--;
    }
    function o(e1, t) {
        return !0 === r[t.id] || (t.addEventListener("dispose", s), r[t.id] = !0, n.memory.geometries++), t;
    }
    function l(n) {
        let i = n.attributes;
        for(let n in i)t.update(i[n], e1.ARRAY_BUFFER);
        let r = n.morphAttributes;
        for(let n in r){
            let i = r[n];
            for(let n = 0, r = i.length; n < r; n++)t.update(i[n], e1.ARRAY_BUFFER);
        }
    }
    function h(e1) {
        let n = [], i = e1.index, r = e1.attributes.position, s = 0;
        if (null !== i) {
            let e1 = i.array;
            s = i.version;
            for(let t = 0, i = e1.length; t < i; t += 3){
                let i = e1[t + 0], r = e1[t + 1], a = e1[t + 2];
                n.push(i, r, r, a, a, i);
            }
        } else {
            if (void 0 === r) return;
            {
                let e1 = r.array;
                s = r.version;
                for(let t = 0, i = e1.length / 3 - 1; t < i; t += 3){
                    let e1 = t + 0, i = t + 1, r = t + 2;
                    n.push(e1, i, i, r, r, e1);
                }
            }
        }
        let o = new (Ou(n) ? Xs : Ws)(n, 1);
        o.version = s;
        let l = a.get(e1);
        l && t.remove(l), a.set(e1, o);
    }
    function c(e1) {
        let t = a.get(e1);
        if (t) {
            let n = e1.index;
            null !== n && t.version < n.version && h(e1);
        } else h(e1);
        return a.get(e1);
    }
    return (0, _chunkZRT45YCMJs.a)(s, "onGeometryDispose"), (0, _chunkZRT45YCMJs.a)(o, "get"), (0, _chunkZRT45YCMJs.a)(l, "update"), (0, _chunkZRT45YCMJs.a)(h, "updateWireframeAttribute"), (0, _chunkZRT45YCMJs.a)(c, "getWireframeAttribute"), {
        get: o,
        update: l,
        getWireframeAttribute: c
    };
}
function Rg(e1, t, n, i) {
    let r, a, s, o = i.isWebGL2;
    function l(e1) {
        r = e1;
    }
    function h(e1) {
        a = e1.type, s = e1.bytesPerElement;
    }
    function c(t, i) {
        e1.drawElements(r, i, a, t * s), n.update(i, r, 1);
    }
    function d(i, l, u) {
        if (0 === u) return;
        let h, c;
        if (o) h = e1, c = "drawElementsInstanced";
        else if (h = t.get("ANGLE_instanced_arrays"), c = "drawElementsInstancedANGLE", null === h) return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");
        h[c](r, l, a, i * s, u), n.update(l, r, u);
    }
    function p(e1, i, o) {
        if (0 === o) return;
        let l = t.get("WEBGL_multi_draw");
        if (null === l) for(let t = 0; t < o; t++)this.render(e1[t] / s, i[t]);
        else {
            l.multiDrawElementsWEBGL(r, i, 0, a, e1, 0, o);
            let t = 0;
            for(let e1 = 0; e1 < o; e1++)t += i[e1];
            n.update(t, r, 1);
        }
    }
    (0, _chunkZRT45YCMJs.a)(l, "setMode"), (0, _chunkZRT45YCMJs.a)(h, "setIndex"), (0, _chunkZRT45YCMJs.a)(c, "render"), (0, _chunkZRT45YCMJs.a)(d, "renderInstances"), (0, _chunkZRT45YCMJs.a)(p, "renderMultiDraw"), this.setMode = l, this.setIndex = h, this.render = c, this.renderInstances = d, this.renderMultiDraw = p;
}
function Cg(e1) {
    let t = {
        frame: 0,
        calls: 0,
        triangles: 0,
        points: 0,
        lines: 0
    };
    function n(n, i, r) {
        switch(t.calls++, i){
            case e1.TRIANGLES:
                t.triangles += r * (n / 3);
                break;
            case e1.LINES:
                t.lines += r * (n / 2);
                break;
            case e1.LINE_STRIP:
                t.lines += r * (n - 1);
                break;
            case e1.LINE_LOOP:
                t.lines += r * n;
                break;
            case e1.POINTS:
                t.points += r * n;
                break;
            default:
                console.error("THREE.WebGLInfo: Unknown draw mode:", i);
        }
    }
    function i() {
        t.calls = 0, t.triangles = 0, t.points = 0, t.lines = 0;
    }
    return (0, _chunkZRT45YCMJs.a)(n, "update"), (0, _chunkZRT45YCMJs.a)(i, "reset"), {
        memory: {
            geometries: 0,
            textures: 0
        },
        render: t,
        programs: null,
        autoReset: !0,
        reset: i,
        update: n
    };
}
function Pg(e1, t) {
    return e1[0] - t[0];
}
function Ig(e1, t) {
    return Math.abs(t[1]) - Math.abs(e1[1]);
}
function Lg(e1, t, n) {
    let i = {}, r = new Float32Array(8), a = new WeakMap, s = new te, o = [];
    for(let e1 = 0; e1 < 8; e1++)o[e1] = [
        e1,
        0
    ];
    function l(l, h, c) {
        let d = l.morphTargetInfluences;
        if (!0 === t.isWebGL2) {
            let i = h.morphAttributes.position || h.morphAttributes.normal || h.morphAttributes.color, r = void 0 !== i ? i.length : 0, o = a.get(h);
            if (void 0 === o || o.count !== r) {
                let e1 = function() {
                    v.dispose(), a.delete(h), h.removeEventListener("dispose", e1);
                };
                (0, _chunkZRT45YCMJs.a)(e1, "disposeTexture"), void 0 !== o && o.texture.dispose();
                let n = void 0 !== h.morphAttributes.position, i = void 0 !== h.morphAttributes.normal, l = void 0 !== h.morphAttributes.color, c = h.morphAttributes.position || [], d = h.morphAttributes.normal || [], p = h.morphAttributes.color || [], f = 0;
                !0 === n && (f = 1), !0 === i && (f = 2), !0 === l && (f = 3);
                let m = h.attributes.position.count * f, g = 1;
                m > t.maxTextureSize && (g = Math.ceil(m / t.maxTextureSize), m = t.maxTextureSize);
                let _ = new Float32Array(m * g * 4 * r), v = new Hs(_, m, g, r);
                v.type = sn, v.needsUpdate = !0;
                let x = 4 * f;
                for(let e1 = 0; e1 < r; e1++){
                    let t = c[e1], r = d[e1], a = p[e1], o = m * g * 4 * e1;
                    for(let e1 = 0; e1 < t.count; e1++){
                        let u = e1 * x;
                        !0 === n && (s.fromBufferAttribute(t, e1), _[o + u + 0] = s.x, _[o + u + 1] = s.y, _[o + u + 2] = s.z, _[o + u + 3] = 0), !0 === i && (s.fromBufferAttribute(r, e1), _[o + u + 4] = s.x, _[o + u + 5] = s.y, _[o + u + 6] = s.z, _[o + u + 7] = 0), !0 === l && (s.fromBufferAttribute(a, e1), _[o + u + 8] = s.x, _[o + u + 9] = s.y, _[o + u + 10] = s.z, _[o + u + 11] = 4 === a.itemSize ? s.w : 1);
                    }
                }
                o = {
                    count: r,
                    texture: v,
                    size: new ht(m, g)
                }, a.set(h, o), h.addEventListener("dispose", e1);
            }
            if (!0 === l.isInstancedMesh && null !== l.morphTexture) c.getUniforms().setValue(e1, "morphTexture", l.morphTexture, n);
            else {
                let t = 0;
                for(let e1 = 0; e1 < d.length; e1++)t += d[e1];
                let n = h.morphTargetsRelative ? 1 : 1 - t;
                c.getUniforms().setValue(e1, "morphTargetBaseInfluence", n), c.getUniforms().setValue(e1, "morphTargetInfluences", d);
            }
            c.getUniforms().setValue(e1, "morphTargetsTexture", o.texture, n), c.getUniforms().setValue(e1, "morphTargetsTextureSize", o.size);
        } else {
            let t = void 0 === d ? 0 : d.length, n = i[h.id];
            if (void 0 === n || n.length !== t) {
                n = [];
                for(let e1 = 0; e1 < t; e1++)n[e1] = [
                    e1,
                    0
                ];
                i[h.id] = n;
            }
            for(let e1 = 0; e1 < t; e1++){
                let t = n[e1];
                t[0] = e1, t[1] = d[e1];
            }
            n.sort(Ig);
            for(let e1 = 0; e1 < 8; e1++)e1 < t && n[e1][1] ? (o[e1][0] = n[e1][0], o[e1][1] = n[e1][1]) : (o[e1][0] = Number.MAX_SAFE_INTEGER, o[e1][1] = 0);
            o.sort(Pg);
            let a = h.morphAttributes.position, s = h.morphAttributes.normal, l = 0;
            for(let e1 = 0; e1 < 8; e1++){
                let t = o[e1], n = t[0], i = t[1];
                n !== Number.MAX_SAFE_INTEGER && i ? (a && h.getAttribute("morphTarget" + e1) !== a[n] && h.setAttribute("morphTarget" + e1, a[n]), s && h.getAttribute("morphNormal" + e1) !== s[n] && h.setAttribute("morphNormal" + e1, s[n]), r[e1] = i, l += i) : (a && !0 === h.hasAttribute("morphTarget" + e1) && h.deleteAttribute("morphTarget" + e1), s && !0 === h.hasAttribute("morphNormal" + e1) && h.deleteAttribute("morphNormal" + e1), r[e1] = 0);
            }
            let u = h.morphTargetsRelative ? 1 : 1 - l;
            c.getUniforms().setValue(e1, "morphTargetBaseInfluence", u), c.getUniforms().setValue(e1, "morphTargetInfluences", r);
        }
    }
    return (0, _chunkZRT45YCMJs.a)(l, "update"), {
        update: l
    };
}
function Ug(e1, t, n, i) {
    let r = new WeakMap;
    function a(a) {
        let s = i.render.frame, l = a.geometry, u = t.get(a, l);
        if (r.get(u) !== s && (t.update(u), r.set(u, s)), a.isInstancedMesh && (!1 === a.hasEventListener("dispose", o) && a.addEventListener("dispose", o), r.get(a) !== s && (n.update(a.instanceMatrix, e1.ARRAY_BUFFER), null !== a.instanceColor && n.update(a.instanceColor, e1.ARRAY_BUFFER), r.set(a, s))), a.isSkinnedMesh) {
            let e1 = a.skeleton;
            r.get(e1) !== s && (e1.update(), r.set(e1, s));
        }
        return u;
    }
    function s() {
        r = new WeakMap;
    }
    function o(e1) {
        let t = e1.target;
        t.removeEventListener("dispose", o), n.remove(t.instanceMatrix), null !== t.instanceColor && n.remove(t.instanceColor);
    }
    return (0, _chunkZRT45YCMJs.a)(a, "update"), (0, _chunkZRT45YCMJs.a)(s, "dispose"), (0, _chunkZRT45YCMJs.a)(o, "onInstancedMeshDispose"), {
        update: a,
        dispose: s
    };
}
(0, _chunkZRT45YCMJs.a)(bg, "_createPlanes"), (0, _chunkZRT45YCMJs.a)(Sh, "_createRenderTarget"), (0, _chunkZRT45YCMJs.a)(Ss, "_setViewport"), (0, _chunkZRT45YCMJs.a)(Eg, "_getBlurShader"), (0, _chunkZRT45YCMJs.a)(bh, "_getEquirectMaterial"), (0, _chunkZRT45YCMJs.a)(Eh, "_getCubemapMaterial"), (0, _chunkZRT45YCMJs.a)(lo, "_getCommonVertexShader"), (0, _chunkZRT45YCMJs.a)(wg, "WebGLCubeUVMaps"), (0, _chunkZRT45YCMJs.a)(Ag, "WebGLExtensions"), (0, _chunkZRT45YCMJs.a)(Tg, "WebGLGeometries"), (0, _chunkZRT45YCMJs.a)(Rg, "WebGLIndexedBufferRenderer"), (0, _chunkZRT45YCMJs.a)(Cg, "WebGLInfo"), (0, _chunkZRT45YCMJs.a)(Pg, "numericalSort"), (0, _chunkZRT45YCMJs.a)(Ig, "absNumericalSort"), (0, _chunkZRT45YCMJs.a)(Lg, "WebGLMorphtargets"), (0, _chunkZRT45YCMJs.a)(Ug, "WebGLObjects");
var Wo = class extends xe {
    constructor(e1, t, n, i, r, a, s, o, l, u){
        if ((u = void 0 !== u ? u : zn) !== zn && u !== Mi) throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");
        void 0 === n && u === zn && (n = gn), void 0 === n && u === Mi && (n = Bn), super(null, i, r, a, s, o, u, n, l), this.isDepthTexture = !0, this.image = {
            width: e1,
            height: t
        }, this.magFilter = void 0 !== s ? s : fe, this.minFilter = void 0 !== o ? o : fe, this.flipY = !1, this.generateMipmaps = !1, this.compareFunction = null;
    }
    copy(e1) {
        return super.copy(e1), this.compareFunction = e1.compareFunction, this;
    }
    toJSON(e1) {
        let t = super.toJSON(e1);
        return null !== this.compareFunction && (t.compareFunction = this.compareFunction), t;
    }
};
(0, _chunkZRT45YCMJs.a)(Wo, "DepthTexture");
var Ks = Wo, ku = new xe, Vu = new Ks(1, 1);
Vu.compareFunction = Nu;
var Hu = new Hs, Gu = new ya, Wu = new Ys, wh = [], Ah = [], Th = new Float32Array(16), Rh = new Float32Array(9), Ch = new Float32Array(4);
function wi(e1, t, n) {
    let i = e1[0];
    if (i <= 0 || i > 0) return e1;
    let r = t * n, a = wh[r];
    if (void 0 === a && (a = new Float32Array(r), wh[r] = a), 0 !== t) {
        i.toArray(a, 0);
        for(let i = 1, r = 0; i !== t; ++i)r += n, e1[i].toArray(a, r);
    }
    return a;
}
function ce(e1, t) {
    if (e1.length !== t.length) return !1;
    for(let n = 0, i = e1.length; n < i; n++)if (e1[n] !== t[n]) return !1;
    return !0;
}
function le(e1, t) {
    for(let n = 0, i = t.length; n < i; n++)e1[n] = t[n];
}
function Mr(e1, t) {
    let n = Ah[t];
    void 0 === n && (n = new Int32Array(t), Ah[t] = n);
    for(let i = 0; i !== t; ++i)n[i] = e1.allocateTextureUnit();
    return n;
}
function Dg(e1, t) {
    let n = this.cache;
    n[0] !== t && (e1.uniform1f(this.addr, t), n[0] = t);
}
function Ng(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y) && (e1.uniform2f(this.addr, t.x, t.y), n[0] = t.x, n[1] = t.y);
    else {
        if (ce(n, t)) return;
        e1.uniform2fv(this.addr, t), le(n, t);
    }
}
function Og(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y || n[2] !== t.z) && (e1.uniform3f(this.addr, t.x, t.y, t.z), n[0] = t.x, n[1] = t.y, n[2] = t.z);
    else if (void 0 !== t.r) (n[0] !== t.r || n[1] !== t.g || n[2] !== t.b) && (e1.uniform3f(this.addr, t.r, t.g, t.b), n[0] = t.r, n[1] = t.g, n[2] = t.b);
    else {
        if (ce(n, t)) return;
        e1.uniform3fv(this.addr, t), le(n, t);
    }
}
function Fg(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y || n[2] !== t.z || n[3] !== t.w) && (e1.uniform4f(this.addr, t.x, t.y, t.z, t.w), n[0] = t.x, n[1] = t.y, n[2] = t.z, n[3] = t.w);
    else {
        if (ce(n, t)) return;
        e1.uniform4fv(this.addr, t), le(n, t);
    }
}
function Bg(e1, t) {
    let n = this.cache, i = t.elements;
    if (void 0 === i) {
        if (ce(n, t)) return;
        e1.uniformMatrix2fv(this.addr, !1, t), le(n, t);
    } else {
        if (ce(n, i)) return;
        Ch.set(i), e1.uniformMatrix2fv(this.addr, !1, Ch), le(n, i);
    }
}
function zg(e1, t) {
    let n = this.cache, i = t.elements;
    if (void 0 === i) {
        if (ce(n, t)) return;
        e1.uniformMatrix3fv(this.addr, !1, t), le(n, t);
    } else {
        if (ce(n, i)) return;
        Rh.set(i), e1.uniformMatrix3fv(this.addr, !1, Rh), le(n, i);
    }
}
function kg(e1, t) {
    let n = this.cache, i = t.elements;
    if (void 0 === i) {
        if (ce(n, t)) return;
        e1.uniformMatrix4fv(this.addr, !1, t), le(n, t);
    } else {
        if (ce(n, i)) return;
        Th.set(i), e1.uniformMatrix4fv(this.addr, !1, Th), le(n, i);
    }
}
function Vg(e1, t) {
    let n = this.cache;
    n[0] !== t && (e1.uniform1i(this.addr, t), n[0] = t);
}
function Hg(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y) && (e1.uniform2i(this.addr, t.x, t.y), n[0] = t.x, n[1] = t.y);
    else {
        if (ce(n, t)) return;
        e1.uniform2iv(this.addr, t), le(n, t);
    }
}
function Gg(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y || n[2] !== t.z) && (e1.uniform3i(this.addr, t.x, t.y, t.z), n[0] = t.x, n[1] = t.y, n[2] = t.z);
    else {
        if (ce(n, t)) return;
        e1.uniform3iv(this.addr, t), le(n, t);
    }
}
function Wg(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y || n[2] !== t.z || n[3] !== t.w) && (e1.uniform4i(this.addr, t.x, t.y, t.z, t.w), n[0] = t.x, n[1] = t.y, n[2] = t.z, n[3] = t.w);
    else {
        if (ce(n, t)) return;
        e1.uniform4iv(this.addr, t), le(n, t);
    }
}
function Xg(e1, t) {
    let n = this.cache;
    n[0] !== t && (e1.uniform1ui(this.addr, t), n[0] = t);
}
function qg(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y) && (e1.uniform2ui(this.addr, t.x, t.y), n[0] = t.x, n[1] = t.y);
    else {
        if (ce(n, t)) return;
        e1.uniform2uiv(this.addr, t), le(n, t);
    }
}
function Yg(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y || n[2] !== t.z) && (e1.uniform3ui(this.addr, t.x, t.y, t.z), n[0] = t.x, n[1] = t.y, n[2] = t.z);
    else {
        if (ce(n, t)) return;
        e1.uniform3uiv(this.addr, t), le(n, t);
    }
}
function Zg(e1, t) {
    let n = this.cache;
    if (void 0 !== t.x) (n[0] !== t.x || n[1] !== t.y || n[2] !== t.z || n[3] !== t.w) && (e1.uniform4ui(this.addr, t.x, t.y, t.z, t.w), n[0] = t.x, n[1] = t.y, n[2] = t.z, n[3] = t.w);
    else {
        if (ce(n, t)) return;
        e1.uniform4uiv(this.addr, t), le(n, t);
    }
}
function Jg(e1, t, n) {
    let i = this.cache, r = n.allocateTextureUnit();
    i[0] !== r && (e1.uniform1i(this.addr, r), i[0] = r);
    let a = this.type === e1.SAMPLER_2D_SHADOW ? Vu : ku;
    n.setTexture2D(t || a, r);
}
function $g(e1, t, n) {
    let i = this.cache, r = n.allocateTextureUnit();
    i[0] !== r && (e1.uniform1i(this.addr, r), i[0] = r), n.setTexture3D(t || Gu, r);
}
function Kg(e1, t, n) {
    let i = this.cache, r = n.allocateTextureUnit();
    i[0] !== r && (e1.uniform1i(this.addr, r), i[0] = r), n.setTextureCube(t || Wu, r);
}
function Qg(e1, t, n) {
    let i = this.cache, r = n.allocateTextureUnit();
    i[0] !== r && (e1.uniform1i(this.addr, r), i[0] = r), n.setTexture2DArray(t || Hu, r);
}
function jg(e1) {
    switch(e1){
        case 5126:
            return Dg;
        case 35664:
            return Ng;
        case 35665:
            return Og;
        case 35666:
            return Fg;
        case 35674:
            return Bg;
        case 35675:
            return zg;
        case 35676:
            return kg;
        case 5124:
        case 35670:
            return Vg;
        case 35667:
        case 35671:
            return Hg;
        case 35668:
        case 35672:
            return Gg;
        case 35669:
        case 35673:
            return Wg;
        case 5125:
            return Xg;
        case 36294:
            return qg;
        case 36295:
            return Yg;
        case 36296:
            return Zg;
        case 35678:
        case 36198:
        case 36298:
        case 36306:
        case 35682:
            return Jg;
        case 35679:
        case 36299:
        case 36307:
            return $g;
        case 35680:
        case 36300:
        case 36308:
        case 36293:
            return Kg;
        case 36289:
        case 36303:
        case 36311:
        case 36292:
            return Qg;
    }
}
function t_(e1, t) {
    e1.uniform1fv(this.addr, t);
}
function e_(e1, t) {
    let n = wi(t, this.size, 2);
    e1.uniform2fv(this.addr, n);
}
function n_(e1, t) {
    let n = wi(t, this.size, 3);
    e1.uniform3fv(this.addr, n);
}
function i_(e1, t) {
    let n = wi(t, this.size, 4);
    e1.uniform4fv(this.addr, n);
}
function s_(e1, t) {
    let n = wi(t, this.size, 4);
    e1.uniformMatrix2fv(this.addr, !1, n);
}
function r_(e1, t) {
    let n = wi(t, this.size, 9);
    e1.uniformMatrix3fv(this.addr, !1, n);
}
function a_(e1, t) {
    let n = wi(t, this.size, 16);
    e1.uniformMatrix4fv(this.addr, !1, n);
}
function o_(e1, t) {
    e1.uniform1iv(this.addr, t);
}
function c_(e1, t) {
    e1.uniform2iv(this.addr, t);
}
function l_(e1, t) {
    e1.uniform3iv(this.addr, t);
}
function h_(e1, t) {
    e1.uniform4iv(this.addr, t);
}
function u_(e1, t) {
    e1.uniform1uiv(this.addr, t);
}
function d_(e1, t) {
    e1.uniform2uiv(this.addr, t);
}
function f_(e1, t) {
    e1.uniform3uiv(this.addr, t);
}
function p_(e1, t) {
    e1.uniform4uiv(this.addr, t);
}
function m_(e1, t, n) {
    let i = this.cache, r = t.length, a = Mr(n, r);
    ce(i, a) || (e1.uniform1iv(this.addr, a), le(i, a));
    for(let e1 = 0; e1 !== r; ++e1)n.setTexture2D(t[e1] || ku, a[e1]);
}
function g_(e1, t, n) {
    let i = this.cache, r = t.length, a = Mr(n, r);
    ce(i, a) || (e1.uniform1iv(this.addr, a), le(i, a));
    for(let e1 = 0; e1 !== r; ++e1)n.setTexture3D(t[e1] || Gu, a[e1]);
}
function __(e1, t, n) {
    let i = this.cache, r = t.length, a = Mr(n, r);
    ce(i, a) || (e1.uniform1iv(this.addr, a), le(i, a));
    for(let e1 = 0; e1 !== r; ++e1)n.setTextureCube(t[e1] || Wu, a[e1]);
}
function x_(e1, t, n) {
    let i = this.cache, r = t.length, a = Mr(n, r);
    ce(i, a) || (e1.uniform1iv(this.addr, a), le(i, a));
    for(let e1 = 0; e1 !== r; ++e1)n.setTexture2DArray(t[e1] || Hu, a[e1]);
}
function v_(e1) {
    switch(e1){
        case 5126:
            return t_;
        case 35664:
            return e_;
        case 35665:
            return n_;
        case 35666:
            return i_;
        case 35674:
            return s_;
        case 35675:
            return r_;
        case 35676:
            return a_;
        case 5124:
        case 35670:
            return o_;
        case 35667:
        case 35671:
            return c_;
        case 35668:
        case 35672:
            return l_;
        case 35669:
        case 35673:
            return h_;
        case 5125:
            return u_;
        case 36294:
            return d_;
        case 36295:
            return f_;
        case 36296:
            return p_;
        case 35678:
        case 36198:
        case 36298:
        case 36306:
        case 35682:
            return m_;
        case 35679:
        case 36299:
        case 36307:
            return g_;
        case 35680:
        case 36300:
        case 36308:
        case 36293:
            return __;
        case 36289:
        case 36303:
        case 36311:
        case 36292:
            return x_;
    }
}
(0, _chunkZRT45YCMJs.a)(wi, "flatten"), (0, _chunkZRT45YCMJs.a)(ce, "arraysEqual"), (0, _chunkZRT45YCMJs.a)(le, "copyArray"), (0, _chunkZRT45YCMJs.a)(Mr, "allocTexUnits"), (0, _chunkZRT45YCMJs.a)(Dg, "setValueV1f"), (0, _chunkZRT45YCMJs.a)(Ng, "setValueV2f"), (0, _chunkZRT45YCMJs.a)(Og, "setValueV3f"), (0, _chunkZRT45YCMJs.a)(Fg, "setValueV4f"), (0, _chunkZRT45YCMJs.a)(Bg, "setValueM2"), (0, _chunkZRT45YCMJs.a)(zg, "setValueM3"), (0, _chunkZRT45YCMJs.a)(kg, "setValueM4"), (0, _chunkZRT45YCMJs.a)(Vg, "setValueV1i"), (0, _chunkZRT45YCMJs.a)(Hg, "setValueV2i"), (0, _chunkZRT45YCMJs.a)(Gg, "setValueV3i"), (0, _chunkZRT45YCMJs.a)(Wg, "setValueV4i"), (0, _chunkZRT45YCMJs.a)(Xg, "setValueV1ui"), (0, _chunkZRT45YCMJs.a)(qg, "setValueV2ui"), (0, _chunkZRT45YCMJs.a)(Yg, "setValueV3ui"), (0, _chunkZRT45YCMJs.a)(Zg, "setValueV4ui"), (0, _chunkZRT45YCMJs.a)(Jg, "setValueT1"), (0, _chunkZRT45YCMJs.a)($g, "setValueT3D1"), (0, _chunkZRT45YCMJs.a)(Kg, "setValueT6"), (0, _chunkZRT45YCMJs.a)(Qg, "setValueT2DArray1"), (0, _chunkZRT45YCMJs.a)(jg, "getSingularSetter"), (0, _chunkZRT45YCMJs.a)(t_, "setValueV1fArray"), (0, _chunkZRT45YCMJs.a)(e_, "setValueV2fArray"), (0, _chunkZRT45YCMJs.a)(n_, "setValueV3fArray"), (0, _chunkZRT45YCMJs.a)(i_, "setValueV4fArray"), (0, _chunkZRT45YCMJs.a)(s_, "setValueM2Array"), (0, _chunkZRT45YCMJs.a)(r_, "setValueM3Array"), (0, _chunkZRT45YCMJs.a)(a_, "setValueM4Array"), (0, _chunkZRT45YCMJs.a)(o_, "setValueV1iArray"), (0, _chunkZRT45YCMJs.a)(c_, "setValueV2iArray"), (0, _chunkZRT45YCMJs.a)(l_, "setValueV3iArray"), (0, _chunkZRT45YCMJs.a)(h_, "setValueV4iArray"), (0, _chunkZRT45YCMJs.a)(u_, "setValueV1uiArray"), (0, _chunkZRT45YCMJs.a)(d_, "setValueV2uiArray"), (0, _chunkZRT45YCMJs.a)(f_, "setValueV3uiArray"), (0, _chunkZRT45YCMJs.a)(p_, "setValueV4uiArray"), (0, _chunkZRT45YCMJs.a)(m_, "setValueT1Array"), (0, _chunkZRT45YCMJs.a)(g_, "setValueT3DArray"), (0, _chunkZRT45YCMJs.a)(__, "setValueT6Array"), (0, _chunkZRT45YCMJs.a)(x_, "setValueT2DArrayArray"), (0, _chunkZRT45YCMJs.a)(v_, "getPureArraySetter");
var Xo = class {
    constructor(e1, t, n){
        this.id = e1, this.addr = n, this.cache = [], this.type = t.type, this.setValue = jg(t.type);
    }
};
(0, _chunkZRT45YCMJs.a)(Xo, "SingleUniform");
var ba = Xo, qo = class {
    constructor(e1, t, n){
        this.id = e1, this.addr = n, this.cache = [], this.type = t.type, this.size = t.size, this.setValue = v_(t.type);
    }
};
(0, _chunkZRT45YCMJs.a)(qo, "PureArrayUniform");
var Ea = qo, Yo = class {
    constructor(e1){
        this.id = e1, this.seq = [], this.map = {};
    }
    setValue(e1, t, n) {
        let i = this.seq;
        for(let r = 0, a = i.length; r !== a; ++r){
            let a = i[r];
            a.setValue(e1, t[a.id], n);
        }
    }
};
(0, _chunkZRT45YCMJs.a)(Yo, "StructuredUniform");
var wa = Yo, ia = /(\w+)(\])?(\[|\.)?/g;
function Ph(e1, t) {
    e1.seq.push(t), e1.map[t.id] = t;
}
function y_(e1, t, n) {
    let i = e1.name, r = i.length;
    for(ia.lastIndex = 0;;){
        let a = ia.exec(i), s = ia.lastIndex, o = a[1], l = "]" === a[2], u = a[3];
        if (l && (o |= 0), void 0 === u || "[" === u && s + 2 === r) {
            Ph(n, void 0 === u ? new ba(o, e1, t) : new Ea(o, e1, t));
            break;
        }
        {
            let e1 = n.map[o];
            void 0 === e1 && (e1 = new wa(o), Ph(n, e1)), n = e1;
        }
    }
}
(0, _chunkZRT45YCMJs.a)(Ph, "addUniform"), (0, _chunkZRT45YCMJs.a)(y_, "parseUniform");
var Zo = class {
    constructor(e1, t){
        this.seq = [], this.map = {};
        let n = e1.getProgramParameter(t, e1.ACTIVE_UNIFORMS);
        for(let i = 0; i < n; ++i){
            let n = e1.getActiveUniform(t, i);
            y_(n, e1.getUniformLocation(t, n.name), this);
        }
    }
    setValue(e1, t, n, i) {
        let r = this.map[t];
        void 0 !== r && r.setValue(e1, n, i);
    }
    setOptional(e1, t, n) {
        let i = t[n];
        void 0 !== i && this.setValue(e1, n, i);
    }
    static upload(e1, t, n, i) {
        for(let r = 0, a = t.length; r !== a; ++r){
            let a = t[r], s = n[a.id];
            !1 !== s.needsUpdate && a.setValue(e1, s.value, i);
        }
    }
    static seqWithValue(e1, t) {
        let n = [];
        for(let i = 0, r = e1.length; i !== r; ++i){
            let r = e1[i];
            r.id in t && n.push(r);
        }
        return n;
    }
};
(0, _chunkZRT45YCMJs.a)(Zo, "WebGLUniforms");
var gi = Zo;
function Ih(e1, t, n) {
    let i = e1.createShader(t);
    return e1.shaderSource(i, n), e1.compileShader(i), i;
}
(0, _chunkZRT45YCMJs.a)(Ih, "WebGLShader");
var M_ = 37297, S_ = 0;
function b_(e1, t) {
    let n = e1.split("\n"), i = [], r = Math.max(t - 6, 0), a = Math.min(t + 6, n.length);
    for(let e1 = r; e1 < a; e1++){
        let r = e1 + 1;
        i.push("".concat(r === t ? ">" : " ", " ").concat(r, ": ").concat(n[e1]));
    }
    return i.join("\n");
}
function E_(e1) {
    let t, n = Yt.getPrimaries(Yt.workingColorSpace), i = Yt.getPrimaries(e1);
    switch(n === i ? t = "" : n === Fs && i === Os ? t = "LinearDisplayP3ToLinearSRGB" : n === Os && i === Fs && (t = "LinearSRGBToLinearDisplayP3"), e1){
        case En:
        case yr:
            return [
                t,
                "LinearTransferOETF"
            ];
        case Xe:
        case oo:
            return [
                t,
                "sRGBTransferOETF"
            ];
        default:
            return console.warn("THREE.WebGLProgram: Unsupported color space:", e1), [
                t,
                "LinearTransferOETF"
            ];
    }
}
function Lh(e1, t, n) {
    let i = e1.getShaderParameter(t, e1.COMPILE_STATUS), r = e1.getShaderInfoLog(t).trim();
    if (i && "" === r) return "";
    let a = /ERROR: 0:(\d+)/.exec(r);
    if (a) {
        let i = parseInt(a[1]);
        return n.toUpperCase() + "\n\n" + r + "\n\n" + b_(e1.getShaderSource(t), i);
    }
    return r;
}
function w_(e1, t) {
    let n = E_(t);
    return "vec4 ".concat(e1, "( vec4 value ) { return ").concat(n[0], "( ").concat(n[1], "( value ) ); }");
}
function A_(e1, t) {
    let n;
    switch(t){
        case Td:
            n = "Linear";
            break;
        case Rd:
            n = "Reinhard";
            break;
        case Cd:
            n = "OptimizedCineon";
            break;
        case Pd:
            n = "ACESFilmic";
            break;
        case Ld:
            n = "AgX";
            break;
        case Ud:
            n = "Neutral";
            break;
        case Id:
            n = "Custom";
            break;
        default:
            console.warn("THREE.WebGLProgram: Unsupported toneMapping:", t), n = "Linear";
    }
    return "vec3 " + e1 + "( vec3 color ) { return " + n + "ToneMapping( color ); }";
}
function T_(e1) {
    return [
        e1.extensionDerivatives || e1.envMapCubeUVHeight || e1.bumpMap || e1.normalMapTangentSpace || e1.clearcoatNormalMap || e1.flatShading || e1.alphaToCoverage || "physical" === e1.shaderID ? "#extension GL_OES_standard_derivatives : enable" : "",
        (e1.extensionFragDepth || e1.logarithmicDepthBuffer) && e1.rendererExtensionFragDepth ? "#extension GL_EXT_frag_depth : enable" : "",
        e1.extensionDrawBuffers && e1.rendererExtensionDrawBuffers ? "#extension GL_EXT_draw_buffers : require" : "",
        (e1.extensionShaderTextureLOD || e1.envMap || e1.transmission) && e1.rendererExtensionShaderTextureLod ? "#extension GL_EXT_shader_texture_lod : enable" : ""
    ].filter(ci).join("\n");
}
function R_(e1) {
    return [
        e1.extensionClipCullDistance ? "#extension GL_ANGLE_clip_cull_distance : require" : "",
        e1.extensionMultiDraw ? "#extension GL_ANGLE_multi_draw : require" : ""
    ].filter(ci).join("\n");
}
function C_(e1) {
    let t = [];
    for(let n in e1){
        let i = e1[n];
        !1 !== i && t.push("#define " + n + " " + i);
    }
    return t.join("\n");
}
function P_(e1, t) {
    let n = {}, i = e1.getProgramParameter(t, e1.ACTIVE_ATTRIBUTES);
    for(let r = 0; r < i; r++){
        let i = e1.getActiveAttrib(t, r), a = i.name, s = 1;
        i.type === e1.FLOAT_MAT2 && (s = 2), i.type === e1.FLOAT_MAT3 && (s = 3), i.type === e1.FLOAT_MAT4 && (s = 4), n[a] = {
            type: i.type,
            location: e1.getAttribLocation(t, a),
            locationSize: s
        };
    }
    return n;
}
function ci(e1) {
    return "" !== e1;
}
function Uh(e1, t) {
    let n = t.numSpotLightShadows + t.numSpotLightMaps - t.numSpotLightShadowsWithMaps;
    return e1.replace(/NUM_DIR_LIGHTS/g, t.numDirLights).replace(/NUM_SPOT_LIGHTS/g, t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g, t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g, n).replace(/NUM_RECT_AREA_LIGHTS/g, t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, t.numPointLights).replace(/NUM_HEMI_LIGHTS/g, t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g, t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g, t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, t.numPointLightShadows);
}
function Dh(e1, t) {
    return e1.replace(/NUM_CLIPPING_PLANES/g, t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, t.numClippingPlanes - t.numClipIntersection);
}
(0, _chunkZRT45YCMJs.a)(b_, "handleSource"), (0, _chunkZRT45YCMJs.a)(E_, "getEncodingComponents"), (0, _chunkZRT45YCMJs.a)(Lh, "getShaderErrors"), (0, _chunkZRT45YCMJs.a)(w_, "getTexelEncodingFunction"), (0, _chunkZRT45YCMJs.a)(A_, "getToneMappingFunction"), (0, _chunkZRT45YCMJs.a)(T_, "generateExtensions"), (0, _chunkZRT45YCMJs.a)(R_, "generateVertexExtensions"), (0, _chunkZRT45YCMJs.a)(C_, "generateDefines"), (0, _chunkZRT45YCMJs.a)(P_, "fetchAttributeLocations"), (0, _chunkZRT45YCMJs.a)(ci, "filterEmptyLine"), (0, _chunkZRT45YCMJs.a)(Uh, "replaceLightNums"), (0, _chunkZRT45YCMJs.a)(Dh, "replaceClippingPlaneNums");
var I_ = /^[ \t]*#include +<([\w\d./]+)>/gm;
function Aa(e1) {
    return e1.replace(I_, U_);
}
(0, _chunkZRT45YCMJs.a)(Aa, "resolveIncludes");
var L_ = new Map([
    [
        "encodings_fragment",
        "colorspace_fragment"
    ],
    [
        "encodings_pars_fragment",
        "colorspace_pars_fragment"
    ],
    [
        "output_fragment",
        "opaque_fragment"
    ]
]);
function U_(e1, t) {
    let n = Bt[t];
    if (void 0 === n) {
        let e1 = L_.get(t);
        if (void 0 === e1) throw new Error("Can not resolve #include <" + t + ">");
        n = Bt[e1], console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.', t, e1);
    }
    return Aa(n);
}
(0, _chunkZRT45YCMJs.a)(U_, "includeReplacer");
var D_ = /#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;
function Nh(e1) {
    return e1.replace(D_, N_);
}
function N_(e1, t, n, i) {
    let r = "";
    for(let e1 = parseInt(t); e1 < parseInt(n); e1++)r += i.replace(/\[\s*i\s*\]/g, "[ " + e1 + " ]").replace(/UNROLLED_LOOP_INDEX/g, e1);
    return r;
}
function Oh(e1) {
    let t = "precision ".concat(e1.precision, " float;\n	precision ").concat(e1.precision, " int;\n	precision ").concat(e1.precision, " sampler2D;\n	precision ").concat(e1.precision, " samplerCube;\n	");
    return e1.isWebGL2 && (t += "precision ".concat(e1.precision, " sampler3D;\n		precision ").concat(e1.precision, " sampler2DArray;\n		precision ").concat(e1.precision, " sampler2DShadow;\n		precision ").concat(e1.precision, " samplerCubeShadow;\n		precision ").concat(e1.precision, " sampler2DArrayShadow;\n		precision ").concat(e1.precision, " isampler2D;\n		precision ").concat(e1.precision, " isampler3D;\n		precision ").concat(e1.precision, " isamplerCube;\n		precision ").concat(e1.precision, " isampler2DArray;\n		precision ").concat(e1.precision, " usampler2D;\n		precision ").concat(e1.precision, " usampler3D;\n		precision ").concat(e1.precision, " usamplerCube;\n		precision ").concat(e1.precision, " usampler2DArray;\n		")), "highp" === e1.precision ? t += "\n#define HIGH_PRECISION" : "mediump" === e1.precision ? t += "\n#define MEDIUM_PRECISION" : "lowp" === e1.precision && (t += "\n#define LOW_PRECISION"), t;
}
function O_(e1) {
    let t = "SHADOWMAP_TYPE_BASIC";
    return e1.shadowMapType === Au ? t = "SHADOWMAP_TYPE_PCF" : e1.shadowMapType === ed ? t = "SHADOWMAP_TYPE_PCF_SOFT" : e1.shadowMapType === tn && (t = "SHADOWMAP_TYPE_VSM"), t;
}
function F_(e1) {
    let t = "ENVMAP_TYPE_CUBE";
    if (e1.envMap) switch(e1.envMapMode){
        case vi:
        case yi:
            t = "ENVMAP_TYPE_CUBE";
            break;
        case vr:
            t = "ENVMAP_TYPE_CUBE_UV";
    }
    return t;
}
function B_(e1) {
    let t = "ENVMAP_MODE_REFLECTION";
    if (e1.envMap && e1.envMapMode === yi) t = "ENVMAP_MODE_REFRACTION";
    return t;
}
function z_(e1) {
    let t = "ENVMAP_BLENDING_NONE";
    if (e1.envMap) switch(e1.combine){
        case so:
            t = "ENVMAP_BLENDING_MULTIPLY";
            break;
        case wd:
            t = "ENVMAP_BLENDING_MIX";
            break;
        case Ad:
            t = "ENVMAP_BLENDING_ADD";
    }
    return t;
}
function k_(e1) {
    let t = e1.envMapCubeUVHeight;
    if (null === t) return null;
    let n = Math.log2(t) - 2, i = 1 / t;
    return {
        texelWidth: 1 / (3 * Math.max(Math.pow(2, n), 112)),
        texelHeight: i,
        maxMip: n
    };
}
function V_(e1, t, n, i) {
    let r, a, s = e1.getContext(), o = n.defines, l = n.vertexShader, h = n.fragmentShader, c = O_(n), d = F_(n), p = B_(n), f = z_(n), m = k_(n), g = n.isWebGL2 ? "" : T_(n), _ = R_(n), v = C_(o), x = s.createProgram(), y = n.glslVersion ? "#version " + n.glslVersion + "\n" : "";
    n.isRawShaderMaterial ? (r = [
        "#define SHADER_TYPE " + n.shaderType,
        "#define SHADER_NAME " + n.shaderName,
        v
    ].filter(ci).join("\n"), r.length > 0 && (r += "\n"), a = [
        g,
        "#define SHADER_TYPE " + n.shaderType,
        "#define SHADER_NAME " + n.shaderName,
        v
    ].filter(ci).join("\n"), a.length > 0 && (a += "\n")) : (r = [
        Oh(n),
        "#define SHADER_TYPE " + n.shaderType,
        "#define SHADER_NAME " + n.shaderName,
        v,
        n.extensionClipCullDistance ? "#define USE_CLIP_DISTANCE" : "",
        n.batching ? "#define USE_BATCHING" : "",
        n.instancing ? "#define USE_INSTANCING" : "",
        n.instancingColor ? "#define USE_INSTANCING_COLOR" : "",
        n.instancingMorph ? "#define USE_INSTANCING_MORPH" : "",
        n.useFog && n.fog ? "#define USE_FOG" : "",
        n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "",
        n.map ? "#define USE_MAP" : "",
        n.envMap ? "#define USE_ENVMAP" : "",
        n.envMap ? "#define " + p : "",
        n.lightMap ? "#define USE_LIGHTMAP" : "",
        n.aoMap ? "#define USE_AOMAP" : "",
        n.bumpMap ? "#define USE_BUMPMAP" : "",
        n.normalMap ? "#define USE_NORMALMAP" : "",
        n.normalMapObjectSpace ? "#define USE_NORMALMAP_OBJECTSPACE" : "",
        n.normalMapTangentSpace ? "#define USE_NORMALMAP_TANGENTSPACE" : "",
        n.displacementMap ? "#define USE_DISPLACEMENTMAP" : "",
        n.emissiveMap ? "#define USE_EMISSIVEMAP" : "",
        n.anisotropy ? "#define USE_ANISOTROPY" : "",
        n.anisotropyMap ? "#define USE_ANISOTROPYMAP" : "",
        n.clearcoatMap ? "#define USE_CLEARCOATMAP" : "",
        n.clearcoatRoughnessMap ? "#define USE_CLEARCOAT_ROUGHNESSMAP" : "",
        n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "",
        n.iridescenceMap ? "#define USE_IRIDESCENCEMAP" : "",
        n.iridescenceThicknessMap ? "#define USE_IRIDESCENCE_THICKNESSMAP" : "",
        n.specularMap ? "#define USE_SPECULARMAP" : "",
        n.specularColorMap ? "#define USE_SPECULAR_COLORMAP" : "",
        n.specularIntensityMap ? "#define USE_SPECULAR_INTENSITYMAP" : "",
        n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "",
        n.metalnessMap ? "#define USE_METALNESSMAP" : "",
        n.alphaMap ? "#define USE_ALPHAMAP" : "",
        n.alphaHash ? "#define USE_ALPHAHASH" : "",
        n.transmission ? "#define USE_TRANSMISSION" : "",
        n.transmissionMap ? "#define USE_TRANSMISSIONMAP" : "",
        n.thicknessMap ? "#define USE_THICKNESSMAP" : "",
        n.sheenColorMap ? "#define USE_SHEEN_COLORMAP" : "",
        n.sheenRoughnessMap ? "#define USE_SHEEN_ROUGHNESSMAP" : "",
        n.mapUv ? "#define MAP_UV " + n.mapUv : "",
        n.alphaMapUv ? "#define ALPHAMAP_UV " + n.alphaMapUv : "",
        n.lightMapUv ? "#define LIGHTMAP_UV " + n.lightMapUv : "",
        n.aoMapUv ? "#define AOMAP_UV " + n.aoMapUv : "",
        n.emissiveMapUv ? "#define EMISSIVEMAP_UV " + n.emissiveMapUv : "",
        n.bumpMapUv ? "#define BUMPMAP_UV " + n.bumpMapUv : "",
        n.normalMapUv ? "#define NORMALMAP_UV " + n.normalMapUv : "",
        n.displacementMapUv ? "#define DISPLACEMENTMAP_UV " + n.displacementMapUv : "",
        n.metalnessMapUv ? "#define METALNESSMAP_UV " + n.metalnessMapUv : "",
        n.roughnessMapUv ? "#define ROUGHNESSMAP_UV " + n.roughnessMapUv : "",
        n.anisotropyMapUv ? "#define ANISOTROPYMAP_UV " + n.anisotropyMapUv : "",
        n.clearcoatMapUv ? "#define CLEARCOATMAP_UV " + n.clearcoatMapUv : "",
        n.clearcoatNormalMapUv ? "#define CLEARCOAT_NORMALMAP_UV " + n.clearcoatNormalMapUv : "",
        n.clearcoatRoughnessMapUv ? "#define CLEARCOAT_ROUGHNESSMAP_UV " + n.clearcoatRoughnessMapUv : "",
        n.iridescenceMapUv ? "#define IRIDESCENCEMAP_UV " + n.iridescenceMapUv : "",
        n.iridescenceThicknessMapUv ? "#define IRIDESCENCE_THICKNESSMAP_UV " + n.iridescenceThicknessMapUv : "",
        n.sheenColorMapUv ? "#define SHEEN_COLORMAP_UV " + n.sheenColorMapUv : "",
        n.sheenRoughnessMapUv ? "#define SHEEN_ROUGHNESSMAP_UV " + n.sheenRoughnessMapUv : "",
        n.specularMapUv ? "#define SPECULARMAP_UV " + n.specularMapUv : "",
        n.specularColorMapUv ? "#define SPECULAR_COLORMAP_UV " + n.specularColorMapUv : "",
        n.specularIntensityMapUv ? "#define SPECULAR_INTENSITYMAP_UV " + n.specularIntensityMapUv : "",
        n.transmissionMapUv ? "#define TRANSMISSIONMAP_UV " + n.transmissionMapUv : "",
        n.thicknessMapUv ? "#define THICKNESSMAP_UV " + n.thicknessMapUv : "",
        n.vertexTangents && !1 === n.flatShading ? "#define USE_TANGENT" : "",
        n.vertexColors ? "#define USE_COLOR" : "",
        n.vertexAlphas ? "#define USE_COLOR_ALPHA" : "",
        n.vertexUv1s ? "#define USE_UV1" : "",
        n.vertexUv2s ? "#define USE_UV2" : "",
        n.vertexUv3s ? "#define USE_UV3" : "",
        n.pointsUvs ? "#define USE_POINTS_UV" : "",
        n.flatShading ? "#define FLAT_SHADED" : "",
        n.skinning ? "#define USE_SKINNING" : "",
        n.morphTargets ? "#define USE_MORPHTARGETS" : "",
        n.morphNormals && !1 === n.flatShading ? "#define USE_MORPHNORMALS" : "",
        n.morphColors && n.isWebGL2 ? "#define USE_MORPHCOLORS" : "",
        n.morphTargetsCount > 0 && n.isWebGL2 ? "#define MORPHTARGETS_TEXTURE" : "",
        n.morphTargetsCount > 0 && n.isWebGL2 ? "#define MORPHTARGETS_TEXTURE_STRIDE " + n.morphTextureStride : "",
        n.morphTargetsCount > 0 && n.isWebGL2 ? "#define MORPHTARGETS_COUNT " + n.morphTargetsCount : "",
        n.doubleSided ? "#define DOUBLE_SIDED" : "",
        n.flipSided ? "#define FLIP_SIDED" : "",
        n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
        n.shadowMapEnabled ? "#define " + c : "",
        n.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "",
        n.numLightProbes > 0 ? "#define USE_LIGHT_PROBES" : "",
        n.useLegacyLights ? "#define LEGACY_LIGHTS" : "",
        n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
        n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "",
        "uniform mat4 modelMatrix;",
        "uniform mat4 modelViewMatrix;",
        "uniform mat4 projectionMatrix;",
        "uniform mat4 viewMatrix;",
        "uniform mat3 normalMatrix;",
        "uniform vec3 cameraPosition;",
        "uniform bool isOrthographic;",
        "#ifdef USE_INSTANCING",
        "	attribute mat4 instanceMatrix;",
        "#endif",
        "#ifdef USE_INSTANCING_COLOR",
        "	attribute vec3 instanceColor;",
        "#endif",
        "#ifdef USE_INSTANCING_MORPH",
        "	uniform sampler2D morphTexture;",
        "#endif",
        "attribute vec3 position;",
        "attribute vec3 normal;",
        "attribute vec2 uv;",
        "#ifdef USE_UV1",
        "	attribute vec2 uv1;",
        "#endif",
        "#ifdef USE_UV2",
        "	attribute vec2 uv2;",
        "#endif",
        "#ifdef USE_UV3",
        "	attribute vec2 uv3;",
        "#endif",
        "#ifdef USE_TANGENT",
        "	attribute vec4 tangent;",
        "#endif",
        "#if defined( USE_COLOR_ALPHA )",
        "	attribute vec4 color;",
        "#elif defined( USE_COLOR )",
        "	attribute vec3 color;",
        "#endif",
        "#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )",
        "	attribute vec3 morphTarget0;",
        "	attribute vec3 morphTarget1;",
        "	attribute vec3 morphTarget2;",
        "	attribute vec3 morphTarget3;",
        "	#ifdef USE_MORPHNORMALS",
        "		attribute vec3 morphNormal0;",
        "		attribute vec3 morphNormal1;",
        "		attribute vec3 morphNormal2;",
        "		attribute vec3 morphNormal3;",
        "	#else",
        "		attribute vec3 morphTarget4;",
        "		attribute vec3 morphTarget5;",
        "		attribute vec3 morphTarget6;",
        "		attribute vec3 morphTarget7;",
        "	#endif",
        "#endif",
        "#ifdef USE_SKINNING",
        "	attribute vec4 skinIndex;",
        "	attribute vec4 skinWeight;",
        "#endif",
        "\n"
    ].filter(ci).join("\n"), a = [
        g,
        Oh(n),
        "#define SHADER_TYPE " + n.shaderType,
        "#define SHADER_NAME " + n.shaderName,
        v,
        n.useFog && n.fog ? "#define USE_FOG" : "",
        n.useFog && n.fogExp2 ? "#define FOG_EXP2" : "",
        n.alphaToCoverage ? "#define ALPHA_TO_COVERAGE" : "",
        n.map ? "#define USE_MAP" : "",
        n.matcap ? "#define USE_MATCAP" : "",
        n.envMap ? "#define USE_ENVMAP" : "",
        n.envMap ? "#define " + d : "",
        n.envMap ? "#define " + p : "",
        n.envMap ? "#define " + f : "",
        m ? "#define CUBEUV_TEXEL_WIDTH " + m.texelWidth : "",
        m ? "#define CUBEUV_TEXEL_HEIGHT " + m.texelHeight : "",
        m ? "#define CUBEUV_MAX_MIP " + m.maxMip + ".0" : "",
        n.lightMap ? "#define USE_LIGHTMAP" : "",
        n.aoMap ? "#define USE_AOMAP" : "",
        n.bumpMap ? "#define USE_BUMPMAP" : "",
        n.normalMap ? "#define USE_NORMALMAP" : "",
        n.normalMapObjectSpace ? "#define USE_NORMALMAP_OBJECTSPACE" : "",
        n.normalMapTangentSpace ? "#define USE_NORMALMAP_TANGENTSPACE" : "",
        n.emissiveMap ? "#define USE_EMISSIVEMAP" : "",
        n.anisotropy ? "#define USE_ANISOTROPY" : "",
        n.anisotropyMap ? "#define USE_ANISOTROPYMAP" : "",
        n.clearcoat ? "#define USE_CLEARCOAT" : "",
        n.clearcoatMap ? "#define USE_CLEARCOATMAP" : "",
        n.clearcoatRoughnessMap ? "#define USE_CLEARCOAT_ROUGHNESSMAP" : "",
        n.clearcoatNormalMap ? "#define USE_CLEARCOAT_NORMALMAP" : "",
        n.iridescence ? "#define USE_IRIDESCENCE" : "",
        n.iridescenceMap ? "#define USE_IRIDESCENCEMAP" : "",
        n.iridescenceThicknessMap ? "#define USE_IRIDESCENCE_THICKNESSMAP" : "",
        n.specularMap ? "#define USE_SPECULARMAP" : "",
        n.specularColorMap ? "#define USE_SPECULAR_COLORMAP" : "",
        n.specularIntensityMap ? "#define USE_SPECULAR_INTENSITYMAP" : "",
        n.roughnessMap ? "#define USE_ROUGHNESSMAP" : "",
        n.metalnessMap ? "#define USE_METALNESSMAP" : "",
        n.alphaMap ? "#define USE_ALPHAMAP" : "",
        n.alphaTest ? "#define USE_ALPHATEST" : "",
        n.alphaHash ? "#define USE_ALPHAHASH" : "",
        n.sheen ? "#define USE_SHEEN" : "",
        n.sheenColorMap ? "#define USE_SHEEN_COLORMAP" : "",
        n.sheenRoughnessMap ? "#define USE_SHEEN_ROUGHNESSMAP" : "",
        n.transmission ? "#define USE_TRANSMISSION" : "",
        n.transmissionMap ? "#define USE_TRANSMISSIONMAP" : "",
        n.thicknessMap ? "#define USE_THICKNESSMAP" : "",
        n.vertexTangents && !1 === n.flatShading ? "#define USE_TANGENT" : "",
        n.vertexColors || n.instancingColor ? "#define USE_COLOR" : "",
        n.vertexAlphas ? "#define USE_COLOR_ALPHA" : "",
        n.vertexUv1s ? "#define USE_UV1" : "",
        n.vertexUv2s ? "#define USE_UV2" : "",
        n.vertexUv3s ? "#define USE_UV3" : "",
        n.pointsUvs ? "#define USE_POINTS_UV" : "",
        n.gradientMap ? "#define USE_GRADIENTMAP" : "",
        n.flatShading ? "#define FLAT_SHADED" : "",
        n.doubleSided ? "#define DOUBLE_SIDED" : "",
        n.flipSided ? "#define FLIP_SIDED" : "",
        n.shadowMapEnabled ? "#define USE_SHADOWMAP" : "",
        n.shadowMapEnabled ? "#define " + c : "",
        n.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "",
        n.numLightProbes > 0 ? "#define USE_LIGHT_PROBES" : "",
        n.useLegacyLights ? "#define LEGACY_LIGHTS" : "",
        n.decodeVideoTexture ? "#define DECODE_VIDEO_TEXTURE" : "",
        n.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "",
        n.logarithmicDepthBuffer && n.rendererExtensionFragDepth ? "#define USE_LOGDEPTHBUF_EXT" : "",
        "uniform mat4 viewMatrix;",
        "uniform vec3 cameraPosition;",
        "uniform bool isOrthographic;",
        n.toneMapping !== xn ? "#define TONE_MAPPING" : "",
        n.toneMapping !== xn ? Bt.tonemapping_pars_fragment : "",
        n.toneMapping !== xn ? A_("toneMapping", n.toneMapping) : "",
        n.dithering ? "#define DITHERING" : "",
        n.opaque ? "#define OPAQUE" : "",
        Bt.colorspace_pars_fragment,
        w_("linearToOutputTexel", n.outputColorSpace),
        n.useDepthPacking ? "#define DEPTH_PACKING " + n.depthPacking : "",
        "\n"
    ].filter(ci).join("\n")), l = Aa(l), l = Uh(l, n), l = Dh(l, n), h = Aa(h), h = Uh(h, n), h = Dh(h, n), l = Nh(l), h = Nh(h), n.isWebGL2 && !0 !== n.isRawShaderMaterial && (y = "#version 300 es\n", r = [
        _,
        "precision mediump sampler2DArray;",
        "#define attribute in",
        "#define varying out",
        "#define texture2D texture"
    ].join("\n") + "\n" + r, a = [
        "precision mediump sampler2DArray;",
        "#define varying in",
        n.glslVersion === jl ? "" : "layout(location = 0) out highp vec4 pc_fragColor;",
        n.glslVersion === jl ? "" : "#define gl_FragColor pc_fragColor",
        "#define gl_FragDepthEXT gl_FragDepth",
        "#define texture2D texture",
        "#define textureCube texture",
        "#define texture2DProj textureProj",
        "#define texture2DLodEXT textureLod",
        "#define texture2DProjLodEXT textureProjLod",
        "#define textureCubeLodEXT textureLod",
        "#define texture2DGradEXT textureGrad",
        "#define texture2DProjGradEXT textureProjGrad",
        "#define textureCubeGradEXT textureGrad"
    ].join("\n") + "\n" + a);
    let M, S, E = y + r + l, T = y + a + h, b = Ih(s, s.VERTEX_SHADER, E), A = Ih(s, s.FRAGMENT_SHADER, T);
    function w(t) {
        if (e1.debug.checkShaderErrors) {
            let n = s.getProgramInfoLog(x).trim(), i = s.getShaderInfoLog(b).trim(), o = s.getShaderInfoLog(A).trim(), l = !0, u = !0;
            if (!1 === s.getProgramParameter(x, s.LINK_STATUS)) {
                if (l = !1, "function" == typeof e1.debug.onShaderError) e1.debug.onShaderError(s, x, b, A);
                else {
                    let e1 = Lh(s, b, "vertex"), i = Lh(s, A, "fragment");
                    console.error("THREE.WebGLProgram: Shader Error " + s.getError() + " - VALIDATE_STATUS " + s.getProgramParameter(x, s.VALIDATE_STATUS) + "\n\nMaterial Name: " + t.name + "\nMaterial Type: " + t.type + "\n\nProgram Info Log: " + n + "\n" + e1 + "\n" + i);
                }
            } else "" !== n ? console.warn("THREE.WebGLProgram: Program Info Log:", n) : ("" === i || "" === o) && (u = !1);
            u && (t.diagnostics = {
                runnable: l,
                programLog: n,
                vertexShader: {
                    log: i,
                    prefix: r
                },
                fragmentShader: {
                    log: o,
                    prefix: a
                }
            });
        }
        s.deleteShader(b), s.deleteShader(A), M = new gi(s, x), S = P_(s, x);
    }
    s.attachShader(x, b), s.attachShader(x, A), void 0 !== n.index0AttributeName ? s.bindAttribLocation(x, 0, n.index0AttributeName) : !0 === n.morphTargets && s.bindAttribLocation(x, 0, "position"), s.linkProgram(x), (0, _chunkZRT45YCMJs.a)(w, "onFirstUse"), this.getUniforms = function() {
        return void 0 === M && w(this), M;
    }, this.getAttributes = function() {
        return void 0 === S && w(this), S;
    };
    let R = !1 === n.rendererExtensionParallelShaderCompile;
    return this.isReady = function() {
        return !1 === R && (R = s.getProgramParameter(x, M_)), R;
    }, this.destroy = function() {
        i.releaseStatesOfProgram(this), s.deleteProgram(x), this.program = void 0;
    }, this.type = n.shaderType, this.name = n.shaderName, this.id = S_++, this.cacheKey = t, this.usedTimes = 1, this.program = x, this.vertexShader = b, this.fragmentShader = A, this;
}
(0, _chunkZRT45YCMJs.a)(Nh, "unrollLoops"), (0, _chunkZRT45YCMJs.a)(N_, "loopReplacer"), (0, _chunkZRT45YCMJs.a)(Oh, "generatePrecision"), (0, _chunkZRT45YCMJs.a)(O_, "generateShadowMapTypeDefine"), (0, _chunkZRT45YCMJs.a)(F_, "generateEnvMapTypeDefine"), (0, _chunkZRT45YCMJs.a)(B_, "generateEnvMapModeDefine"), (0, _chunkZRT45YCMJs.a)(z_, "generateEnvMapBlendingDefine"), (0, _chunkZRT45YCMJs.a)(k_, "generateCubeUVSize"), (0, _chunkZRT45YCMJs.a)(V_, "WebGLProgram");
var H_ = 0, Jo = class {
    constructor(){
        this.shaderCache = new Map, this.materialCache = new Map;
    }
    update(e1) {
        let t = e1.vertexShader, n = e1.fragmentShader, i = this._getShaderStage(t), r = this._getShaderStage(n), a = this._getShaderCacheForMaterial(e1);
        return !1 === a.has(i) && (a.add(i), i.usedTimes++), !1 === a.has(r) && (a.add(r), r.usedTimes++), this;
    }
    remove(e1) {
        let t = this.materialCache.get(e1);
        for (let e1 of t)e1.usedTimes--, 0 === e1.usedTimes && this.shaderCache.delete(e1.code);
        return this.materialCache.delete(e1), this;
    }
    getVertexShaderID(e1) {
        return this._getShaderStage(e1.vertexShader).id;
    }
    getFragmentShaderID(e1) {
        return this._getShaderStage(e1.fragmentShader).id;
    }
    dispose() {
        this.shaderCache.clear(), this.materialCache.clear();
    }
    _getShaderCacheForMaterial(e1) {
        let t = this.materialCache, n = t.get(e1);
        return void 0 === n && (n = new Set, t.set(e1, n)), n;
    }
    _getShaderStage(e1) {
        let t = this.shaderCache, n = t.get(e1);
        return void 0 === n && (n = new Ra(e1), t.set(e1, n)), n;
    }
};
(0, _chunkZRT45YCMJs.a)(Jo, "WebGLShaderCache");
var Ta = Jo, $o = class {
    constructor(e1){
        this.id = H_++, this.code = e1, this.usedTimes = 0;
    }
};
(0, _chunkZRT45YCMJs.a)($o, "WebGLShaderStage");
var Ra = $o;
function G_(e1, t, n, i, r, a, s) {
    let o = new Hi, l = new Ta, h = new Set, c = [], d = r.isWebGL2, p = r.logarithmicDepthBuffer, f = r.vertexTextures, m = r.precision, g = {
        MeshDepthMaterial: "depth",
        MeshDistanceMaterial: "distanceRGBA",
        MeshNormalMaterial: "normal",
        MeshBasicMaterial: "basic",
        MeshLambertMaterial: "lambert",
        MeshPhongMaterial: "phong",
        MeshToonMaterial: "toon",
        MeshStandardMaterial: "physical",
        MeshPhysicalMaterial: "physical",
        MeshMatcapMaterial: "matcap",
        LineBasicMaterial: "basic",
        LineDashedMaterial: "dashed",
        PointsMaterial: "points",
        ShadowMaterial: "shadow",
        SpriteMaterial: "sprite"
    };
    function _(e1) {
        return h.add(e1), 0 === e1 ? "uv" : "uv".concat(e1);
    }
    function v(a, o, u, c, v) {
        let x = c.fog, y = v.geometry, M = a.isMeshStandardMaterial ? c.environment : null, S = (a.isMeshStandardMaterial ? n : t).get(a.envMap || M), E = S && S.mapping === vr ? S.image.height : null, T = g[a.type];
        null !== a.precision && (m = r.getMaxPrecision(a.precision), m !== a.precision && console.warn("THREE.WebGLProgram.getParameters:", a.precision, "not supported, using", m, "instead."));
        let b, A, w, R, P = y.morphAttributes.position || y.morphAttributes.normal || y.morphAttributes.color, C = void 0 !== P ? P.length : 0, L = 0;
        if (void 0 !== y.morphAttributes.position && (L = 1), void 0 !== y.morphAttributes.normal && (L = 2), void 0 !== y.morphAttributes.color && (L = 3), T) {
            let e1 = qe[T];
            b = e1.vertexShader, A = e1.fragmentShader;
        } else b = a.vertexShader, A = a.fragmentShader, l.update(a), w = l.getVertexShaderID(a), R = l.getFragmentShaderID(a);
        let U = e1.getRenderTarget(), N = !0 === v.isInstancedMesh, D = !0 === v.isBatchedMesh, I = !!a.map, O = !!a.matcap, F = !!S, B = !!a.aoMap, z = !!a.lightMap, V = !!a.bumpMap, G = !!a.normalMap, H = !!a.displacementMap, k = !!a.emissiveMap, W = !!a.metalnessMap, X = !!a.roughnessMap, j = a.anisotropy > 0, q = a.clearcoat > 0, Y = a.iridescence > 0, J = a.sheen > 0, K = a.transmission > 0, Z = j && !!a.anisotropyMap, Q = q && !!a.clearcoatMap, $ = q && !!a.clearcoatNormalMap, ee = q && !!a.clearcoatRoughnessMap, te = Y && !!a.iridescenceMap, ne = Y && !!a.iridescenceThicknessMap, ie = J && !!a.sheenColorMap, re = J && !!a.sheenRoughnessMap, ae = !!a.specularMap, se = !!a.specularColorMap, oe = !!a.specularIntensityMap, le = K && !!a.transmissionMap, ue = K && !!a.thicknessMap, he = !!a.gradientMap, ce = !!a.alphaMap, de = a.alphaTest > 0, pe = !!a.alphaHash, fe = !!a.extensions, me = xn;
        a.toneMapped && (null === U || !0 === U.isXRRenderTarget) && (me = e1.toneMapping);
        let ge = {
            isWebGL2: d,
            shaderID: T,
            shaderType: a.type,
            shaderName: a.name,
            vertexShader: b,
            fragmentShader: A,
            defines: a.defines,
            customVertexShaderID: w,
            customFragmentShaderID: R,
            isRawShaderMaterial: !0 === a.isRawShaderMaterial,
            glslVersion: a.glslVersion,
            precision: m,
            batching: D,
            instancing: N,
            instancingColor: N && null !== v.instanceColor,
            instancingMorph: N && null !== v.morphTexture,
            supportsVertexTextures: f,
            outputColorSpace: null === U ? e1.outputColorSpace : !0 === U.isXRRenderTarget ? U.texture.colorSpace : En,
            alphaToCoverage: !!a.alphaToCoverage,
            map: I,
            matcap: O,
            envMap: F,
            envMapMode: F && S.mapping,
            envMapCubeUVHeight: E,
            aoMap: B,
            lightMap: z,
            bumpMap: V,
            normalMap: G,
            displacementMap: f && H,
            emissiveMap: k,
            normalMapObjectSpace: G && a.normalMapType === Wd,
            normalMapTangentSpace: G && a.normalMapType === ao,
            metalnessMap: W,
            roughnessMap: X,
            anisotropy: j,
            anisotropyMap: Z,
            clearcoat: q,
            clearcoatMap: Q,
            clearcoatNormalMap: $,
            clearcoatRoughnessMap: ee,
            iridescence: Y,
            iridescenceMap: te,
            iridescenceThicknessMap: ne,
            sheen: J,
            sheenColorMap: ie,
            sheenRoughnessMap: re,
            specularMap: ae,
            specularColorMap: se,
            specularIntensityMap: oe,
            transmission: K,
            transmissionMap: le,
            thicknessMap: ue,
            gradientMap: he,
            opaque: !1 === a.transparent && a.blending === fi && !1 === a.alphaToCoverage,
            alphaMap: ce,
            alphaTest: de,
            alphaHash: pe,
            combine: a.combine,
            mapUv: I && _(a.map.channel),
            aoMapUv: B && _(a.aoMap.channel),
            lightMapUv: z && _(a.lightMap.channel),
            bumpMapUv: V && _(a.bumpMap.channel),
            normalMapUv: G && _(a.normalMap.channel),
            displacementMapUv: H && _(a.displacementMap.channel),
            emissiveMapUv: k && _(a.emissiveMap.channel),
            metalnessMapUv: W && _(a.metalnessMap.channel),
            roughnessMapUv: X && _(a.roughnessMap.channel),
            anisotropyMapUv: Z && _(a.anisotropyMap.channel),
            clearcoatMapUv: Q && _(a.clearcoatMap.channel),
            clearcoatNormalMapUv: $ && _(a.clearcoatNormalMap.channel),
            clearcoatRoughnessMapUv: ee && _(a.clearcoatRoughnessMap.channel),
            iridescenceMapUv: te && _(a.iridescenceMap.channel),
            iridescenceThicknessMapUv: ne && _(a.iridescenceThicknessMap.channel),
            sheenColorMapUv: ie && _(a.sheenColorMap.channel),
            sheenRoughnessMapUv: re && _(a.sheenRoughnessMap.channel),
            specularMapUv: ae && _(a.specularMap.channel),
            specularColorMapUv: se && _(a.specularColorMap.channel),
            specularIntensityMapUv: oe && _(a.specularIntensityMap.channel),
            transmissionMapUv: le && _(a.transmissionMap.channel),
            thicknessMapUv: ue && _(a.thicknessMap.channel),
            alphaMapUv: ce && _(a.alphaMap.channel),
            vertexTangents: !!y.attributes.tangent && (G || j),
            vertexColors: a.vertexColors,
            vertexAlphas: !0 === a.vertexColors && !!y.attributes.color && 4 === y.attributes.color.itemSize,
            pointsUvs: !0 === v.isPoints && !!y.attributes.uv && (I || ce),
            fog: !!x,
            useFog: !0 === a.fog,
            fogExp2: !!x && x.isFogExp2,
            flatShading: !0 === a.flatShading,
            sizeAttenuation: !0 === a.sizeAttenuation,
            logarithmicDepthBuffer: p,
            skinning: !0 === v.isSkinnedMesh,
            morphTargets: void 0 !== y.morphAttributes.position,
            morphNormals: void 0 !== y.morphAttributes.normal,
            morphColors: void 0 !== y.morphAttributes.color,
            morphTargetsCount: C,
            morphTextureStride: L,
            numDirLights: o.directional.length,
            numPointLights: o.point.length,
            numSpotLights: o.spot.length,
            numSpotLightMaps: o.spotLightMap.length,
            numRectAreaLights: o.rectArea.length,
            numHemiLights: o.hemi.length,
            numDirLightShadows: o.directionalShadowMap.length,
            numPointLightShadows: o.pointShadowMap.length,
            numSpotLightShadows: o.spotShadowMap.length,
            numSpotLightShadowsWithMaps: o.numSpotLightShadowsWithMaps,
            numLightProbes: o.numLightProbes,
            numClippingPlanes: s.numPlanes,
            numClipIntersection: s.numIntersection,
            dithering: a.dithering,
            shadowMapEnabled: e1.shadowMap.enabled && u.length > 0,
            shadowMapType: e1.shadowMap.type,
            toneMapping: me,
            useLegacyLights: e1._useLegacyLights,
            decodeVideoTexture: I && !0 === a.map.isVideoTexture && Yt.getTransfer(a.map.colorSpace) === $t,
            premultipliedAlpha: a.premultipliedAlpha,
            doubleSided: a.side === nn,
            flipSided: a.side === Te,
            useDepthPacking: a.depthPacking >= 0,
            depthPacking: a.depthPacking || 0,
            index0AttributeName: a.index0AttributeName,
            extensionDerivatives: fe && !0 === a.extensions.derivatives,
            extensionFragDepth: fe && !0 === a.extensions.fragDepth,
            extensionDrawBuffers: fe && !0 === a.extensions.drawBuffers,
            extensionShaderTextureLOD: fe && !0 === a.extensions.shaderTextureLOD,
            extensionClipCullDistance: fe && !0 === a.extensions.clipCullDistance && i.has("WEBGL_clip_cull_distance"),
            extensionMultiDraw: fe && !0 === a.extensions.multiDraw && i.has("WEBGL_multi_draw"),
            rendererExtensionFragDepth: d || i.has("EXT_frag_depth"),
            rendererExtensionDrawBuffers: d || i.has("WEBGL_draw_buffers"),
            rendererExtensionShaderTextureLod: d || i.has("EXT_shader_texture_lod"),
            rendererExtensionParallelShaderCompile: i.has("KHR_parallel_shader_compile"),
            customProgramCacheKey: a.customProgramCacheKey()
        };
        return ge.vertexUv1s = h.has(1), ge.vertexUv2s = h.has(2), ge.vertexUv3s = h.has(3), h.clear(), ge;
    }
    function x(t) {
        let n = [];
        if (t.shaderID ? n.push(t.shaderID) : (n.push(t.customVertexShaderID), n.push(t.customFragmentShaderID)), void 0 !== t.defines) for(let e1 in t.defines)n.push(e1), n.push(t.defines[e1]);
        return !1 === t.isRawShaderMaterial && (y(n, t), M(n, t), n.push(e1.outputColorSpace)), n.push(t.customProgramCacheKey), n.join();
    }
    function y(e1, t) {
        e1.push(t.precision), e1.push(t.outputColorSpace), e1.push(t.envMapMode), e1.push(t.envMapCubeUVHeight), e1.push(t.mapUv), e1.push(t.alphaMapUv), e1.push(t.lightMapUv), e1.push(t.aoMapUv), e1.push(t.bumpMapUv), e1.push(t.normalMapUv), e1.push(t.displacementMapUv), e1.push(t.emissiveMapUv), e1.push(t.metalnessMapUv), e1.push(t.roughnessMapUv), e1.push(t.anisotropyMapUv), e1.push(t.clearcoatMapUv), e1.push(t.clearcoatNormalMapUv), e1.push(t.clearcoatRoughnessMapUv), e1.push(t.iridescenceMapUv), e1.push(t.iridescenceThicknessMapUv), e1.push(t.sheenColorMapUv), e1.push(t.sheenRoughnessMapUv), e1.push(t.specularMapUv), e1.push(t.specularColorMapUv), e1.push(t.specularIntensityMapUv), e1.push(t.transmissionMapUv), e1.push(t.thicknessMapUv), e1.push(t.combine), e1.push(t.fogExp2), e1.push(t.sizeAttenuation), e1.push(t.morphTargetsCount), e1.push(t.morphAttributeCount), e1.push(t.numDirLights), e1.push(t.numPointLights), e1.push(t.numSpotLights), e1.push(t.numSpotLightMaps), e1.push(t.numHemiLights), e1.push(t.numRectAreaLights), e1.push(t.numDirLightShadows), e1.push(t.numPointLightShadows), e1.push(t.numSpotLightShadows), e1.push(t.numSpotLightShadowsWithMaps), e1.push(t.numLightProbes), e1.push(t.shadowMapType), e1.push(t.toneMapping), e1.push(t.numClippingPlanes), e1.push(t.numClipIntersection), e1.push(t.depthPacking);
    }
    function M(e1, t) {
        o.disableAll(), t.isWebGL2 && o.enable(0), t.supportsVertexTextures && o.enable(1), t.instancing && o.enable(2), t.instancingColor && o.enable(3), t.instancingMorph && o.enable(4), t.matcap && o.enable(5), t.envMap && o.enable(6), t.normalMapObjectSpace && o.enable(7), t.normalMapTangentSpace && o.enable(8), t.clearcoat && o.enable(9), t.iridescence && o.enable(10), t.alphaTest && o.enable(11), t.vertexColors && o.enable(12), t.vertexAlphas && o.enable(13), t.vertexUv1s && o.enable(14), t.vertexUv2s && o.enable(15), t.vertexUv3s && o.enable(16), t.vertexTangents && o.enable(17), t.anisotropy && o.enable(18), t.alphaHash && o.enable(19), t.batching && o.enable(20), e1.push(o.mask), o.disableAll(), t.fog && o.enable(0), t.useFog && o.enable(1), t.flatShading && o.enable(2), t.logarithmicDepthBuffer && o.enable(3), t.skinning && o.enable(4), t.morphTargets && o.enable(5), t.morphNormals && o.enable(6), t.morphColors && o.enable(7), t.premultipliedAlpha && o.enable(8), t.shadowMapEnabled && o.enable(9), t.useLegacyLights && o.enable(10), t.doubleSided && o.enable(11), t.flipSided && o.enable(12), t.useDepthPacking && o.enable(13), t.dithering && o.enable(14), t.transmission && o.enable(15), t.sheen && o.enable(16), t.opaque && o.enable(17), t.pointsUvs && o.enable(18), t.decodeVideoTexture && o.enable(19), t.alphaToCoverage && o.enable(20), e1.push(o.mask);
    }
    function S(e1) {
        let t, n = g[e1.type];
        if (n) {
            let e1 = qe[n];
            t = Pf.clone(e1.uniforms);
        } else t = e1.uniforms;
        return t;
    }
    function E(t, n) {
        let i;
        for(let e1 = 0, t = c.length; e1 < t; e1++){
            let t = c[e1];
            if (t.cacheKey === n) {
                i = t, ++i.usedTimes;
                break;
            }
        }
        return void 0 === i && (i = new V_(e1, n, t, a), c.push(i)), i;
    }
    function T(e1) {
        if (0 == --e1.usedTimes) {
            let t = c.indexOf(e1);
            c[t] = c[c.length - 1], c.pop(), e1.destroy();
        }
    }
    function b(e1) {
        l.remove(e1);
    }
    function A() {
        l.dispose();
    }
    return (0, _chunkZRT45YCMJs.a)(_, "getChannel"), (0, _chunkZRT45YCMJs.a)(v, "getParameters"), (0, _chunkZRT45YCMJs.a)(x, "getProgramCacheKey"), (0, _chunkZRT45YCMJs.a)(y, "getProgramCacheKeyParameters"), (0, _chunkZRT45YCMJs.a)(M, "getProgramCacheKeyBooleans"), (0, _chunkZRT45YCMJs.a)(S, "getUniforms"), (0, _chunkZRT45YCMJs.a)(E, "acquireProgram"), (0, _chunkZRT45YCMJs.a)(T, "releaseProgram"), (0, _chunkZRT45YCMJs.a)(b, "releaseShaderCache"), (0, _chunkZRT45YCMJs.a)(A, "dispose"), {
        getParameters: v,
        getProgramCacheKey: x,
        getUniforms: S,
        acquireProgram: E,
        releaseProgram: T,
        releaseShaderCache: b,
        programs: c,
        dispose: A
    };
}
function W_() {
    let e1 = new WeakMap;
    function t(t) {
        let n = e1.get(t);
        return void 0 === n && (n = {}, e1.set(t, n)), n;
    }
    function n(t) {
        e1.delete(t);
    }
    function i(t, n, i) {
        e1.get(t)[n] = i;
    }
    function r() {
        e1 = new WeakMap;
    }
    return (0, _chunkZRT45YCMJs.a)(t, "get"), (0, _chunkZRT45YCMJs.a)(n, "remove"), (0, _chunkZRT45YCMJs.a)(i, "update"), (0, _chunkZRT45YCMJs.a)(r, "dispose"), {
        get: t,
        remove: n,
        update: i,
        dispose: r
    };
}
function X_(e1, t) {
    return e1.groupOrder !== t.groupOrder ? e1.groupOrder - t.groupOrder : e1.renderOrder !== t.renderOrder ? e1.renderOrder - t.renderOrder : e1.material.id !== t.material.id ? e1.material.id - t.material.id : e1.z !== t.z ? e1.z - t.z : e1.id - t.id;
}
function Fh(e1, t) {
    return e1.groupOrder !== t.groupOrder ? e1.groupOrder - t.groupOrder : e1.renderOrder !== t.renderOrder ? e1.renderOrder - t.renderOrder : e1.z !== t.z ? t.z - e1.z : e1.id - t.id;
}
function Bh() {
    let e1 = [], t = 0, n = [], i = [], r = [];
    function a() {
        t = 0, n.length = 0, i.length = 0, r.length = 0;
    }
    function s(n, i, r, a, s, o) {
        let l = e1[t];
        return void 0 === l ? (l = {
            id: n.id,
            object: n,
            geometry: i,
            material: r,
            groupOrder: a,
            renderOrder: n.renderOrder,
            z: s,
            group: o
        }, e1[t] = l) : (l.id = n.id, l.object = n, l.geometry = i, l.material = r, l.groupOrder = a, l.renderOrder = n.renderOrder, l.z = s, l.group = o), t++, l;
    }
    function o(e1, t, a, o, l, u) {
        let h = s(e1, t, a, o, l, u);
        a.transmission > 0 ? i.push(h) : !0 === a.transparent ? r.push(h) : n.push(h);
    }
    function l(e1, t, a, o, l, u) {
        let h = s(e1, t, a, o, l, u);
        a.transmission > 0 ? i.unshift(h) : !0 === a.transparent ? r.unshift(h) : n.unshift(h);
    }
    function h(e1, t) {
        n.length > 1 && n.sort(e1 || X_), i.length > 1 && i.sort(t || Fh), r.length > 1 && r.sort(t || Fh);
    }
    function c() {
        for(let n = t, i = e1.length; n < i; n++){
            let t = e1[n];
            if (null === t.id) break;
            t.id = null, t.object = null, t.geometry = null, t.material = null, t.group = null;
        }
    }
    return (0, _chunkZRT45YCMJs.a)(a, "init"), (0, _chunkZRT45YCMJs.a)(s, "getNextRenderItem"), (0, _chunkZRT45YCMJs.a)(o, "push"), (0, _chunkZRT45YCMJs.a)(l, "unshift"), (0, _chunkZRT45YCMJs.a)(h, "sort"), (0, _chunkZRT45YCMJs.a)(c, "finish"), {
        opaque: n,
        transmissive: i,
        transparent: r,
        init: a,
        push: o,
        unshift: l,
        finish: c,
        sort: h
    };
}
function q_() {
    let e1 = new WeakMap;
    function t(t, n) {
        let i, r = e1.get(t);
        return void 0 === r ? (i = new Bh, e1.set(t, [
            i
        ])) : n >= r.length ? (i = new Bh, r.push(i)) : i = r[n], i;
    }
    function n() {
        e1 = new WeakMap;
    }
    return (0, _chunkZRT45YCMJs.a)(t, "get"), (0, _chunkZRT45YCMJs.a)(n, "dispose"), {
        get: t,
        dispose: n
    };
}
function Y_() {
    let e1 = {};
    return {
        get: function(t) {
            if (void 0 !== e1[t.id]) return e1[t.id];
            let n;
            switch(t.type){
                case "DirectionalLight":
                    n = {
                        direction: new P,
                        color: new Ht
                    };
                    break;
                case "SpotLight":
                    n = {
                        position: new P,
                        direction: new P,
                        color: new Ht,
                        distance: 0,
                        coneCos: 0,
                        penumbraCos: 0,
                        decay: 0
                    };
                    break;
                case "PointLight":
                    n = {
                        position: new P,
                        color: new Ht,
                        distance: 0,
                        decay: 0
                    };
                    break;
                case "HemisphereLight":
                    n = {
                        direction: new P,
                        skyColor: new Ht,
                        groundColor: new Ht
                    };
                    break;
                case "RectAreaLight":
                    n = {
                        color: new Ht,
                        position: new P,
                        halfWidth: new P,
                        halfHeight: new P
                    };
            }
            return e1[t.id] = n, n;
        }
    };
}
function Z_() {
    let e1 = {};
    return {
        get: function(t) {
            if (void 0 !== e1[t.id]) return e1[t.id];
            let n;
            switch(t.type){
                case "DirectionalLight":
                case "SpotLight":
                    n = {
                        shadowBias: 0,
                        shadowNormalBias: 0,
                        shadowRadius: 1,
                        shadowMapSize: new ht
                    };
                    break;
                case "PointLight":
                    n = {
                        shadowBias: 0,
                        shadowNormalBias: 0,
                        shadowRadius: 1,
                        shadowMapSize: new ht,
                        shadowCameraNear: 1,
                        shadowCameraFar: 1e3
                    };
            }
            return e1[t.id] = n, n;
        }
    };
}
(0, _chunkZRT45YCMJs.a)(G_, "WebGLPrograms"), (0, _chunkZRT45YCMJs.a)(W_, "WebGLProperties"), (0, _chunkZRT45YCMJs.a)(X_, "painterSortStable"), (0, _chunkZRT45YCMJs.a)(Fh, "reversePainterSortStable"), (0, _chunkZRT45YCMJs.a)(Bh, "WebGLRenderList"), (0, _chunkZRT45YCMJs.a)(q_, "WebGLRenderLists"), (0, _chunkZRT45YCMJs.a)(Y_, "UniformsCache"), (0, _chunkZRT45YCMJs.a)(Z_, "ShadowUniformsCache");
var J_ = 0;
function $_(e1, t) {
    return (t.castShadow ? 2 : 0) - (e1.castShadow ? 2 : 0) + (t.map ? 1 : 0) - (e1.map ? 1 : 0);
}
function K_(e1, t) {
    let n = new Y_, i = Z_(), r = {
        version: 0,
        hash: {
            directionalLength: -1,
            pointLength: -1,
            spotLength: -1,
            rectAreaLength: -1,
            hemiLength: -1,
            numDirectionalShadows: -1,
            numPointShadows: -1,
            numSpotShadows: -1,
            numSpotMaps: -1,
            numLightProbes: -1
        },
        ambient: [
            0,
            0,
            0
        ],
        probe: [],
        directional: [],
        directionalShadow: [],
        directionalShadowMap: [],
        directionalShadowMatrix: [],
        spot: [],
        spotLightMap: [],
        spotShadow: [],
        spotShadowMap: [],
        spotLightMatrix: [],
        rectArea: [],
        rectAreaLTC1: null,
        rectAreaLTC2: null,
        point: [],
        pointShadow: [],
        pointShadowMap: [],
        pointShadowMatrix: [],
        hemi: [],
        numSpotLightShadowsWithMaps: 0,
        numLightProbes: 0
    };
    for(let e1 = 0; e1 < 9; e1++)r.probe.push(new P);
    let a = new P, s = new ee, o = new ee;
    function l(a, s) {
        let o = 0, l = 0, u = 0;
        for(let e1 = 0; e1 < 9; e1++)r.probe[e1].set(0, 0, 0);
        let h = 0, c = 0, d = 0, p = 0, f = 0, m = 0, g = 0, _ = 0, v = 0, x = 0, y = 0;
        a.sort($_);
        let M = !0 === s ? Math.PI : 1;
        for(let e1 = 0, t = a.length; e1 < t; e1++){
            let t = a[e1], s = t.color, S = t.intensity, E = t.distance, T = t.shadow && t.shadow.map ? t.shadow.map.texture : null;
            if (t.isAmbientLight) o += s.r * S * M, l += s.g * S * M, u += s.b * S * M;
            else if (t.isLightProbe) {
                for(let e1 = 0; e1 < 9; e1++)r.probe[e1].addScaledVector(t.sh.coefficients[e1], S);
                y++;
            } else if (t.isDirectionalLight) {
                let e1 = n.get(t);
                if (e1.color.copy(t.color).multiplyScalar(t.intensity * M), t.castShadow) {
                    let e1 = t.shadow, n = i.get(t);
                    n.shadowBias = e1.bias, n.shadowNormalBias = e1.normalBias, n.shadowRadius = e1.radius, n.shadowMapSize = e1.mapSize, r.directionalShadow[h] = n, r.directionalShadowMap[h] = T, r.directionalShadowMatrix[h] = t.shadow.matrix, m++;
                }
                r.directional[h] = e1, h++;
            } else if (t.isSpotLight) {
                let e1 = n.get(t);
                e1.position.setFromMatrixPosition(t.matrixWorld), e1.color.copy(s).multiplyScalar(S * M), e1.distance = E, e1.coneCos = Math.cos(t.angle), e1.penumbraCos = Math.cos(t.angle * (1 - t.penumbra)), e1.decay = t.decay, r.spot[d] = e1;
                let a = t.shadow;
                if (t.map && (r.spotLightMap[v] = t.map, v++, a.updateMatrices(t), t.castShadow && x++), r.spotLightMatrix[d] = a.matrix, t.castShadow) {
                    let e1 = i.get(t);
                    e1.shadowBias = a.bias, e1.shadowNormalBias = a.normalBias, e1.shadowRadius = a.radius, e1.shadowMapSize = a.mapSize, r.spotShadow[d] = e1, r.spotShadowMap[d] = T, _++;
                }
                d++;
            } else if (t.isRectAreaLight) {
                let e1 = n.get(t);
                e1.color.copy(s).multiplyScalar(S), e1.halfWidth.set(.5 * t.width, 0, 0), e1.halfHeight.set(0, .5 * t.height, 0), r.rectArea[p] = e1, p++;
            } else if (t.isPointLight) {
                let e1 = n.get(t);
                if (e1.color.copy(t.color).multiplyScalar(t.intensity * M), e1.distance = t.distance, e1.decay = t.decay, t.castShadow) {
                    let e1 = t.shadow, n = i.get(t);
                    n.shadowBias = e1.bias, n.shadowNormalBias = e1.normalBias, n.shadowRadius = e1.radius, n.shadowMapSize = e1.mapSize, n.shadowCameraNear = e1.camera.near, n.shadowCameraFar = e1.camera.far, r.pointShadow[c] = n, r.pointShadowMap[c] = T, r.pointShadowMatrix[c] = t.shadow.matrix, g++;
                }
                r.point[c] = e1, c++;
            } else if (t.isHemisphereLight) {
                let e1 = n.get(t);
                e1.skyColor.copy(t.color).multiplyScalar(S * M), e1.groundColor.copy(t.groundColor).multiplyScalar(S * M), r.hemi[f] = e1, f++;
            }
        }
        p > 0 && (t.isWebGL2 ? !0 === e1.has("OES_texture_float_linear") ? (r.rectAreaLTC1 = lt.LTC_FLOAT_1, r.rectAreaLTC2 = lt.LTC_FLOAT_2) : (r.rectAreaLTC1 = lt.LTC_HALF_1, r.rectAreaLTC2 = lt.LTC_HALF_2) : !0 === e1.has("OES_texture_float_linear") ? (r.rectAreaLTC1 = lt.LTC_FLOAT_1, r.rectAreaLTC2 = lt.LTC_FLOAT_2) : !0 === e1.has("OES_texture_half_float_linear") ? (r.rectAreaLTC1 = lt.LTC_HALF_1, r.rectAreaLTC2 = lt.LTC_HALF_2) : console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")), r.ambient[0] = o, r.ambient[1] = l, r.ambient[2] = u;
        let S = r.hash;
        (S.directionalLength !== h || S.pointLength !== c || S.spotLength !== d || S.rectAreaLength !== p || S.hemiLength !== f || S.numDirectionalShadows !== m || S.numPointShadows !== g || S.numSpotShadows !== _ || S.numSpotMaps !== v || S.numLightProbes !== y) && (r.directional.length = h, r.spot.length = d, r.rectArea.length = p, r.point.length = c, r.hemi.length = f, r.directionalShadow.length = m, r.directionalShadowMap.length = m, r.pointShadow.length = g, r.pointShadowMap.length = g, r.spotShadow.length = _, r.spotShadowMap.length = _, r.directionalShadowMatrix.length = m, r.pointShadowMatrix.length = g, r.spotLightMatrix.length = _ + v - x, r.spotLightMap.length = v, r.numSpotLightShadowsWithMaps = x, r.numLightProbes = y, S.directionalLength = h, S.pointLength = c, S.spotLength = d, S.rectAreaLength = p, S.hemiLength = f, S.numDirectionalShadows = m, S.numPointShadows = g, S.numSpotShadows = _, S.numSpotMaps = v, S.numLightProbes = y, r.version = J_++);
    }
    function h(e1, t) {
        let n = 0, i = 0, l = 0, u = 0, h = 0, c = t.matrixWorldInverse;
        for(let t = 0, d = e1.length; t < d; t++){
            let d = e1[t];
            if (d.isDirectionalLight) {
                let e1 = r.directional[n];
                e1.direction.setFromMatrixPosition(d.matrixWorld), a.setFromMatrixPosition(d.target.matrixWorld), e1.direction.sub(a), e1.direction.transformDirection(c), n++;
            } else if (d.isSpotLight) {
                let e1 = r.spot[l];
                e1.position.setFromMatrixPosition(d.matrixWorld), e1.position.applyMatrix4(c), e1.direction.setFromMatrixPosition(d.matrixWorld), a.setFromMatrixPosition(d.target.matrixWorld), e1.direction.sub(a), e1.direction.transformDirection(c), l++;
            } else if (d.isRectAreaLight) {
                let e1 = r.rectArea[u];
                e1.position.setFromMatrixPosition(d.matrixWorld), e1.position.applyMatrix4(c), o.identity(), s.copy(d.matrixWorld), s.premultiply(c), o.extractRotation(s), e1.halfWidth.set(.5 * d.width, 0, 0), e1.halfHeight.set(0, .5 * d.height, 0), e1.halfWidth.applyMatrix4(o), e1.halfHeight.applyMatrix4(o), u++;
            } else if (d.isPointLight) {
                let e1 = r.point[i];
                e1.position.setFromMatrixPosition(d.matrixWorld), e1.position.applyMatrix4(c), i++;
            } else if (d.isHemisphereLight) {
                let e1 = r.hemi[h];
                e1.direction.setFromMatrixPosition(d.matrixWorld), e1.direction.transformDirection(c), h++;
            }
        }
    }
    return (0, _chunkZRT45YCMJs.a)(l, "setup"), (0, _chunkZRT45YCMJs.a)(h, "setupView"), {
        setup: l,
        setupView: h,
        state: r
    };
}
function zh(e1, t) {
    let n = new K_(e1, t), i = [], r = [];
    function a() {
        i.length = 0, r.length = 0;
    }
    function s(e1) {
        i.push(e1);
    }
    function o(e1) {
        r.push(e1);
    }
    function l(e1) {
        n.setup(i, e1);
    }
    function h(e1) {
        n.setupView(i, e1);
    }
    return (0, _chunkZRT45YCMJs.a)(a, "init"), (0, _chunkZRT45YCMJs.a)(s, "pushLight"), (0, _chunkZRT45YCMJs.a)(o, "pushShadow"), (0, _chunkZRT45YCMJs.a)(l, "setupLights"), (0, _chunkZRT45YCMJs.a)(h, "setupLightsView"), {
        init: a,
        state: {
            lightsArray: i,
            shadowsArray: r,
            lights: n
        },
        setupLights: l,
        setupLightsView: h,
        pushLight: s,
        pushShadow: o
    };
}
function Q_(e1, t) {
    let n = new WeakMap;
    function i(i, r = 0) {
        let a, s = n.get(i);
        return void 0 === s ? (a = new zh(e1, t), n.set(i, [
            a
        ])) : r >= s.length ? (a = new zh(e1, t), s.push(a)) : a = s[r], a;
    }
    function r() {
        n = new WeakMap;
    }
    return (0, _chunkZRT45YCMJs.a)(i, "get"), (0, _chunkZRT45YCMJs.a)(r, "dispose"), {
        get: i,
        dispose: r
    };
}
(0, _chunkZRT45YCMJs.a)($_, "shadowCastingAndTexturingLightsFirst"), (0, _chunkZRT45YCMJs.a)(K_, "WebGLLights"), (0, _chunkZRT45YCMJs.a)(zh, "WebGLRenderState"), (0, _chunkZRT45YCMJs.a)(Q_, "WebGLRenderStates");
var Ko = class extends an {
    constructor(e1){
        super(), this.isMeshDepthMaterial = !0, this.type = "MeshDepthMaterial", this.depthPacking = Hd, this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.wireframe = !1, this.wireframeLinewidth = 1, this.setValues(e1);
    }
    copy(e1) {
        return super.copy(e1), this.depthPacking = e1.depthPacking, this.map = e1.map, this.alphaMap = e1.alphaMap, this.displacementMap = e1.displacementMap, this.displacementScale = e1.displacementScale, this.displacementBias = e1.displacementBias, this.wireframe = e1.wireframe, this.wireframeLinewidth = e1.wireframeLinewidth, this;
    }
};
(0, _chunkZRT45YCMJs.a)(Ko, "MeshDepthMaterial");
var Ca = Ko, Qo = class extends an {
    constructor(e1){
        super(), this.isMeshDistanceMaterial = !0, this.type = "MeshDistanceMaterial", this.map = null, this.alphaMap = null, this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.setValues(e1);
    }
    copy(e1) {
        return super.copy(e1), this.map = e1.map, this.alphaMap = e1.alphaMap, this.displacementMap = e1.displacementMap, this.displacementScale = e1.displacementScale, this.displacementBias = e1.displacementBias, this;
    }
};
(0, _chunkZRT45YCMJs.a)(Qo, "MeshDistanceMaterial");
var Pa = Qo, j_ = "void main() {\n	gl_Position = vec4( position, 1.0 );\n}", t0 = "uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n	const float samples = float( VSM_SAMPLES );\n	float mean = 0.0;\n	float squared_mean = 0.0;\n	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n	for ( float i = 0.0; i < samples; i ++ ) {\n		float uvOffset = uvStart + i * uvStride;\n		#ifdef HORIZONTAL_PASS\n			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n			mean += distribution.x;\n			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n		#else\n			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n			mean += depth;\n			squared_mean += depth * depth;\n		#endif\n	}\n	mean = mean / samples;\n	squared_mean = squared_mean / samples;\n	float std_dev = sqrt( squared_mean - mean * mean );\n	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";
function e0(e1, t, n) {
    let i = new Wi, r = new ht, a = new ht, s = new te, o = new Ca({
        depthPacking: Gd
    }), l = new Pa, h = {}, c = n.maxTextureSize, d = {
        [yn]: Te,
        [Te]: yn,
        [nn]: nn
    }, p = new He({
        defines: {
            VSM_SAMPLES: 8
        },
        uniforms: {
            shadow_pass: {
                value: null
            },
            resolution: {
                value: new ht
            },
            radius: {
                value: 4
            }
        },
        vertexShader: j_,
        fragmentShader: t0
    }), f = p.clone();
    f.defines.HORIZONTAL_PASS = 1;
    let m = new Ee;
    m.setAttribute("position", new Se(new Float32Array([
        -1,
        -1,
        .5,
        3,
        -1,
        .5,
        -1,
        3,
        .5
    ]), 3));
    let g = new ke(m, p), _ = this;
    this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = Au;
    let v = this.type;
    function x(n, i) {
        let a = t.update(g);
        p.defines.VSM_SAMPLES !== n.blurSamples && (p.defines.VSM_SAMPLES = n.blurSamples, f.defines.VSM_SAMPLES = n.blurSamples, p.needsUpdate = !0, f.needsUpdate = !0), null === n.mapPass && (n.mapPass = new Ye(r.x, r.y)), p.uniforms.shadow_pass.value = n.map.texture, p.uniforms.resolution.value = n.mapSize, p.uniforms.radius.value = n.radius, e1.setRenderTarget(n.mapPass), e1.clear(), e1.renderBufferDirect(i, null, a, p, g, null), f.uniforms.shadow_pass.value = n.mapPass.texture, f.uniforms.resolution.value = n.mapSize, f.uniforms.radius.value = n.radius, e1.setRenderTarget(n.map), e1.clear(), e1.renderBufferDirect(i, null, a, f, g, null);
    }
    function y(t, n, i, r) {
        let a = null, s = !0 === i.isPointLight ? t.customDistanceMaterial : t.customDepthMaterial;
        if (void 0 !== s) a = s;
        else if (a = !0 === i.isPointLight ? l : o, e1.localClippingEnabled && !0 === n.clipShadows && Array.isArray(n.clippingPlanes) && 0 !== n.clippingPlanes.length || n.displacementMap && 0 !== n.displacementScale || n.alphaMap && n.alphaTest > 0 || n.map && n.alphaTest > 0) {
            let e1 = a.uuid, t = n.uuid, i = h[e1];
            void 0 === i && (i = {}, h[e1] = i);
            let r = i[t];
            void 0 === r && (r = a.clone(), i[t] = r, n.addEventListener("dispose", S)), a = r;
        }
        if (a.visible = n.visible, a.wireframe = n.wireframe, a.side = r === tn ? null !== n.shadowSide ? n.shadowSide : n.side : null !== n.shadowSide ? n.shadowSide : d[n.side], a.alphaMap = n.alphaMap, a.alphaTest = n.alphaTest, a.map = n.map, a.clipShadows = n.clipShadows, a.clippingPlanes = n.clippingPlanes, a.clipIntersection = n.clipIntersection, a.displacementMap = n.displacementMap, a.displacementScale = n.displacementScale, a.displacementBias = n.displacementBias, a.wireframeLinewidth = n.wireframeLinewidth, a.linewidth = n.linewidth, !0 === i.isPointLight && !0 === a.isMeshDistanceMaterial) e1.properties.get(a).light = i;
        return a;
    }
    function M(n, r, a, s, o) {
        if (!1 === n.visible) return;
        if (n.layers.test(r.layers) && (n.isMesh || n.isLine || n.isPoints) && (n.castShadow || n.receiveShadow && o === tn) && (!n.frustumCulled || i.intersectsObject(n))) {
            n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse, n.matrixWorld);
            let i = t.update(n), l = n.material;
            if (Array.isArray(l)) {
                let t = i.groups;
                for(let u = 0, h = t.length; u < h; u++){
                    let h = t[u], c = l[h.materialIndex];
                    if (c && c.visible) {
                        let t = y(n, c, s, o);
                        n.onBeforeShadow(e1, n, r, a, i, t, h), e1.renderBufferDirect(a, null, i, t, n, h), n.onAfterShadow(e1, n, r, a, i, t, h);
                    }
                }
            } else if (l.visible) {
                let t = y(n, l, s, o);
                n.onBeforeShadow(e1, n, r, a, i, t, null), e1.renderBufferDirect(a, null, i, t, n, null), n.onAfterShadow(e1, n, r, a, i, t, null);
            }
        }
        let l = n.children;
        for(let e1 = 0, t = l.length; e1 < t; e1++)M(l[e1], r, a, s, o);
    }
    function S(e1) {
        e1.target.removeEventListener("dispose", S);
        for(let t in h){
            let n = h[t], i = e1.target.uuid;
            i in n && (n[i].dispose(), delete n[i]);
        }
    }
    this.render = function(t, n, o) {
        if (!1 === _.enabled || !1 === _.autoUpdate && !1 === _.needsUpdate || 0 === t.length) return;
        let l = e1.getRenderTarget(), u = e1.getActiveCubeFace(), h = e1.getActiveMipmapLevel(), d = e1.state;
        d.setBlending(_n), d.buffers.color.setClear(1, 1, 1, 1), d.buffers.depth.setTest(!0), d.setScissorTest(!1);
        let p = v !== tn && this.type === tn, f = v === tn && this.type !== tn;
        for(let l = 0, u = t.length; l < u; l++){
            let u = t[l], h = u.shadow;
            if (void 0 === h) {
                console.warn("THREE.WebGLShadowMap:", u, "has no shadow.");
                continue;
            }
            if (!1 === h.autoUpdate && !1 === h.needsUpdate) continue;
            r.copy(h.mapSize);
            let m = h.getFrameExtents();
            if (r.multiply(m), a.copy(h.mapSize), (r.x > c || r.y > c) && (r.x > c && (a.x = Math.floor(c / m.x), r.x = a.x * m.x, h.mapSize.x = a.x), r.y > c && (a.y = Math.floor(c / m.y), r.y = a.y * m.y, h.mapSize.y = a.y)), null === h.map || !0 === p || !0 === f) {
                let e1 = this.type !== tn ? {
                    minFilter: fe,
                    magFilter: fe
                } : {};
                null !== h.map && h.map.dispose(), h.map = new Ye(r.x, r.y, e1), h.map.texture.name = u.name + ".shadowMap", h.camera.updateProjectionMatrix();
            }
            e1.setRenderTarget(h.map), e1.clear();
            let g = h.getViewportCount();
            for(let e1 = 0; e1 < g; e1++){
                let t = h.getViewport(e1);
                s.set(a.x * t.x, a.y * t.y, a.x * t.z, a.y * t.w), d.viewport(s), h.updateMatrices(u, e1), i = h.getFrustum(), M(n, o, h.camera, u, this.type);
            }
            !0 !== h.isPointLightShadow && this.type === tn && x(h, o), h.needsUpdate = !1;
        }
        v = this.type, _.needsUpdate = !1, e1.setRenderTarget(l, u, h);
    }, (0, _chunkZRT45YCMJs.a)(x, "VSMPass"), (0, _chunkZRT45YCMJs.a)(y, "getDepthMaterial"), (0, _chunkZRT45YCMJs.a)(M, "renderObject"), (0, _chunkZRT45YCMJs.a)(S, "onMaterialDispose");
}
function n0(e1, t, n) {
    let i = n.isWebGL2;
    function r() {
        let t = !1, n = new te, i = null, r = new te(0, 0, 0, 0);
        return {
            setMask: function(n) {
                i !== n && !t && (e1.colorMask(n, n, n, n), i = n);
            },
            setLocked: function(e1) {
                t = e1;
            },
            setClear: function(t, i, a, s, o) {
                !0 === o && (t *= s, i *= s, a *= s), n.set(t, i, a, s), !1 === r.equals(n) && (e1.clearColor(t, i, a, s), r.copy(n));
            },
            reset: function() {
                t = !1, i = null, r.set(-1, 0, 0, 0);
            }
        };
    }
    function a() {
        let t = !1, n = null, i = null, r = null;
        return {
            setTest: function(t) {
                t ? j(e1.DEPTH_TEST) : q(e1.DEPTH_TEST);
            },
            setMask: function(i) {
                n !== i && !t && (e1.depthMask(i), n = i);
            },
            setFunc: function(t) {
                if (i !== t) {
                    switch(t){
                        case xd:
                            e1.depthFunc(e1.NEVER);
                            break;
                        case vd:
                            e1.depthFunc(e1.ALWAYS);
                            break;
                        case yd:
                            e1.depthFunc(e1.LESS);
                            break;
                        case Ls:
                            e1.depthFunc(e1.LEQUAL);
                            break;
                        case Md:
                            e1.depthFunc(e1.EQUAL);
                            break;
                        case Sd:
                            e1.depthFunc(e1.GEQUAL);
                            break;
                        case bd:
                            e1.depthFunc(e1.GREATER);
                            break;
                        case Ed:
                            e1.depthFunc(e1.NOTEQUAL);
                            break;
                        default:
                            e1.depthFunc(e1.LEQUAL);
                    }
                    i = t;
                }
            },
            setLocked: function(e1) {
                t = e1;
            },
            setClear: function(t) {
                r !== t && (e1.clearDepth(t), r = t);
            },
            reset: function() {
                t = !1, n = null, i = null, r = null;
            }
        };
    }
    function s() {
        let t = !1, n = null, i = null, r = null, a = null, s = null, o = null, l = null, u = null;
        return {
            setTest: function(n) {
                t || (n ? j(e1.STENCIL_TEST) : q(e1.STENCIL_TEST));
            },
            setMask: function(i) {
                n !== i && !t && (e1.stencilMask(i), n = i);
            },
            setFunc: function(t, n, s) {
                (i !== t || r !== n || a !== s) && (e1.stencilFunc(t, n, s), i = t, r = n, a = s);
            },
            setOp: function(t, n, i) {
                (s !== t || o !== n || l !== i) && (e1.stencilOp(t, n, i), s = t, o = n, l = i);
            },
            setLocked: function(e1) {
                t = e1;
            },
            setClear: function(t) {
                u !== t && (e1.clearStencil(t), u = t);
            },
            reset: function() {
                t = !1, n = null, i = null, r = null, a = null, s = null, o = null, l = null, u = null;
            }
        };
    }
    (0, _chunkZRT45YCMJs.a)(r, "ColorBuffer"), (0, _chunkZRT45YCMJs.a)(a, "DepthBuffer"), (0, _chunkZRT45YCMJs.a)(s, "StencilBuffer");
    let o = new r, l = new a, h = new s, c = new WeakMap, d = new WeakMap, p = {}, f = {}, m = new WeakMap, g = [], _ = null, v = !1, x = null, y = null, M = null, S = null, E = null, T = null, b = null, A = new Ht(0, 0, 0), w = 0, R = !1, P = null, C = null, L = null, U = null, N = null, D = e1.getParameter(e1.MAX_COMBINED_TEXTURE_IMAGE_UNITS), I = !1, O = 0, F = e1.getParameter(e1.VERSION);
    -1 !== F.indexOf("WebGL") ? (O = parseFloat(/^WebGL (\d)/.exec(F)[1]), I = O >= 1) : -1 !== F.indexOf("OpenGL ES") && (O = parseFloat(/^OpenGL ES (\d)/.exec(F)[1]), I = O >= 2);
    let B = null, z = {}, V = e1.getParameter(e1.SCISSOR_BOX), G = e1.getParameter(e1.VIEWPORT), H = (new te).fromArray(V), k = (new te).fromArray(G);
    function W(t, n, r, a) {
        let s = new Uint8Array(4), o = e1.createTexture();
        e1.bindTexture(t, o), e1.texParameteri(t, e1.TEXTURE_MIN_FILTER, e1.NEAREST), e1.texParameteri(t, e1.TEXTURE_MAG_FILTER, e1.NEAREST);
        for(let o = 0; o < r; o++)!i || t !== e1.TEXTURE_3D && t !== e1.TEXTURE_2D_ARRAY ? e1.texImage2D(n + o, 0, e1.RGBA, 1, 1, 0, e1.RGBA, e1.UNSIGNED_BYTE, s) : e1.texImage3D(n, 0, e1.RGBA, 1, 1, a, 0, e1.RGBA, e1.UNSIGNED_BYTE, s);
        return o;
    }
    (0, _chunkZRT45YCMJs.a)(W, "createTexture");
    let X = {};
    function j(t) {
        !0 !== p[t] && (e1.enable(t), p[t] = !0);
    }
    function q(t) {
        !1 !== p[t] && (e1.disable(t), p[t] = !1);
    }
    function Y(t, n) {
        return f[t] !== n && (e1.bindFramebuffer(t, n), f[t] = n, i && (t === e1.DRAW_FRAMEBUFFER && (f[e1.FRAMEBUFFER] = n), t === e1.FRAMEBUFFER && (f[e1.DRAW_FRAMEBUFFER] = n)), !0);
    }
    function J(i, r) {
        let a = g, s = !1;
        if (i) {
            a = m.get(r), void 0 === a && (a = [], m.set(r, a));
            let t = i.textures;
            if (a.length !== t.length || a[0] !== e1.COLOR_ATTACHMENT0) {
                for(let n = 0, i = t.length; n < i; n++)a[n] = e1.COLOR_ATTACHMENT0 + n;
                a.length = t.length, s = !0;
            }
        } else a[0] !== e1.BACK && (a[0] = e1.BACK, s = !0);
        if (s) {
            if (n.isWebGL2) e1.drawBuffers(a);
            else {
                if (!0 !== t.has("WEBGL_draw_buffers")) throw new Error("THREE.WebGLState: Usage of gl.drawBuffers() require WebGL2 or WEBGL_draw_buffers extension");
                t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a);
            }
        }
    }
    function K(t) {
        return _ !== t && (e1.useProgram(t), _ = t, !0);
    }
    X[e1.TEXTURE_2D] = W(e1.TEXTURE_2D, e1.TEXTURE_2D, 1), X[e1.TEXTURE_CUBE_MAP] = W(e1.TEXTURE_CUBE_MAP, e1.TEXTURE_CUBE_MAP_POSITIVE_X, 6), i && (X[e1.TEXTURE_2D_ARRAY] = W(e1.TEXTURE_2D_ARRAY, e1.TEXTURE_2D_ARRAY, 1, 1), X[e1.TEXTURE_3D] = W(e1.TEXTURE_3D, e1.TEXTURE_3D, 1, 1)), o.setClear(0, 0, 0, 1), l.setClear(1), h.setClear(0), j(e1.DEPTH_TEST), l.setFunc(Ls), ne(!1), ie(gl), j(e1.CULL_FACE), $(_n), (0, _chunkZRT45YCMJs.a)(j, "enable"), (0, _chunkZRT45YCMJs.a)(q, "disable"), (0, _chunkZRT45YCMJs.a)(Y, "bindFramebuffer"), (0, _chunkZRT45YCMJs.a)(J, "drawBuffers"), (0, _chunkZRT45YCMJs.a)(K, "useProgram");
    let Z = {
        [Dn]: e1.FUNC_ADD,
        [id]: e1.FUNC_SUBTRACT,
        [sd]: e1.FUNC_REVERSE_SUBTRACT
    };
    if (i) Z[yl] = e1.MIN, Z[Ml] = e1.MAX;
    else {
        let e1 = t.get("EXT_blend_minmax");
        null !== e1 && (Z[yl] = e1.MIN_EXT, Z[Ml] = e1.MAX_EXT);
    }
    let Q = {
        [rd]: e1.ZERO,
        [ad]: e1.ONE,
        [od]: e1.SRC_COLOR,
        [ua]: e1.SRC_ALPHA,
        [fd]: e1.SRC_ALPHA_SATURATE,
        [ud]: e1.DST_COLOR,
        [ld]: e1.DST_ALPHA,
        [cd]: e1.ONE_MINUS_SRC_COLOR,
        [da]: e1.ONE_MINUS_SRC_ALPHA,
        [dd]: e1.ONE_MINUS_DST_COLOR,
        [hd]: e1.ONE_MINUS_DST_ALPHA,
        [pd]: e1.CONSTANT_COLOR,
        [md]: e1.ONE_MINUS_CONSTANT_COLOR,
        [gd]: e1.CONSTANT_ALPHA,
        [_d]: e1.ONE_MINUS_CONSTANT_ALPHA
    };
    function $(t, n, i, r, a, s, o, l, u, h) {
        if (t !== _n) {
            if (!1 === v && (j(e1.BLEND), v = !0), t === nd) a = a || n, s = s || i, o = o || r, (n !== y || a !== E) && (e1.blendEquationSeparate(Z[n], Z[a]), y = n, E = a), (i !== M || r !== S || s !== T || o !== b) && (e1.blendFuncSeparate(Q[i], Q[r], Q[s], Q[o]), M = i, S = r, T = s, b = o), (!1 === l.equals(A) || u !== w) && (e1.blendColor(l.r, l.g, l.b, u), A.copy(l), w = u), x = t, R = !1;
            else if (t !== x || h !== R) {
                if ((y !== Dn || E !== Dn) && (e1.blendEquation(e1.FUNC_ADD), y = Dn, E = Dn), h) switch(t){
                    case fi:
                        e1.blendFuncSeparate(e1.ONE, e1.ONE_MINUS_SRC_ALPHA, e1.ONE, e1.ONE_MINUS_SRC_ALPHA);
                        break;
                    case _l:
                        e1.blendFunc(e1.ONE, e1.ONE);
                        break;
                    case xl:
                        e1.blendFuncSeparate(e1.ZERO, e1.ONE_MINUS_SRC_COLOR, e1.ZERO, e1.ONE);
                        break;
                    case vl:
                        e1.blendFuncSeparate(e1.ZERO, e1.SRC_COLOR, e1.ZERO, e1.SRC_ALPHA);
                        break;
                    default:
                        console.error("THREE.WebGLState: Invalid blending: ", t);
                }
                else switch(t){
                    case fi:
                        e1.blendFuncSeparate(e1.SRC_ALPHA, e1.ONE_MINUS_SRC_ALPHA, e1.ONE, e1.ONE_MINUS_SRC_ALPHA);
                        break;
                    case _l:
                        e1.blendFunc(e1.SRC_ALPHA, e1.ONE);
                        break;
                    case xl:
                        e1.blendFuncSeparate(e1.ZERO, e1.ONE_MINUS_SRC_COLOR, e1.ZERO, e1.ONE);
                        break;
                    case vl:
                        e1.blendFunc(e1.ZERO, e1.SRC_COLOR);
                        break;
                    default:
                        console.error("THREE.WebGLState: Invalid blending: ", t);
                }
                M = null, S = null, T = null, b = null, A.set(0, 0, 0), w = 0, x = t, R = h;
            }
        } else !0 === v && (q(e1.BLEND), v = !1);
    }
    function ee(t, n) {
        t.side === nn ? q(e1.CULL_FACE) : j(e1.CULL_FACE);
        let i = t.side === Te;
        n && (i = !i), ne(i), t.blending === fi && !1 === t.transparent ? $(_n) : $(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.blendColor, t.blendAlpha, t.premultipliedAlpha), l.setFunc(t.depthFunc), l.setTest(t.depthTest), l.setMask(t.depthWrite), o.setMask(t.colorWrite);
        let r = t.stencilWrite;
        h.setTest(r), r && (h.setMask(t.stencilWriteMask), h.setFunc(t.stencilFunc, t.stencilRef, t.stencilFuncMask), h.setOp(t.stencilFail, t.stencilZFail, t.stencilZPass)), ae(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits), !0 === t.alphaToCoverage ? j(e1.SAMPLE_ALPHA_TO_COVERAGE) : q(e1.SAMPLE_ALPHA_TO_COVERAGE);
    }
    function ne(t) {
        P !== t && (t ? e1.frontFace(e1.CW) : e1.frontFace(e1.CCW), P = t);
    }
    function ie(t) {
        t !== ju ? (j(e1.CULL_FACE), t !== C && (t === gl ? e1.cullFace(e1.BACK) : t === td ? e1.cullFace(e1.FRONT) : e1.cullFace(e1.FRONT_AND_BACK))) : q(e1.CULL_FACE), C = t;
    }
    function re(t) {
        t !== L && (I && e1.lineWidth(t), L = t);
    }
    function ae(t, n, i) {
        t ? (j(e1.POLYGON_OFFSET_FILL), (U !== n || N !== i) && (e1.polygonOffset(n, i), U = n, N = i)) : q(e1.POLYGON_OFFSET_FILL);
    }
    function se(t) {
        t ? j(e1.SCISSOR_TEST) : q(e1.SCISSOR_TEST);
    }
    function oe(t) {
        void 0 === t && (t = e1.TEXTURE0 + D - 1), B !== t && (e1.activeTexture(t), B = t);
    }
    function le(t, n, i) {
        void 0 === i && (i = null === B ? e1.TEXTURE0 + D - 1 : B);
        let r = z[i];
        void 0 === r && (r = {
            type: void 0,
            texture: void 0
        }, z[i] = r), (r.type !== t || r.texture !== n) && (B !== i && (e1.activeTexture(i), B = i), e1.bindTexture(t, n || X[t]), r.type = t, r.texture = n);
    }
    function ue() {
        let t = z[B];
        void 0 !== t && void 0 !== t.type && (e1.bindTexture(t.type, null), t.type = void 0, t.texture = void 0);
    }
    function he() {
        try {
            e1.compressedTexImage2D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function ce() {
        try {
            e1.compressedTexImage3D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function de() {
        try {
            e1.texSubImage2D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function pe() {
        try {
            e1.texSubImage3D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function fe() {
        try {
            e1.compressedTexSubImage2D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function me() {
        try {
            e1.compressedTexSubImage3D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function ge() {
        try {
            e1.texStorage2D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function _e() {
        try {
            e1.texStorage3D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function ve() {
        try {
            e1.texImage2D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function xe() {
        try {
            e1.texImage3D.apply(e1, arguments);
        } catch (e1) {
            console.error("THREE.WebGLState:", e1);
        }
    }
    function ye(t) {
        !1 === H.equals(t) && (e1.scissor(t.x, t.y, t.z, t.w), H.copy(t));
    }
    function Me(t) {
        !1 === k.equals(t) && (e1.viewport(t.x, t.y, t.z, t.w), k.copy(t));
    }
    function Se(t, n) {
        let i = d.get(n);
        void 0 === i && (i = new WeakMap, d.set(n, i));
        let r = i.get(t);
        void 0 === r && (r = e1.getUniformBlockIndex(n, t.name), i.set(t, r));
    }
    function Ee(t, n) {
        let i = d.get(n).get(t);
        c.get(n) !== i && (e1.uniformBlockBinding(n, i, t.__bindingPointIndex), c.set(n, i));
    }
    function be() {
        e1.disable(e1.BLEND), e1.disable(e1.CULL_FACE), e1.disable(e1.DEPTH_TEST), e1.disable(e1.POLYGON_OFFSET_FILL), e1.disable(e1.SCISSOR_TEST), e1.disable(e1.STENCIL_TEST), e1.disable(e1.SAMPLE_ALPHA_TO_COVERAGE), e1.blendEquation(e1.FUNC_ADD), e1.blendFunc(e1.ONE, e1.ZERO), e1.blendFuncSeparate(e1.ONE, e1.ZERO, e1.ONE, e1.ZERO), e1.blendColor(0, 0, 0, 0), e1.colorMask(!0, !0, !0, !0), e1.clearColor(0, 0, 0, 0), e1.depthMask(!0), e1.depthFunc(e1.LESS), e1.clearDepth(1), e1.stencilMask(4294967295), e1.stencilFunc(e1.ALWAYS, 0, 4294967295), e1.stencilOp(e1.KEEP, e1.KEEP, e1.KEEP), e1.clearStencil(0), e1.cullFace(e1.BACK), e1.frontFace(e1.CCW), e1.polygonOffset(0, 0), e1.activeTexture(e1.TEXTURE0), e1.bindFramebuffer(e1.FRAMEBUFFER, null), !0 === i && (e1.bindFramebuffer(e1.DRAW_FRAMEBUFFER, null), e1.bindFramebuffer(e1.READ_FRAMEBUFFER, null)), e1.useProgram(null), e1.lineWidth(1), e1.scissor(0, 0, e1.canvas.width, e1.canvas.height), e1.viewport(0, 0, e1.canvas.width, e1.canvas.height), p = {}, B = null, z = {}, f = {}, m = new WeakMap, g = [], _ = null, v = !1, x = null, y = null, M = null, S = null, E = null, T = null, b = null, A = new Ht(0, 0, 0), w = 0, R = !1, P = null, C = null, L = null, U = null, N = null, H.set(0, 0, e1.canvas.width, e1.canvas.height), k.set(0, 0, e1.canvas.width, e1.canvas.height), o.reset(), l.reset(), h.reset();
    }
    return (0, _chunkZRT45YCMJs.a)($, "setBlending"), (0, _chunkZRT45YCMJs.a)(ee, "setMaterial"), (0, _chunkZRT45YCMJs.a)(ne, "setFlipSided"), (0, _chunkZRT45YCMJs.a)(ie, "setCullFace"), (0, _chunkZRT45YCMJs.a)(re, "setLineWidth"), (0, _chunkZRT45YCMJs.a)(ae, "setPolygonOffset"), (0, _chunkZRT45YCMJs.a)(se, "setScissorTest"), (0, _chunkZRT45YCMJs.a)(oe, "activeTexture"), (0, _chunkZRT45YCMJs.a)(le, "bindTexture"), (0, _chunkZRT45YCMJs.a)(ue, "unbindTexture"), (0, _chunkZRT45YCMJs.a)(he, "compressedTexImage2D"), (0, _chunkZRT45YCMJs.a)(ce, "compressedTexImage3D"), (0, _chunkZRT45YCMJs.a)(de, "texSubImage2D"), (0, _chunkZRT45YCMJs.a)(pe, "texSubImage3D"), (0, _chunkZRT45YCMJs.a)(fe, "compressedTexSubImage2D"), (0, _chunkZRT45YCMJs.a)(me, "compressedTexSubImage3D"), (0, _chunkZRT45YCMJs.a)(ge, "texStorage2D"), (0, _chunkZRT45YCMJs.a)(_e, "texStorage3D"), (0, _chunkZRT45YCMJs.a)(ve, "texImage2D"), (0, _chunkZRT45YCMJs.a)(xe, "texImage3D"), (0, _chunkZRT45YCMJs.a)(ye, "scissor"), (0, _chunkZRT45YCMJs.a)(Me, "viewport"), (0, _chunkZRT45YCMJs.a)(Se, "updateUBOMapping"), (0, _chunkZRT45YCMJs.a)(Ee, "uniformBlockBinding"), (0, _chunkZRT45YCMJs.a)(be, "reset"), {
        buffers: {
            color: o,
            depth: l,
            stencil: h
        },
        enable: j,
        disable: q,
        bindFramebuffer: Y,
        drawBuffers: J,
        useProgram: K,
        setBlending: $,
        setMaterial: ee,
        setFlipSided: ne,
        setCullFace: ie,
        setLineWidth: re,
        setPolygonOffset: ae,
        setScissorTest: se,
        activeTexture: oe,
        bindTexture: le,
        unbindTexture: ue,
        compressedTexImage2D: he,
        compressedTexImage3D: ce,
        texImage2D: ve,
        texImage3D: xe,
        updateUBOMapping: Se,
        uniformBlockBinding: Ee,
        texStorage2D: ge,
        texStorage3D: _e,
        texSubImage2D: de,
        texSubImage3D: pe,
        compressedTexSubImage2D: fe,
        compressedTexSubImage3D: me,
        scissor: ye,
        viewport: Me,
        reset: be
    };
}
function i0(e1, t, n, i, r, a, s) {
    let o, l = r.isWebGL2, h = t.has("WEBGL_multisampled_render_to_texture") ? t.get("WEBGL_multisampled_render_to_texture") : null, c = !(typeof navigator > "u") && /OculusBrowser/g.test(navigator.userAgent), d = new ht, p = new WeakMap, f = new WeakMap, m = !1;
    try {
        m = typeof OffscreenCanvas < "u" && null !== new OffscreenCanvas(1, 1).getContext("2d");
    } catch  {}
    function g(e1, t) {
        return m ? new OffscreenCanvas(e1, t) : ki("canvas");
    }
    function _(e1, t, n, i) {
        let r = 1, a = ie(e1);
        if ((a.width > i || a.height > i) && (r = i / Math.max(a.width, a.height)), r < 1 || !0 === t) {
            if (typeof HTMLImageElement < "u" && e1 instanceof HTMLImageElement || typeof HTMLCanvasElement < "u" && e1 instanceof HTMLCanvasElement || typeof ImageBitmap < "u" && e1 instanceof ImageBitmap || typeof VideoFrame < "u" && e1 instanceof VideoFrame) {
                let i = t ? zs : Math.floor, s = i(r * a.width), l = i(r * a.height);
                void 0 === o && (o = g(s, l));
                let u = n ? g(s, l) : o;
                return u.width = s, u.height = l, u.getContext("2d").drawImage(e1, 0, 0, s, l), console.warn("THREE.WebGLRenderer: Texture has been resized from (" + a.width + "x" + a.height + ") to (" + s + "x" + l + ")."), u;
            }
            return "data" in e1 && console.warn("THREE.WebGLRenderer: Image in DataTexture is too big (" + a.width + "x" + a.height + ")."), e1;
        }
        return e1;
    }
    function v(e1) {
        let t = ie(e1);
        return xa(t.width) && xa(t.height);
    }
    function x(e1) {
        return !l && (e1.wrapS !== Be || e1.wrapT !== Be || e1.minFilter !== fe && e1.minFilter !== we);
    }
    function y(e1, t) {
        return e1.generateMipmaps && t && e1.minFilter !== fe && e1.minFilter !== we;
    }
    function M(t) {
        e1.generateMipmap(t);
    }
    function S(n, i, r, a, s = !1) {
        if (!1 === l) return i;
        if (null !== n) {
            if (void 0 !== e1[n]) return e1[n];
            console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '" + n + "'");
        }
        let o = i;
        if (i === e1.RED && (r === e1.FLOAT && (o = e1.R32F), r === e1.HALF_FLOAT && (o = e1.R16F), r === e1.UNSIGNED_BYTE && (o = e1.R8)), i === e1.RED_INTEGER && (r === e1.UNSIGNED_BYTE && (o = e1.R8UI), r === e1.UNSIGNED_SHORT && (o = e1.R16UI), r === e1.UNSIGNED_INT && (o = e1.R32UI), r === e1.BYTE && (o = e1.R8I), r === e1.SHORT && (o = e1.R16I), r === e1.INT && (o = e1.R32I)), i === e1.RG && (r === e1.FLOAT && (o = e1.RG32F), r === e1.HALF_FLOAT && (o = e1.RG16F), r === e1.UNSIGNED_BYTE && (o = e1.RG8)), i === e1.RG_INTEGER && (r === e1.UNSIGNED_BYTE && (o = e1.RG8UI), r === e1.UNSIGNED_SHORT && (o = e1.RG16UI), r === e1.UNSIGNED_INT && (o = e1.RG32UI), r === e1.BYTE && (o = e1.RG8I), r === e1.SHORT && (o = e1.RG16I), r === e1.INT && (o = e1.RG32I)), i === e1.RGBA) {
            let t = s ? Ns : Yt.getTransfer(a);
            r === e1.FLOAT && (o = e1.RGBA32F), r === e1.HALF_FLOAT && (o = e1.RGBA16F), r === e1.UNSIGNED_BYTE && (o = t === $t ? e1.SRGB8_ALPHA8 : e1.RGBA8), r === e1.UNSIGNED_SHORT_4_4_4_4 && (o = e1.RGBA4), r === e1.UNSIGNED_SHORT_5_5_5_1 && (o = e1.RGB5_A1);
        }
        return (o === e1.R16F || o === e1.R32F || o === e1.RG16F || o === e1.RG32F || o === e1.RGBA16F || o === e1.RGBA32F) && t.get("EXT_color_buffer_float"), o;
    }
    function E(e1, t, n) {
        return !0 === y(e1, n) || e1.isFramebufferTexture && e1.minFilter !== fe && e1.minFilter !== we ? Math.log2(Math.max(t.width, t.height)) + 1 : void 0 !== e1.mipmaps && e1.mipmaps.length > 0 ? e1.mipmaps.length : e1.isCompressedTexture && Array.isArray(e1.image) ? t.mipmaps.length : 1;
    }
    function T(t) {
        return t === fe || t === Sl || t === Ti ? e1.NEAREST : e1.LINEAR;
    }
    function b(e1) {
        let t = e1.target;
        t.removeEventListener("dispose", b), w(t), t.isVideoTexture && p.delete(t);
    }
    function A(e1) {
        let t = e1.target;
        t.removeEventListener("dispose", A), P(t);
    }
    function w(e1) {
        let t = i.get(e1);
        if (void 0 === t.__webglInit) return;
        let n = e1.source, r = f.get(n);
        if (r) {
            let i = r[t.__cacheKey];
            i.usedTimes--, 0 === i.usedTimes && R(e1), 0 === Object.keys(r).length && f.delete(n);
        }
        i.remove(e1);
    }
    function R(t) {
        let n = i.get(t);
        e1.deleteTexture(n.__webglTexture);
        let r = t.source;
        delete f.get(r)[n.__cacheKey], s.memory.textures--;
    }
    function P(t) {
        let n = i.get(t);
        if (t.depthTexture && t.depthTexture.dispose(), t.isWebGLCubeRenderTarget) for(let t = 0; t < 6; t++){
            if (Array.isArray(n.__webglFramebuffer[t])) for(let i = 0; i < n.__webglFramebuffer[t].length; i++)e1.deleteFramebuffer(n.__webglFramebuffer[t][i]);
            else e1.deleteFramebuffer(n.__webglFramebuffer[t]);
            n.__webglDepthbuffer && e1.deleteRenderbuffer(n.__webglDepthbuffer[t]);
        }
        else {
            if (Array.isArray(n.__webglFramebuffer)) for(let t = 0; t < n.__webglFramebuffer.length; t++)e1.deleteFramebuffer(n.__webglFramebuffer[t]);
            else e1.deleteFramebuffer(n.__webglFramebuffer);
            if (n.__webglDepthbuffer && e1.deleteRenderbuffer(n.__webglDepthbuffer), n.__webglMultisampledFramebuffer && e1.deleteFramebuffer(n.__webglMultisampledFramebuffer), n.__webglColorRenderbuffer) for(let t = 0; t < n.__webglColorRenderbuffer.length; t++)n.__webglColorRenderbuffer[t] && e1.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);
            n.__webglDepthRenderbuffer && e1.deleteRenderbuffer(n.__webglDepthRenderbuffer);
        }
        let r = t.textures;
        for(let t = 0, n = r.length; t < n; t++){
            let n = i.get(r[t]);
            n.__webglTexture && (e1.deleteTexture(n.__webglTexture), s.memory.textures--), i.remove(r[t]);
        }
        i.remove(t);
    }
    (0, _chunkZRT45YCMJs.a)(g, "createCanvas"), (0, _chunkZRT45YCMJs.a)(_, "resizeImage"), (0, _chunkZRT45YCMJs.a)(v, "isPowerOfTwo$1"), (0, _chunkZRT45YCMJs.a)(x, "textureNeedsPowerOfTwo"), (0, _chunkZRT45YCMJs.a)(y, "textureNeedsGenerateMipmaps"), (0, _chunkZRT45YCMJs.a)(M, "generateMipmap"), (0, _chunkZRT45YCMJs.a)(S, "getInternalFormat"), (0, _chunkZRT45YCMJs.a)(E, "getMipLevels"), (0, _chunkZRT45YCMJs.a)(T, "filterFallback"), (0, _chunkZRT45YCMJs.a)(b, "onTextureDispose"), (0, _chunkZRT45YCMJs.a)(A, "onRenderTargetDispose"), (0, _chunkZRT45YCMJs.a)(w, "deallocateTexture"), (0, _chunkZRT45YCMJs.a)(R, "deleteTexture"), (0, _chunkZRT45YCMJs.a)(P, "deallocateRenderTarget");
    let C = 0;
    function L() {
        C = 0;
    }
    function U() {
        let e1 = C;
        return e1 >= r.maxTextures && console.warn("THREE.WebGLTextures: Trying to use " + e1 + " texture units while this GPU supports only " + r.maxTextures), C += 1, e1;
    }
    function N(e1) {
        let t = [];
        return t.push(e1.wrapS), t.push(e1.wrapT), t.push(e1.wrapR || 0), t.push(e1.magFilter), t.push(e1.minFilter), t.push(e1.anisotropy), t.push(e1.internalFormat), t.push(e1.format), t.push(e1.type), t.push(e1.generateMipmaps), t.push(e1.premultiplyAlpha), t.push(e1.flipY), t.push(e1.unpackAlignment), t.push(e1.colorSpace), t.join();
    }
    function D(t, r) {
        let a = i.get(t);
        if (t.isVideoTexture && te(t), !1 === t.isRenderTargetTexture && t.version > 0 && a.__version !== t.version) {
            let e1 = t.image;
            if (null === e1) console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");
            else {
                if (!1 !== e1.complete) return void k(a, t, r);
                console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");
            }
        }
        n.bindTexture(e1.TEXTURE_2D, a.__webglTexture, e1.TEXTURE0 + r);
    }
    function I(t, r) {
        let a = i.get(t);
        t.version > 0 && a.__version !== t.version ? k(a, t, r) : n.bindTexture(e1.TEXTURE_2D_ARRAY, a.__webglTexture, e1.TEXTURE0 + r);
    }
    function O(t, r) {
        let a = i.get(t);
        t.version > 0 && a.__version !== t.version ? k(a, t, r) : n.bindTexture(e1.TEXTURE_3D, a.__webglTexture, e1.TEXTURE0 + r);
    }
    function F(t, r) {
        let a = i.get(t);
        t.version > 0 && a.__version !== t.version ? W(a, t, r) : n.bindTexture(e1.TEXTURE_CUBE_MAP, a.__webglTexture, e1.TEXTURE0 + r);
    }
    (0, _chunkZRT45YCMJs.a)(L, "resetTextureUnits"), (0, _chunkZRT45YCMJs.a)(U, "allocateTextureUnit"), (0, _chunkZRT45YCMJs.a)(N, "getTextureCacheKey"), (0, _chunkZRT45YCMJs.a)(D, "setTexture2D"), (0, _chunkZRT45YCMJs.a)(I, "setTexture2DArray"), (0, _chunkZRT45YCMJs.a)(O, "setTexture3D"), (0, _chunkZRT45YCMJs.a)(F, "setTextureCube");
    let B = {
        [ma]: e1.REPEAT,
        [Be]: e1.CLAMP_TO_EDGE,
        [ga]: e1.MIRRORED_REPEAT
    }, z = {
        [fe]: e1.NEAREST,
        [Sl]: e1.NEAREST_MIPMAP_NEAREST,
        [Ti]: e1.NEAREST_MIPMAP_LINEAR,
        [we]: e1.LINEAR,
        [Tr]: e1.LINEAR_MIPMAP_NEAREST,
        [On]: e1.LINEAR_MIPMAP_LINEAR
    }, V = {
        [Xd]: e1.NEVER,
        [Kd]: e1.ALWAYS,
        [qd]: e1.LESS,
        [Nu]: e1.LEQUAL,
        [Yd]: e1.EQUAL,
        [$d]: e1.GEQUAL,
        [Zd]: e1.GREATER,
        [Jd]: e1.NOTEQUAL
    };
    function G(n, a, s) {
        if (a.type === sn && !1 === t.has("OES_texture_float_linear") && (a.magFilter === we || a.magFilter === Tr || a.magFilter === Ti || a.magFilter === On || a.minFilter === we || a.minFilter === Tr || a.minFilter === Ti || a.minFilter === On) && console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."), s ? (e1.texParameteri(n, e1.TEXTURE_WRAP_S, B[a.wrapS]), e1.texParameteri(n, e1.TEXTURE_WRAP_T, B[a.wrapT]), (n === e1.TEXTURE_3D || n === e1.TEXTURE_2D_ARRAY) && e1.texParameteri(n, e1.TEXTURE_WRAP_R, B[a.wrapR]), e1.texParameteri(n, e1.TEXTURE_MAG_FILTER, z[a.magFilter]), e1.texParameteri(n, e1.TEXTURE_MIN_FILTER, z[a.minFilter])) : (e1.texParameteri(n, e1.TEXTURE_WRAP_S, e1.CLAMP_TO_EDGE), e1.texParameteri(n, e1.TEXTURE_WRAP_T, e1.CLAMP_TO_EDGE), (n === e1.TEXTURE_3D || n === e1.TEXTURE_2D_ARRAY) && e1.texParameteri(n, e1.TEXTURE_WRAP_R, e1.CLAMP_TO_EDGE), (a.wrapS !== Be || a.wrapT !== Be) && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."), e1.texParameteri(n, e1.TEXTURE_MAG_FILTER, T(a.magFilter)), e1.texParameteri(n, e1.TEXTURE_MIN_FILTER, T(a.minFilter)), a.minFilter !== fe && a.minFilter !== we && console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")), a.compareFunction && (e1.texParameteri(n, e1.TEXTURE_COMPARE_MODE, e1.COMPARE_REF_TO_TEXTURE), e1.texParameteri(n, e1.TEXTURE_COMPARE_FUNC, V[a.compareFunction])), !0 === t.has("EXT_texture_filter_anisotropic")) {
            if (a.magFilter === fe || a.minFilter !== Ti && a.minFilter !== On || a.type === sn && !1 === t.has("OES_texture_float_linear") || !1 === l && a.type === Bi && !1 === t.has("OES_texture_half_float_linear")) return;
            if (a.anisotropy > 1 || i.get(a).__currentAnisotropy) {
                let s = t.get("EXT_texture_filter_anisotropic");
                e1.texParameterf(n, s.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(a.anisotropy, r.getMaxAnisotropy())), i.get(a).__currentAnisotropy = a.anisotropy;
            }
        }
    }
    function H(t, n) {
        let i = !1;
        void 0 === t.__webglInit && (t.__webglInit = !0, n.addEventListener("dispose", b));
        let r = n.source, a = f.get(r);
        void 0 === a && (a = {}, f.set(r, a));
        let o = N(n);
        if (o !== t.__cacheKey) {
            void 0 === a[o] && (a[o] = {
                texture: e1.createTexture(),
                usedTimes: 0
            }, s.memory.textures++, i = !0), a[o].usedTimes++;
            let r = a[t.__cacheKey];
            void 0 !== r && (a[t.__cacheKey].usedTimes--, 0 === r.usedTimes && R(n)), t.__cacheKey = o, t.__webglTexture = a[o].texture;
        }
        return i;
    }
    function k(t, s, o) {
        let u = e1.TEXTURE_2D;
        (s.isDataArrayTexture || s.isCompressedArrayTexture) && (u = e1.TEXTURE_2D_ARRAY), s.isData3DTexture && (u = e1.TEXTURE_3D);
        let h = H(t, s), c = s.source;
        n.bindTexture(u, t.__webglTexture, e1.TEXTURE0 + o);
        let d = i.get(c);
        if (c.version !== d.__version || !0 === h) {
            n.activeTexture(e1.TEXTURE0 + o);
            let t = Yt.getPrimaries(Yt.workingColorSpace), i = s.colorSpace === mn ? null : Yt.getPrimaries(s.colorSpace), p = s.colorSpace === mn || t === i ? e1.NONE : e1.BROWSER_DEFAULT_WEBGL;
            e1.pixelStorei(e1.UNPACK_FLIP_Y_WEBGL, s.flipY), e1.pixelStorei(e1.UNPACK_PREMULTIPLY_ALPHA_WEBGL, s.premultiplyAlpha), e1.pixelStorei(e1.UNPACK_ALIGNMENT, s.unpackAlignment), e1.pixelStorei(e1.UNPACK_COLORSPACE_CONVERSION_WEBGL, p);
            let f = x(s) && !1 === v(s.image), m = _(s.image, f, !1, r.maxTextureSize);
            m = ne(s, m);
            let g = v(m) || l, T = a.convert(s.format, s.colorSpace), b = a.convert(s.type), A = S(s.internalFormat, T, b, s.colorSpace, s.isVideoTexture);
            G(u, s, g);
            let w, R = s.mipmaps, P = l && !0 !== s.isVideoTexture && A !== Du, C = void 0 === d.__version || !0 === h, L = c.dataReady, U = E(s, m, g);
            if (s.isDepthTexture) A = e1.DEPTH_COMPONENT, l ? A = s.type === sn ? e1.DEPTH_COMPONENT32F : s.type === gn ? e1.DEPTH_COMPONENT24 : s.type === Bn ? e1.DEPTH24_STENCIL8 : e1.DEPTH_COMPONENT16 : s.type === sn && console.error("WebGLRenderer: Floating point depth texture requires WebGL2."), s.format === zn && A === e1.DEPTH_COMPONENT && s.type !== ro && s.type !== gn && (console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."), s.type = gn, b = a.convert(s.type)), s.format === Mi && A === e1.DEPTH_COMPONENT && (A = e1.DEPTH_STENCIL, s.type !== Bn && (console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."), s.type = Bn, b = a.convert(s.type))), C && (P ? n.texStorage2D(e1.TEXTURE_2D, 1, A, m.width, m.height) : n.texImage2D(e1.TEXTURE_2D, 0, A, m.width, m.height, 0, T, b, null));
            else if (s.isDataTexture) {
                if (R.length > 0 && g) {
                    P && C && n.texStorage2D(e1.TEXTURE_2D, U, A, R[0].width, R[0].height);
                    for(let t = 0, i = R.length; t < i; t++)w = R[t], P ? L && n.texSubImage2D(e1.TEXTURE_2D, t, 0, 0, w.width, w.height, T, b, w.data) : n.texImage2D(e1.TEXTURE_2D, t, A, w.width, w.height, 0, T, b, w.data);
                    s.generateMipmaps = !1;
                } else P ? (C && n.texStorage2D(e1.TEXTURE_2D, U, A, m.width, m.height), L && n.texSubImage2D(e1.TEXTURE_2D, 0, 0, 0, m.width, m.height, T, b, m.data)) : n.texImage2D(e1.TEXTURE_2D, 0, A, m.width, m.height, 0, T, b, m.data);
            } else if (s.isCompressedTexture) {
                if (s.isCompressedArrayTexture) {
                    P && C && n.texStorage3D(e1.TEXTURE_2D_ARRAY, U, A, R[0].width, R[0].height, m.depth);
                    for(let t = 0, i = R.length; t < i; t++)w = R[t], s.format !== ze ? null !== T ? P ? L && n.compressedTexSubImage3D(e1.TEXTURE_2D_ARRAY, t, 0, 0, 0, w.width, w.height, m.depth, T, w.data, 0, 0) : n.compressedTexImage3D(e1.TEXTURE_2D_ARRAY, t, A, w.width, w.height, m.depth, 0, w.data, 0, 0) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : P ? L && n.texSubImage3D(e1.TEXTURE_2D_ARRAY, t, 0, 0, 0, w.width, w.height, m.depth, T, b, w.data) : n.texImage3D(e1.TEXTURE_2D_ARRAY, t, A, w.width, w.height, m.depth, 0, T, b, w.data);
                } else {
                    P && C && n.texStorage2D(e1.TEXTURE_2D, U, A, R[0].width, R[0].height);
                    for(let t = 0, i = R.length; t < i; t++)w = R[t], s.format !== ze ? null !== T ? P ? L && n.compressedTexSubImage2D(e1.TEXTURE_2D, t, 0, 0, w.width, w.height, T, w.data) : n.compressedTexImage2D(e1.TEXTURE_2D, t, A, w.width, w.height, 0, w.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()") : P ? L && n.texSubImage2D(e1.TEXTURE_2D, t, 0, 0, w.width, w.height, T, b, w.data) : n.texImage2D(e1.TEXTURE_2D, t, A, w.width, w.height, 0, T, b, w.data);
                }
            } else if (s.isDataArrayTexture) P ? (C && n.texStorage3D(e1.TEXTURE_2D_ARRAY, U, A, m.width, m.height, m.depth), L && n.texSubImage3D(e1.TEXTURE_2D_ARRAY, 0, 0, 0, 0, m.width, m.height, m.depth, T, b, m.data)) : n.texImage3D(e1.TEXTURE_2D_ARRAY, 0, A, m.width, m.height, m.depth, 0, T, b, m.data);
            else if (s.isData3DTexture) P ? (C && n.texStorage3D(e1.TEXTURE_3D, U, A, m.width, m.height, m.depth), L && n.texSubImage3D(e1.TEXTURE_3D, 0, 0, 0, 0, m.width, m.height, m.depth, T, b, m.data)) : n.texImage3D(e1.TEXTURE_3D, 0, A, m.width, m.height, m.depth, 0, T, b, m.data);
            else if (s.isFramebufferTexture) {
                if (C) {
                    if (P) n.texStorage2D(e1.TEXTURE_2D, U, A, m.width, m.height);
                    else {
                        let t = m.width, i = m.height;
                        for(let r = 0; r < U; r++)n.texImage2D(e1.TEXTURE_2D, r, A, t, i, 0, T, b, null), t >>= 1, i >>= 1;
                    }
                }
            } else if (R.length > 0 && g) {
                if (P && C) {
                    let t = ie(R[0]);
                    n.texStorage2D(e1.TEXTURE_2D, U, A, t.width, t.height);
                }
                for(let t = 0, i = R.length; t < i; t++)w = R[t], P ? L && n.texSubImage2D(e1.TEXTURE_2D, t, 0, 0, T, b, w) : n.texImage2D(e1.TEXTURE_2D, t, A, T, b, w);
                s.generateMipmaps = !1;
            } else if (P) {
                if (C) {
                    let t = ie(m);
                    n.texStorage2D(e1.TEXTURE_2D, U, A, t.width, t.height);
                }
                L && n.texSubImage2D(e1.TEXTURE_2D, 0, 0, 0, T, b, m);
            } else n.texImage2D(e1.TEXTURE_2D, 0, A, T, b, m);
            y(s, g) && M(u), d.__version = c.version, s.onUpdate && s.onUpdate(s);
        }
        t.__version = s.version;
    }
    function W(t, s, o) {
        if (6 !== s.image.length) return;
        let u = H(t, s), h = s.source;
        n.bindTexture(e1.TEXTURE_CUBE_MAP, t.__webglTexture, e1.TEXTURE0 + o);
        let c = i.get(h);
        if (h.version !== c.__version || !0 === u) {
            n.activeTexture(e1.TEXTURE0 + o);
            let t = Yt.getPrimaries(Yt.workingColorSpace), i = s.colorSpace === mn ? null : Yt.getPrimaries(s.colorSpace), d = s.colorSpace === mn || t === i ? e1.NONE : e1.BROWSER_DEFAULT_WEBGL;
            e1.pixelStorei(e1.UNPACK_FLIP_Y_WEBGL, s.flipY), e1.pixelStorei(e1.UNPACK_PREMULTIPLY_ALPHA_WEBGL, s.premultiplyAlpha), e1.pixelStorei(e1.UNPACK_ALIGNMENT, s.unpackAlignment), e1.pixelStorei(e1.UNPACK_COLORSPACE_CONVERSION_WEBGL, d);
            let p = s.isCompressedTexture || s.image[0].isCompressedTexture, f = s.image[0] && s.image[0].isDataTexture, m = [];
            for(let e1 = 0; e1 < 6; e1++)m[e1] = p || f ? f ? s.image[e1].image : s.image[e1] : _(s.image[e1], !1, !0, r.maxCubemapSize), m[e1] = ne(s, m[e1]);
            let g, x = m[0], T = v(x) || l, b = a.convert(s.format, s.colorSpace), A = a.convert(s.type), w = S(s.internalFormat, b, A, s.colorSpace), R = l && !0 !== s.isVideoTexture, P = void 0 === c.__version || !0 === u, C = h.dataReady, L = E(s, x, T);
            if (G(e1.TEXTURE_CUBE_MAP, s, T), p) {
                R && P && n.texStorage2D(e1.TEXTURE_CUBE_MAP, L, w, x.width, x.height);
                for(let t = 0; t < 6; t++){
                    g = m[t].mipmaps;
                    for(let i = 0; i < g.length; i++){
                        let r = g[i];
                        s.format !== ze ? null !== b ? R ? C && n.compressedTexSubImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i, 0, 0, r.width, r.height, b, r.data) : n.compressedTexImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i, w, r.width, r.height, 0, r.data) : console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()") : R ? C && n.texSubImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i, 0, 0, r.width, r.height, b, A, r.data) : n.texImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i, w, r.width, r.height, 0, b, A, r.data);
                    }
                }
            } else {
                if (g = s.mipmaps, R && P) {
                    g.length > 0 && L++;
                    let t = ie(m[0]);
                    n.texStorage2D(e1.TEXTURE_CUBE_MAP, L, w, t.width, t.height);
                }
                for(let t = 0; t < 6; t++)if (f) {
                    R ? C && n.texSubImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, 0, 0, 0, m[t].width, m[t].height, b, A, m[t].data) : n.texImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, 0, w, m[t].width, m[t].height, 0, b, A, m[t].data);
                    for(let i = 0; i < g.length; i++){
                        let r = g[i].image[t].image;
                        R ? C && n.texSubImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i + 1, 0, 0, r.width, r.height, b, A, r.data) : n.texImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i + 1, w, r.width, r.height, 0, b, A, r.data);
                    }
                } else {
                    R ? C && n.texSubImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, 0, 0, 0, b, A, m[t]) : n.texImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, 0, w, b, A, m[t]);
                    for(let i = 0; i < g.length; i++){
                        let r = g[i];
                        R ? C && n.texSubImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i + 1, 0, 0, b, A, r.image[t]) : n.texImage2D(e1.TEXTURE_CUBE_MAP_POSITIVE_X + t, i + 1, w, b, A, r.image[t]);
                    }
                }
            }
            y(s, T) && M(e1.TEXTURE_CUBE_MAP), c.__version = h.version, s.onUpdate && s.onUpdate(s);
        }
        t.__version = s.version;
    }
    function X(t, r, s, o, l, u) {
        let c = a.convert(s.format, s.colorSpace), d = a.convert(s.type), p = S(s.internalFormat, c, d, s.colorSpace);
        if (!i.get(r).__hasExternalTextures) {
            let t = Math.max(1, r.width >> u), i = Math.max(1, r.height >> u);
            l === e1.TEXTURE_3D || l === e1.TEXTURE_2D_ARRAY ? n.texImage3D(l, u, p, t, i, r.depth, 0, c, d, null) : n.texImage2D(l, u, p, t, i, 0, c, d, null);
        }
        n.bindFramebuffer(e1.FRAMEBUFFER, t), ee(r) ? h.framebufferTexture2DMultisampleEXT(e1.FRAMEBUFFER, o, l, i.get(s).__webglTexture, 0, $(r)) : (l === e1.TEXTURE_2D || l >= e1.TEXTURE_CUBE_MAP_POSITIVE_X && l <= e1.TEXTURE_CUBE_MAP_NEGATIVE_Z) && e1.framebufferTexture2D(e1.FRAMEBUFFER, o, l, i.get(s).__webglTexture, u), n.bindFramebuffer(e1.FRAMEBUFFER, null);
    }
    function j(t, n, i) {
        if (e1.bindRenderbuffer(e1.RENDERBUFFER, t), n.depthBuffer && !n.stencilBuffer) {
            let r = !0 === l ? e1.DEPTH_COMPONENT24 : e1.DEPTH_COMPONENT16;
            if (i || ee(n)) {
                let t = n.depthTexture;
                t && t.isDepthTexture && (t.type === sn ? r = e1.DEPTH_COMPONENT32F : t.type === gn && (r = e1.DEPTH_COMPONENT24));
                let i = $(n);
                ee(n) ? h.renderbufferStorageMultisampleEXT(e1.RENDERBUFFER, i, r, n.width, n.height) : e1.renderbufferStorageMultisample(e1.RENDERBUFFER, i, r, n.width, n.height);
            } else e1.renderbufferStorage(e1.RENDERBUFFER, r, n.width, n.height);
            e1.framebufferRenderbuffer(e1.FRAMEBUFFER, e1.DEPTH_ATTACHMENT, e1.RENDERBUFFER, t);
        } else if (n.depthBuffer && n.stencilBuffer) {
            let r = $(n);
            i && !1 === ee(n) ? e1.renderbufferStorageMultisample(e1.RENDERBUFFER, r, e1.DEPTH24_STENCIL8, n.width, n.height) : ee(n) ? h.renderbufferStorageMultisampleEXT(e1.RENDERBUFFER, r, e1.DEPTH24_STENCIL8, n.width, n.height) : e1.renderbufferStorage(e1.RENDERBUFFER, e1.DEPTH_STENCIL, n.width, n.height), e1.framebufferRenderbuffer(e1.FRAMEBUFFER, e1.DEPTH_STENCIL_ATTACHMENT, e1.RENDERBUFFER, t);
        } else {
            let t = n.textures;
            for(let r = 0; r < t.length; r++){
                let s = t[r], o = a.convert(s.format, s.colorSpace), l = a.convert(s.type), u = S(s.internalFormat, o, l, s.colorSpace), c = $(n);
                i && !1 === ee(n) ? e1.renderbufferStorageMultisample(e1.RENDERBUFFER, c, u, n.width, n.height) : ee(n) ? h.renderbufferStorageMultisampleEXT(e1.RENDERBUFFER, c, u, n.width, n.height) : e1.renderbufferStorage(e1.RENDERBUFFER, u, n.width, n.height);
            }
        }
        e1.bindRenderbuffer(e1.RENDERBUFFER, null);
    }
    function q(t, r) {
        if (r && r.isWebGLCubeRenderTarget) throw new Error("Depth Texture with cube render targets is not supported");
        if (n.bindFramebuffer(e1.FRAMEBUFFER, t), !r.depthTexture || !r.depthTexture.isDepthTexture) throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");
        (!i.get(r.depthTexture).__webglTexture || r.depthTexture.image.width !== r.width || r.depthTexture.image.height !== r.height) && (r.depthTexture.image.width = r.width, r.depthTexture.image.height = r.height, r.depthTexture.needsUpdate = !0), D(r.depthTexture, 0);
        let a = i.get(r.depthTexture).__webglTexture, s = $(r);
        if (r.depthTexture.format === zn) ee(r) ? h.framebufferTexture2DMultisampleEXT(e1.FRAMEBUFFER, e1.DEPTH_ATTACHMENT, e1.TEXTURE_2D, a, 0, s) : e1.framebufferTexture2D(e1.FRAMEBUFFER, e1.DEPTH_ATTACHMENT, e1.TEXTURE_2D, a, 0);
        else {
            if (r.depthTexture.format !== Mi) throw new Error("Unknown depthTexture format");
            ee(r) ? h.framebufferTexture2DMultisampleEXT(e1.FRAMEBUFFER, e1.DEPTH_STENCIL_ATTACHMENT, e1.TEXTURE_2D, a, 0, s) : e1.framebufferTexture2D(e1.FRAMEBUFFER, e1.DEPTH_STENCIL_ATTACHMENT, e1.TEXTURE_2D, a, 0);
        }
    }
    function Y(t) {
        let r = i.get(t), a = !0 === t.isWebGLCubeRenderTarget;
        if (t.depthTexture && !r.__autoAllocateDepthBuffer) {
            if (a) throw new Error("target.depthTexture not supported in Cube render targets");
            q(r.__webglFramebuffer, t);
        } else if (a) {
            r.__webglDepthbuffer = [];
            for(let i = 0; i < 6; i++)n.bindFramebuffer(e1.FRAMEBUFFER, r.__webglFramebuffer[i]), r.__webglDepthbuffer[i] = e1.createRenderbuffer(), j(r.__webglDepthbuffer[i], t, !1);
        } else n.bindFramebuffer(e1.FRAMEBUFFER, r.__webglFramebuffer), r.__webglDepthbuffer = e1.createRenderbuffer(), j(r.__webglDepthbuffer, t, !1);
        n.bindFramebuffer(e1.FRAMEBUFFER, null);
    }
    function J(t, n, r) {
        let a = i.get(t);
        void 0 !== n && X(a.__webglFramebuffer, t, t.texture, e1.COLOR_ATTACHMENT0, e1.TEXTURE_2D, 0), void 0 !== r && Y(t);
    }
    function K(t) {
        let o = t.texture, u = i.get(t), h = i.get(o);
        t.addEventListener("dispose", A);
        let c = t.textures, d = !0 === t.isWebGLCubeRenderTarget, p = c.length > 1, f = v(t) || l;
        if (p || (void 0 === h.__webglTexture && (h.__webglTexture = e1.createTexture()), h.__version = o.version, s.memory.textures++), d) {
            u.__webglFramebuffer = [];
            for(let t = 0; t < 6; t++)if (l && o.mipmaps && o.mipmaps.length > 0) {
                u.__webglFramebuffer[t] = [];
                for(let n = 0; n < o.mipmaps.length; n++)u.__webglFramebuffer[t][n] = e1.createFramebuffer();
            } else u.__webglFramebuffer[t] = e1.createFramebuffer();
        } else {
            if (l && o.mipmaps && o.mipmaps.length > 0) {
                u.__webglFramebuffer = [];
                for(let t = 0; t < o.mipmaps.length; t++)u.__webglFramebuffer[t] = e1.createFramebuffer();
            } else u.__webglFramebuffer = e1.createFramebuffer();
            if (p) {
                if (r.drawBuffers) for(let t = 0, n = c.length; t < n; t++){
                    let n = i.get(c[t]);
                    void 0 === n.__webglTexture && (n.__webglTexture = e1.createTexture(), s.memory.textures++);
                }
                else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");
            }
            if (l && t.samples > 0 && !1 === ee(t)) {
                u.__webglMultisampledFramebuffer = e1.createFramebuffer(), u.__webglColorRenderbuffer = [], n.bindFramebuffer(e1.FRAMEBUFFER, u.__webglMultisampledFramebuffer);
                for(let n = 0; n < c.length; n++){
                    let i = c[n];
                    u.__webglColorRenderbuffer[n] = e1.createRenderbuffer(), e1.bindRenderbuffer(e1.RENDERBUFFER, u.__webglColorRenderbuffer[n]);
                    let r = a.convert(i.format, i.colorSpace), s = a.convert(i.type), o = S(i.internalFormat, r, s, i.colorSpace, !0 === t.isXRRenderTarget), l = $(t);
                    e1.renderbufferStorageMultisample(e1.RENDERBUFFER, l, o, t.width, t.height), e1.framebufferRenderbuffer(e1.FRAMEBUFFER, e1.COLOR_ATTACHMENT0 + n, e1.RENDERBUFFER, u.__webglColorRenderbuffer[n]);
                }
                e1.bindRenderbuffer(e1.RENDERBUFFER, null), t.depthBuffer && (u.__webglDepthRenderbuffer = e1.createRenderbuffer(), j(u.__webglDepthRenderbuffer, t, !0)), n.bindFramebuffer(e1.FRAMEBUFFER, null);
            }
        }
        if (d) {
            n.bindTexture(e1.TEXTURE_CUBE_MAP, h.__webglTexture), G(e1.TEXTURE_CUBE_MAP, o, f);
            for(let n = 0; n < 6; n++)if (l && o.mipmaps && o.mipmaps.length > 0) for(let i = 0; i < o.mipmaps.length; i++)X(u.__webglFramebuffer[n][i], t, o, e1.COLOR_ATTACHMENT0, e1.TEXTURE_CUBE_MAP_POSITIVE_X + n, i);
            else X(u.__webglFramebuffer[n], t, o, e1.COLOR_ATTACHMENT0, e1.TEXTURE_CUBE_MAP_POSITIVE_X + n, 0);
            y(o, f) && M(e1.TEXTURE_CUBE_MAP), n.unbindTexture();
        } else if (p) {
            for(let r = 0, a = c.length; r < a; r++){
                let a = c[r], s = i.get(a);
                n.bindTexture(e1.TEXTURE_2D, s.__webglTexture), G(e1.TEXTURE_2D, a, f), X(u.__webglFramebuffer, t, a, e1.COLOR_ATTACHMENT0 + r, e1.TEXTURE_2D, 0), y(a, f) && M(e1.TEXTURE_2D);
            }
            n.unbindTexture();
        } else {
            let i = e1.TEXTURE_2D;
            if ((t.isWebGL3DRenderTarget || t.isWebGLArrayRenderTarget) && (l ? i = t.isWebGL3DRenderTarget ? e1.TEXTURE_3D : e1.TEXTURE_2D_ARRAY : console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")), n.bindTexture(i, h.__webglTexture), G(i, o, f), l && o.mipmaps && o.mipmaps.length > 0) for(let n = 0; n < o.mipmaps.length; n++)X(u.__webglFramebuffer[n], t, o, e1.COLOR_ATTACHMENT0, i, n);
            else X(u.__webglFramebuffer, t, o, e1.COLOR_ATTACHMENT0, i, 0);
            y(o, f) && M(i), n.unbindTexture();
        }
        t.depthBuffer && Y(t);
    }
    function Z(t) {
        let r = v(t) || l, a = t.textures;
        for(let s = 0, o = a.length; s < o; s++){
            let o = a[s];
            if (y(o, r)) {
                let r = t.isWebGLCubeRenderTarget ? e1.TEXTURE_CUBE_MAP : e1.TEXTURE_2D, a = i.get(o).__webglTexture;
                n.bindTexture(r, a), M(r), n.unbindTexture();
            }
        }
    }
    function Q(t) {
        if (l && t.samples > 0 && !1 === ee(t)) {
            let r = t.textures, a = t.width, s = t.height, o = e1.COLOR_BUFFER_BIT, l = [], u = t.stencilBuffer ? e1.DEPTH_STENCIL_ATTACHMENT : e1.DEPTH_ATTACHMENT, h = i.get(t), d = r.length > 1;
            if (d) for(let t = 0; t < r.length; t++)n.bindFramebuffer(e1.FRAMEBUFFER, h.__webglMultisampledFramebuffer), e1.framebufferRenderbuffer(e1.FRAMEBUFFER, e1.COLOR_ATTACHMENT0 + t, e1.RENDERBUFFER, null), n.bindFramebuffer(e1.FRAMEBUFFER, h.__webglFramebuffer), e1.framebufferTexture2D(e1.DRAW_FRAMEBUFFER, e1.COLOR_ATTACHMENT0 + t, e1.TEXTURE_2D, null, 0);
            n.bindFramebuffer(e1.READ_FRAMEBUFFER, h.__webglMultisampledFramebuffer), n.bindFramebuffer(e1.DRAW_FRAMEBUFFER, h.__webglFramebuffer);
            for(let n = 0; n < r.length; n++){
                l.push(e1.COLOR_ATTACHMENT0 + n), t.depthBuffer && l.push(u);
                let p = void 0 !== h.__ignoreDepthValues && h.__ignoreDepthValues;
                if (!1 === p && (t.depthBuffer && (o |= e1.DEPTH_BUFFER_BIT), t.stencilBuffer && (o |= e1.STENCIL_BUFFER_BIT)), d && e1.framebufferRenderbuffer(e1.READ_FRAMEBUFFER, e1.COLOR_ATTACHMENT0, e1.RENDERBUFFER, h.__webglColorRenderbuffer[n]), !0 === p && (e1.invalidateFramebuffer(e1.READ_FRAMEBUFFER, [
                    u
                ]), e1.invalidateFramebuffer(e1.DRAW_FRAMEBUFFER, [
                    u
                ])), d) {
                    let t = i.get(r[n]).__webglTexture;
                    e1.framebufferTexture2D(e1.DRAW_FRAMEBUFFER, e1.COLOR_ATTACHMENT0, e1.TEXTURE_2D, t, 0);
                }
                e1.blitFramebuffer(0, 0, a, s, 0, 0, a, s, o, e1.NEAREST), c && e1.invalidateFramebuffer(e1.READ_FRAMEBUFFER, l);
            }
            if (n.bindFramebuffer(e1.READ_FRAMEBUFFER, null), n.bindFramebuffer(e1.DRAW_FRAMEBUFFER, null), d) for(let t = 0; t < r.length; t++){
                n.bindFramebuffer(e1.FRAMEBUFFER, h.__webglMultisampledFramebuffer), e1.framebufferRenderbuffer(e1.FRAMEBUFFER, e1.COLOR_ATTACHMENT0 + t, e1.RENDERBUFFER, h.__webglColorRenderbuffer[t]);
                let a = i.get(r[t]).__webglTexture;
                n.bindFramebuffer(e1.FRAMEBUFFER, h.__webglFramebuffer), e1.framebufferTexture2D(e1.DRAW_FRAMEBUFFER, e1.COLOR_ATTACHMENT0 + t, e1.TEXTURE_2D, a, 0);
            }
            n.bindFramebuffer(e1.DRAW_FRAMEBUFFER, h.__webglMultisampledFramebuffer);
        }
    }
    function $(e1) {
        return Math.min(r.maxSamples, e1.samples);
    }
    function ee(e1) {
        let n = i.get(e1);
        return l && e1.samples > 0 && !0 === t.has("WEBGL_multisampled_render_to_texture") && !1 !== n.__useRenderToTexture;
    }
    function te(e1) {
        let t = s.render.frame;
        p.get(e1) !== t && (p.set(e1, t), e1.update());
    }
    function ne(e1, n) {
        let i = e1.colorSpace, r = e1.format, a = e1.type;
        return !0 === e1.isCompressedTexture || !0 === e1.isVideoTexture || e1.format === _a || i !== En && i !== mn && (Yt.getTransfer(i) === $t ? !1 === l ? !0 === t.has("EXT_sRGB") && r === ze ? (e1.format = _a, e1.minFilter = we, e1.generateMipmaps = !1) : n = ks.sRGBToLinear(n) : (r !== ze || a !== vn) && console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType.") : console.error("THREE.WebGLTextures: Unsupported texture color space:", i)), n;
    }
    function ie(e1) {
        return typeof HTMLImageElement < "u" && e1 instanceof HTMLImageElement ? (d.width = e1.naturalWidth || e1.width, d.height = e1.naturalHeight || e1.height) : typeof VideoFrame < "u" && e1 instanceof VideoFrame ? (d.width = e1.displayWidth, d.height = e1.displayHeight) : (d.width = e1.width, d.height = e1.height), d;
    }
    (0, _chunkZRT45YCMJs.a)(G, "setTextureParameters"), (0, _chunkZRT45YCMJs.a)(H, "initTexture"), (0, _chunkZRT45YCMJs.a)(k, "uploadTexture"), (0, _chunkZRT45YCMJs.a)(W, "uploadCubeTexture"), (0, _chunkZRT45YCMJs.a)(X, "setupFrameBufferTexture"), (0, _chunkZRT45YCMJs.a)(j, "setupRenderBufferStorage"), (0, _chunkZRT45YCMJs.a)(q, "setupDepthTexture"), (0, _chunkZRT45YCMJs.a)(Y, "setupDepthRenderbuffer"), (0, _chunkZRT45YCMJs.a)(J, "rebindTextures"), (0, _chunkZRT45YCMJs.a)(K, "setupRenderTarget"), (0, _chunkZRT45YCMJs.a)(Z, "updateRenderTargetMipmap"), (0, _chunkZRT45YCMJs.a)(Q, "updateMultisampleRenderTarget"), (0, _chunkZRT45YCMJs.a)($, "getRenderTargetSamples"), (0, _chunkZRT45YCMJs.a)(ee, "useMultisampledRTT"), (0, _chunkZRT45YCMJs.a)(te, "updateVideoTexture"), (0, _chunkZRT45YCMJs.a)(ne, "verifyColorSpace"), (0, _chunkZRT45YCMJs.a)(ie, "getDimensions"), this.allocateTextureUnit = U, this.resetTextureUnits = L, this.setTexture2D = D, this.setTexture2DArray = I, this.setTexture3D = O, this.setTextureCube = F, this.rebindTextures = J, this.setupRenderTarget = K, this.updateRenderTargetMipmap = Z, this.updateMultisampleRenderTarget = Q, this.setupDepthRenderbuffer = Y, this.setupFrameBufferTexture = X, this.useMultisampledRTT = ee;
}
function s0(e1, t, n) {
    let i = n.isWebGL2;
    function r(n, r = mn) {
        let a, s = Yt.getTransfer(r);
        if (n === vn) return e1.UNSIGNED_BYTE;
        if (n === Cu) return e1.UNSIGNED_SHORT_4_4_4_4;
        if (n === Pu) return e1.UNSIGNED_SHORT_5_5_5_1;
        if (n === Dd) return e1.BYTE;
        if (n === Nd) return e1.SHORT;
        if (n === ro) return e1.UNSIGNED_SHORT;
        if (n === Ru) return e1.INT;
        if (n === gn) return e1.UNSIGNED_INT;
        if (n === sn) return e1.FLOAT;
        if (n === Bi) return i ? e1.HALF_FLOAT : (a = t.get("OES_texture_half_float"), null !== a ? a.HALF_FLOAT_OES : null);
        if (n === Od) return e1.ALPHA;
        if (n === ze) return e1.RGBA;
        if (n === Fd) return e1.LUMINANCE;
        if (n === Bd) return e1.LUMINANCE_ALPHA;
        if (n === zn) return e1.DEPTH_COMPONENT;
        if (n === Mi) return e1.DEPTH_STENCIL;
        if (n === _a) return a = t.get("EXT_sRGB"), null !== a ? a.SRGB_ALPHA_EXT : null;
        if (n === zd) return e1.RED;
        if (n === Iu) return e1.RED_INTEGER;
        if (n === kd) return e1.RG;
        if (n === Lu) return e1.RG_INTEGER;
        if (n === Uu) return e1.RGBA_INTEGER;
        if (n === Rr || n === Cr || n === Pr || n === Ir) {
            if (s === $t) {
                if (a = t.get("WEBGL_compressed_texture_s3tc_srgb"), null === a) return null;
                if (n === Rr) return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;
                if (n === Cr) return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;
                if (n === Pr) return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;
                if (n === Ir) return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;
            } else {
                if (a = t.get("WEBGL_compressed_texture_s3tc"), null === a) return null;
                if (n === Rr) return a.COMPRESSED_RGB_S3TC_DXT1_EXT;
                if (n === Cr) return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;
                if (n === Pr) return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;
                if (n === Ir) return a.COMPRESSED_RGBA_S3TC_DXT5_EXT;
            }
        }
        if (n === bl || n === El || n === wl || n === Al) {
            if (a = t.get("WEBGL_compressed_texture_pvrtc"), null === a) return null;
            if (n === bl) return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;
            if (n === El) return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;
            if (n === wl) return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;
            if (n === Al) return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;
        }
        if (n === Du) return a = t.get("WEBGL_compressed_texture_etc1"), null !== a ? a.COMPRESSED_RGB_ETC1_WEBGL : null;
        if (n === Tl || n === Rl) {
            if (a = t.get("WEBGL_compressed_texture_etc"), null === a) return null;
            if (n === Tl) return s === $t ? a.COMPRESSED_SRGB8_ETC2 : a.COMPRESSED_RGB8_ETC2;
            if (n === Rl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC : a.COMPRESSED_RGBA8_ETC2_EAC;
        }
        if (n === Cl || n === Pl || n === Il || n === Ll || n === Ul || n === Dl || n === Nl || n === Ol || n === Fl || n === Bl || n === zl || n === kl || n === Vl || n === Hl) {
            if (a = t.get("WEBGL_compressed_texture_astc"), null === a) return null;
            if (n === Cl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR : a.COMPRESSED_RGBA_ASTC_4x4_KHR;
            if (n === Pl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR : a.COMPRESSED_RGBA_ASTC_5x4_KHR;
            if (n === Il) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR : a.COMPRESSED_RGBA_ASTC_5x5_KHR;
            if (n === Ll) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR : a.COMPRESSED_RGBA_ASTC_6x5_KHR;
            if (n === Ul) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR : a.COMPRESSED_RGBA_ASTC_6x6_KHR;
            if (n === Dl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR : a.COMPRESSED_RGBA_ASTC_8x5_KHR;
            if (n === Nl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR : a.COMPRESSED_RGBA_ASTC_8x6_KHR;
            if (n === Ol) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR : a.COMPRESSED_RGBA_ASTC_8x8_KHR;
            if (n === Fl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR : a.COMPRESSED_RGBA_ASTC_10x5_KHR;
            if (n === Bl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR : a.COMPRESSED_RGBA_ASTC_10x6_KHR;
            if (n === zl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR : a.COMPRESSED_RGBA_ASTC_10x8_KHR;
            if (n === kl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR : a.COMPRESSED_RGBA_ASTC_10x10_KHR;
            if (n === Vl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR : a.COMPRESSED_RGBA_ASTC_12x10_KHR;
            if (n === Hl) return s === $t ? a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR : a.COMPRESSED_RGBA_ASTC_12x12_KHR;
        }
        if (n === Lr || n === Gl || n === Wl) {
            if (a = t.get("EXT_texture_compression_bptc"), null === a) return null;
            if (n === Lr) return s === $t ? a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT : a.COMPRESSED_RGBA_BPTC_UNORM_EXT;
            if (n === Gl) return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;
            if (n === Wl) return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT;
        }
        if (n === Vd || n === Xl || n === ql || n === Yl) {
            if (a = t.get("EXT_texture_compression_rgtc"), null === a) return null;
            if (n === Lr) return a.COMPRESSED_RED_RGTC1_EXT;
            if (n === Xl) return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;
            if (n === ql) return a.COMPRESSED_RED_GREEN_RGTC2_EXT;
            if (n === Yl) return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;
        }
        return n === Bn ? i ? e1.UNSIGNED_INT_24_8 : (a = t.get("WEBGL_depth_texture"), null !== a ? a.UNSIGNED_INT_24_8_WEBGL : null) : void 0 !== e1[n] ? e1[n] : null;
    }
    return (0, _chunkZRT45YCMJs.a)(r, "convert"), {
        convert: r
    };
}
(0, _chunkZRT45YCMJs.a)(e0, "WebGLShadowMap"), (0, _chunkZRT45YCMJs.a)(n0, "WebGLState"), (0, _chunkZRT45YCMJs.a)(i0, "WebGLTextures"), (0, _chunkZRT45YCMJs.a)(s0, "WebGLUtils");
var jo = class extends Ae {
    constructor(e1 = []){
        super(), this.isArrayCamera = !0, this.cameras = e1;
    }
};
(0, _chunkZRT45YCMJs.a)(jo, "ArrayCamera");
var Ia = jo, tc = class extends be {
    constructor(){
        super(), this.isGroup = !0, this.type = "Group";
    }
};
(0, _chunkZRT45YCMJs.a)(tc, "Group");
var li = tc, r0 = {
    type: "move"
}, ec = class {
    constructor(){
        this._targetRay = null, this._grip = null, this._hand = null;
    }
    getHandSpace() {
        return null === this._hand && (this._hand = new li, this._hand.matrixAutoUpdate = !1, this._hand.visible = !1, this._hand.joints = {}, this._hand.inputState = {
            pinching: !1
        }), this._hand;
    }
    getTargetRaySpace() {
        return null === this._targetRay && (this._targetRay = new li, this._targetRay.matrixAutoUpdate = !1, this._targetRay.visible = !1, this._targetRay.hasLinearVelocity = !1, this._targetRay.linearVelocity = new P, this._targetRay.hasAngularVelocity = !1, this._targetRay.angularVelocity = new P), this._targetRay;
    }
    getGripSpace() {
        return null === this._grip && (this._grip = new li, this._grip.matrixAutoUpdate = !1, this._grip.visible = !1, this._grip.hasLinearVelocity = !1, this._grip.linearVelocity = new P, this._grip.hasAngularVelocity = !1, this._grip.angularVelocity = new P), this._grip;
    }
    dispatchEvent(e1) {
        return null !== this._targetRay && this._targetRay.dispatchEvent(e1), null !== this._grip && this._grip.dispatchEvent(e1), null !== this._hand && this._hand.dispatchEvent(e1), this;
    }
    connect(e1) {
        if (e1 && e1.hand) {
            let t = this._hand;
            if (t) for (let n of e1.hand.values())this._getHandJoint(t, n);
        }
        return this.dispatchEvent({
            type: "connected",
            data: e1
        }), this;
    }
    disconnect(e1) {
        return this.dispatchEvent({
            type: "disconnected",
            data: e1
        }), null !== this._targetRay && (this._targetRay.visible = !1), null !== this._grip && (this._grip.visible = !1), null !== this._hand && (this._hand.visible = !1), this;
    }
    update(e1, t, n) {
        let i = null, r = null, a = null, s = this._targetRay, o = this._grip, l = this._hand;
        if (e1 && "visible-blurred" !== t.session.visibilityState) {
            if (l && e1.hand) {
                a = !0;
                for (let i of e1.hand.values()){
                    let e1 = t.getJointPose(i, n), r = this._getHandJoint(l, i);
                    null !== e1 && (r.matrix.fromArray(e1.transform.matrix), r.matrix.decompose(r.position, r.rotation, r.scale), r.matrixWorldNeedsUpdate = !0, r.jointRadius = e1.radius), r.visible = null !== e1;
                }
                let i = l.joints["index-finger-tip"], r = l.joints["thumb-tip"], s = i.position.distanceTo(r.position), o = .02, u = .005;
                l.inputState.pinching && s > o + u ? (l.inputState.pinching = !1, this.dispatchEvent({
                    type: "pinchend",
                    handedness: e1.handedness,
                    target: this
                })) : !l.inputState.pinching && s <= o - u && (l.inputState.pinching = !0, this.dispatchEvent({
                    type: "pinchstart",
                    handedness: e1.handedness,
                    target: this
                }));
            } else null !== o && e1.gripSpace && (r = t.getPose(e1.gripSpace, n), null !== r && (o.matrix.fromArray(r.transform.matrix), o.matrix.decompose(o.position, o.rotation, o.scale), o.matrixWorldNeedsUpdate = !0, r.linearVelocity ? (o.hasLinearVelocity = !0, o.linearVelocity.copy(r.linearVelocity)) : o.hasLinearVelocity = !1, r.angularVelocity ? (o.hasAngularVelocity = !0, o.angularVelocity.copy(r.angularVelocity)) : o.hasAngularVelocity = !1));
            null !== s && (i = t.getPose(e1.targetRaySpace, n), null === i && null !== r && (i = r), null !== i && (s.matrix.fromArray(i.transform.matrix), s.matrix.decompose(s.position, s.rotation, s.scale), s.matrixWorldNeedsUpdate = !0, i.linearVelocity ? (s.hasLinearVelocity = !0, s.linearVelocity.copy(i.linearVelocity)) : s.hasLinearVelocity = !1, i.angularVelocity ? (s.hasAngularVelocity = !0, s.angularVelocity.copy(i.angularVelocity)) : s.hasAngularVelocity = !1, this.dispatchEvent(r0)));
        }
        return null !== s && (s.visible = null !== i), null !== o && (o.visible = null !== r), null !== l && (l.visible = null !== a), this;
    }
    _getHandJoint(e1, t) {
        if (void 0 === e1.joints[t.jointName]) {
            let n = new li;
            n.matrixAutoUpdate = !1, n.visible = !1, e1.joints[t.jointName] = n, e1.add(n);
        }
        return e1.joints[t.jointName];
    }
};
(0, _chunkZRT45YCMJs.a)(ec, "WebXRController");
var Di = ec, a0 = "\nvoid main() {\n\n	gl_Position = vec4( position, 1.0 );\n\n}", o0 = "\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n	if ( coord.x >= 1.0 ) {\n\n		gl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n	} else {\n\n		gl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n	}\n\n}", nc = class {
    constructor(){
        this.texture = null, this.mesh = null, this.depthNear = 0, this.depthFar = 0;
    }
    init(e1, t, n) {
        if (null === this.texture) {
            let i = new xe;
            e1.properties.get(i).__webglTexture = t.texture, (t.depthNear != n.depthNear || t.depthFar != n.depthFar) && (this.depthNear = t.depthNear, this.depthFar = t.depthFar), this.texture = i;
        }
    }
    render(e1, t) {
        if (null !== this.texture) {
            if (null === this.mesh) {
                let e1 = t.cameras[0].viewport, n = new He({
                    extensions: {
                        fragDepth: !0
                    },
                    vertexShader: a0,
                    fragmentShader: o0,
                    uniforms: {
                        depthColor: {
                            value: this.texture
                        },
                        depthWidth: {
                            value: e1.z
                        },
                        depthHeight: {
                            value: e1.w
                        }
                    }
                });
                this.mesh = new ke(new Zs(20, 20), n);
            }
            e1.render(this.mesh, t);
        }
    }
    reset() {
        this.texture = null, this.mesh = null;
    }
};
(0, _chunkZRT45YCMJs.a)(nc, "WebXRDepthSensing");
var La = nc, ic = class extends Mn {
    constructor(e1, t){
        super();
        let n = this, i = null, r = 1, a = null, s = "local-floor", o = 1, l = null, h = null, c = null, d = null, p = null, f = null, m = new La, g = t.getContextAttributes(), _ = null, v = null, x = [], y = [], M = new ht, S = null, E = new Ae;
        E.layers.enable(1), E.viewport = new te;
        let T = new Ae;
        T.layers.enable(2), T.viewport = new te;
        let b = [
            E,
            T
        ], A = new Ia;
        A.layers.enable(1), A.layers.enable(2);
        let w = null, R = null;
        function C(e1) {
            let t = y.indexOf(e1.inputSource);
            if (-1 === t) return;
            let n = x[t];
            void 0 !== n && (n.update(e1.inputSource, e1.frame, l || a), n.dispatchEvent({
                type: e1.type,
                data: e1.inputSource
            }));
        }
        function L() {
            i.removeEventListener("select", C), i.removeEventListener("selectstart", C), i.removeEventListener("selectend", C), i.removeEventListener("squeeze", C), i.removeEventListener("squeezestart", C), i.removeEventListener("squeezeend", C), i.removeEventListener("end", L), i.removeEventListener("inputsourceschange", U);
            for(let e1 = 0; e1 < x.length; e1++){
                let t = y[e1];
                null !== t && (y[e1] = null, x[e1].disconnect(t));
            }
            w = null, R = null, m.reset(), e1.setRenderTarget(_), p = null, d = null, c = null, i = null, v = null, V.stop(), n.isPresenting = !1, e1.setPixelRatio(S), e1.setSize(M.width, M.height, !1), n.dispatchEvent({
                type: "sessionend"
            });
        }
        function U(e1) {
            for(let t = 0; t < e1.removed.length; t++){
                let n = e1.removed[t], i = y.indexOf(n);
                i >= 0 && (y[i] = null, x[i].disconnect(n));
            }
            for(let t = 0; t < e1.added.length; t++){
                let n = e1.added[t], i = y.indexOf(n);
                if (-1 === i) {
                    for(let e1 = 0; e1 < x.length; e1++){
                        if (e1 >= y.length) {
                            y.push(n), i = e1;
                            break;
                        }
                        if (null === y[e1]) {
                            y[e1] = n, i = e1;
                            break;
                        }
                    }
                    if (-1 === i) break;
                }
                let r = x[i];
                r && r.connect(n);
            }
        }
        this.cameraAutoUpdate = !0, this.enabled = !1, this.isPresenting = !1, this.getController = function(e1) {
            let t = x[e1];
            return void 0 === t && (t = new Di, x[e1] = t), t.getTargetRaySpace();
        }, this.getControllerGrip = function(e1) {
            let t = x[e1];
            return void 0 === t && (t = new Di, x[e1] = t), t.getGripSpace();
        }, this.getHand = function(e1) {
            let t = x[e1];
            return void 0 === t && (t = new Di, x[e1] = t), t.getHandSpace();
        }, (0, _chunkZRT45YCMJs.a)(C, "onSessionEvent"), (0, _chunkZRT45YCMJs.a)(L, "onSessionEnd"), this.setFramebufferScaleFactor = function(e1) {
            r = e1, !0 === n.isPresenting && console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.");
        }, this.setReferenceSpaceType = function(e1) {
            s = e1, !0 === n.isPresenting && console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.");
        }, this.getReferenceSpace = function() {
            return l || a;
        }, this.setReferenceSpace = function(e1) {
            l = e1;
        }, this.getBaseLayer = function() {
            return null !== d ? d : p;
        }, this.getBinding = function() {
            return c;
        }, this.getFrame = function() {
            return f;
        }, this.getSession = function() {
            return i;
        }, this.setSession = async function(u) {
            if (i = u, null !== i) {
                if (_ = e1.getRenderTarget(), i.addEventListener("select", C), i.addEventListener("selectstart", C), i.addEventListener("selectend", C), i.addEventListener("squeeze", C), i.addEventListener("squeezestart", C), i.addEventListener("squeezeend", C), i.addEventListener("end", L), i.addEventListener("inputsourceschange", U), !0 !== g.xrCompatible && await t.makeXRCompatible(), S = e1.getPixelRatio(), e1.getSize(M), void 0 === i.renderState.layers || !1 === e1.capabilities.isWebGL2) {
                    let n = {
                        antialias: void 0 !== i.renderState.layers || g.antialias,
                        alpha: !0,
                        depth: g.depth,
                        stencil: g.stencil,
                        framebufferScaleFactor: r
                    };
                    p = new XRWebGLLayer(i, t, n), i.updateRenderState({
                        baseLayer: p
                    }), e1.setPixelRatio(1), e1.setSize(p.framebufferWidth, p.framebufferHeight, !1), v = new Ye(p.framebufferWidth, p.framebufferHeight, {
                        format: ze,
                        type: vn,
                        colorSpace: e1.outputColorSpace,
                        stencilBuffer: g.stencil
                    });
                } else {
                    let n = null, a = null, s = null;
                    g.depth && (s = g.stencil ? t.DEPTH24_STENCIL8 : t.DEPTH_COMPONENT24, n = g.stencil ? Mi : zn, a = g.stencil ? Bn : gn);
                    let o = {
                        colorFormat: t.RGBA8,
                        depthFormat: s,
                        scaleFactor: r
                    };
                    c = new XRWebGLBinding(i, t), d = c.createProjectionLayer(o), i.updateRenderState({
                        layers: [
                            d
                        ]
                    }), e1.setPixelRatio(1), e1.setSize(d.textureWidth, d.textureHeight, !1), v = new Ye(d.textureWidth, d.textureHeight, {
                        format: ze,
                        type: vn,
                        depthTexture: new Ks(d.textureWidth, d.textureHeight, a, void 0, void 0, void 0, void 0, void 0, void 0, n),
                        stencilBuffer: g.stencil,
                        colorSpace: e1.outputColorSpace,
                        samples: g.antialias ? 4 : 0
                    }), e1.properties.get(v).__ignoreDepthValues = d.ignoreDepthValues;
                }
                v.isXRRenderTarget = !0, this.setFoveation(o), l = null, a = await i.requestReferenceSpace(s), V.setContext(i), V.start(), n.isPresenting = !0, n.dispatchEvent({
                    type: "sessionstart"
                });
            }
        }, this.getEnvironmentBlendMode = function() {
            if (null !== i) return i.environmentBlendMode;
        }, (0, _chunkZRT45YCMJs.a)(U, "onInputSourcesChange");
        let N = new P, D = new P;
        function I(e1, t, n) {
            N.setFromMatrixPosition(t.matrixWorld), D.setFromMatrixPosition(n.matrixWorld);
            let i = N.distanceTo(D), r = t.projectionMatrix.elements, a = n.projectionMatrix.elements, s = r[14] / (r[10] - 1), o = r[14] / (r[10] + 1), l = (r[9] + 1) / r[5], u = (r[9] - 1) / r[5], h = (r[8] - 1) / r[0], c = (a[8] + 1) / a[0], d = s * h, p = s * c, f = i / (-h + c), m = f * -h;
            t.matrixWorld.decompose(e1.position, e1.quaternion, e1.scale), e1.translateX(m), e1.translateZ(f), e1.matrixWorld.compose(e1.position, e1.quaternion, e1.scale), e1.matrixWorldInverse.copy(e1.matrixWorld).invert();
            let g = s + f, _ = o + f, v = d - m, x = p + (i - m), y = l * o / _ * g, M = u * o / _ * g;
            e1.projectionMatrix.makePerspective(v, x, y, M, g, _), e1.projectionMatrixInverse.copy(e1.projectionMatrix).invert();
        }
        function O(e1, t) {
            null === t ? e1.matrixWorld.copy(e1.matrix) : e1.matrixWorld.multiplyMatrices(t.matrixWorld, e1.matrix), e1.matrixWorldInverse.copy(e1.matrixWorld).invert();
        }
        function F(e1, t, n) {
            null === n ? e1.matrix.copy(t.matrixWorld) : (e1.matrix.copy(n.matrixWorld), e1.matrix.invert(), e1.matrix.multiply(t.matrixWorld)), e1.matrix.decompose(e1.position, e1.quaternion, e1.scale), e1.updateMatrixWorld(!0), e1.projectionMatrix.copy(t.projectionMatrix), e1.projectionMatrixInverse.copy(t.projectionMatrixInverse), e1.isPerspectiveCamera && (e1.fov = 2 * zi * Math.atan(1 / e1.projectionMatrix.elements[5]), e1.zoom = 1);
        }
        (0, _chunkZRT45YCMJs.a)(I, "setProjectionFromUnion"), (0, _chunkZRT45YCMJs.a)(O, "updateCamera"), this.updateCamera = function(e1) {
            if (null === i) return;
            null !== m.texture && (e1.near = m.depthNear, e1.far = m.depthFar), A.near = T.near = E.near = e1.near, A.far = T.far = E.far = e1.far, (w !== A.near || R !== A.far) && (i.updateRenderState({
                depthNear: A.near,
                depthFar: A.far
            }), w = A.near, R = A.far, E.near = w, E.far = R, T.near = w, T.far = R, E.updateProjectionMatrix(), T.updateProjectionMatrix(), e1.updateProjectionMatrix());
            let t = e1.parent, n = A.cameras;
            O(A, t);
            for(let e1 = 0; e1 < n.length; e1++)O(n[e1], t);
            2 === n.length ? I(A, E, T) : A.projectionMatrix.copy(E.projectionMatrix), F(e1, A, t);
        }, (0, _chunkZRT45YCMJs.a)(F, "updateUserCamera"), this.getCamera = function() {
            return A;
        }, this.getFoveation = function() {
            if (null !== d || null !== p) return o;
        }, this.setFoveation = function(e1) {
            o = e1, null !== d && (d.fixedFoveation = e1), null !== p && void 0 !== p.fixedFoveation && (p.fixedFoveation = e1);
        }, this.hasDepthSensing = function() {
            return null !== m.texture;
        };
        let B = null;
        function z(t, r) {
            if (h = r.getViewerPose(l || a), f = r, null !== h) {
                let t = h.views;
                null !== p && (e1.setRenderTargetFramebuffer(v, p.framebuffer), e1.setRenderTarget(v));
                let n = !1;
                t.length !== A.cameras.length && (A.cameras.length = 0, n = !0);
                for(let i = 0; i < t.length; i++){
                    let r = t[i], a = null;
                    if (null !== p) a = p.getViewport(r);
                    else {
                        let t = c.getViewSubImage(d, r);
                        a = t.viewport, 0 === i && (e1.setRenderTargetTextures(v, t.colorTexture, d.ignoreDepthValues ? void 0 : t.depthStencilTexture), e1.setRenderTarget(v));
                    }
                    let s = b[i];
                    void 0 === s && (s = new Ae, s.layers.enable(i), s.viewport = new te, b[i] = s), s.matrix.fromArray(r.transform.matrix), s.matrix.decompose(s.position, s.quaternion, s.scale), s.projectionMatrix.fromArray(r.projectionMatrix), s.projectionMatrixInverse.copy(s.projectionMatrix).invert(), s.viewport.set(a.x, a.y, a.width, a.height), 0 === i && (A.matrix.copy(s.matrix), A.matrix.decompose(A.position, A.quaternion, A.scale)), !0 === n && A.cameras.push(s);
                }
                let r = i.enabledFeatures;
                if (r && r.includes("depth-sensing")) {
                    let n = c.getDepthInformation(t[0]);
                    n && n.isValid && n.texture && m.init(e1, n, i.renderState);
                }
            }
            for(let e1 = 0; e1 < x.length; e1++){
                let t = y[e1], n = x[e1];
                null !== t && void 0 !== n && n.update(t, r, l || a);
            }
            m.render(e1, A), B && B(t, r), r.detectedPlanes && n.dispatchEvent({
                type: "planesdetected",
                data: r
            }), f = null;
        }
        (0, _chunkZRT45YCMJs.a)(z, "onAnimationFrame");
        let V = new zu;
        V.setAnimationLoop(z), this.setAnimationLoop = function(e1) {
            B = e1;
        }, this.dispose = function() {};
    }
};
(0, _chunkZRT45YCMJs.a)(ic, "WebXRManager");
var Ua = ic, Ln = new Ve, c0 = new ee;
function l0(e1, t) {
    function n(e1, t) {
        !0 === e1.matrixAutoUpdate && e1.updateMatrix(), t.value.copy(e1.matrix);
    }
    function i(t, n) {
        n.color.getRGB(t.fogColor.value, Bu(e1)), n.isFog ? (t.fogNear.value = n.near, t.fogFar.value = n.far) : n.isFogExp2 && (t.fogDensity.value = n.density);
    }
    function r(e1, t, n, i, r) {
        t.isMeshBasicMaterial || t.isMeshLambertMaterial ? a(e1, t) : t.isMeshToonMaterial ? (a(e1, t), d(e1, t)) : t.isMeshPhongMaterial ? (a(e1, t), c(e1, t)) : t.isMeshStandardMaterial ? (a(e1, t), p(e1, t), t.isMeshPhysicalMaterial && f(e1, t, r)) : t.isMeshMatcapMaterial ? (a(e1, t), m(e1, t)) : t.isMeshDepthMaterial ? a(e1, t) : t.isMeshDistanceMaterial ? (a(e1, t), g(e1, t)) : t.isMeshNormalMaterial ? a(e1, t) : t.isLineBasicMaterial ? (s(e1, t), t.isLineDashedMaterial && o(e1, t)) : t.isPointsMaterial ? l(e1, t, n, i) : t.isSpriteMaterial ? h(e1, t) : t.isShadowMaterial ? (e1.color.value.copy(t.color), e1.opacity.value = t.opacity) : t.isShaderMaterial && (t.uniformsNeedUpdate = !1);
    }
    function a(i, r) {
        i.opacity.value = r.opacity, r.color && i.diffuse.value.copy(r.color), r.emissive && i.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity), r.map && (i.map.value = r.map, n(r.map, i.mapTransform)), r.alphaMap && (i.alphaMap.value = r.alphaMap, n(r.alphaMap, i.alphaMapTransform)), r.bumpMap && (i.bumpMap.value = r.bumpMap, n(r.bumpMap, i.bumpMapTransform), i.bumpScale.value = r.bumpScale, r.side === Te && (i.bumpScale.value *= -1)), r.normalMap && (i.normalMap.value = r.normalMap, n(r.normalMap, i.normalMapTransform), i.normalScale.value.copy(r.normalScale), r.side === Te && i.normalScale.value.negate()), r.displacementMap && (i.displacementMap.value = r.displacementMap, n(r.displacementMap, i.displacementMapTransform), i.displacementScale.value = r.displacementScale, i.displacementBias.value = r.displacementBias), r.emissiveMap && (i.emissiveMap.value = r.emissiveMap, n(r.emissiveMap, i.emissiveMapTransform)), r.specularMap && (i.specularMap.value = r.specularMap, n(r.specularMap, i.specularMapTransform)), r.alphaTest > 0 && (i.alphaTest.value = r.alphaTest);
        let a = t.get(r), s = a.envMap, o = a.envMapRotation;
        if (s && (i.envMap.value = s, Ln.copy(o), Ln.x *= -1, Ln.y *= -1, Ln.z *= -1, s.isCubeTexture && !1 === s.isRenderTargetTexture && (Ln.y *= -1, Ln.z *= -1), i.envMapRotation.value.setFromMatrix4(c0.makeRotationFromEuler(Ln)), i.flipEnvMap.value = s.isCubeTexture && !1 === s.isRenderTargetTexture ? -1 : 1, i.reflectivity.value = r.reflectivity, i.ior.value = r.ior, i.refractionRatio.value = r.refractionRatio), r.lightMap) {
            i.lightMap.value = r.lightMap;
            let t = !0 === e1._useLegacyLights ? Math.PI : 1;
            i.lightMapIntensity.value = r.lightMapIntensity * t, n(r.lightMap, i.lightMapTransform);
        }
        r.aoMap && (i.aoMap.value = r.aoMap, i.aoMapIntensity.value = r.aoMapIntensity, n(r.aoMap, i.aoMapTransform));
    }
    function s(e1, t) {
        e1.diffuse.value.copy(t.color), e1.opacity.value = t.opacity, t.map && (e1.map.value = t.map, n(t.map, e1.mapTransform));
    }
    function o(e1, t) {
        e1.dashSize.value = t.dashSize, e1.totalSize.value = t.dashSize + t.gapSize, e1.scale.value = t.scale;
    }
    function l(e1, t, i, r) {
        e1.diffuse.value.copy(t.color), e1.opacity.value = t.opacity, e1.size.value = t.size * i, e1.scale.value = .5 * r, t.map && (e1.map.value = t.map, n(t.map, e1.uvTransform)), t.alphaMap && (e1.alphaMap.value = t.alphaMap, n(t.alphaMap, e1.alphaMapTransform)), t.alphaTest > 0 && (e1.alphaTest.value = t.alphaTest);
    }
    function h(e1, t) {
        e1.diffuse.value.copy(t.color), e1.opacity.value = t.opacity, e1.rotation.value = t.rotation, t.map && (e1.map.value = t.map, n(t.map, e1.mapTransform)), t.alphaMap && (e1.alphaMap.value = t.alphaMap, n(t.alphaMap, e1.alphaMapTransform)), t.alphaTest > 0 && (e1.alphaTest.value = t.alphaTest);
    }
    function c(e1, t) {
        e1.specular.value.copy(t.specular), e1.shininess.value = Math.max(t.shininess, 1e-4);
    }
    function d(e1, t) {
        t.gradientMap && (e1.gradientMap.value = t.gradientMap);
    }
    function p(e1, i) {
        e1.metalness.value = i.metalness, i.metalnessMap && (e1.metalnessMap.value = i.metalnessMap, n(i.metalnessMap, e1.metalnessMapTransform)), e1.roughness.value = i.roughness, i.roughnessMap && (e1.roughnessMap.value = i.roughnessMap, n(i.roughnessMap, e1.roughnessMapTransform)), t.get(i).envMap && (e1.envMapIntensity.value = i.envMapIntensity);
    }
    function f(e1, t, i) {
        e1.ior.value = t.ior, t.sheen > 0 && (e1.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen), e1.sheenRoughness.value = t.sheenRoughness, t.sheenColorMap && (e1.sheenColorMap.value = t.sheenColorMap, n(t.sheenColorMap, e1.sheenColorMapTransform)), t.sheenRoughnessMap && (e1.sheenRoughnessMap.value = t.sheenRoughnessMap, n(t.sheenRoughnessMap, e1.sheenRoughnessMapTransform))), t.clearcoat > 0 && (e1.clearcoat.value = t.clearcoat, e1.clearcoatRoughness.value = t.clearcoatRoughness, t.clearcoatMap && (e1.clearcoatMap.value = t.clearcoatMap, n(t.clearcoatMap, e1.clearcoatMapTransform)), t.clearcoatRoughnessMap && (e1.clearcoatRoughnessMap.value = t.clearcoatRoughnessMap, n(t.clearcoatRoughnessMap, e1.clearcoatRoughnessMapTransform)), t.clearcoatNormalMap && (e1.clearcoatNormalMap.value = t.clearcoatNormalMap, n(t.clearcoatNormalMap, e1.clearcoatNormalMapTransform), e1.clearcoatNormalScale.value.copy(t.clearcoatNormalScale), t.side === Te && e1.clearcoatNormalScale.value.negate())), t.iridescence > 0 && (e1.iridescence.value = t.iridescence, e1.iridescenceIOR.value = t.iridescenceIOR, e1.iridescenceThicknessMinimum.value = t.iridescenceThicknessRange[0], e1.iridescenceThicknessMaximum.value = t.iridescenceThicknessRange[1], t.iridescenceMap && (e1.iridescenceMap.value = t.iridescenceMap, n(t.iridescenceMap, e1.iridescenceMapTransform)), t.iridescenceThicknessMap && (e1.iridescenceThicknessMap.value = t.iridescenceThicknessMap, n(t.iridescenceThicknessMap, e1.iridescenceThicknessMapTransform))), t.transmission > 0 && (e1.transmission.value = t.transmission, e1.transmissionSamplerMap.value = i.texture, e1.transmissionSamplerSize.value.set(i.width, i.height), t.transmissionMap && (e1.transmissionMap.value = t.transmissionMap, n(t.transmissionMap, e1.transmissionMapTransform)), e1.thickness.value = t.thickness, t.thicknessMap && (e1.thicknessMap.value = t.thicknessMap, n(t.thicknessMap, e1.thicknessMapTransform)), e1.attenuationDistance.value = t.attenuationDistance, e1.attenuationColor.value.copy(t.attenuationColor)), t.anisotropy > 0 && (e1.anisotropyVector.value.set(t.anisotropy * Math.cos(t.anisotropyRotation), t.anisotropy * Math.sin(t.anisotropyRotation)), t.anisotropyMap && (e1.anisotropyMap.value = t.anisotropyMap, n(t.anisotropyMap, e1.anisotropyMapTransform))), e1.specularIntensity.value = t.specularIntensity, e1.specularColor.value.copy(t.specularColor), t.specularColorMap && (e1.specularColorMap.value = t.specularColorMap, n(t.specularColorMap, e1.specularColorMapTransform)), t.specularIntensityMap && (e1.specularIntensityMap.value = t.specularIntensityMap, n(t.specularIntensityMap, e1.specularIntensityMapTransform));
    }
    function m(e1, t) {
        t.matcap && (e1.matcap.value = t.matcap);
    }
    function g(e1, n) {
        let i = t.get(n).light;
        e1.referencePosition.value.setFromMatrixPosition(i.matrixWorld), e1.nearDistance.value = i.shadow.camera.near, e1.farDistance.value = i.shadow.camera.far;
    }
    return (0, _chunkZRT45YCMJs.a)(n, "refreshTransformUniform"), (0, _chunkZRT45YCMJs.a)(i, "refreshFogUniforms"), (0, _chunkZRT45YCMJs.a)(r, "refreshMaterialUniforms"), (0, _chunkZRT45YCMJs.a)(a, "refreshUniformsCommon"), (0, _chunkZRT45YCMJs.a)(s, "refreshUniformsLine"), (0, _chunkZRT45YCMJs.a)(o, "refreshUniformsDash"), (0, _chunkZRT45YCMJs.a)(l, "refreshUniformsPoints"), (0, _chunkZRT45YCMJs.a)(h, "refreshUniformsSprites"), (0, _chunkZRT45YCMJs.a)(c, "refreshUniformsPhong"), (0, _chunkZRT45YCMJs.a)(d, "refreshUniformsToon"), (0, _chunkZRT45YCMJs.a)(p, "refreshUniformsStandard"), (0, _chunkZRT45YCMJs.a)(f, "refreshUniformsPhysical"), (0, _chunkZRT45YCMJs.a)(m, "refreshUniformsMatcap"), (0, _chunkZRT45YCMJs.a)(g, "refreshUniformsDistance"), {
        refreshFogUniforms: i,
        refreshMaterialUniforms: r
    };
}
function h0(e1, t, n, i) {
    let r = {}, a = {}, s = [], o = n.isWebGL2 ? e1.getParameter(e1.MAX_UNIFORM_BUFFER_BINDINGS) : 0;
    function l(e1, t) {
        let n = t.program;
        i.uniformBlockBinding(e1, n);
    }
    function h(e1, n) {
        let s = r[e1.id];
        void 0 === s && (m(e1), s = c(e1), r[e1.id] = s, e1.addEventListener("dispose", _));
        let o = n.program;
        i.updateUBOMapping(e1, o);
        let l = t.render.frame;
        a[e1.id] !== l && (p(e1), a[e1.id] = l);
    }
    function c(t) {
        let n = d();
        t.__bindingPointIndex = n;
        let i = e1.createBuffer(), r = t.__size, a = t.usage;
        return e1.bindBuffer(e1.UNIFORM_BUFFER, i), e1.bufferData(e1.UNIFORM_BUFFER, r, a), e1.bindBuffer(e1.UNIFORM_BUFFER, null), e1.bindBufferBase(e1.UNIFORM_BUFFER, n, i), i;
    }
    function d() {
        for(let e1 = 0; e1 < o; e1++)if (-1 === s.indexOf(e1)) return s.push(e1), e1;
        return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."), 0;
    }
    function p(t) {
        let n = r[t.id], i = t.uniforms, a = t.__cache;
        e1.bindBuffer(e1.UNIFORM_BUFFER, n);
        for(let t = 0, n = i.length; t < n; t++){
            let n = Array.isArray(i[t]) ? i[t] : [
                i[t]
            ];
            for(let i = 0, r = n.length; i < r; i++){
                let r = n[i];
                if (!0 === f(r, t, i, a)) {
                    let t = r.__offset, n = Array.isArray(r.value) ? r.value : [
                        r.value
                    ], i = 0;
                    for(let a = 0; a < n.length; a++){
                        let s = n[a], o = g(s);
                        "number" == typeof s || "boolean" == typeof s ? (r.__data[0] = s, e1.bufferSubData(e1.UNIFORM_BUFFER, t + i, r.__data)) : s.isMatrix3 ? (r.__data[0] = s.elements[0], r.__data[1] = s.elements[1], r.__data[2] = s.elements[2], r.__data[3] = 0, r.__data[4] = s.elements[3], r.__data[5] = s.elements[4], r.__data[6] = s.elements[5], r.__data[7] = 0, r.__data[8] = s.elements[6], r.__data[9] = s.elements[7], r.__data[10] = s.elements[8], r.__data[11] = 0) : (s.toArray(r.__data, i), i += o.storage / Float32Array.BYTES_PER_ELEMENT);
                    }
                    e1.bufferSubData(e1.UNIFORM_BUFFER, t, r.__data);
                }
            }
        }
        e1.bindBuffer(e1.UNIFORM_BUFFER, null);
    }
    function f(e1, t, n, i) {
        let r = e1.value, a = t + "_" + n;
        if (void 0 === i[a]) return i[a] = "number" == typeof r || "boolean" == typeof r ? r : r.clone(), !0;
        {
            let e1 = i[a];
            if ("number" == typeof r || "boolean" == typeof r) {
                if (e1 !== r) return i[a] = r, !0;
            } else if (!1 === e1.equals(r)) return e1.copy(r), !0;
        }
        return !1;
    }
    function m(e1) {
        let t = e1.uniforms, n = 0;
        for(let e1 = 0, i = t.length; e1 < i; e1++){
            let i = Array.isArray(t[e1]) ? t[e1] : [
                t[e1]
            ];
            for(let e1 = 0, t = i.length; e1 < t; e1++){
                let t = i[e1], r = Array.isArray(t.value) ? t.value : [
                    t.value
                ];
                for(let e1 = 0, i = r.length; e1 < i; e1++){
                    let i = g(r[e1]), a = n % 16;
                    0 !== a && 16 - a < i.boundary && (n += 16 - a), t.__data = new Float32Array(i.storage / Float32Array.BYTES_PER_ELEMENT), t.__offset = n, n += i.storage;
                }
            }
        }
        let i = n % 16;
        return i > 0 && (n += 16 - i), e1.__size = n, e1.__cache = {}, this;
    }
    function g(e1) {
        let t = {
            boundary: 0,
            storage: 0
        };
        return "number" == typeof e1 || "boolean" == typeof e1 ? (t.boundary = 4, t.storage = 4) : e1.isVector2 ? (t.boundary = 8, t.storage = 8) : e1.isVector3 || e1.isColor ? (t.boundary = 16, t.storage = 12) : e1.isVector4 ? (t.boundary = 16, t.storage = 16) : e1.isMatrix3 ? (t.boundary = 48, t.storage = 48) : e1.isMatrix4 ? (t.boundary = 64, t.storage = 64) : e1.isTexture ? console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group.") : console.warn("THREE.WebGLRenderer: Unsupported uniform value type.", e1), t;
    }
    function _(t) {
        let n = t.target;
        n.removeEventListener("dispose", _);
        let i = s.indexOf(n.__bindingPointIndex);
        s.splice(i, 1), e1.deleteBuffer(r[n.id]), delete r[n.id], delete a[n.id];
    }
    function v() {
        for(let t in r)e1.deleteBuffer(r[t]);
        s = [], r = {}, a = {};
    }
    return (0, _chunkZRT45YCMJs.a)(l, "bind"), (0, _chunkZRT45YCMJs.a)(h, "update"), (0, _chunkZRT45YCMJs.a)(c, "createBuffer"), (0, _chunkZRT45YCMJs.a)(d, "allocateBindingPointIndex"), (0, _chunkZRT45YCMJs.a)(p, "updateBufferData"), (0, _chunkZRT45YCMJs.a)(f, "hasUniformChanged"), (0, _chunkZRT45YCMJs.a)(m, "prepareUniformsGroup"), (0, _chunkZRT45YCMJs.a)(g, "getUniformSize"), (0, _chunkZRT45YCMJs.a)(_, "onUniformsGroupsDispose"), (0, _chunkZRT45YCMJs.a)(v, "dispose"), {
        bind: l,
        update: h,
        dispose: v
    };
}
(0, _chunkZRT45YCMJs.a)(l0, "WebGLMaterials"), (0, _chunkZRT45YCMJs.a)(h0, "WebGLUniformsGroups");
var sc = class {
    constructor(e1 = {}){
        let t, { canvas: n = ff(), context: i = null, depth: r = !0, stencil: a = !0, alpha: s = !1, antialias: o = !1, premultipliedAlpha: l = !0, preserveDrawingBuffer: h = !1, powerPreference: c = "default", failIfMajorPerformanceCaveat: d = !1 } = e1;
        this.isWebGLRenderer = !0, t = null !== i ? i.getContextAttributes().alpha : s;
        let p = new Uint32Array(4), f = new Int32Array(4), m = null, g = null, _ = [], v = [];
        this.domElement = n, this.debug = {
            checkShaderErrors: !0,
            onShaderError: null
        }, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.clippingPlanes = [], this.localClippingEnabled = !1, this._outputColorSpace = Xe, this._useLegacyLights = !1, this.toneMapping = xn, this.toneMappingExposure = 1;
        let x = this, y = !1, M = 0, S = 0, E = null, T = -1, b = null, A = new te, w = new te, R = null, C = new Ht(0), L = 0, U = n.width, N = n.height, D = 1, I = null, O = null, F = new te(0, 0, U, N), B = new te(0, 0, U, N), z = !1, V = new Wi, G = !1, H = !1, k = null, W = new ee, X = new ht, j = new P, q = {
            background: null,
            fog: null,
            environment: null,
            overrideMaterial: null,
            isScene: !0
        };
        function Y() {
            return null === E ? D : 1;
        }
        (0, _chunkZRT45YCMJs.a)(Y, "getTargetPixelRatio");
        let J, K, Z, Q, $, ne, ie, re, ae, se, oe, le, ue, he, ce, de, pe, fe, me, ge, _e, ve, xe, ye, Me = i;
        function Se(e1, t) {
            for(let i = 0; i < e1.length; i++){
                let r = e1[i], a = n.getContext(r, t);
                if (null !== a) return a;
            }
            return null;
        }
        (0, _chunkZRT45YCMJs.a)(Se, "getContext");
        try {
            let e1 = {
                alpha: !0,
                depth: r,
                stencil: a,
                antialias: o,
                premultipliedAlpha: l,
                preserveDrawingBuffer: h,
                powerPreference: c,
                failIfMajorPerformanceCaveat: d
            };
            if ("setAttribute" in n && n.setAttribute("data-engine", "three.js r".concat(io)), n.addEventListener("webglcontextlost", Ae, !1), n.addEventListener("webglcontextrestored", we, !1), n.addEventListener("webglcontextcreationerror", Re, !1), null === Me) {
                let t = [
                    "webgl2",
                    "webgl",
                    "experimental-webgl"
                ];
                if (!0 === x.isWebGL1Renderer && t.shift(), Me = Se(t, e1), null === Me) throw Se(t) ? new Error("Error creating WebGL context with your selected attributes.") : new Error("Error creating WebGL context.");
            }
            typeof WebGLRenderingContext < "u" && Me instanceof WebGLRenderingContext && console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."), void 0 === Me.getShaderPrecisionFormat && (Me.getShaderPrecisionFormat = function() {
                return {
                    rangeMin: 1,
                    rangeMax: 1,
                    precision: 1
                };
            });
        } catch (e1) {
            throw console.error("THREE.WebGLRenderer: " + e1.message), e1;
        }
        function Ee() {
            J = new Ag(Me), K = new yg(Me, J, e1), J.init(K), ve = new s0(Me, J, K), Z = new n0(Me, J, K), Q = new Cg(Me), $ = new W_, ne = new i0(Me, J, Z, $, K, ve, Q), ie = new Sg(x), re = new wg(x), ae = new Nf(Me, K), xe = new xg(Me, J, ae, K), se = new Tg(Me, ae, Q, xe), oe = new Ug(Me, se, ae, Q), me = new Lg(Me, K, ne), de = new Mg($), le = new G_(x, ie, re, J, K, xe, de), ue = new l0(x, $), he = new q_, ce = new Q_(J, K), fe = new _g(x, ie, re, Z, oe, t, l), pe = new e0(x, oe, K), ye = new h0(Me, Q, K, Z), ge = new vg(Me, J, Q, K), _e = new Rg(Me, J, Q, K), Q.programs = le.programs, x.capabilities = K, x.extensions = J, x.properties = $, x.renderLists = he, x.shadowMap = pe, x.state = Z, x.info = Q;
        }
        (0, _chunkZRT45YCMJs.a)(Ee, "initGLContext"), Ee();
        let be = new Ua(x, Me);
        function Ae(e1) {
            e1.preventDefault(), console.log("THREE.WebGLRenderer: Context Lost."), y = !0;
        }
        function we() {
            console.log("THREE.WebGLRenderer: Context Restored."), y = !1;
            let e1 = Q.autoReset, t = pe.enabled, n = pe.autoUpdate, i = pe.needsUpdate, r = pe.type;
            Ee(), Q.autoReset = e1, pe.enabled = t, pe.autoUpdate = n, pe.needsUpdate = i, pe.type = r;
        }
        function Re(e1) {
            console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ", e1.statusMessage);
        }
        function Pe(e1) {
            let t = e1.target;
            t.removeEventListener("dispose", Pe), Ce(t);
        }
        function Ce(e1) {
            Le(e1), $.remove(e1);
        }
        function Le(e1) {
            let t = $.get(e1).programs;
            void 0 !== t && (t.forEach(function(e1) {
                le.releaseProgram(e1);
            }), e1.isShaderMaterial && le.releaseShaderCache(e1));
        }
        function Ue(e1, t, n) {
            !0 === e1.transparent && e1.side === nn && !1 === e1.forceSinglePass ? (e1.side = Te, e1.needsUpdate = !0, We(e1, t, n), e1.side = yn, e1.needsUpdate = !0, We(e1, t, n), e1.side = nn) : We(e1, t, n);
        }
        this.xr = be, this.getContext = function() {
            return Me;
        }, this.getContextAttributes = function() {
            return Me.getContextAttributes();
        }, this.forceContextLoss = function() {
            let e1 = J.get("WEBGL_lose_context");
            e1 && e1.loseContext();
        }, this.forceContextRestore = function() {
            let e1 = J.get("WEBGL_lose_context");
            e1 && e1.restoreContext();
        }, this.getPixelRatio = function() {
            return D;
        }, this.setPixelRatio = function(e1) {
            void 0 !== e1 && (D = e1, this.setSize(U, N, !1));
        }, this.getSize = function(e1) {
            return e1.set(U, N);
        }, this.setSize = function(e1, t, i = !0) {
            be.isPresenting ? console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.") : (U = e1, N = t, n.width = Math.floor(e1 * D), n.height = Math.floor(t * D), !0 === i && (n.style.width = e1 + "px", n.style.height = t + "px"), this.setViewport(0, 0, e1, t));
        }, this.getDrawingBufferSize = function(e1) {
            return e1.set(U * D, N * D).floor();
        }, this.setDrawingBufferSize = function(e1, t, i) {
            U = e1, N = t, D = i, n.width = Math.floor(e1 * i), n.height = Math.floor(t * i), this.setViewport(0, 0, e1, t);
        }, this.getCurrentViewport = function(e1) {
            return e1.copy(A);
        }, this.getViewport = function(e1) {
            return e1.copy(F);
        }, this.setViewport = function(e1, t, n, i) {
            e1.isVector4 ? F.set(e1.x, e1.y, e1.z, e1.w) : F.set(e1, t, n, i), Z.viewport(A.copy(F).multiplyScalar(D).round());
        }, this.getScissor = function(e1) {
            return e1.copy(B);
        }, this.setScissor = function(e1, t, n, i) {
            e1.isVector4 ? B.set(e1.x, e1.y, e1.z, e1.w) : B.set(e1, t, n, i), Z.scissor(w.copy(B).multiplyScalar(D).round());
        }, this.getScissorTest = function() {
            return z;
        }, this.setScissorTest = function(e1) {
            Z.setScissorTest(z = e1);
        }, this.setOpaqueSort = function(e1) {
            I = e1;
        }, this.setTransparentSort = function(e1) {
            O = e1;
        }, this.getClearColor = function(e1) {
            return e1.copy(fe.getClearColor());
        }, this.setClearColor = function() {
            fe.setClearColor.apply(fe, arguments);
        }, this.getClearAlpha = function() {
            return fe.getClearAlpha();
        }, this.setClearAlpha = function() {
            fe.setClearAlpha.apply(fe, arguments);
        }, this.clear = function(e1 = !0, t = !0, n = !0) {
            let i = 0;
            if (e1) {
                let e1 = !1;
                if (null !== E) {
                    let t = E.texture.format;
                    e1 = t === Uu || t === Lu || t === Iu;
                }
                if (e1) {
                    let e1 = E.texture.type, t = e1 === vn || e1 === gn || e1 === ro || e1 === Bn || e1 === Cu || e1 === Pu, n = fe.getClearColor(), i = fe.getClearAlpha(), r = n.r, a = n.g, s = n.b;
                    t ? (p[0] = r, p[1] = a, p[2] = s, p[3] = i, Me.clearBufferuiv(Me.COLOR, 0, p)) : (f[0] = r, f[1] = a, f[2] = s, f[3] = i, Me.clearBufferiv(Me.COLOR, 0, f));
                } else i |= Me.COLOR_BUFFER_BIT;
            }
            t && (i |= Me.DEPTH_BUFFER_BIT), n && (i |= Me.STENCIL_BUFFER_BIT, this.state.buffers.stencil.setMask(4294967295)), Me.clear(i);
        }, this.clearColor = function() {
            this.clear(!0, !1, !1);
        }, this.clearDepth = function() {
            this.clear(!1, !0, !1);
        }, this.clearStencil = function() {
            this.clear(!1, !1, !0);
        }, this.dispose = function() {
            n.removeEventListener("webglcontextlost", Ae, !1), n.removeEventListener("webglcontextrestored", we, !1), n.removeEventListener("webglcontextcreationerror", Re, !1), he.dispose(), ce.dispose(), $.dispose(), ie.dispose(), re.dispose(), oe.dispose(), xe.dispose(), ye.dispose(), le.dispose(), be.dispose(), be.removeEventListener("sessionstart", Ie), be.removeEventListener("sessionend", Oe), k && (k.dispose(), k = null), Fe.stop();
        }, (0, _chunkZRT45YCMJs.a)(Ae, "onContextLost"), (0, _chunkZRT45YCMJs.a)(we, "onContextRestore"), (0, _chunkZRT45YCMJs.a)(Re, "onContextCreationError"), (0, _chunkZRT45YCMJs.a)(Pe, "onMaterialDispose"), (0, _chunkZRT45YCMJs.a)(Ce, "deallocateMaterial"), (0, _chunkZRT45YCMJs.a)(Le, "releaseMaterialProgramReferences"), this.renderBufferDirect = function(e1, t, n, i, r, a) {
            null === t && (t = q);
            let s = r.isMesh && r.matrixWorld.determinant() < 0, o = Je(e1, t, n, i, r);
            Z.setMaterial(i, s);
            let l = n.index, u = 1;
            if (!0 === i.wireframe) {
                if (l = se.getWireframeAttribute(n), void 0 === l) return;
                u = 2;
            }
            let h = n.drawRange, c = n.attributes.position, d = h.start * u, p = (h.start + h.count) * u;
            null !== a && (d = Math.max(d, a.start * u), p = Math.min(p, (a.start + a.count) * u)), null !== l ? (d = Math.max(d, 0), p = Math.min(p, l.count)) : null != c && (d = Math.max(d, 0), p = Math.min(p, c.count));
            let f = p - d;
            if (f < 0 || f === 1 / 0) return;
            xe.setup(r, i, o, n, l);
            let m, g = ge;
            if (null !== l && (m = ae.get(l), g = _e, g.setIndex(m)), r.isMesh) !0 === i.wireframe ? (Z.setLineWidth(i.wireframeLinewidth * Y()), g.setMode(Me.LINES)) : g.setMode(Me.TRIANGLES);
            else if (r.isLine) {
                let e1 = i.linewidth;
                void 0 === e1 && (e1 = 1), Z.setLineWidth(e1 * Y()), r.isLineSegments ? g.setMode(Me.LINES) : r.isLineLoop ? g.setMode(Me.LINE_LOOP) : g.setMode(Me.LINE_STRIP);
            } else r.isPoints ? g.setMode(Me.POINTS) : r.isSprite && g.setMode(Me.TRIANGLES);
            if (r.isBatchedMesh) g.renderMultiDraw(r._multiDrawStarts, r._multiDrawCounts, r._multiDrawCount);
            else if (r.isInstancedMesh) g.renderInstances(d, f, r.count);
            else if (n.isInstancedBufferGeometry) {
                let e1 = void 0 !== n._maxInstanceCount ? n._maxInstanceCount : 1 / 0, t = Math.min(n.instanceCount, e1);
                g.renderInstances(d, f, t);
            } else g.render(d, f);
        }, (0, _chunkZRT45YCMJs.a)(Ue, "prepareMaterial"), this.compile = function(e1, t, n = null) {
            null === n && (n = e1), g = ce.get(n), g.init(), v.push(g), n.traverseVisible(function(e1) {
                e1.isLight && e1.layers.test(t.layers) && (g.pushLight(e1), e1.castShadow && g.pushShadow(e1));
            }), e1 !== n && e1.traverseVisible(function(e1) {
                e1.isLight && e1.layers.test(t.layers) && (g.pushLight(e1), e1.castShadow && g.pushShadow(e1));
            }), g.setupLights(x._useLegacyLights);
            let i = new Set;
            return e1.traverse(function(e1) {
                let t = e1.material;
                if (t) {
                    if (Array.isArray(t)) for(let r = 0; r < t.length; r++){
                        let a = t[r];
                        Ue(a, n, e1), i.add(a);
                    }
                    else Ue(t, n, e1), i.add(t);
                }
            }), v.pop(), g = null, i;
        }, this.compileAsync = function(e1, t, n = null) {
            let i = this.compile(e1, t, n);
            return new Promise((t)=>{
                function n() {
                    i.forEach(function(e1) {
                        $.get(e1).currentProgram.isReady() && i.delete(e1);
                    }), 0 !== i.size ? setTimeout(n, 10) : t(e1);
                }
                (0, _chunkZRT45YCMJs.a)(n, "checkMaterialsReady"), null !== J.get("KHR_parallel_shader_compile") ? n() : setTimeout(n, 10);
            });
        };
        let Ne = null;
        function De(e1) {
            Ne && Ne(e1);
        }
        function Ie() {
            Fe.stop();
        }
        function Oe() {
            Fe.start();
        }
        (0, _chunkZRT45YCMJs.a)(De, "onAnimationFrame"), (0, _chunkZRT45YCMJs.a)(Ie, "onXRSessionStart"), (0, _chunkZRT45YCMJs.a)(Oe, "onXRSessionEnd");
        let Fe = new zu;
        function Be(e1, t, n, i) {
            if (!1 === e1.visible) return;
            if (e1.layers.test(t.layers)) {
                if (e1.isGroup) n = e1.renderOrder;
                else if (e1.isLOD) !0 === e1.autoUpdate && e1.update(t);
                else if (e1.isLight) g.pushLight(e1), e1.castShadow && g.pushShadow(e1);
                else if (e1.isSprite) {
                    if (!e1.frustumCulled || V.intersectsSprite(e1)) {
                        i && j.setFromMatrixPosition(e1.matrixWorld).applyMatrix4(W);
                        let t = oe.update(e1), r = e1.material;
                        r.visible && m.push(e1, t, r, n, j.z, null);
                    }
                } else if ((e1.isMesh || e1.isLine || e1.isPoints) && (!e1.frustumCulled || V.intersectsObject(e1))) {
                    let t = oe.update(e1), r = e1.material;
                    if (i && (void 0 !== e1.boundingSphere ? (null === e1.boundingSphere && e1.computeBoundingSphere(), j.copy(e1.boundingSphere.center)) : (null === t.boundingSphere && t.computeBoundingSphere(), j.copy(t.boundingSphere.center)), j.applyMatrix4(e1.matrixWorld).applyMatrix4(W)), Array.isArray(r)) {
                        let i = t.groups;
                        for(let a = 0, s = i.length; a < s; a++){
                            let s = i[a], o = r[s.materialIndex];
                            o && o.visible && m.push(e1, t, o, n, j.z, s);
                        }
                    } else r.visible && m.push(e1, t, r, n, j.z, null);
                }
            }
            let r = e1.children;
            for(let e1 = 0, a = r.length; e1 < a; e1++)Be(r[e1], t, n, i);
        }
        function Ve(e1, t, n, i) {
            let r = e1.opaque, a = e1.transmissive, s = e1.transparent;
            g.setupLightsView(n), !0 === G && de.setGlobalState(x.clippingPlanes, n), a.length > 0 && Ge(r, a, t, n), i && Z.viewport(A.copy(i)), r.length > 0 && He(r, t, n), a.length > 0 && He(a, t, n), s.length > 0 && He(s, t, n), Z.buffers.depth.setTest(!0), Z.buffers.depth.setMask(!0), Z.buffers.color.setMask(!0), Z.setPolygonOffset(!1);
        }
        function Ge(e1, t, n, i) {
            if (null !== (!0 === n.isScene ? n.overrideMaterial : null)) return;
            let r = K.isWebGL2;
            null === k && (k = new Ye(1, 1, {
                generateMipmaps: !0,
                type: J.has("EXT_color_buffer_half_float") ? Bi : vn,
                minFilter: On,
                samples: r ? 4 : 0
            })), x.getDrawingBufferSize(X), r ? k.setSize(X.x, X.y) : k.setSize(zs(X.x), zs(X.y));
            let a = x.getRenderTarget();
            x.setRenderTarget(k), x.getClearColor(C), L = x.getClearAlpha(), L < 1 && x.setClearColor(16777215, .5), x.clear();
            let s = x.toneMapping;
            x.toneMapping = xn, He(e1, n, i), ne.updateMultisampleRenderTarget(k), ne.updateRenderTargetMipmap(k);
            let o = !1;
            for(let e1 = 0, r = t.length; e1 < r; e1++){
                let r = t[e1], a = r.object, s = r.geometry, l = r.material, u = r.group;
                if (l.side === nn && a.layers.test(i.layers)) {
                    let e1 = l.side;
                    l.side = Te, l.needsUpdate = !0, ke(a, n, i, s, l, u), l.side = e1, l.needsUpdate = !0, o = !0;
                }
            }
            !0 === o && (ne.updateMultisampleRenderTarget(k), ne.updateRenderTargetMipmap(k)), x.setRenderTarget(a), x.setClearColor(C, L), x.toneMapping = s;
        }
        function He(e1, t, n) {
            let i = !0 === t.isScene ? t.overrideMaterial : null;
            for(let r = 0, a = e1.length; r < a; r++){
                let a = e1[r], s = a.object, o = a.geometry, l = null === i ? a.material : i, u = a.group;
                s.layers.test(n.layers) && ke(s, t, n, o, l, u);
            }
        }
        function ke(e1, t, n, i, r, a) {
            e1.onBeforeRender(x, t, n, i, r, a), e1.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse, e1.matrixWorld), e1.normalMatrix.getNormalMatrix(e1.modelViewMatrix), r.onBeforeRender(x, t, n, i, e1, a), !0 === r.transparent && r.side === nn && !1 === r.forceSinglePass ? (r.side = Te, r.needsUpdate = !0, x.renderBufferDirect(n, t, i, r, e1, a), r.side = yn, r.needsUpdate = !0, x.renderBufferDirect(n, t, i, r, e1, a), r.side = nn) : x.renderBufferDirect(n, t, i, r, e1, a), e1.onAfterRender(x, t, n, i, r, a);
        }
        function We(e1, t, n) {
            !0 !== t.isScene && (t = q);
            let i = $.get(e1), r = g.state.lights, a = g.state.shadowsArray, s = r.state.version, o = le.getParameters(e1, r.state, a, t, n), l = le.getProgramCacheKey(o), u = i.programs;
            i.environment = e1.isMeshStandardMaterial ? t.environment : null, i.fog = t.fog, i.envMap = (e1.isMeshStandardMaterial ? re : ie).get(e1.envMap || i.environment), i.envMapRotation = null !== i.environment && null === e1.envMap ? t.environmentRotation : e1.envMapRotation, void 0 === u && (e1.addEventListener("dispose", Pe), u = new Map, i.programs = u);
            let h = u.get(l);
            if (void 0 !== h) {
                if (i.currentProgram === h && i.lightsStateVersion === s) return qe(e1, o), h;
            } else o.uniforms = le.getUniforms(e1), e1.onBuild(n, o, x), e1.onBeforeCompile(o, x), h = le.acquireProgram(o, l), u.set(l, h), i.uniforms = o.uniforms;
            let c = i.uniforms;
            return (!e1.isShaderMaterial && !e1.isRawShaderMaterial || !0 === e1.clipping) && (c.clippingPlanes = de.uniform), qe(e1, o), i.needsLights = Ze(e1), i.lightsStateVersion = s, i.needsLights && (c.ambientLightColor.value = r.state.ambient, c.lightProbe.value = r.state.probe, c.directionalLights.value = r.state.directional, c.directionalLightShadows.value = r.state.directionalShadow, c.spotLights.value = r.state.spot, c.spotLightShadows.value = r.state.spotShadow, c.rectAreaLights.value = r.state.rectArea, c.ltc_1.value = r.state.rectAreaLTC1, c.ltc_2.value = r.state.rectAreaLTC2, c.pointLights.value = r.state.point, c.pointLightShadows.value = r.state.pointShadow, c.hemisphereLights.value = r.state.hemi, c.directionalShadowMap.value = r.state.directionalShadowMap, c.directionalShadowMatrix.value = r.state.directionalShadowMatrix, c.spotShadowMap.value = r.state.spotShadowMap, c.spotLightMatrix.value = r.state.spotLightMatrix, c.spotLightMap.value = r.state.spotLightMap, c.pointShadowMap.value = r.state.pointShadowMap, c.pointShadowMatrix.value = r.state.pointShadowMatrix), i.currentProgram = h, i.uniformsList = null, h;
        }
        function je(e1) {
            if (null === e1.uniformsList) {
                let t = e1.currentProgram.getUniforms();
                e1.uniformsList = gi.seqWithValue(t.seq, e1.uniforms);
            }
            return e1.uniformsList;
        }
        function qe(e1, t) {
            let n = $.get(e1);
            n.outputColorSpace = t.outputColorSpace, n.batching = t.batching, n.instancing = t.instancing, n.instancingColor = t.instancingColor, n.instancingMorph = t.instancingMorph, n.skinning = t.skinning, n.morphTargets = t.morphTargets, n.morphNormals = t.morphNormals, n.morphColors = t.morphColors, n.morphTargetsCount = t.morphTargetsCount, n.numClippingPlanes = t.numClippingPlanes, n.numIntersection = t.numClipIntersection, n.vertexAlphas = t.vertexAlphas, n.vertexTangents = t.vertexTangents, n.toneMapping = t.toneMapping;
        }
        function Je(e1, t, n, i, r) {
            !0 !== t.isScene && (t = q), ne.resetTextureUnits();
            let a = t.fog, s = i.isMeshStandardMaterial ? t.environment : null, o = null === E ? x.outputColorSpace : !0 === E.isXRRenderTarget ? E.texture.colorSpace : En, l = (i.isMeshStandardMaterial ? re : ie).get(i.envMap || s), u = !0 === i.vertexColors && !!n.attributes.color && 4 === n.attributes.color.itemSize, h = !!n.attributes.tangent && (!!i.normalMap || i.anisotropy > 0), c = !!n.morphAttributes.position, d = !!n.morphAttributes.normal, p = !!n.morphAttributes.color, f = xn;
            i.toneMapped && (null === E || !0 === E.isXRRenderTarget) && (f = x.toneMapping);
            let m = n.morphAttributes.position || n.morphAttributes.normal || n.morphAttributes.color, _ = void 0 !== m ? m.length : 0, v = $.get(i), y = g.state.lights;
            if (!0 === G && (!0 === H || e1 !== b)) {
                let t = e1 === b && i.id === T;
                de.setState(i, e1, t);
            }
            let M = !1;
            i.version === v.__version ? (v.needsLights && v.lightsStateVersion !== y.state.version || v.outputColorSpace !== o || r.isBatchedMesh && !1 === v.batching || !r.isBatchedMesh && !0 === v.batching || r.isInstancedMesh && !1 === v.instancing || !r.isInstancedMesh && !0 === v.instancing || r.isSkinnedMesh && !1 === v.skinning || !r.isSkinnedMesh && !0 === v.skinning || r.isInstancedMesh && !0 === v.instancingColor && null === r.instanceColor || r.isInstancedMesh && !1 === v.instancingColor && null !== r.instanceColor || r.isInstancedMesh && !0 === v.instancingMorph && null === r.morphTexture || r.isInstancedMesh && !1 === v.instancingMorph && null !== r.morphTexture || v.envMap !== l || !0 === i.fog && v.fog !== a || void 0 !== v.numClippingPlanes && (v.numClippingPlanes !== de.numPlanes || v.numIntersection !== de.numIntersection) || v.vertexAlphas !== u || v.vertexTangents !== h || v.morphTargets !== c || v.morphNormals !== d || v.morphColors !== p || v.toneMapping !== f || !0 === K.isWebGL2 && v.morphTargetsCount !== _) && (M = !0) : (M = !0, v.__version = i.version);
            let S = v.currentProgram;
            !0 === M && (S = We(i, t, r));
            let A = !1, w = !1, R = !1, P = S.getUniforms(), C = v.uniforms;
            if (Z.useProgram(S.program) && (A = !0, w = !0, R = !0), i.id !== T && (T = i.id, w = !0), A || b !== e1) {
                P.setValue(Me, "projectionMatrix", e1.projectionMatrix), P.setValue(Me, "viewMatrix", e1.matrixWorldInverse);
                let t = P.map.cameraPosition;
                void 0 !== t && t.setValue(Me, j.setFromMatrixPosition(e1.matrixWorld)), K.logarithmicDepthBuffer && P.setValue(Me, "logDepthBufFC", 2 / (Math.log(e1.far + 1) / Math.LN2)), (i.isMeshPhongMaterial || i.isMeshToonMaterial || i.isMeshLambertMaterial || i.isMeshBasicMaterial || i.isMeshStandardMaterial || i.isShaderMaterial) && P.setValue(Me, "isOrthographic", !0 === e1.isOrthographicCamera), b !== e1 && (b = e1, w = !0, R = !0);
            }
            if (r.isSkinnedMesh) {
                P.setOptional(Me, r, "bindMatrix"), P.setOptional(Me, r, "bindMatrixInverse");
                let e1 = r.skeleton;
                e1 && (K.floatVertexTextures ? (null === e1.boneTexture && e1.computeBoneTexture(), P.setValue(Me, "boneTexture", e1.boneTexture, ne)) : console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."));
            }
            r.isBatchedMesh && (P.setOptional(Me, r, "batchingTexture"), P.setValue(Me, "batchingTexture", r._matricesTexture, ne));
            let L = n.morphAttributes;
            if ((void 0 !== L.position || void 0 !== L.normal || void 0 !== L.color && !0 === K.isWebGL2) && me.update(r, n, S), (w || v.receiveShadow !== r.receiveShadow) && (v.receiveShadow = r.receiveShadow, P.setValue(Me, "receiveShadow", r.receiveShadow)), i.isMeshGouraudMaterial && null !== i.envMap && (C.envMap.value = l, C.flipEnvMap.value = l.isCubeTexture && !1 === l.isRenderTargetTexture ? -1 : 1), w && (P.setValue(Me, "toneMappingExposure", x.toneMappingExposure), v.needsLights && Ke(C, R), a && !0 === i.fog && ue.refreshFogUniforms(C, a), ue.refreshMaterialUniforms(C, i, D, N, k), gi.upload(Me, je(v), C, ne)), i.isShaderMaterial && !0 === i.uniformsNeedUpdate && (gi.upload(Me, je(v), C, ne), i.uniformsNeedUpdate = !1), i.isSpriteMaterial && P.setValue(Me, "center", r.center), P.setValue(Me, "modelViewMatrix", r.modelViewMatrix), P.setValue(Me, "normalMatrix", r.normalMatrix), P.setValue(Me, "modelMatrix", r.matrixWorld), i.isShaderMaterial || i.isRawShaderMaterial) {
                let e1 = i.uniformsGroups;
                for(let t = 0, n = e1.length; t < n; t++)if (K.isWebGL2) {
                    let n = e1[t];
                    ye.update(n, S), ye.bind(n, S);
                } else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");
            }
            return S;
        }
        function Ke(e1, t) {
            e1.ambientLightColor.needsUpdate = t, e1.lightProbe.needsUpdate = t, e1.directionalLights.needsUpdate = t, e1.directionalLightShadows.needsUpdate = t, e1.pointLights.needsUpdate = t, e1.pointLightShadows.needsUpdate = t, e1.spotLights.needsUpdate = t, e1.spotLightShadows.needsUpdate = t, e1.rectAreaLights.needsUpdate = t, e1.hemisphereLights.needsUpdate = t;
        }
        function Ze(e1) {
            return e1.isMeshLambertMaterial || e1.isMeshToonMaterial || e1.isMeshPhongMaterial || e1.isMeshStandardMaterial || e1.isShadowMaterial || e1.isShaderMaterial && !0 === e1.lights;
        }
        Fe.setAnimationLoop(De), typeof self < "u" && Fe.setContext(self), this.setAnimationLoop = function(e1) {
            Ne = e1, be.setAnimationLoop(e1), null === e1 ? Fe.stop() : Fe.start();
        }, be.addEventListener("sessionstart", Ie), be.addEventListener("sessionend", Oe), this.render = function(e1, t) {
            if (void 0 !== t && !0 !== t.isCamera) return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");
            if (!0 === y) return;
            !0 === e1.matrixWorldAutoUpdate && e1.updateMatrixWorld(), null === t.parent && !0 === t.matrixWorldAutoUpdate && t.updateMatrixWorld(), !0 === be.enabled && !0 === be.isPresenting && (!0 === be.cameraAutoUpdate && be.updateCamera(t), t = be.getCamera()), !0 === e1.isScene && e1.onBeforeRender(x, e1, t, E), g = ce.get(e1, v.length), g.init(), v.push(g), W.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), V.setFromProjectionMatrix(W), H = this.localClippingEnabled, G = de.init(this.clippingPlanes, H), m = he.get(e1, _.length), m.init(), _.push(m), Be(e1, t, 0, x.sortObjects), m.finish(), !0 === x.sortObjects && m.sort(I, O), this.info.render.frame++, !0 === G && de.beginShadows();
            let n = g.state.shadowsArray;
            if (pe.render(n, e1, t), !0 === G && de.endShadows(), !0 === this.info.autoReset && this.info.reset(), (!1 === be.enabled || !1 === be.isPresenting || !1 === be.hasDepthSensing()) && fe.render(m, e1), g.setupLights(x._useLegacyLights), t.isArrayCamera) {
                let n = t.cameras;
                for(let t = 0, i = n.length; t < i; t++){
                    let i = n[t];
                    Ve(m, e1, i, i.viewport);
                }
            } else Ve(m, e1, t);
            null !== E && (ne.updateMultisampleRenderTarget(E), ne.updateRenderTargetMipmap(E)), !0 === e1.isScene && e1.onAfterRender(x, e1, t), xe.resetDefaultState(), T = -1, b = null, v.pop(), g = v.length > 0 ? v[v.length - 1] : null, _.pop(), m = _.length > 0 ? _[_.length - 1] : null;
        }, (0, _chunkZRT45YCMJs.a)(Be, "projectObject"), (0, _chunkZRT45YCMJs.a)(Ve, "renderScene"), (0, _chunkZRT45YCMJs.a)(Ge, "renderTransmissionPass"), (0, _chunkZRT45YCMJs.a)(He, "renderObjects"), (0, _chunkZRT45YCMJs.a)(ke, "renderObject"), (0, _chunkZRT45YCMJs.a)(We, "getProgram"), (0, _chunkZRT45YCMJs.a)(je, "getUniformList"), (0, _chunkZRT45YCMJs.a)(qe, "updateCommonMaterialProperties"), (0, _chunkZRT45YCMJs.a)(Je, "setProgram"), (0, _chunkZRT45YCMJs.a)(Ke, "markUniformsLightsNeedsUpdate"), (0, _chunkZRT45YCMJs.a)(Ze, "materialNeedsLights"), this.getActiveCubeFace = function() {
            return M;
        }, this.getActiveMipmapLevel = function() {
            return S;
        }, this.getRenderTarget = function() {
            return E;
        }, this.setRenderTargetTextures = function(e1, t, n) {
            $.get(e1.texture).__webglTexture = t, $.get(e1.depthTexture).__webglTexture = n;
            let i = $.get(e1);
            i.__hasExternalTextures = !0, i.__autoAllocateDepthBuffer = void 0 === n, i.__autoAllocateDepthBuffer || !0 === J.has("WEBGL_multisampled_render_to_texture") && (console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"), i.__useRenderToTexture = !1);
        }, this.setRenderTargetFramebuffer = function(e1, t) {
            let n = $.get(e1);
            n.__webglFramebuffer = t, n.__useDefaultFramebuffer = void 0 === t;
        }, this.setRenderTarget = function(e1, t = 0, n = 0) {
            E = e1, M = t, S = n;
            let i = !0, r = null, a = !1, s = !1;
            if (e1) {
                let o = $.get(e1);
                void 0 !== o.__useDefaultFramebuffer ? (Z.bindFramebuffer(Me.FRAMEBUFFER, null), i = !1) : void 0 === o.__webglFramebuffer ? ne.setupRenderTarget(e1) : o.__hasExternalTextures && ne.rebindTextures(e1, $.get(e1.texture).__webglTexture, $.get(e1.depthTexture).__webglTexture);
                let l = e1.texture;
                (l.isData3DTexture || l.isDataArrayTexture || l.isCompressedArrayTexture) && (s = !0);
                let u = $.get(e1).__webglFramebuffer;
                e1.isWebGLCubeRenderTarget ? (r = Array.isArray(u[t]) ? u[t][n] : u[t], a = !0) : r = K.isWebGL2 && e1.samples > 0 && !1 === ne.useMultisampledRTT(e1) ? $.get(e1).__webglMultisampledFramebuffer : Array.isArray(u) ? u[n] : u, A.copy(e1.viewport), w.copy(e1.scissor), R = e1.scissorTest;
            } else A.copy(F).multiplyScalar(D).floor(), w.copy(B).multiplyScalar(D).floor(), R = z;
            if (Z.bindFramebuffer(Me.FRAMEBUFFER, r) && K.drawBuffers && i && Z.drawBuffers(e1, r), Z.viewport(A), Z.scissor(w), Z.setScissorTest(R), a) {
                let i = $.get(e1.texture);
                Me.framebufferTexture2D(Me.FRAMEBUFFER, Me.COLOR_ATTACHMENT0, Me.TEXTURE_CUBE_MAP_POSITIVE_X + t, i.__webglTexture, n);
            } else if (s) {
                let i = $.get(e1.texture), r = t || 0;
                Me.framebufferTextureLayer(Me.FRAMEBUFFER, Me.COLOR_ATTACHMENT0, i.__webglTexture, n || 0, r);
            }
            T = -1;
        }, this.readRenderTargetPixels = function(e1, t, n, i, r, a, s) {
            if (!e1 || !e1.isWebGLRenderTarget) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
            let o = $.get(e1).__webglFramebuffer;
            if (e1.isWebGLCubeRenderTarget && void 0 !== s && (o = o[s]), o) {
                Z.bindFramebuffer(Me.FRAMEBUFFER, o);
                try {
                    let s = e1.texture, o = s.format, l = s.type;
                    if (o !== ze && ve.convert(o) !== Me.getParameter(Me.IMPLEMENTATION_COLOR_READ_FORMAT)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");
                    let u = l === Bi && (J.has("EXT_color_buffer_half_float") || K.isWebGL2 && J.has("EXT_color_buffer_float"));
                    if (!(l === vn || ve.convert(l) === Me.getParameter(Me.IMPLEMENTATION_COLOR_READ_TYPE) || l === sn && (K.isWebGL2 || J.has("OES_texture_float") || J.has("WEBGL_color_buffer_float")) || u)) return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");
                    t >= 0 && t <= e1.width - i && n >= 0 && n <= e1.height - r && Me.readPixels(t, n, i, r, ve.convert(o), ve.convert(l), a);
                } finally{
                    let e1 = null !== E ? $.get(E).__webglFramebuffer : null;
                    Z.bindFramebuffer(Me.FRAMEBUFFER, e1);
                }
            }
        }, this.copyFramebufferToTexture = function(e1, t, n = 0) {
            let i = Math.pow(2, -n), r = Math.floor(t.image.width * i), a = Math.floor(t.image.height * i);
            ne.setTexture2D(t, 0), Me.copyTexSubImage2D(Me.TEXTURE_2D, n, 0, 0, e1.x, e1.y, r, a), Z.unbindTexture();
        }, this.copyTextureToTexture = function(e1, t, n, i = 0) {
            let r = t.image.width, a = t.image.height, s = ve.convert(n.format), o = ve.convert(n.type);
            ne.setTexture2D(n, 0), Me.pixelStorei(Me.UNPACK_FLIP_Y_WEBGL, n.flipY), Me.pixelStorei(Me.UNPACK_PREMULTIPLY_ALPHA_WEBGL, n.premultiplyAlpha), Me.pixelStorei(Me.UNPACK_ALIGNMENT, n.unpackAlignment), t.isDataTexture ? Me.texSubImage2D(Me.TEXTURE_2D, i, e1.x, e1.y, r, a, s, o, t.image.data) : t.isCompressedTexture ? Me.compressedTexSubImage2D(Me.TEXTURE_2D, i, e1.x, e1.y, t.mipmaps[0].width, t.mipmaps[0].height, s, t.mipmaps[0].data) : Me.texSubImage2D(Me.TEXTURE_2D, i, e1.x, e1.y, s, o, t.image), 0 === i && n.generateMipmaps && Me.generateMipmap(Me.TEXTURE_2D), Z.unbindTexture();
        }, this.copyTextureToTexture3D = function(e1, t, n, i, r = 0) {
            if (x.isWebGL1Renderer) return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");
            let a, s = Math.round(e1.max.x - e1.min.x), o = Math.round(e1.max.y - e1.min.y), l = e1.max.z - e1.min.z + 1, u = ve.convert(i.format), h = ve.convert(i.type);
            if (i.isData3DTexture) ne.setTexture3D(i, 0), a = Me.TEXTURE_3D;
            else {
                if (!i.isDataArrayTexture && !i.isCompressedArrayTexture) return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");
                ne.setTexture2DArray(i, 0), a = Me.TEXTURE_2D_ARRAY;
            }
            Me.pixelStorei(Me.UNPACK_FLIP_Y_WEBGL, i.flipY), Me.pixelStorei(Me.UNPACK_PREMULTIPLY_ALPHA_WEBGL, i.premultiplyAlpha), Me.pixelStorei(Me.UNPACK_ALIGNMENT, i.unpackAlignment);
            let c = Me.getParameter(Me.UNPACK_ROW_LENGTH), d = Me.getParameter(Me.UNPACK_IMAGE_HEIGHT), p = Me.getParameter(Me.UNPACK_SKIP_PIXELS), f = Me.getParameter(Me.UNPACK_SKIP_ROWS), m = Me.getParameter(Me.UNPACK_SKIP_IMAGES), g = n.isCompressedTexture ? n.mipmaps[r] : n.image;
            Me.pixelStorei(Me.UNPACK_ROW_LENGTH, g.width), Me.pixelStorei(Me.UNPACK_IMAGE_HEIGHT, g.height), Me.pixelStorei(Me.UNPACK_SKIP_PIXELS, e1.min.x), Me.pixelStorei(Me.UNPACK_SKIP_ROWS, e1.min.y), Me.pixelStorei(Me.UNPACK_SKIP_IMAGES, e1.min.z), n.isDataTexture || n.isData3DTexture ? Me.texSubImage3D(a, r, t.x, t.y, t.z, s, o, l, u, h, g.data) : i.isCompressedArrayTexture ? Me.compressedTexSubImage3D(a, r, t.x, t.y, t.z, s, o, l, u, g.data) : Me.texSubImage3D(a, r, t.x, t.y, t.z, s, o, l, u, h, g), Me.pixelStorei(Me.UNPACK_ROW_LENGTH, c), Me.pixelStorei(Me.UNPACK_IMAGE_HEIGHT, d), Me.pixelStorei(Me.UNPACK_SKIP_PIXELS, p), Me.pixelStorei(Me.UNPACK_SKIP_ROWS, f), Me.pixelStorei(Me.UNPACK_SKIP_IMAGES, m), 0 === r && i.generateMipmaps && Me.generateMipmap(a), Z.unbindTexture();
        }, this.initTexture = function(e1) {
            e1.isCubeTexture ? ne.setTextureCube(e1, 0) : e1.isData3DTexture ? ne.setTexture3D(e1, 0) : e1.isDataArrayTexture || e1.isCompressedArrayTexture ? ne.setTexture2DArray(e1, 0) : ne.setTexture2D(e1, 0), Z.unbindTexture();
        }, this.resetState = function() {
            M = 0, S = 0, E = null, Z.reset(), xe.reset();
        }, typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
            detail: this
        }));
    }
    get coordinateSystem() {
        return rn;
    }
    get outputColorSpace() {
        return this._outputColorSpace;
    }
    set outputColorSpace(e1) {
        this._outputColorSpace = e1;
        let t = this.getContext();
        t.drawingBufferColorSpace = e1 === oo ? "display-p3" : "srgb", t.unpackColorSpace = Yt.workingColorSpace === yr ? "display-p3" : "srgb";
    }
    get useLegacyLights() {
        return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."), this._useLegacyLights;
    }
    set useLegacyLights(e1) {
        console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."), this._useLegacyLights = e1;
    }
};
(0, _chunkZRT45YCMJs.a)(sc, "WebGLRenderer");
var Da = sc, rc = class extends Da {
};
(0, _chunkZRT45YCMJs.a)(rc, "WebGL1Renderer");
var Na = rc;
Na.prototype.isWebGL1Renderer = !0;
var ac = class extends be {
    constructor(){
        super(), this.isScene = !0, this.type = "Scene", this.background = null, this.environment = null, this.fog = null, this.backgroundBlurriness = 0, this.backgroundIntensity = 1, this.backgroundRotation = new Ve, this.environmentRotation = new Ve, this.overrideMaterial = null, typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe", {
            detail: this
        }));
    }
    copy(e1, t) {
        return super.copy(e1, t), null !== e1.background && (this.background = e1.background.clone()), null !== e1.environment && (this.environment = e1.environment.clone()), null !== e1.fog && (this.fog = e1.fog.clone()), this.backgroundBlurriness = e1.backgroundBlurriness, this.backgroundIntensity = e1.backgroundIntensity, this.backgroundRotation.copy(e1.backgroundRotation), this.environmentRotation.copy(e1.environmentRotation), null !== e1.overrideMaterial && (this.overrideMaterial = e1.overrideMaterial.clone()), this.matrixAutoUpdate = e1.matrixAutoUpdate, this;
    }
    toJSON(e1) {
        let t = super.toJSON(e1);
        return null !== this.fog && (t.object.fog = this.fog.toJSON()), this.backgroundBlurriness > 0 && (t.object.backgroundBlurriness = this.backgroundBlurriness), 1 !== this.backgroundIntensity && (t.object.backgroundIntensity = this.backgroundIntensity), t.object.backgroundRotation = this.backgroundRotation.toArray(), t.object.environmentRotation = this.environmentRotation.toArray(), t;
    }
};
(0, _chunkZRT45YCMJs.a)(ac, "Scene");
var kh = ac, oc = class extends xe {
    constructor(e1 = null, t = 1, n = 1, i, r, a, s, o, l = fe, u = fe, h, c){
        super(null, a, s, o, l, u, i, r, h, c), this.isDataTexture = !0, this.image = {
            data: e1,
            width: t,
            height: n
        }, this.generateMipmaps = !1, this.flipY = !1, this.unpackAlignment = 1;
    }
};
(0, _chunkZRT45YCMJs.a)(oc, "DataTexture");
var Vh = oc, cc = class extends Se {
    constructor(e1, t, n, i = 1){
        super(e1, t, n), this.isInstancedBufferAttribute = !0, this.meshPerAttribute = i;
    }
    copy(e1) {
        return super.copy(e1), this.meshPerAttribute = e1.meshPerAttribute, this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.meshPerAttribute = this.meshPerAttribute, e1.isInstancedBufferAttribute = !0, e1;
    }
};
(0, _chunkZRT45YCMJs.a)(cc, "InstancedBufferAttribute");
var Hh = cc, lc = class extends an {
    constructor(e1){
        super(), this.isLineBasicMaterial = !0, this.type = "LineBasicMaterial", this.color = new Ht(16777215), this.map = null, this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.fog = !0, this.setValues(e1);
    }
    copy(e1) {
        return super.copy(e1), this.color.copy(e1.color), this.map = e1.map, this.linewidth = e1.linewidth, this.linecap = e1.linecap, this.linejoin = e1.linejoin, this.fog = e1.fog, this;
    }
};
(0, _chunkZRT45YCMJs.a)(lc, "LineBasicMaterial");
var Xi = lc, Gh = new P, Wh = new P, Xh = new ee, sa = new Vi, bs = new Si, hc = class extends be {
    constructor(e1 = new Ee, t = new Xi){
        super(), this.isLine = !0, this.type = "Line", this.geometry = e1, this.material = t, this.updateMorphTargets();
    }
    copy(e1, t) {
        return super.copy(e1, t), this.material = Array.isArray(e1.material) ? e1.material.slice() : e1.material, this.geometry = e1.geometry, this;
    }
    computeLineDistances() {
        let e1 = this.geometry;
        if (null === e1.index) {
            let t = e1.attributes.position, n = [
                0
            ];
            for(let e1 = 1, i = t.count; e1 < i; e1++)Gh.fromBufferAttribute(t, e1 - 1), Wh.fromBufferAttribute(t, e1), n[e1] = n[e1 - 1], n[e1] += Gh.distanceTo(Wh);
            e1.setAttribute("lineDistance", new se(n, 1));
        } else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
        return this;
    }
    raycast(e1, t) {
        let n = this.geometry, i = this.matrixWorld, r = e1.params.Line.threshold, a = n.drawRange;
        if (null === n.boundingSphere && n.computeBoundingSphere(), bs.copy(n.boundingSphere), bs.applyMatrix4(i), bs.radius += r, !1 === e1.ray.intersectsSphere(bs)) return;
        Xh.copy(i).invert(), sa.copy(e1.ray).applyMatrix4(Xh);
        let s = r / ((this.scale.x + this.scale.y + this.scale.z) / 3), o = s * s, l = new P, u = new P, h = new P, c = new P, d = this.isLineSegments ? 2 : 1, p = n.index, f = n.attributes.position;
        if (null !== p) for(let n = Math.max(0, a.start), i = Math.min(p.count, a.start + a.count) - 1; n < i; n += d){
            let i = p.getX(n), r = p.getX(n + 1);
            if (l.fromBufferAttribute(f, i), u.fromBufferAttribute(f, r), sa.distanceSqToSegment(l, u, c, h) > o) continue;
            c.applyMatrix4(this.matrixWorld);
            let a = e1.ray.origin.distanceTo(c);
            a < e1.near || a > e1.far || t.push({
                distance: a,
                point: h.clone().applyMatrix4(this.matrixWorld),
                index: n,
                face: null,
                faceIndex: null,
                object: this
            });
        }
        else for(let n = Math.max(0, a.start), i = Math.min(f.count, a.start + a.count) - 1; n < i; n += d){
            if (l.fromBufferAttribute(f, n), u.fromBufferAttribute(f, n + 1), sa.distanceSqToSegment(l, u, c, h) > o) continue;
            c.applyMatrix4(this.matrixWorld);
            let i = e1.ray.origin.distanceTo(c);
            i < e1.near || i > e1.far || t.push({
                distance: i,
                point: h.clone().applyMatrix4(this.matrixWorld),
                index: n,
                face: null,
                faceIndex: null,
                object: this
            });
        }
    }
    updateMorphTargets() {
        let e1 = this.geometry.morphAttributes, t = Object.keys(e1);
        if (t.length > 0) {
            let n = e1[t[0]];
            if (void 0 !== n) {
                this.morphTargetInfluences = [], this.morphTargetDictionary = {};
                for(let e1 = 0, t = n.length; e1 < t; e1++){
                    let t = n[e1].name || String(e1);
                    this.morphTargetInfluences.push(0), this.morphTargetDictionary[t] = e1;
                }
            }
        }
    }
};
(0, _chunkZRT45YCMJs.a)(hc, "Line");
var Oa = hc, qh = new P, Yh = new P, uc = class extends Oa {
    constructor(e1, t){
        super(e1, t), this.isLineSegments = !0, this.type = "LineSegments";
    }
    computeLineDistances() {
        let e1 = this.geometry;
        if (null === e1.index) {
            let t = e1.attributes.position, n = [];
            for(let e1 = 0, i = t.count; e1 < i; e1 += 2)qh.fromBufferAttribute(t, e1), Yh.fromBufferAttribute(t, e1 + 1), n[e1] = 0 === e1 ? 0 : n[e1 - 1], n[e1 + 1] = n[e1] + qh.distanceTo(Yh);
            e1.setAttribute("lineDistance", new se(n, 1));
        } else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");
        return this;
    }
};
(0, _chunkZRT45YCMJs.a)(uc, "LineSegments");
var Qs = uc, dc = class extends xe {
    constructor(e1, t, n, i, r, a, s, o, l, u, h, c){
        super(null, a, s, o, l, u, i, r, h, c), this.isCompressedTexture = !0, this.image = {
            width: t,
            height: n
        }, this.mipmaps = e1, this.flipY = !1, this.generateMipmaps = !1;
    }
};
(0, _chunkZRT45YCMJs.a)(dc, "CompressedTexture");
var Zh = dc, fc = class extends xe {
    constructor(e1, t, n, i, r, a, s, o, l){
        super(e1, t, n, i, r, a, s, o, l), this.isCanvasTexture = !0, this.needsUpdate = !0;
    }
};
(0, _chunkZRT45YCMJs.a)(fc, "CanvasTexture");
var Jh = fc, pc = class {
    constructor(){
        this.type = "Curve", this.arcLengthDivisions = 200;
    }
    getPoint() {
        return console.warn("THREE.Curve: .getPoint() not implemented."), null;
    }
    getPointAt(e1, t) {
        let n = this.getUtoTmapping(e1);
        return this.getPoint(n, t);
    }
    getPoints(e1 = 5) {
        let t = [];
        for(let n = 0; n <= e1; n++)t.push(this.getPoint(n / e1));
        return t;
    }
    getSpacedPoints(e1 = 5) {
        let t = [];
        for(let n = 0; n <= e1; n++)t.push(this.getPointAt(n / e1));
        return t;
    }
    getLength() {
        let e1 = this.getLengths();
        return e1[e1.length - 1];
    }
    getLengths(e1 = this.arcLengthDivisions) {
        if (this.cacheArcLengths && this.cacheArcLengths.length === e1 + 1 && !this.needsUpdate) return this.cacheArcLengths;
        this.needsUpdate = !1;
        let t, n = [], i = this.getPoint(0), r = 0;
        n.push(0);
        for(let a = 1; a <= e1; a++)t = this.getPoint(a / e1), r += t.distanceTo(i), n.push(r), i = t;
        return this.cacheArcLengths = n, n;
    }
    updateArcLengths() {
        this.needsUpdate = !0, this.getLengths();
    }
    getUtoTmapping(e1, t) {
        let n, i = this.getLengths(), r = 0, a = i.length;
        n = t || e1 * i[a - 1];
        let s, o = 0, l = a - 1;
        for(; o <= l;)if (r = Math.floor(o + (l - o) / 2), s = i[r] - n, s < 0) o = r + 1;
        else {
            if (!(s > 0)) {
                l = r;
                break;
            }
            l = r - 1;
        }
        if (r = l, i[r] === n) return r / (a - 1);
        let u = i[r];
        return (r + (n - u) / (i[r + 1] - u)) / (a - 1);
    }
    getTangent(e1, t) {
        let n = e1 - 1e-4, i = e1 + 1e-4;
        n < 0 && (n = 0), i > 1 && (i = 1);
        let r = this.getPoint(n), a = this.getPoint(i), s = t || (r.isVector2 ? new ht : new P);
        return s.copy(a).sub(r).normalize(), s;
    }
    getTangentAt(e1, t) {
        let n = this.getUtoTmapping(e1);
        return this.getTangent(n, t);
    }
    computeFrenetFrames(e1, t) {
        let n = new P, i = [], r = [], a = [], s = new P, o = new ee;
        for(let t = 0; t <= e1; t++){
            let n = t / e1;
            i[t] = this.getTangentAt(n, new P);
        }
        r[0] = new P, a[0] = new P;
        let l = Number.MAX_VALUE, u = Math.abs(i[0].x), h = Math.abs(i[0].y), c = Math.abs(i[0].z);
        u <= l && (l = u, n.set(1, 0, 0)), h <= l && (l = h, n.set(0, 1, 0)), c <= l && n.set(0, 0, 1), s.crossVectors(i[0], n).normalize(), r[0].crossVectors(i[0], s), a[0].crossVectors(i[0], r[0]);
        for(let t = 1; t <= e1; t++){
            if (r[t] = r[t - 1].clone(), a[t] = a[t - 1].clone(), s.crossVectors(i[t - 1], i[t]), s.length() > Number.EPSILON) {
                s.normalize();
                let e1 = Math.acos(pe(i[t - 1].dot(i[t]), -1, 1));
                r[t].applyMatrix4(o.makeRotationAxis(s, e1));
            }
            a[t].crossVectors(i[t], r[t]);
        }
        if (!0 === t) {
            let t = Math.acos(pe(r[0].dot(r[e1]), -1, 1));
            t /= e1, i[0].dot(s.crossVectors(r[0], r[e1])) > 0 && (t = -t);
            for(let n = 1; n <= e1; n++)r[n].applyMatrix4(o.makeRotationAxis(i[n], t * n)), a[n].crossVectors(i[n], r[n]);
        }
        return {
            tangents: i,
            normals: r,
            binormals: a
        };
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    copy(e1) {
        return this.arcLengthDivisions = e1.arcLengthDivisions, this;
    }
    toJSON() {
        let e1 = {
            metadata: {
                version: 4.6,
                type: "Curve",
                generator: "Curve.toJSON"
            }
        };
        return e1.arcLengthDivisions = this.arcLengthDivisions, e1.type = this.type, e1;
    }
    fromJSON(e1) {
        return this.arcLengthDivisions = e1.arcLengthDivisions, this;
    }
};
(0, _chunkZRT45YCMJs.a)(pc, "Curve");
var De = pc, mc = class extends De {
    constructor(e1 = 0, t = 0, n = 1, i = 1, r = 0, a = 2 * Math.PI, s = !1, o = 0){
        super(), this.isEllipseCurve = !0, this.type = "EllipseCurve", this.aX = e1, this.aY = t, this.xRadius = n, this.yRadius = i, this.aStartAngle = r, this.aEndAngle = a, this.aClockwise = s, this.aRotation = o;
    }
    getPoint(e1, t = new ht) {
        let n = t, i = 2 * Math.PI, r = this.aEndAngle - this.aStartAngle, a = Math.abs(r) < Number.EPSILON;
        for(; r < 0;)r += i;
        for(; r > i;)r -= i;
        r < Number.EPSILON && (r = a ? 0 : i), !0 === this.aClockwise && !a && (r === i ? r = -i : r -= i);
        let s = this.aStartAngle + e1 * r, o = this.aX + this.xRadius * Math.cos(s), l = this.aY + this.yRadius * Math.sin(s);
        if (0 !== this.aRotation) {
            let e1 = Math.cos(this.aRotation), t = Math.sin(this.aRotation), n = o - this.aX, i = l - this.aY;
            o = n * e1 - i * t + this.aX, l = n * t + i * e1 + this.aY;
        }
        return n.set(o, l);
    }
    copy(e1) {
        return super.copy(e1), this.aX = e1.aX, this.aY = e1.aY, this.xRadius = e1.xRadius, this.yRadius = e1.yRadius, this.aStartAngle = e1.aStartAngle, this.aEndAngle = e1.aEndAngle, this.aClockwise = e1.aClockwise, this.aRotation = e1.aRotation, this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.aX = this.aX, e1.aY = this.aY, e1.xRadius = this.xRadius, e1.yRadius = this.yRadius, e1.aStartAngle = this.aStartAngle, e1.aEndAngle = this.aEndAngle, e1.aClockwise = this.aClockwise, e1.aRotation = this.aRotation, e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.aX = e1.aX, this.aY = e1.aY, this.xRadius = e1.xRadius, this.yRadius = e1.yRadius, this.aStartAngle = e1.aStartAngle, this.aEndAngle = e1.aEndAngle, this.aClockwise = e1.aClockwise, this.aRotation = e1.aRotation, this;
    }
};
(0, _chunkZRT45YCMJs.a)(mc, "EllipseCurve");
var qi = mc, gc = class extends qi {
    constructor(e1, t, n, i, r, a){
        super(e1, t, n, n, i, r, a), this.isArcCurve = !0, this.type = "ArcCurve";
    }
};
(0, _chunkZRT45YCMJs.a)(gc, "ArcCurve");
var Fa = gc;
function ho() {
    let e1 = 0, t = 0, n = 0, i = 0;
    function r(r, a, s, o) {
        e1 = r, t = s, n = -3 * r + 3 * a - 2 * s - o, i = 2 * r - 2 * a + s + o;
    }
    return (0, _chunkZRT45YCMJs.a)(r, "init"), {
        initCatmullRom: function(e1, t, n, i, a) {
            r(t, n, a * (n - e1), a * (i - t));
        },
        initNonuniformCatmullRom: function(e1, t, n, i, a, s, o) {
            let l = (t - e1) / a - (n - e1) / (a + s) + (n - t) / s, u = (n - t) / s - (i - t) / (s + o) + (i - n) / o;
            l *= s, u *= s, r(t, n, l, u);
        },
        calc: function(r) {
            let a = r * r;
            return e1 + t * r + n * a + i * (a * r);
        }
    };
}
(0, _chunkZRT45YCMJs.a)(ho, "CubicPoly");
var Es = new P, ra = new ho, aa = new ho, oa = new ho, _c = class extends De {
    constructor(e1 = [], t = !1, n = "centripetal", i = .5){
        super(), this.isCatmullRomCurve3 = !0, this.type = "CatmullRomCurve3", this.points = e1, this.closed = t, this.curveType = n, this.tension = i;
    }
    getPoint(e1, t = new P) {
        let n, i, r = t, a = this.points, s = a.length, o = (s - (this.closed ? 0 : 1)) * e1, l = Math.floor(o), u = o - l;
        this.closed ? l += l > 0 ? 0 : (Math.floor(Math.abs(l) / s) + 1) * s : 0 === u && l === s - 1 && (l = s - 2, u = 1), this.closed || l > 0 ? n = a[(l - 1) % s] : (Es.subVectors(a[0], a[1]).add(a[0]), n = Es);
        let h = a[l % s], c = a[(l + 1) % s];
        if (this.closed || l + 2 < s ? i = a[(l + 2) % s] : (Es.subVectors(a[s - 1], a[s - 2]).add(a[s - 1]), i = Es), "centripetal" === this.curveType || "chordal" === this.curveType) {
            let e1 = "chordal" === this.curveType ? .5 : .25, t = Math.pow(n.distanceToSquared(h), e1), r = Math.pow(h.distanceToSquared(c), e1), a = Math.pow(c.distanceToSquared(i), e1);
            r < 1e-4 && (r = 1), t < 1e-4 && (t = r), a < 1e-4 && (a = r), ra.initNonuniformCatmullRom(n.x, h.x, c.x, i.x, t, r, a), aa.initNonuniformCatmullRom(n.y, h.y, c.y, i.y, t, r, a), oa.initNonuniformCatmullRom(n.z, h.z, c.z, i.z, t, r, a);
        } else "catmullrom" === this.curveType && (ra.initCatmullRom(n.x, h.x, c.x, i.x, this.tension), aa.initCatmullRom(n.y, h.y, c.y, i.y, this.tension), oa.initCatmullRom(n.z, h.z, c.z, i.z, this.tension));
        return r.set(ra.calc(u), aa.calc(u), oa.calc(u)), r;
    }
    copy(e1) {
        super.copy(e1), this.points = [];
        for(let t = 0, n = e1.points.length; t < n; t++){
            let n = e1.points[t];
            this.points.push(n.clone());
        }
        return this.closed = e1.closed, this.curveType = e1.curveType, this.tension = e1.tension, this;
    }
    toJSON() {
        let e1 = super.toJSON();
        e1.points = [];
        for(let t = 0, n = this.points.length; t < n; t++){
            let n = this.points[t];
            e1.points.push(n.toArray());
        }
        return e1.closed = this.closed, e1.curveType = this.curveType, e1.tension = this.tension, e1;
    }
    fromJSON(e1) {
        super.fromJSON(e1), this.points = [];
        for(let t = 0, n = e1.points.length; t < n; t++){
            let n = e1.points[t];
            this.points.push((new P).fromArray(n));
        }
        return this.closed = e1.closed, this.curveType = e1.curveType, this.tension = e1.tension, this;
    }
};
(0, _chunkZRT45YCMJs.a)(_c, "CatmullRomCurve3");
var Ba = _c;
function $h(e1, t, n, i, r) {
    let a = .5 * (i - t), s = .5 * (r - n), o = e1 * e1;
    return (2 * n - 2 * i + a + s) * (e1 * o) + (-3 * n + 3 * i - 2 * a - s) * o + a * e1 + n;
}
function u0(e1, t) {
    let n = 1 - e1;
    return n * n * t;
}
function d0(e1, t) {
    return 2 * (1 - e1) * e1 * t;
}
function f0(e1, t) {
    return e1 * e1 * t;
}
function Ni(e1, t, n, i) {
    return u0(e1, t) + d0(e1, n) + f0(e1, i);
}
function p0(e1, t) {
    let n = 1 - e1;
    return n * n * n * t;
}
function m0(e1, t) {
    let n = 1 - e1;
    return 3 * n * n * e1 * t;
}
function g0(e1, t) {
    return 3 * (1 - e1) * e1 * e1 * t;
}
function _0(e1, t) {
    return e1 * e1 * e1 * t;
}
function Oi(e1, t, n, i, r) {
    return p0(e1, t) + m0(e1, n) + g0(e1, i) + _0(e1, r);
}
(0, _chunkZRT45YCMJs.a)($h, "CatmullRom"), (0, _chunkZRT45YCMJs.a)(u0, "QuadraticBezierP0"), (0, _chunkZRT45YCMJs.a)(d0, "QuadraticBezierP1"), (0, _chunkZRT45YCMJs.a)(f0, "QuadraticBezierP2"), (0, _chunkZRT45YCMJs.a)(Ni, "QuadraticBezier"), (0, _chunkZRT45YCMJs.a)(p0, "CubicBezierP0"), (0, _chunkZRT45YCMJs.a)(m0, "CubicBezierP1"), (0, _chunkZRT45YCMJs.a)(g0, "CubicBezierP2"), (0, _chunkZRT45YCMJs.a)(_0, "CubicBezierP3"), (0, _chunkZRT45YCMJs.a)(Oi, "CubicBezier");
var xc = class extends De {
    constructor(e1 = new ht, t = new ht, n = new ht, i = new ht){
        super(), this.isCubicBezierCurve = !0, this.type = "CubicBezierCurve", this.v0 = e1, this.v1 = t, this.v2 = n, this.v3 = i;
    }
    getPoint(e1, t = new ht) {
        let n = t, i = this.v0, r = this.v1, a = this.v2, s = this.v3;
        return n.set(Oi(e1, i.x, r.x, a.x, s.x), Oi(e1, i.y, r.y, a.y, s.y)), n;
    }
    copy(e1) {
        return super.copy(e1), this.v0.copy(e1.v0), this.v1.copy(e1.v1), this.v2.copy(e1.v2), this.v3.copy(e1.v3), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.v0 = this.v0.toArray(), e1.v1 = this.v1.toArray(), e1.v2 = this.v2.toArray(), e1.v3 = this.v3.toArray(), e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.v0.fromArray(e1.v0), this.v1.fromArray(e1.v1), this.v2.fromArray(e1.v2), this.v3.fromArray(e1.v3), this;
    }
};
(0, _chunkZRT45YCMJs.a)(xc, "CubicBezierCurve");
var js = xc, vc = class extends De {
    constructor(e1 = new P, t = new P, n = new P, i = new P){
        super(), this.isCubicBezierCurve3 = !0, this.type = "CubicBezierCurve3", this.v0 = e1, this.v1 = t, this.v2 = n, this.v3 = i;
    }
    getPoint(e1, t = new P) {
        let n = t, i = this.v0, r = this.v1, a = this.v2, s = this.v3;
        return n.set(Oi(e1, i.x, r.x, a.x, s.x), Oi(e1, i.y, r.y, a.y, s.y), Oi(e1, i.z, r.z, a.z, s.z)), n;
    }
    copy(e1) {
        return super.copy(e1), this.v0.copy(e1.v0), this.v1.copy(e1.v1), this.v2.copy(e1.v2), this.v3.copy(e1.v3), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.v0 = this.v0.toArray(), e1.v1 = this.v1.toArray(), e1.v2 = this.v2.toArray(), e1.v3 = this.v3.toArray(), e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.v0.fromArray(e1.v0), this.v1.fromArray(e1.v1), this.v2.fromArray(e1.v2), this.v3.fromArray(e1.v3), this;
    }
};
(0, _chunkZRT45YCMJs.a)(vc, "CubicBezierCurve3");
var za = vc, yc = class extends De {
    constructor(e1 = new ht, t = new ht){
        super(), this.isLineCurve = !0, this.type = "LineCurve", this.v1 = e1, this.v2 = t;
    }
    getPoint(e1, t = new ht) {
        let n = t;
        return 1 === e1 ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1), n.multiplyScalar(e1).add(this.v1)), n;
    }
    getPointAt(e1, t) {
        return this.getPoint(e1, t);
    }
    getTangent(e1, t = new ht) {
        return t.subVectors(this.v2, this.v1).normalize();
    }
    getTangentAt(e1, t) {
        return this.getTangent(e1, t);
    }
    copy(e1) {
        return super.copy(e1), this.v1.copy(e1.v1), this.v2.copy(e1.v2), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.v1 = this.v1.toArray(), e1.v2 = this.v2.toArray(), e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.v1.fromArray(e1.v1), this.v2.fromArray(e1.v2), this;
    }
};
(0, _chunkZRT45YCMJs.a)(yc, "LineCurve");
var tr = yc, Mc = class extends De {
    constructor(e1 = new P, t = new P){
        super(), this.isLineCurve3 = !0, this.type = "LineCurve3", this.v1 = e1, this.v2 = t;
    }
    getPoint(e1, t = new P) {
        let n = t;
        return 1 === e1 ? n.copy(this.v2) : (n.copy(this.v2).sub(this.v1), n.multiplyScalar(e1).add(this.v1)), n;
    }
    getPointAt(e1, t) {
        return this.getPoint(e1, t);
    }
    getTangent(e1, t = new P) {
        return t.subVectors(this.v2, this.v1).normalize();
    }
    getTangentAt(e1, t) {
        return this.getTangent(e1, t);
    }
    copy(e1) {
        return super.copy(e1), this.v1.copy(e1.v1), this.v2.copy(e1.v2), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.v1 = this.v1.toArray(), e1.v2 = this.v2.toArray(), e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.v1.fromArray(e1.v1), this.v2.fromArray(e1.v2), this;
    }
};
(0, _chunkZRT45YCMJs.a)(Mc, "LineCurve3");
var ka = Mc, Sc = class extends De {
    constructor(e1 = new ht, t = new ht, n = new ht){
        super(), this.isQuadraticBezierCurve = !0, this.type = "QuadraticBezierCurve", this.v0 = e1, this.v1 = t, this.v2 = n;
    }
    getPoint(e1, t = new ht) {
        let n = t, i = this.v0, r = this.v1, a = this.v2;
        return n.set(Ni(e1, i.x, r.x, a.x), Ni(e1, i.y, r.y, a.y)), n;
    }
    copy(e1) {
        return super.copy(e1), this.v0.copy(e1.v0), this.v1.copy(e1.v1), this.v2.copy(e1.v2), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.v0 = this.v0.toArray(), e1.v1 = this.v1.toArray(), e1.v2 = this.v2.toArray(), e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.v0.fromArray(e1.v0), this.v1.fromArray(e1.v1), this.v2.fromArray(e1.v2), this;
    }
};
(0, _chunkZRT45YCMJs.a)(Sc, "QuadraticBezierCurve");
var er = Sc, bc = class extends De {
    constructor(e1 = new P, t = new P, n = new P){
        super(), this.isQuadraticBezierCurve3 = !0, this.type = "QuadraticBezierCurve3", this.v0 = e1, this.v1 = t, this.v2 = n;
    }
    getPoint(e1, t = new P) {
        let n = t, i = this.v0, r = this.v1, a = this.v2;
        return n.set(Ni(e1, i.x, r.x, a.x), Ni(e1, i.y, r.y, a.y), Ni(e1, i.z, r.z, a.z)), n;
    }
    copy(e1) {
        return super.copy(e1), this.v0.copy(e1.v0), this.v1.copy(e1.v1), this.v2.copy(e1.v2), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.v0 = this.v0.toArray(), e1.v1 = this.v1.toArray(), e1.v2 = this.v2.toArray(), e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.v0.fromArray(e1.v0), this.v1.fromArray(e1.v1), this.v2.fromArray(e1.v2), this;
    }
};
(0, _chunkZRT45YCMJs.a)(bc, "QuadraticBezierCurve3");
var nr = bc, Ec = class extends De {
    constructor(e1 = []){
        super(), this.isSplineCurve = !0, this.type = "SplineCurve", this.points = e1;
    }
    getPoint(e1, t = new ht) {
        let n = t, i = this.points, r = (i.length - 1) * e1, a = Math.floor(r), s = r - a, o = i[0 === a ? a : a - 1], l = i[a], u = i[a > i.length - 2 ? i.length - 1 : a + 1], h = i[a > i.length - 3 ? i.length - 1 : a + 2];
        return n.set($h(s, o.x, l.x, u.x, h.x), $h(s, o.y, l.y, u.y, h.y)), n;
    }
    copy(e1) {
        super.copy(e1), this.points = [];
        for(let t = 0, n = e1.points.length; t < n; t++){
            let n = e1.points[t];
            this.points.push(n.clone());
        }
        return this;
    }
    toJSON() {
        let e1 = super.toJSON();
        e1.points = [];
        for(let t = 0, n = this.points.length; t < n; t++){
            let n = this.points[t];
            e1.points.push(n.toArray());
        }
        return e1;
    }
    fromJSON(e1) {
        super.fromJSON(e1), this.points = [];
        for(let t = 0, n = e1.points.length; t < n; t++){
            let n = e1.points[t];
            this.points.push((new ht).fromArray(n));
        }
        return this;
    }
};
(0, _chunkZRT45YCMJs.a)(Ec, "SplineCurve");
var ir = Ec, sr = Object.freeze({
    __proto__: null,
    ArcCurve: Fa,
    CatmullRomCurve3: Ba,
    CubicBezierCurve: js,
    CubicBezierCurve3: za,
    EllipseCurve: qi,
    LineCurve: tr,
    LineCurve3: ka,
    QuadraticBezierCurve: er,
    QuadraticBezierCurve3: nr,
    SplineCurve: ir
}), wc = class extends De {
    constructor(){
        super(), this.type = "CurvePath", this.curves = [], this.autoClose = !1;
    }
    add(e1) {
        this.curves.push(e1);
    }
    closePath() {
        let e1 = this.curves[0].getPoint(0), t = this.curves[this.curves.length - 1].getPoint(1);
        if (!e1.equals(t)) {
            let n = !0 === e1.isVector2 ? "LineCurve" : "LineCurve3";
            this.curves.push(new sr[n](t, e1));
        }
        return this;
    }
    getPoint(e1, t) {
        let n = e1 * this.getLength(), i = this.getCurveLengths(), r = 0;
        for(; r < i.length;){
            if (i[r] >= n) {
                let e1 = i[r] - n, a = this.curves[r], s = a.getLength(), o = 0 === s ? 0 : 1 - e1 / s;
                return a.getPointAt(o, t);
            }
            r++;
        }
        return null;
    }
    getLength() {
        let e1 = this.getCurveLengths();
        return e1[e1.length - 1];
    }
    updateArcLengths() {
        this.needsUpdate = !0, this.cacheLengths = null, this.getCurveLengths();
    }
    getCurveLengths() {
        if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths;
        let e1 = [], t = 0;
        for(let n = 0, i = this.curves.length; n < i; n++)t += this.curves[n].getLength(), e1.push(t);
        return this.cacheLengths = e1, e1;
    }
    getSpacedPoints(e1 = 40) {
        let t = [];
        for(let n = 0; n <= e1; n++)t.push(this.getPoint(n / e1));
        return this.autoClose && t.push(t[0]), t;
    }
    getPoints(e1 = 12) {
        let t, n = [];
        for(let i = 0, r = this.curves; i < r.length; i++){
            let a = r[i], s = a.isEllipseCurve ? 2 * e1 : a.isLineCurve || a.isLineCurve3 ? 1 : a.isSplineCurve ? e1 * a.points.length : e1, o = a.getPoints(s);
            for(let e1 = 0; e1 < o.length; e1++){
                let i = o[e1];
                t && t.equals(i) || (n.push(i), t = i);
            }
        }
        return this.autoClose && n.length > 1 && !n[n.length - 1].equals(n[0]) && n.push(n[0]), n;
    }
    copy(e1) {
        super.copy(e1), this.curves = [];
        for(let t = 0, n = e1.curves.length; t < n; t++){
            let n = e1.curves[t];
            this.curves.push(n.clone());
        }
        return this.autoClose = e1.autoClose, this;
    }
    toJSON() {
        let e1 = super.toJSON();
        e1.autoClose = this.autoClose, e1.curves = [];
        for(let t = 0, n = this.curves.length; t < n; t++){
            let n = this.curves[t];
            e1.curves.push(n.toJSON());
        }
        return e1;
    }
    fromJSON(e1) {
        super.fromJSON(e1), this.autoClose = e1.autoClose, this.curves = [];
        for(let t = 0, n = e1.curves.length; t < n; t++){
            let n = e1.curves[t];
            this.curves.push((new sr[n.type]).fromJSON(n));
        }
        return this;
    }
};
(0, _chunkZRT45YCMJs.a)(wc, "CurvePath");
var Va = wc, Ac = class extends Va {
    constructor(e1){
        super(), this.type = "Path", this.currentPoint = new ht, e1 && this.setFromPoints(e1);
    }
    setFromPoints(e1) {
        this.moveTo(e1[0].x, e1[0].y);
        for(let t = 1, n = e1.length; t < n; t++)this.lineTo(e1[t].x, e1[t].y);
        return this;
    }
    moveTo(e1, t) {
        return this.currentPoint.set(e1, t), this;
    }
    lineTo(e1, t) {
        let n = new tr(this.currentPoint.clone(), new ht(e1, t));
        return this.curves.push(n), this.currentPoint.set(e1, t), this;
    }
    quadraticCurveTo(e1, t, n, i) {
        let r = new er(this.currentPoint.clone(), new ht(e1, t), new ht(n, i));
        return this.curves.push(r), this.currentPoint.set(n, i), this;
    }
    bezierCurveTo(e1, t, n, i, r, a) {
        let s = new js(this.currentPoint.clone(), new ht(e1, t), new ht(n, i), new ht(r, a));
        return this.curves.push(s), this.currentPoint.set(r, a), this;
    }
    splineThru(e1) {
        let t = [
            this.currentPoint.clone()
        ].concat(e1), n = new ir(t);
        return this.curves.push(n), this.currentPoint.copy(e1[e1.length - 1]), this;
    }
    arc(e1, t, n, i, r, a) {
        let s = this.currentPoint.x, o = this.currentPoint.y;
        return this.absarc(e1 + s, t + o, n, i, r, a), this;
    }
    absarc(e1, t, n, i, r, a) {
        return this.absellipse(e1, t, n, n, i, r, a), this;
    }
    ellipse(e1, t, n, i, r, a, s, o) {
        let l = this.currentPoint.x, u = this.currentPoint.y;
        return this.absellipse(e1 + l, t + u, n, i, r, a, s, o), this;
    }
    absellipse(e1, t, n, i, r, a, s, o) {
        let l = new qi(e1, t, n, i, r, a, s, o);
        if (this.curves.length > 0) {
            let e1 = l.getPoint(0);
            e1.equals(this.currentPoint) || this.lineTo(e1.x, e1.y);
        }
        this.curves.push(l);
        let u = l.getPoint(1);
        return this.currentPoint.copy(u), this;
    }
    copy(e1) {
        return super.copy(e1), this.currentPoint.copy(e1.currentPoint), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.currentPoint = this.currentPoint.toArray(), e1;
    }
    fromJSON(e1) {
        return super.fromJSON(e1), this.currentPoint.fromArray(e1.currentPoint), this;
    }
};
(0, _chunkZRT45YCMJs.a)(Ac, "Path");
var Yi = Ac, pr = class e1 extends Ee {
    constructor(e1 = 1, t = 1, n = 1, i = 32, r = 1, a = !1, s = 0, o = 2 * Math.PI){
        super(), this.type = "CylinderGeometry", this.parameters = {
            radiusTop: e1,
            radiusBottom: t,
            height: n,
            radialSegments: i,
            heightSegments: r,
            openEnded: a,
            thetaStart: s,
            thetaLength: o
        };
        let l = this;
        i = Math.floor(i), r = Math.floor(r);
        let h = [], c = [], d = [], p = [], f = 0, m = [], g = n / 2, _ = 0;
        function v() {
            let a = new P, u = new P, v = 0, x = (t - e1) / n;
            for(let l = 0; l <= r; l++){
                let h = [], _ = l / r, v = _ * (t - e1) + e1;
                for(let e1 = 0; e1 <= i; e1++){
                    let t = e1 / i, r = t * o + s, l = Math.sin(r), m = Math.cos(r);
                    u.x = v * l, u.y = -_ * n + g, u.z = v * m, c.push(u.x, u.y, u.z), a.set(l, x, m).normalize(), d.push(a.x, a.y, a.z), p.push(t, 1 - _), h.push(f++);
                }
                m.push(h);
            }
            for(let e1 = 0; e1 < i; e1++)for(let t = 0; t < r; t++){
                let n = m[t][e1], i = m[t + 1][e1], r = m[t + 1][e1 + 1], a = m[t][e1 + 1];
                h.push(n, i, a), h.push(i, r, a), v += 6;
            }
            l.addGroup(_, v, 0), _ += v;
        }
        function x(n) {
            let r = f, a = new ht, u = new P, m = 0, v = !0 === n ? e1 : t, x = !0 === n ? 1 : -1;
            for(let e1 = 1; e1 <= i; e1++)c.push(0, g * x, 0), d.push(0, x, 0), p.push(.5, .5), f++;
            let y = f;
            for(let e1 = 0; e1 <= i; e1++){
                let t = e1 / i * o + s, n = Math.cos(t), r = Math.sin(t);
                u.x = v * r, u.y = g * x, u.z = v * n, c.push(u.x, u.y, u.z), d.push(0, x, 0), a.x = .5 * n + .5, a.y = .5 * r * x + .5, p.push(a.x, a.y), f++;
            }
            for(let e1 = 0; e1 < i; e1++){
                let t = r + e1, i = y + e1;
                !0 === n ? h.push(i, i + 1, t) : h.push(i + 1, i, t), m += 3;
            }
            l.addGroup(_, m, !0 === n ? 1 : 2), _ += m;
        }
        v(), !1 === a && (e1 > 0 && x(!0), t > 0 && x(!1)), this.setIndex(h), this.setAttribute("position", new se(c, 3)), this.setAttribute("normal", new se(d, 3)), this.setAttribute("uv", new se(p, 2)), (0, _chunkZRT45YCMJs.a)(v, "generateTorso"), (0, _chunkZRT45YCMJs.a)(x, "generateCap");
    }
    copy(e1) {
        return super.copy(e1), this.parameters = Object.assign({}, e1.parameters), this;
    }
    static fromJSON(t) {
        return new e1(t.radiusTop, t.radiusBottom, t.height, t.radialSegments, t.heightSegments, t.openEnded, t.thetaStart, t.thetaLength);
    }
};
(0, _chunkZRT45YCMJs.a)(pr, "CylinderGeometry");
var Kh = pr, ws = new P, As = new P, ca = new P, Ts = new Fn, Tc = class extends Ee {
    constructor(e1 = null, t = 1){
        if (super(), this.type = "EdgesGeometry", this.parameters = {
            geometry: e1,
            thresholdAngle: t
        }, null !== e1) {
            let n = Math.pow(10, 4), i = Math.cos(pi * t), r = e1.getIndex(), a = e1.getAttribute("position"), s = r ? r.count : a.count, o = [
                0,
                0,
                0
            ], l = [
                "a",
                "b",
                "c"
            ], u = new Array(3), h = {}, c = [];
            for(let e1 = 0; e1 < s; e1 += 3){
                r ? (o[0] = r.getX(e1), o[1] = r.getX(e1 + 1), o[2] = r.getX(e1 + 2)) : (o[0] = e1, o[1] = e1 + 1, o[2] = e1 + 2);
                let { a: t, b: s, c: d } = Ts;
                if (t.fromBufferAttribute(a, o[0]), s.fromBufferAttribute(a, o[1]), d.fromBufferAttribute(a, o[2]), Ts.getNormal(ca), u[0] = "".concat(Math.round(t.x * n), ",").concat(Math.round(t.y * n), ",").concat(Math.round(t.z * n)), u[1] = "".concat(Math.round(s.x * n), ",").concat(Math.round(s.y * n), ",").concat(Math.round(s.z * n)), u[2] = "".concat(Math.round(d.x * n), ",").concat(Math.round(d.y * n), ",").concat(Math.round(d.z * n)), u[0] !== u[1] && u[1] !== u[2] && u[2] !== u[0]) for(let e1 = 0; e1 < 3; e1++){
                    let t = (e1 + 1) % 3, n = u[e1], r = u[t], a = Ts[l[e1]], s = Ts[l[t]], d = "".concat(n, "_").concat(r), p = "".concat(r, "_").concat(n);
                    p in h && h[p] ? (ca.dot(h[p].normal) <= i && (c.push(a.x, a.y, a.z), c.push(s.x, s.y, s.z)), h[p] = null) : d in h || (h[d] = {
                        index0: o[e1],
                        index1: o[t],
                        normal: ca.clone()
                    });
                }
            }
            for(let e1 in h)if (h[e1]) {
                let { index0: t, index1: n } = h[e1];
                ws.fromBufferAttribute(a, t), As.fromBufferAttribute(a, n), c.push(ws.x, ws.y, ws.z), c.push(As.x, As.y, As.z);
            }
            this.setAttribute("position", new se(c, 3));
        }
    }
    copy(e1) {
        return super.copy(e1), this.parameters = Object.assign({}, e1.parameters), this;
    }
};
(0, _chunkZRT45YCMJs.a)(Tc, "EdgesGeometry");
var Qh = Tc, Rc = class extends Yi {
    constructor(e1){
        super(e1), this.uuid = Gn(), this.type = "Shape", this.holes = [];
    }
    getPointsHoles(e1) {
        let t = [];
        for(let n = 0, i = this.holes.length; n < i; n++)t[n] = this.holes[n].getPoints(e1);
        return t;
    }
    extractPoints(e1) {
        return {
            shape: this.getPoints(e1),
            holes: this.getPointsHoles(e1)
        };
    }
    copy(e1) {
        super.copy(e1), this.holes = [];
        for(let t = 0, n = e1.holes.length; t < n; t++){
            let n = e1.holes[t];
            this.holes.push(n.clone());
        }
        return this;
    }
    toJSON() {
        let e1 = super.toJSON();
        e1.uuid = this.uuid, e1.holes = [];
        for(let t = 0, n = this.holes.length; t < n; t++){
            let n = this.holes[t];
            e1.holes.push(n.toJSON());
        }
        return e1;
    }
    fromJSON(e1) {
        super.fromJSON(e1), this.uuid = e1.uuid, this.holes = [];
        for(let t = 0, n = e1.holes.length; t < n; t++){
            let n = e1.holes[t];
            this.holes.push((new Yi).fromJSON(n));
        }
        return this;
    }
};
(0, _chunkZRT45YCMJs.a)(Rc, "Shape");
var _i = Rc, x0 = {
    triangulate: function(e1, t, n = 2) {
        let i, r, a, s, o, l, u, h = t && t.length, c = h ? t[0] * n : e1.length, d = Xu(e1, 0, c, n, !0), p = [];
        if (!d || d.next === d.prev) return p;
        if (h && (d = b0(e1, t, d, n)), e1.length > 80 * n) {
            i = a = e1[0], r = s = e1[1];
            for(let t = n; t < c; t += n)o = e1[t], l = e1[t + 1], o < i && (i = o), l < r && (r = l), o > a && (a = o), l > s && (s = l);
            u = Math.max(a - i, s - r), u = 0 !== u ? 32767 / u : 0;
        }
        return Zi(d, p, n, i, r, u, 0), p;
    }
};
function Xu(e1, t, n, i, r) {
    let a, s;
    if (r === D0(e1, t, n, i) > 0) for(a = t; a < n; a += i)s = jh(a, e1[a], e1[a + 1], s);
    else for(a = n - i; a >= t; a -= i)s = jh(a, e1[a], e1[a + 1], s);
    return s && Sr(s, s.next) && ($i(s), s = s.next), s;
}
function kn(e1, t) {
    if (!e1) return e1;
    t || (t = e1);
    let n, i = e1;
    do if (n = !1, i.steiner || !Sr(i, i.next) && 0 !== ie(i.prev, i, i.next)) i = i.next;
    else {
        if ($i(i), i = t = i.prev, i === i.next) break;
        n = !0;
    }
    while (n || i !== t);
    return t;
}
function Zi(e1, t, n, i, r, a, s) {
    if (!e1) return;
    !s && a && R0(e1, i, r, a);
    let o, l, u = e1;
    for(; e1.prev !== e1.next;)if (o = e1.prev, l = e1.next, a ? y0(e1, i, r, a) : v0(e1)) t.push(o.i / n | 0), t.push(e1.i / n | 0), t.push(l.i / n | 0), $i(e1), e1 = l.next, u = l.next;
    else if ((e1 = l) === u) {
        s ? 1 === s ? Zi(e1 = M0(kn(e1), t, n), t, n, i, r, a, 2) : 2 === s && S0(e1, t, n, i, r, a) : Zi(kn(e1), t, n, i, r, a, 1);
        break;
    }
}
function v0(e1) {
    let t = e1.prev, n = e1, i = e1.next;
    if (ie(t, n, i) >= 0) return !1;
    let r = t.x, a = n.x, s = i.x, o = t.y, l = n.y, u = i.y, h = r < a ? r < s ? r : s : a < s ? a : s, c = o < l ? o < u ? o : u : l < u ? l : u, d = r > a ? r > s ? r : s : a > s ? a : s, p = o > l ? o > u ? o : u : l > u ? l : u, f = i.next;
    for(; f !== t;){
        if (f.x >= h && f.x <= d && f.y >= c && f.y <= p && hi(r, o, a, l, s, u, f.x, f.y) && ie(f.prev, f, f.next) >= 0) return !1;
        f = f.next;
    }
    return !0;
}
function y0(e1, t, n, i) {
    let r = e1.prev, a = e1, s = e1.next;
    if (ie(r, a, s) >= 0) return !1;
    let o = r.x, l = a.x, u = s.x, h = r.y, c = a.y, d = s.y, p = o < l ? o < u ? o : u : l < u ? l : u, f = h < c ? h < d ? h : d : c < d ? c : d, m = o > l ? o > u ? o : u : l > u ? l : u, g = h > c ? h > d ? h : d : c > d ? c : d, _ = Ha(p, f, t, n, i), v = Ha(m, g, t, n, i), x = e1.prevZ, y = e1.nextZ;
    for(; x && x.z >= _ && y && y.z <= v;){
        if (x.x >= p && x.x <= m && x.y >= f && x.y <= g && x !== r && x !== s && hi(o, h, l, c, u, d, x.x, x.y) && ie(x.prev, x, x.next) >= 0 || (x = x.prevZ, y.x >= p && y.x <= m && y.y >= f && y.y <= g && y !== r && y !== s && hi(o, h, l, c, u, d, y.x, y.y) && ie(y.prev, y, y.next) >= 0)) return !1;
        y = y.nextZ;
    }
    for(; x && x.z >= _;){
        if (x.x >= p && x.x <= m && x.y >= f && x.y <= g && x !== r && x !== s && hi(o, h, l, c, u, d, x.x, x.y) && ie(x.prev, x, x.next) >= 0) return !1;
        x = x.prevZ;
    }
    for(; y && y.z <= v;){
        if (y.x >= p && y.x <= m && y.y >= f && y.y <= g && y !== r && y !== s && hi(o, h, l, c, u, d, y.x, y.y) && ie(y.prev, y, y.next) >= 0) return !1;
        y = y.nextZ;
    }
    return !0;
}
function M0(e1, t, n) {
    let i = e1;
    do {
        let r = i.prev, a = i.next.next;
        !Sr(r, a) && qu(r, i, i.next, a) && Ji(r, a) && Ji(a, r) && (t.push(r.i / n | 0), t.push(i.i / n | 0), t.push(a.i / n | 0), $i(i), $i(i.next), i = e1 = a), i = i.next;
    }while (i !== e1);
    return kn(i);
}
function S0(e1, t, n, i, r, a) {
    let s = e1;
    do {
        let e1 = s.next.next;
        for(; e1 !== s.prev;){
            if (s.i !== e1.i && I0(s, e1)) {
                let o = Yu(s, e1);
                return s = kn(s, s.next), o = kn(o, o.next), Zi(s, t, n, i, r, a, 0), void Zi(o, t, n, i, r, a, 0);
            }
            e1 = e1.next;
        }
        s = s.next;
    }while (s !== e1);
}
function b0(e1, t, n, i) {
    let r, a, s, o, l, u = [];
    for(r = 0, a = t.length; r < a; r++)s = t[r] * i, o = r < a - 1 ? t[r + 1] * i : e1.length, l = Xu(e1, s, o, i, !1), l === l.next && (l.steiner = !0), u.push(P0(l));
    for(u.sort(E0), r = 0; r < u.length; r++)n = w0(u[r], n);
    return n;
}
function E0(e1, t) {
    return e1.x - t.x;
}
function w0(e1, t) {
    let n = A0(e1, t);
    if (!n) return t;
    let i = Yu(n, e1);
    return kn(i, i.next), kn(n, n.next);
}
function A0(e1, t) {
    let n, i = t, r = -1 / 0, a = e1.x, s = e1.y;
    do {
        if (s <= i.y && s >= i.next.y && i.next.y !== i.y) {
            let e1 = i.x + (s - i.y) * (i.next.x - i.x) / (i.next.y - i.y);
            if (e1 <= a && e1 > r && (r = e1, n = i.x < i.next.x ? i : i.next, e1 === a)) return n;
        }
        i = i.next;
    }while (i !== t);
    if (!n) return null;
    let o, l = n, u = n.x, h = n.y, c = 1 / 0;
    i = n;
    do a >= i.x && i.x >= u && a !== i.x && hi(s < h ? a : r, s, u, h, s < h ? r : a, s, i.x, i.y) && (o = Math.abs(s - i.y) / (a - i.x), Ji(i, e1) && (o < c || o === c && (i.x > n.x || i.x === n.x && T0(n, i))) && (n = i, c = o)), i = i.next;
    while (i !== l);
    return n;
}
function T0(e1, t) {
    return ie(e1.prev, e1, t.prev) < 0 && ie(t.next, e1, e1.next) < 0;
}
function R0(e1, t, n, i) {
    let r = e1;
    do 0 === r.z && (r.z = Ha(r.x, r.y, t, n, i)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next;
    while (r !== e1);
    r.prevZ.nextZ = null, r.prevZ = null, C0(r);
}
function C0(e1) {
    let t, n, i, r, a, s, o, l, u = 1;
    do {
        for(n = e1, e1 = null, a = null, s = 0; n;){
            for(s++, i = n, o = 0, t = 0; t < u && (o++, i = i.nextZ, i); t++);
            for(l = u; o > 0 || l > 0 && i;)0 !== o && (0 === l || !i || n.z <= i.z) ? (r = n, n = n.nextZ, o--) : (r = i, i = i.nextZ, l--), a ? a.nextZ = r : e1 = r, r.prevZ = a, a = r;
            n = i;
        }
        a.nextZ = null, u *= 2;
    }while (s > 1);
    return e1;
}
function Ha(e1, t, n, i, r) {
    return (e1 = 1431655765 & ((e1 = 858993459 & ((e1 = 252645135 & ((e1 = 16711935 & ((e1 = (e1 - n) * r | 0) | e1 << 8)) | e1 << 4)) | e1 << 2)) | e1 << 1)) | (t = 1431655765 & ((t = 858993459 & ((t = 252645135 & ((t = 16711935 & ((t = (t - i) * r | 0) | t << 8)) | t << 4)) | t << 2)) | t << 1)) << 1;
}
function P0(e1) {
    let t = e1, n = e1;
    do (t.x < n.x || t.x === n.x && t.y < n.y) && (n = t), t = t.next;
    while (t !== e1);
    return n;
}
function hi(e1, t, n, i, r, a, s, o) {
    return (r - s) * (t - o) >= (e1 - s) * (a - o) && (e1 - s) * (i - o) >= (n - s) * (t - o) && (n - s) * (a - o) >= (r - s) * (i - o);
}
function I0(e1, t) {
    return e1.next.i !== t.i && e1.prev.i !== t.i && !L0(e1, t) && (Ji(e1, t) && Ji(t, e1) && U0(e1, t) && (ie(e1.prev, e1, t.prev) || ie(e1, t.prev, t)) || Sr(e1, t) && ie(e1.prev, e1, e1.next) > 0 && ie(t.prev, t, t.next) > 0);
}
function ie(e1, t, n) {
    return (t.y - e1.y) * (n.x - t.x) - (t.x - e1.x) * (n.y - t.y);
}
function Sr(e1, t) {
    return e1.x === t.x && e1.y === t.y;
}
function qu(e1, t, n, i) {
    let r = Cs(ie(e1, t, n)), a = Cs(ie(e1, t, i)), s = Cs(ie(n, i, e1)), o = Cs(ie(n, i, t));
    return !!(r !== a && s !== o || 0 === r && Rs(e1, n, t) || 0 === a && Rs(e1, i, t) || 0 === s && Rs(n, e1, i) || 0 === o && Rs(n, t, i));
}
function Rs(e1, t, n) {
    return t.x <= Math.max(e1.x, n.x) && t.x >= Math.min(e1.x, n.x) && t.y <= Math.max(e1.y, n.y) && t.y >= Math.min(e1.y, n.y);
}
function Cs(e1) {
    return e1 > 0 ? 1 : e1 < 0 ? -1 : 0;
}
function L0(e1, t) {
    let n = e1;
    do {
        if (n.i !== e1.i && n.next.i !== e1.i && n.i !== t.i && n.next.i !== t.i && qu(n, n.next, e1, t)) return !0;
        n = n.next;
    }while (n !== e1);
    return !1;
}
function Ji(e1, t) {
    return ie(e1.prev, e1, e1.next) < 0 ? ie(e1, t, e1.next) >= 0 && ie(e1, e1.prev, t) >= 0 : ie(e1, t, e1.prev) < 0 || ie(e1, e1.next, t) < 0;
}
function U0(e1, t) {
    let n = e1, i = !1, r = (e1.x + t.x) / 2, a = (e1.y + t.y) / 2;
    do n.y > a != n.next.y > a && n.next.y !== n.y && r < (n.next.x - n.x) * (a - n.y) / (n.next.y - n.y) + n.x && (i = !i), n = n.next;
    while (n !== e1);
    return i;
}
function Yu(e1, t) {
    let n = new Ga(e1.i, e1.x, e1.y), i = new Ga(t.i, t.x, t.y), r = e1.next, a = t.prev;
    return e1.next = t, t.prev = e1, n.next = r, r.prev = n, i.next = n, n.prev = i, a.next = i, i.prev = a, i;
}
function jh(e1, t, n, i) {
    let r = new Ga(e1, t, n);
    return i ? (r.next = i.next, r.prev = i, i.next.prev = r, i.next = r) : (r.prev = r, r.next = r), r;
}
function $i(e1) {
    e1.next.prev = e1.prev, e1.prev.next = e1.next, e1.prevZ && (e1.prevZ.nextZ = e1.nextZ), e1.nextZ && (e1.nextZ.prevZ = e1.prevZ);
}
function Ga(e1, t, n) {
    this.i = e1, this.x = t, this.y = n, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = !1;
}
function D0(e1, t, n, i) {
    let r = 0;
    for(let a = t, s = n - i; a < n; a += i)r += (e1[s] - e1[a]) * (e1[a + 1] + e1[s + 1]), s = a;
    return r;
}
(0, _chunkZRT45YCMJs.a)(Xu, "linkedList"), (0, _chunkZRT45YCMJs.a)(kn, "filterPoints"), (0, _chunkZRT45YCMJs.a)(Zi, "earcutLinked"), (0, _chunkZRT45YCMJs.a)(v0, "isEar"), (0, _chunkZRT45YCMJs.a)(y0, "isEarHashed"), (0, _chunkZRT45YCMJs.a)(M0, "cureLocalIntersections"), (0, _chunkZRT45YCMJs.a)(S0, "splitEarcut"), (0, _chunkZRT45YCMJs.a)(b0, "eliminateHoles"), (0, _chunkZRT45YCMJs.a)(E0, "compareX"), (0, _chunkZRT45YCMJs.a)(w0, "eliminateHole"), (0, _chunkZRT45YCMJs.a)(A0, "findHoleBridge"), (0, _chunkZRT45YCMJs.a)(T0, "sectorContainsSector"), (0, _chunkZRT45YCMJs.a)(R0, "indexCurve"), (0, _chunkZRT45YCMJs.a)(C0, "sortLinked"), (0, _chunkZRT45YCMJs.a)(Ha, "zOrder"), (0, _chunkZRT45YCMJs.a)(P0, "getLeftmost"), (0, _chunkZRT45YCMJs.a)(hi, "pointInTriangle"), (0, _chunkZRT45YCMJs.a)(I0, "isValidDiagonal"), (0, _chunkZRT45YCMJs.a)(ie, "area"), (0, _chunkZRT45YCMJs.a)(Sr, "equals"), (0, _chunkZRT45YCMJs.a)(qu, "intersects"), (0, _chunkZRT45YCMJs.a)(Rs, "onSegment"), (0, _chunkZRT45YCMJs.a)(Cs, "sign"), (0, _chunkZRT45YCMJs.a)(L0, "intersectsPolygon"), (0, _chunkZRT45YCMJs.a)(Ji, "locallyInside"), (0, _chunkZRT45YCMJs.a)(U0, "middleInside"), (0, _chunkZRT45YCMJs.a)(Yu, "splitPolygon"), (0, _chunkZRT45YCMJs.a)(jh, "insertNode"), (0, _chunkZRT45YCMJs.a)($i, "removeNode"), (0, _chunkZRT45YCMJs.a)(Ga, "Node"), (0, _chunkZRT45YCMJs.a)(D0, "signedArea");
var mr = class e1 {
    static area(e1) {
        let t = e1.length, n = 0;
        for(let i = t - 1, r = 0; r < t; i = r++)n += e1[i].x * e1[r].y - e1[r].x * e1[i].y;
        return .5 * n;
    }
    static isClockWise(t) {
        return e1.area(t) < 0;
    }
    static triangulateShape(e1, t) {
        let n = [], i = [], r = [];
        tu(e1), eu(n, e1);
        let a = e1.length;
        t.forEach(tu);
        for(let e1 = 0; e1 < t.length; e1++)i.push(a), a += t[e1].length, eu(n, t[e1]);
        let s = x0.triangulate(n, i);
        for(let e1 = 0; e1 < s.length; e1 += 3)r.push(s.slice(e1, e1 + 3));
        return r;
    }
};
(0, _chunkZRT45YCMJs.a)(mr, "ShapeUtils");
var xi = mr;
function tu(e1) {
    let t = e1.length;
    t > 2 && e1[t - 1].equals(e1[0]) && e1.pop();
}
function eu(e1, t) {
    for(let n = 0; n < t.length; n++)e1.push(t[n].x), e1.push(t[n].y);
}
(0, _chunkZRT45YCMJs.a)(tu, "removeDupEndPts"), (0, _chunkZRT45YCMJs.a)(eu, "addContour");
var gr = class e1 extends Ee {
    constructor(e1 = new _i([
        new ht(.5, .5),
        new ht(-0.5, .5),
        new ht(-0.5, -0.5),
        new ht(.5, -0.5)
    ]), t = {}){
        super(), this.type = "ExtrudeGeometry", this.parameters = {
            shapes: e1,
            options: t
        }, e1 = Array.isArray(e1) ? e1 : [
            e1
        ];
        let n = this, i = [], r = [];
        for(let t = 0, n = e1.length; t < n; t++)a(e1[t]);
        function a(e1) {
            let a, s, o, l, h, c = [], d = void 0 !== t.curveSegments ? t.curveSegments : 12, p = void 0 !== t.steps ? t.steps : 1, f = void 0 !== t.depth ? t.depth : 1, m = void 0 === t.bevelEnabled || t.bevelEnabled, g = void 0 !== t.bevelThickness ? t.bevelThickness : .2, _ = void 0 !== t.bevelSize ? t.bevelSize : g - .1, v = void 0 !== t.bevelOffset ? t.bevelOffset : 0, x = void 0 !== t.bevelSegments ? t.bevelSegments : 3, y = t.extrudePath, M = void 0 !== t.UVGenerator ? t.UVGenerator : N0, S = !1;
            y && (a = y.getSpacedPoints(p), S = !0, m = !1, s = y.computeFrenetFrames(p, !1), o = new P, l = new P, h = new P), m || (x = 0, g = 0, _ = 0, v = 0);
            let E = e1.extractPoints(d), T = E.shape, b = E.holes;
            if (!xi.isClockWise(T)) {
                T = T.reverse();
                for(let e1 = 0, t = b.length; e1 < t; e1++){
                    let t = b[e1];
                    xi.isClockWise(t) && (b[e1] = t.reverse());
                }
            }
            let A = xi.triangulateShape(T, b), w = T;
            for(let e1 = 0, t = b.length; e1 < t; e1++){
                let t = b[e1];
                T = T.concat(t);
            }
            function R(e1, t, n) {
                return t || console.error("THREE.ExtrudeGeometry: vec does not exist"), e1.clone().addScaledVector(t, n);
            }
            (0, _chunkZRT45YCMJs.a)(R, "scalePt2");
            let C = T.length, L = A.length;
            function U(e1, t, n) {
                let i, r, a, s = e1.x - t.x, o = e1.y - t.y, l = n.x - e1.x, u = n.y - e1.y, h = s * s + o * o, c = s * u - o * l;
                if (Math.abs(c) > Number.EPSILON) {
                    let c = Math.sqrt(h), d = Math.sqrt(l * l + u * u), p = t.x - o / c, f = t.y + s / c, m = ((n.x - u / d - p) * u - (n.y + l / d - f) * l) / (s * u - o * l);
                    i = p + s * m - e1.x, r = f + o * m - e1.y;
                    let g = i * i + r * r;
                    if (g <= 2) return new ht(i, r);
                    a = Math.sqrt(g / 2);
                } else {
                    let e1 = !1;
                    s > Number.EPSILON ? l > Number.EPSILON && (e1 = !0) : s < -Number.EPSILON ? l < -Number.EPSILON && (e1 = !0) : Math.sign(o) === Math.sign(u) && (e1 = !0), e1 ? (i = -o, r = s, a = Math.sqrt(h)) : (i = s, r = o, a = Math.sqrt(h / 2));
                }
                return new ht(i / a, r / a);
            }
            (0, _chunkZRT45YCMJs.a)(U, "getBevelVec");
            let N = [];
            for(let e1 = 0, t = w.length, n = t - 1, i = e1 + 1; e1 < t; e1++, n++, i++)n === t && (n = 0), i === t && (i = 0), N[e1] = U(w[e1], w[n], w[i]);
            let D, I = [], O = N.concat();
            for(let e1 = 0, t = b.length; e1 < t; e1++){
                let t = b[e1];
                D = [];
                for(let e1 = 0, n = t.length, i = n - 1, r = e1 + 1; e1 < n; e1++, i++, r++)i === n && (i = 0), r === n && (r = 0), D[e1] = U(t[e1], t[i], t[r]);
                I.push(D), O = O.concat(D);
            }
            for(let e1 = 0; e1 < x; e1++){
                let t = e1 / x, n = g * Math.cos(t * Math.PI / 2), i = _ * Math.sin(t * Math.PI / 2) + v;
                for(let e1 = 0, t = w.length; e1 < t; e1++){
                    let t = R(w[e1], N[e1], i);
                    G(t.x, t.y, -n);
                }
                for(let e1 = 0, t = b.length; e1 < t; e1++){
                    let t = b[e1];
                    D = I[e1];
                    for(let e1 = 0, r = t.length; e1 < r; e1++){
                        let r = R(t[e1], D[e1], i);
                        G(r.x, r.y, -n);
                    }
                }
            }
            let F = _ + v;
            for(let e1 = 0; e1 < C; e1++){
                let t = m ? R(T[e1], O[e1], F) : T[e1];
                S ? (l.copy(s.normals[0]).multiplyScalar(t.x), o.copy(s.binormals[0]).multiplyScalar(t.y), h.copy(a[0]).add(l).add(o), G(h.x, h.y, h.z)) : G(t.x, t.y, 0);
            }
            for(let e1 = 1; e1 <= p; e1++)for(let t = 0; t < C; t++){
                let n = m ? R(T[t], O[t], F) : T[t];
                S ? (l.copy(s.normals[e1]).multiplyScalar(n.x), o.copy(s.binormals[e1]).multiplyScalar(n.y), h.copy(a[e1]).add(l).add(o), G(h.x, h.y, h.z)) : G(n.x, n.y, f / p * e1);
            }
            for(let e1 = x - 1; e1 >= 0; e1--){
                let t = e1 / x, n = g * Math.cos(t * Math.PI / 2), i = _ * Math.sin(t * Math.PI / 2) + v;
                for(let e1 = 0, t = w.length; e1 < t; e1++){
                    let t = R(w[e1], N[e1], i);
                    G(t.x, t.y, f + n);
                }
                for(let e1 = 0, t = b.length; e1 < t; e1++){
                    let t = b[e1];
                    D = I[e1];
                    for(let e1 = 0, r = t.length; e1 < r; e1++){
                        let r = R(t[e1], D[e1], i);
                        S ? G(r.x, r.y + a[p - 1].y, a[p - 1].x + n) : G(r.x, r.y, f + n);
                    }
                }
            }
            function B() {
                let e1 = i.length / 3;
                if (m) {
                    let e1 = 0, t = C * e1;
                    for(let e1 = 0; e1 < L; e1++){
                        let n = A[e1];
                        H(n[2] + t, n[1] + t, n[0] + t);
                    }
                    e1 = p + 2 * x, t = C * e1;
                    for(let e1 = 0; e1 < L; e1++){
                        let n = A[e1];
                        H(n[0] + t, n[1] + t, n[2] + t);
                    }
                } else {
                    for(let e1 = 0; e1 < L; e1++){
                        let t = A[e1];
                        H(t[2], t[1], t[0]);
                    }
                    for(let e1 = 0; e1 < L; e1++){
                        let t = A[e1];
                        H(t[0] + C * p, t[1] + C * p, t[2] + C * p);
                    }
                }
                n.addGroup(e1, i.length / 3 - e1, 0);
            }
            function z() {
                let e1 = i.length / 3, t = 0;
                V(w, t), t += w.length;
                for(let e1 = 0, n = b.length; e1 < n; e1++){
                    let n = b[e1];
                    V(n, t), t += n.length;
                }
                n.addGroup(e1, i.length / 3 - e1, 1);
            }
            function V(e1, t) {
                let n = e1.length;
                for(; --n >= 0;){
                    let i = n, r = n - 1;
                    r < 0 && (r = e1.length - 1);
                    for(let e1 = 0, n = p + 2 * x; e1 < n; e1++){
                        let n = C * e1, a = C * (e1 + 1);
                        k(t + i + n, t + r + n, t + r + a, t + i + a);
                    }
                }
            }
            function G(e1, t, n) {
                c.push(e1), c.push(t), c.push(n);
            }
            function H(e1, t, r) {
                W(e1), W(t), W(r);
                let a = i.length / 3, s = M.generateTopUV(n, i, a - 3, a - 2, a - 1);
                X(s[0]), X(s[1]), X(s[2]);
            }
            function k(e1, t, r, a) {
                W(e1), W(t), W(a), W(t), W(r), W(a);
                let s = i.length / 3, o = M.generateSideWallUV(n, i, s - 6, s - 3, s - 2, s - 1);
                X(o[0]), X(o[1]), X(o[3]), X(o[1]), X(o[2]), X(o[3]);
            }
            function W(e1) {
                i.push(c[3 * e1 + 0]), i.push(c[3 * e1 + 1]), i.push(c[3 * e1 + 2]);
            }
            function X(e1) {
                r.push(e1.x), r.push(e1.y);
            }
            B(), z(), (0, _chunkZRT45YCMJs.a)(B, "buildLidFaces"), (0, _chunkZRT45YCMJs.a)(z, "buildSideFaces"), (0, _chunkZRT45YCMJs.a)(V, "sidewalls"), (0, _chunkZRT45YCMJs.a)(G, "v"), (0, _chunkZRT45YCMJs.a)(H, "f3"), (0, _chunkZRT45YCMJs.a)(k, "f4"), (0, _chunkZRT45YCMJs.a)(W, "addVertex"), (0, _chunkZRT45YCMJs.a)(X, "addUV");
        }
        this.setAttribute("position", new se(i, 3)), this.setAttribute("uv", new se(r, 2)), this.computeVertexNormals(), (0, _chunkZRT45YCMJs.a)(a, "addShape");
    }
    copy(e1) {
        return super.copy(e1), this.parameters = Object.assign({}, e1.parameters), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return O0(this.parameters.shapes, this.parameters.options, e1);
    }
    static fromJSON(t, n) {
        let i = [];
        for(let e1 = 0, r = t.shapes.length; e1 < r; e1++){
            let r = n[t.shapes[e1]];
            i.push(r);
        }
        let r = t.options.extrudePath;
        return void 0 !== r && (t.options.extrudePath = (new sr[r.type]).fromJSON(r)), new e1(i, t.options);
    }
};
(0, _chunkZRT45YCMJs.a)(gr, "ExtrudeGeometry");
var nu = gr, N0 = {
    generateTopUV: function(e1, t, n, i, r) {
        let a = t[3 * n], s = t[3 * n + 1], o = t[3 * i], l = t[3 * i + 1], u = t[3 * r], h = t[3 * r + 1];
        return [
            new ht(a, s),
            new ht(o, l),
            new ht(u, h)
        ];
    },
    generateSideWallUV: function(e1, t, n, i, r, a) {
        let s = t[3 * n], o = t[3 * n + 1], l = t[3 * n + 2], u = t[3 * i], h = t[3 * i + 1], c = t[3 * i + 2], d = t[3 * r], p = t[3 * r + 1], f = t[3 * r + 2], m = t[3 * a], g = t[3 * a + 1], _ = t[3 * a + 2];
        return Math.abs(o - h) < Math.abs(s - u) ? [
            new ht(s, 1 - l),
            new ht(u, 1 - c),
            new ht(d, 1 - f),
            new ht(m, 1 - _)
        ] : [
            new ht(o, 1 - l),
            new ht(h, 1 - c),
            new ht(p, 1 - f),
            new ht(g, 1 - _)
        ];
    }
};
function O0(e1, t, n) {
    if (n.shapes = [], Array.isArray(e1)) for(let t = 0, i = e1.length; t < i; t++){
        let i = e1[t];
        n.shapes.push(i.uuid);
    }
    else n.shapes.push(e1.uuid);
    return n.options = Object.assign({}, t), void 0 !== t.extrudePath && (n.options.extrudePath = t.extrudePath.toJSON()), n;
}
(0, _chunkZRT45YCMJs.a)(O0, "toJSON$1");
var _r = class e1 extends Ee {
    constructor(e1 = new nr(new P(-1, -1, 0), new P(-1, 1, 0), new P(1, 1, 0)), t = 64, n = 1, i = 8, r = !1){
        super(), this.type = "TubeGeometry", this.parameters = {
            path: e1,
            tubularSegments: t,
            radius: n,
            radialSegments: i,
            closed: r
        };
        let a = e1.computeFrenetFrames(t, r);
        this.tangents = a.tangents, this.normals = a.normals, this.binormals = a.binormals;
        let s = new P, o = new P, l = new ht, h = new P, c = [], d = [], p = [], f = [];
        function m() {
            for(let e1 = 0; e1 < t; e1++)g(e1);
            g(!1 === r ? t : 0), v(), _();
        }
        function g(r) {
            h = e1.getPointAt(r / t, h);
            let l = a.normals[r], u = a.binormals[r];
            for(let e1 = 0; e1 <= i; e1++){
                let t = e1 / i * Math.PI * 2, r = Math.sin(t), a = -Math.cos(t);
                o.x = a * l.x + r * u.x, o.y = a * l.y + r * u.y, o.z = a * l.z + r * u.z, o.normalize(), d.push(o.x, o.y, o.z), s.x = h.x + n * o.x, s.y = h.y + n * o.y, s.z = h.z + n * o.z, c.push(s.x, s.y, s.z);
            }
        }
        function _() {
            for(let e1 = 1; e1 <= t; e1++)for(let t = 1; t <= i; t++){
                let n = (i + 1) * (e1 - 1) + (t - 1), r = (i + 1) * e1 + (t - 1), a = (i + 1) * e1 + t, s = (i + 1) * (e1 - 1) + t;
                f.push(n, r, s), f.push(r, a, s);
            }
        }
        function v() {
            for(let e1 = 0; e1 <= t; e1++)for(let n = 0; n <= i; n++)l.x = e1 / t, l.y = n / i, p.push(l.x, l.y);
        }
        m(), this.setIndex(f), this.setAttribute("position", new se(c, 3)), this.setAttribute("normal", new se(d, 3)), this.setAttribute("uv", new se(p, 2)), (0, _chunkZRT45YCMJs.a)(m, "generateBufferData"), (0, _chunkZRT45YCMJs.a)(g, "generateSegment"), (0, _chunkZRT45YCMJs.a)(_, "generateIndices"), (0, _chunkZRT45YCMJs.a)(v, "generateUVs");
    }
    copy(e1) {
        return super.copy(e1), this.parameters = Object.assign({}, e1.parameters), this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.path = this.parameters.path.toJSON(), e1;
    }
    static fromJSON(t) {
        return new e1((new sr[t.path.type]).fromJSON(t.path), t.tubularSegments, t.radius, t.radialSegments, t.closed);
    }
};
(0, _chunkZRT45YCMJs.a)(_r, "TubeGeometry");
var iu = _r, Cc = class extends He {
    constructor(e1){
        super(e1), this.isRawShaderMaterial = !0, this.type = "RawShaderMaterial";
    }
};
(0, _chunkZRT45YCMJs.a)(Cc, "RawShaderMaterial");
var su = Cc, Pc = class extends an {
    constructor(e1){
        super(), this.isMeshStandardMaterial = !0, this.defines = {
            STANDARD: ""
        }, this.type = "MeshStandardMaterial", this.color = new Ht(16777215), this.roughness = 1, this.metalness = 0, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Ht(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = ao, this.normalScale = new ht(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new Ve, this.envMapIntensity = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = !1, this.fog = !0, this.setValues(e1);
    }
    copy(e1) {
        return super.copy(e1), this.defines = {
            STANDARD: ""
        }, this.color.copy(e1.color), this.roughness = e1.roughness, this.metalness = e1.metalness, this.map = e1.map, this.lightMap = e1.lightMap, this.lightMapIntensity = e1.lightMapIntensity, this.aoMap = e1.aoMap, this.aoMapIntensity = e1.aoMapIntensity, this.emissive.copy(e1.emissive), this.emissiveMap = e1.emissiveMap, this.emissiveIntensity = e1.emissiveIntensity, this.bumpMap = e1.bumpMap, this.bumpScale = e1.bumpScale, this.normalMap = e1.normalMap, this.normalMapType = e1.normalMapType, this.normalScale.copy(e1.normalScale), this.displacementMap = e1.displacementMap, this.displacementScale = e1.displacementScale, this.displacementBias = e1.displacementBias, this.roughnessMap = e1.roughnessMap, this.metalnessMap = e1.metalnessMap, this.alphaMap = e1.alphaMap, this.envMap = e1.envMap, this.envMapRotation.copy(e1.envMapRotation), this.envMapIntensity = e1.envMapIntensity, this.wireframe = e1.wireframe, this.wireframeLinewidth = e1.wireframeLinewidth, this.wireframeLinecap = e1.wireframeLinecap, this.wireframeLinejoin = e1.wireframeLinejoin, this.flatShading = e1.flatShading, this.fog = e1.fog, this;
    }
};
(0, _chunkZRT45YCMJs.a)(Pc, "MeshStandardMaterial");
var ru = Pc, Ic = class extends an {
    constructor(e1){
        super(), this.isMeshLambertMaterial = !0, this.type = "MeshLambertMaterial", this.color = new Ht(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new Ht(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalMapType = ao, this.normalScale = new ht(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.envMapRotation = new Ve, this.combine = so, this.reflectivity = 1, this.refractionRatio = .98, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.flatShading = !1, this.fog = !0, this.setValues(e1);
    }
    copy(e1) {
        return super.copy(e1), this.color.copy(e1.color), this.map = e1.map, this.lightMap = e1.lightMap, this.lightMapIntensity = e1.lightMapIntensity, this.aoMap = e1.aoMap, this.aoMapIntensity = e1.aoMapIntensity, this.emissive.copy(e1.emissive), this.emissiveMap = e1.emissiveMap, this.emissiveIntensity = e1.emissiveIntensity, this.bumpMap = e1.bumpMap, this.bumpScale = e1.bumpScale, this.normalMap = e1.normalMap, this.normalMapType = e1.normalMapType, this.normalScale.copy(e1.normalScale), this.displacementMap = e1.displacementMap, this.displacementScale = e1.displacementScale, this.displacementBias = e1.displacementBias, this.specularMap = e1.specularMap, this.alphaMap = e1.alphaMap, this.envMap = e1.envMap, this.envMapRotation.copy(e1.envMapRotation), this.combine = e1.combine, this.reflectivity = e1.reflectivity, this.refractionRatio = e1.refractionRatio, this.wireframe = e1.wireframe, this.wireframeLinewidth = e1.wireframeLinewidth, this.wireframeLinecap = e1.wireframeLinecap, this.wireframeLinejoin = e1.wireframeLinejoin, this.flatShading = e1.flatShading, this.fog = e1.fog, this;
    }
};
(0, _chunkZRT45YCMJs.a)(Ic, "MeshLambertMaterial");
var au = Ic;
function Ps(e1, t, n) {
    return !e1 || !n && e1.constructor === t ? e1 : "number" == typeof t.BYTES_PER_ELEMENT ? new t(e1) : Array.prototype.slice.call(e1);
}
function F0(e1) {
    return ArrayBuffer.isView(e1) && !(e1 instanceof DataView);
}
(0, _chunkZRT45YCMJs.a)(Ps, "convertArray"), (0, _chunkZRT45YCMJs.a)(F0, "isTypedArray");
var Lc = class {
    constructor(e1, t, n, i){
        this.parameterPositions = e1, this._cachedIndex = 0, this.resultBuffer = void 0 !== i ? i : new t.constructor(n), this.sampleValues = t, this.valueSize = n, this.settings = null, this.DefaultSettings_ = {};
    }
    evaluate(e1) {
        let t = this.parameterPositions, n = this._cachedIndex, i = t[n], r = t[n - 1];
        e: {
            t: {
                let a;
                n: {
                    i: if (!(e1 < i)) {
                        for(let a = n + 2;;){
                            if (void 0 === i) {
                                if (e1 < r) break i;
                                return n = t.length, this._cachedIndex = n, this.copySampleValue_(n - 1);
                            }
                            if (n === a) break;
                            if (r = i, i = t[++n], e1 < i) break t;
                        }
                        a = t.length;
                        break n;
                    }
                    if (e1 >= r) break e;
                    {
                        let s = t[1];
                        e1 < s && (n = 2, r = s);
                        for(let a = n - 2;;){
                            if (void 0 === r) return this._cachedIndex = 0, this.copySampleValue_(0);
                            if (n === a) break;
                            if (i = r, r = t[--n - 1], e1 >= r) break t;
                        }
                        a = n, n = 0;
                    }
                }
                for(; n < a;){
                    let i = n + a >>> 1;
                    e1 < t[i] ? a = i : n = i + 1;
                }
                if (i = t[n], r = t[n - 1], void 0 === r) return this._cachedIndex = 0, this.copySampleValue_(0);
                if (void 0 === i) return n = t.length, this._cachedIndex = n, this.copySampleValue_(n - 1);
            }
            this._cachedIndex = n, this.intervalChanged_(n, r, i);
        }
        return this.interpolate_(n, r, e1, i);
    }
    getSettings_() {
        return this.settings || this.DefaultSettings_;
    }
    copySampleValue_(e1) {
        let t = this.resultBuffer, n = this.sampleValues, i = this.valueSize, r = e1 * i;
        for(let e1 = 0; e1 !== i; ++e1)t[e1] = n[r + e1];
        return t;
    }
    interpolate_() {
        throw new Error("call to abstract method");
    }
    intervalChanged_() {}
};
(0, _chunkZRT45YCMJs.a)(Lc, "Interpolant");
var Ei = Lc, Uc = class extends Ei {
    constructor(e1, t, n, i){
        super(e1, t, n, i), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0, this.DefaultSettings_ = {
            endingStart: Zl,
            endingEnd: Zl
        };
    }
    intervalChanged_(e1, t, n) {
        let i = this.parameterPositions, r = e1 - 2, a = e1 + 1, s = i[r], o = i[a];
        if (void 0 === s) switch(this.getSettings_().endingStart){
            case Jl:
                r = e1, s = 2 * t - n;
                break;
            case $l:
                r = i.length - 2, s = t + i[r] - i[r + 1];
                break;
            default:
                r = e1, s = n;
        }
        if (void 0 === o) switch(this.getSettings_().endingEnd){
            case Jl:
                a = e1, o = 2 * n - t;
                break;
            case $l:
                a = 1, o = n + i[1] - i[0];
                break;
            default:
                a = e1 - 1, o = t;
        }
        let l = .5 * (n - t), u = this.valueSize;
        this._weightPrev = l / (t - s), this._weightNext = l / (o - n), this._offsetPrev = r * u, this._offsetNext = a * u;
    }
    interpolate_(e1, t, n, i) {
        let r = this.resultBuffer, a = this.sampleValues, s = this.valueSize, o = e1 * s, l = o - s, u = this._offsetPrev, h = this._offsetNext, c = this._weightPrev, d = this._weightNext, p = (n - t) / (i - t), f = p * p, m = f * p, g = -c * m + 2 * c * f - c * p, _ = (1 + c) * m + (-1.5 - 2 * c) * f + (-0.5 + c) * p + 1, v = (-1 - d) * m + (1.5 + d) * f + .5 * p, x = d * m - d * f;
        for(let e1 = 0; e1 !== s; ++e1)r[e1] = g * a[u + e1] + _ * a[l + e1] + v * a[o + e1] + x * a[h + e1];
        return r;
    }
};
(0, _chunkZRT45YCMJs.a)(Uc, "CubicInterpolant");
var Wa = Uc, Dc = class extends Ei {
    constructor(e1, t, n, i){
        super(e1, t, n, i);
    }
    interpolate_(e1, t, n, i) {
        let r = this.resultBuffer, a = this.sampleValues, s = this.valueSize, o = e1 * s, l = o - s, u = (n - t) / (i - t), h = 1 - u;
        for(let e1 = 0; e1 !== s; ++e1)r[e1] = a[l + e1] * h + a[o + e1] * u;
        return r;
    }
};
(0, _chunkZRT45YCMJs.a)(Dc, "LinearInterpolant");
var Xa = Dc, Nc = class extends Ei {
    constructor(e1, t, n, i){
        super(e1, t, n, i);
    }
    interpolate_(e1) {
        return this.copySampleValue_(e1 - 1);
    }
};
(0, _chunkZRT45YCMJs.a)(Nc, "DiscreteInterpolant");
var qa = Nc, Oc = class {
    constructor(e1, t, n, i){
        if (void 0 === e1) throw new Error("THREE.KeyframeTrack: track name is undefined");
        if (void 0 === t || 0 === t.length) throw new Error("THREE.KeyframeTrack: no keyframes in track named " + e1);
        this.name = e1, this.times = Ps(t, this.TimeBufferType), this.values = Ps(n, this.ValueBufferType), this.setInterpolation(i || this.DefaultInterpolation);
    }
    static toJSON(e1) {
        let t, n = e1.constructor;
        if (n.toJSON !== this.toJSON) t = n.toJSON(e1);
        else {
            t = {
                name: e1.name,
                times: Ps(e1.times, Array),
                values: Ps(e1.values, Array)
            };
            let n = e1.getInterpolation();
            n !== e1.DefaultInterpolation && (t.interpolation = n);
        }
        return t.type = e1.ValueTypeName, t;
    }
    InterpolantFactoryMethodDiscrete(e1) {
        return new qa(this.times, this.values, this.getValueSize(), e1);
    }
    InterpolantFactoryMethodLinear(e1) {
        return new Xa(this.times, this.values, this.getValueSize(), e1);
    }
    InterpolantFactoryMethodSmooth(e1) {
        return new Wa(this.times, this.values, this.getValueSize(), e1);
    }
    setInterpolation(e1) {
        let t;
        switch(e1){
            case Us:
                t = this.InterpolantFactoryMethodDiscrete;
                break;
            case Ds:
                t = this.InterpolantFactoryMethodLinear;
                break;
            case Ur:
                t = this.InterpolantFactoryMethodSmooth;
        }
        if (void 0 === t) {
            let t = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name;
            if (void 0 === this.createInterpolant) {
                if (e1 === this.DefaultInterpolation) throw new Error(t);
                this.setInterpolation(this.DefaultInterpolation);
            }
            return console.warn("THREE.KeyframeTrack:", t), this;
        }
        return this.createInterpolant = t, this;
    }
    getInterpolation() {
        switch(this.createInterpolant){
            case this.InterpolantFactoryMethodDiscrete:
                return Us;
            case this.InterpolantFactoryMethodLinear:
                return Ds;
            case this.InterpolantFactoryMethodSmooth:
                return Ur;
        }
    }
    getValueSize() {
        return this.values.length / this.times.length;
    }
    shift(e1) {
        if (0 !== e1) {
            let t = this.times;
            for(let n = 0, i = t.length; n !== i; ++n)t[n] += e1;
        }
        return this;
    }
    scale(e1) {
        if (1 !== e1) {
            let t = this.times;
            for(let n = 0, i = t.length; n !== i; ++n)t[n] *= e1;
        }
        return this;
    }
    trim(e1, t) {
        let n = this.times, i = n.length, r = 0, a = i - 1;
        for(; r !== i && n[r] < e1;)++r;
        for(; -1 !== a && n[a] > t;)--a;
        if (++a, 0 !== r || a !== i) {
            r >= a && (a = Math.max(a, 1), r = a - 1);
            let e1 = this.getValueSize();
            this.times = n.slice(r, a), this.values = this.values.slice(r * e1, a * e1);
        }
        return this;
    }
    validate() {
        let e1 = !0, t = this.getValueSize();
        t - Math.floor(t) != 0 && (console.error("THREE.KeyframeTrack: Invalid value size in track.", this), e1 = !1);
        let n = this.times, i = this.values, r = n.length;
        0 === r && (console.error("THREE.KeyframeTrack: Track is empty.", this), e1 = !1);
        let a = null;
        for(let t = 0; t !== r; t++){
            let i = n[t];
            if ("number" == typeof i && isNaN(i)) {
                console.error("THREE.KeyframeTrack: Time is not a valid number.", this, t, i), e1 = !1;
                break;
            }
            if (null !== a && a > i) {
                console.error("THREE.KeyframeTrack: Out of order keys.", this, t, i, a), e1 = !1;
                break;
            }
            a = i;
        }
        if (void 0 !== i && F0(i)) for(let t = 0, n = i.length; t !== n; ++t){
            let n = i[t];
            if (isNaN(n)) {
                console.error("THREE.KeyframeTrack: Value is not a valid number.", this, t, n), e1 = !1;
                break;
            }
        }
        return e1;
    }
    optimize() {
        let e1 = this.times.slice(), t = this.values.slice(), n = this.getValueSize(), i = this.getInterpolation() === Ur, r = e1.length - 1, a = 1;
        for(let s = 1; s < r; ++s){
            let r = !1, o = e1[s];
            if (o !== e1[s + 1] && (1 !== s || o !== e1[0])) {
                if (i) r = !0;
                else {
                    let e1 = s * n, i = e1 - n, a = e1 + n;
                    for(let s = 0; s !== n; ++s){
                        let n = t[e1 + s];
                        if (n !== t[i + s] || n !== t[a + s]) {
                            r = !0;
                            break;
                        }
                    }
                }
            }
            if (r) {
                if (s !== a) {
                    e1[a] = e1[s];
                    let i = s * n, r = a * n;
                    for(let e1 = 0; e1 !== n; ++e1)t[r + e1] = t[i + e1];
                }
                ++a;
            }
        }
        if (r > 0) {
            e1[a] = e1[r];
            for(let e1 = r * n, i = a * n, s = 0; s !== n; ++s)t[i + s] = t[e1 + s];
            ++a;
        }
        return a !== e1.length ? (this.times = e1.slice(0, a), this.values = t.slice(0, a * n)) : (this.times = e1, this.values = t), this;
    }
    clone() {
        let e1 = this.times.slice(), t = this.values.slice(), n = new this.constructor(this.name, e1, t);
        return n.createInterpolant = this.createInterpolant, n;
    }
};
(0, _chunkZRT45YCMJs.a)(Oc, "KeyframeTrack");
var Ge = Oc;
Ge.prototype.TimeBufferType = Float32Array, Ge.prototype.ValueBufferType = Float32Array, Ge.prototype.DefaultInterpolation = Ds;
var Fc = class extends Ge {
};
(0, _chunkZRT45YCMJs.a)(Fc, "BooleanKeyframeTrack");
var Vn = Fc;
Vn.prototype.ValueTypeName = "bool", Vn.prototype.ValueBufferType = Array, Vn.prototype.DefaultInterpolation = Us, Vn.prototype.InterpolantFactoryMethodLinear = void 0, Vn.prototype.InterpolantFactoryMethodSmooth = void 0;
var Bc = class extends Ge {
};
(0, _chunkZRT45YCMJs.a)(Bc, "ColorKeyframeTrack");
var Ya = Bc;
Ya.prototype.ValueTypeName = "color";
var zc = class extends Ge {
};
(0, _chunkZRT45YCMJs.a)(zc, "NumberKeyframeTrack");
var Za = zc;
Za.prototype.ValueTypeName = "number";
var kc = class extends Ei {
    constructor(e1, t, n, i){
        super(e1, t, n, i);
    }
    interpolate_(e1, t, n, i) {
        let r = this.resultBuffer, a = this.sampleValues, s = this.valueSize, o = (n - t) / (i - t), l = e1 * s;
        for(let e1 = l + s; l !== e1; l += 4)Sn.slerpFlat(r, 0, a, l - s, a, l, o);
        return r;
    }
};
(0, _chunkZRT45YCMJs.a)(kc, "QuaternionLinearInterpolant");
var Ja = kc, Vc = class extends Ge {
    InterpolantFactoryMethodLinear(e1) {
        return new Ja(this.times, this.values, this.getValueSize(), e1);
    }
};
(0, _chunkZRT45YCMJs.a)(Vc, "QuaternionKeyframeTrack");
var Ki = Vc;
Ki.prototype.ValueTypeName = "quaternion", Ki.prototype.DefaultInterpolation = Ds, Ki.prototype.InterpolantFactoryMethodSmooth = void 0;
var Hc = class extends Ge {
};
(0, _chunkZRT45YCMJs.a)(Hc, "StringKeyframeTrack");
var Hn = Hc;
Hn.prototype.ValueTypeName = "string", Hn.prototype.ValueBufferType = Array, Hn.prototype.DefaultInterpolation = Us, Hn.prototype.InterpolantFactoryMethodLinear = void 0, Hn.prototype.InterpolantFactoryMethodSmooth = void 0;
var Gc = class extends Ge {
};
(0, _chunkZRT45YCMJs.a)(Gc, "VectorKeyframeTrack");
var $a = Gc;
$a.prototype.ValueTypeName = "vector";
var ou = {
    enabled: !1,
    files: {},
    add: function(e1, t) {
        !1 !== this.enabled && (this.files[e1] = t);
    },
    get: function(e1) {
        if (!1 !== this.enabled) return this.files[e1];
    },
    remove: function(e1) {
        delete this.files[e1];
    },
    clear: function() {
        this.files = {};
    }
}, Wc = class {
    constructor(e1, t, n){
        let i, r = this, a = !1, s = 0, o = 0, l = [];
        this.onStart = void 0, this.onLoad = e1, this.onProgress = t, this.onError = n, this.itemStart = function(e1) {
            o++, !1 === a && void 0 !== r.onStart && r.onStart(e1, s, o), a = !0;
        }, this.itemEnd = function(e1) {
            s++, void 0 !== r.onProgress && r.onProgress(e1, s, o), s === o && (a = !1, void 0 !== r.onLoad && r.onLoad());
        }, this.itemError = function(e1) {
            void 0 !== r.onError && r.onError(e1);
        }, this.resolveURL = function(e1) {
            return i ? i(e1) : e1;
        }, this.setURLModifier = function(e1) {
            return i = e1, this;
        }, this.addHandler = function(e1, t) {
            return l.push(e1, t), this;
        }, this.removeHandler = function(e1) {
            let t = l.indexOf(e1);
            return -1 !== t && l.splice(t, 2), this;
        }, this.getHandler = function(e1) {
            for(let t = 0, n = l.length; t < n; t += 2){
                let n = l[t], i = l[t + 1];
                if (n.global && (n.lastIndex = 0), n.test(e1)) return i;
            }
            return null;
        };
    }
};
(0, _chunkZRT45YCMJs.a)(Wc, "LoadingManager");
var Ka = Wc, B0 = new Ka, Xc = class {
    constructor(e1){
        this.manager = void 0 !== e1 ? e1 : B0, this.crossOrigin = "anonymous", this.withCredentials = !1, this.path = "", this.resourcePath = "", this.requestHeader = {};
    }
    load() {}
    loadAsync(e1, t) {
        let n = this;
        return new Promise(function(i, r) {
            n.load(e1, i, t, r);
        });
    }
    parse() {}
    setCrossOrigin(e1) {
        return this.crossOrigin = e1, this;
    }
    setWithCredentials(e1) {
        return this.withCredentials = e1, this;
    }
    setPath(e1) {
        return this.path = e1, this;
    }
    setResourcePath(e1) {
        return this.resourcePath = e1, this;
    }
    setRequestHeader(e1) {
        return this.requestHeader = e1, this;
    }
};
(0, _chunkZRT45YCMJs.a)(Xc, "Loader");
var Qi = Xc;
Qi.DEFAULT_MATERIAL_NAME = "__DEFAULT";
var qc = class extends Qi {
    constructor(e1){
        super(e1);
    }
    load(e1, t, n, i) {
        void 0 !== this.path && (e1 = this.path + e1), e1 = this.manager.resolveURL(e1);
        let r = this, a = ou.get(e1);
        if (void 0 !== a) return r.manager.itemStart(e1), setTimeout(function() {
            t && t(a), r.manager.itemEnd(e1);
        }, 0), a;
        let s = ki("img");
        function o() {
            h(), ou.add(e1, this), t && t(this), r.manager.itemEnd(e1);
        }
        function l(t) {
            h(), i && i(t), r.manager.itemError(e1), r.manager.itemEnd(e1);
        }
        function h() {
            s.removeEventListener("load", o, !1), s.removeEventListener("error", l, !1);
        }
        return (0, _chunkZRT45YCMJs.a)(o, "onImageLoad"), (0, _chunkZRT45YCMJs.a)(l, "onImageError"), (0, _chunkZRT45YCMJs.a)(h, "removeEventListeners"), s.addEventListener("load", o, !1), s.addEventListener("error", l, !1), "data:" !== e1.slice(0, 5) && void 0 !== this.crossOrigin && (s.crossOrigin = this.crossOrigin), r.manager.itemStart(e1), s.src = e1, s;
    }
};
(0, _chunkZRT45YCMJs.a)(qc, "ImageLoader");
var Qa = qc, Yc = class extends Qi {
    constructor(e1){
        super(e1);
    }
    load(e1, t, n, i) {
        let r = new xe, a = new Qa(this.manager);
        return a.setCrossOrigin(this.crossOrigin), a.setPath(this.path), a.load(e1, function(e1) {
            r.image = e1, r.needsUpdate = !0, void 0 !== t && t(r);
        }, n, i), r;
    }
};
(0, _chunkZRT45YCMJs.a)(Yc, "TextureLoader");
var cu = Yc, Zc = class extends be {
    constructor(e1, t = 1){
        super(), this.isLight = !0, this.type = "Light", this.color = new Ht(e1), this.intensity = t;
    }
    dispose() {}
    copy(e1, t) {
        return super.copy(e1, t), this.color.copy(e1.color), this.intensity = e1.intensity, this;
    }
    toJSON(e1) {
        let t = super.toJSON(e1);
        return t.object.color = this.color.getHex(), t.object.intensity = this.intensity, void 0 !== this.groundColor && (t.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (t.object.distance = this.distance), void 0 !== this.angle && (t.object.angle = this.angle), void 0 !== this.decay && (t.object.decay = this.decay), void 0 !== this.penumbra && (t.object.penumbra = this.penumbra), void 0 !== this.shadow && (t.object.shadow = this.shadow.toJSON()), t;
    }
};
(0, _chunkZRT45YCMJs.a)(Zc, "Light");
var ji = Zc, la = new ee, lu = new P, hu = new P, Jc = class {
    constructor(e1){
        this.camera = e1, this.bias = 0, this.normalBias = 0, this.radius = 1, this.blurSamples = 8, this.mapSize = new ht(512, 512), this.map = null, this.mapPass = null, this.matrix = new ee, this.autoUpdate = !0, this.needsUpdate = !1, this._frustum = new Wi, this._frameExtents = new ht(1, 1), this._viewportCount = 1, this._viewports = [
            new te(0, 0, 1, 1)
        ];
    }
    getViewportCount() {
        return this._viewportCount;
    }
    getFrustum() {
        return this._frustum;
    }
    updateMatrices(e1) {
        let t = this.camera, n = this.matrix;
        lu.setFromMatrixPosition(e1.matrixWorld), t.position.copy(lu), hu.setFromMatrixPosition(e1.target.matrixWorld), t.lookAt(hu), t.updateMatrixWorld(), la.multiplyMatrices(t.projectionMatrix, t.matrixWorldInverse), this._frustum.setFromProjectionMatrix(la), n.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), n.multiply(la);
    }
    getViewport(e1) {
        return this._viewports[e1];
    }
    getFrameExtents() {
        return this._frameExtents;
    }
    dispose() {
        this.map && this.map.dispose(), this.mapPass && this.mapPass.dispose();
    }
    copy(e1) {
        return this.camera = e1.camera.clone(), this.bias = e1.bias, this.radius = e1.radius, this.mapSize.copy(e1.mapSize), this;
    }
    clone() {
        return (new this.constructor).copy(this);
    }
    toJSON() {
        let e1 = {};
        return 0 !== this.bias && (e1.bias = this.bias), 0 !== this.normalBias && (e1.normalBias = this.normalBias), 1 !== this.radius && (e1.radius = this.radius), (512 !== this.mapSize.x || 512 !== this.mapSize.y) && (e1.mapSize = this.mapSize.toArray()), e1.camera = this.camera.toJSON(!1).object, delete e1.camera.matrix, e1;
    }
};
(0, _chunkZRT45YCMJs.a)(Jc, "LightShadow");
var rr = Jc, uu = new ee, Li = new P, ha = new P, $c = class extends rr {
    constructor(){
        super(new Ae(90, 1, .5, 500)), this.isPointLightShadow = !0, this._frameExtents = new ht(4, 2), this._viewportCount = 6, this._viewports = [
            new te(2, 1, 1, 1),
            new te(0, 1, 1, 1),
            new te(3, 1, 1, 1),
            new te(1, 1, 1, 1),
            new te(3, 0, 1, 1),
            new te(1, 0, 1, 1)
        ], this._cubeDirections = [
            new P(1, 0, 0),
            new P(-1, 0, 0),
            new P(0, 0, 1),
            new P(0, 0, -1),
            new P(0, 1, 0),
            new P(0, -1, 0)
        ], this._cubeUps = [
            new P(0, 1, 0),
            new P(0, 1, 0),
            new P(0, 1, 0),
            new P(0, 1, 0),
            new P(0, 0, 1),
            new P(0, 0, -1)
        ];
    }
    updateMatrices(e1, t = 0) {
        let n = this.camera, i = this.matrix, r = e1.distance || n.far;
        r !== n.far && (n.far = r, n.updateProjectionMatrix()), Li.setFromMatrixPosition(e1.matrixWorld), n.position.copy(Li), ha.copy(n.position), ha.add(this._cubeDirections[t]), n.up.copy(this._cubeUps[t]), n.lookAt(ha), n.updateMatrixWorld(), i.makeTranslation(-Li.x, -Li.y, -Li.z), uu.multiplyMatrices(n.projectionMatrix, n.matrixWorldInverse), this._frustum.setFromProjectionMatrix(uu);
    }
};
(0, _chunkZRT45YCMJs.a)($c, "PointLightShadow");
var ja = $c, Kc = class extends ji {
    constructor(e1, t, n = 0, i = 2){
        super(e1, t), this.isPointLight = !0, this.type = "PointLight", this.distance = n, this.decay = i, this.shadow = new ja;
    }
    get power() {
        return 4 * this.intensity * Math.PI;
    }
    set power(e1) {
        this.intensity = e1 / (4 * Math.PI);
    }
    dispose() {
        this.shadow.dispose();
    }
    copy(e1, t) {
        return super.copy(e1, t), this.distance = e1.distance, this.decay = e1.decay, this.shadow = e1.shadow.clone(), this;
    }
};
(0, _chunkZRT45YCMJs.a)(Kc, "PointLight");
var du = Kc, Qc = class extends rr {
    constructor(){
        super(new Js(-5, 5, 5, -5, .5, 500)), this.isDirectionalLightShadow = !0;
    }
};
(0, _chunkZRT45YCMJs.a)(Qc, "DirectionalLightShadow");
var to = Qc, jc = class extends ji {
    constructor(e1, t){
        super(e1, t), this.isDirectionalLight = !0, this.type = "DirectionalLight", this.position.copy(be.DEFAULT_UP), this.updateMatrix(), this.target = new be, this.shadow = new to;
    }
    dispose() {
        this.shadow.dispose();
    }
    copy(e1) {
        return super.copy(e1), this.target = e1.target.clone(), this.shadow = e1.shadow.clone(), this;
    }
};
(0, _chunkZRT45YCMJs.a)(jc, "DirectionalLight");
var fu = jc, tl = class extends ji {
    constructor(e1, t){
        super(e1, t), this.isAmbientLight = !0, this.type = "AmbientLight";
    }
};
(0, _chunkZRT45YCMJs.a)(tl, "AmbientLight");
var pu = tl, el = class extends Ee {
    constructor(){
        super(), this.isInstancedBufferGeometry = !0, this.type = "InstancedBufferGeometry", this.instanceCount = 1 / 0;
    }
    copy(e1) {
        return super.copy(e1), this.instanceCount = e1.instanceCount, this;
    }
    toJSON() {
        let e1 = super.toJSON();
        return e1.instanceCount = this.instanceCount, e1.isInstancedBufferGeometry = !0, e1;
    }
};
(0, _chunkZRT45YCMJs.a)(el, "InstancedBufferGeometry");
var mu = el, nl = class {
    constructor(e1 = !0){
        this.autoStart = e1, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1;
    }
    start() {
        this.startTime = _u(), this.oldTime = this.startTime, this.elapsedTime = 0, this.running = !0;
    }
    stop() {
        this.getElapsedTime(), this.running = !1, this.autoStart = !1;
    }
    getElapsedTime() {
        return this.getDelta(), this.elapsedTime;
    }
    getDelta() {
        let e1 = 0;
        if (this.autoStart && !this.running) return this.start(), 0;
        if (this.running) {
            let t = _u();
            e1 = (t - this.oldTime) / 1e3, this.oldTime = t, this.elapsedTime += e1;
        }
        return e1;
    }
};
(0, _chunkZRT45YCMJs.a)(nl, "Clock");
var gu = nl;
function _u() {
    return (typeof performance > "u" ? Date : performance).now();
}
(0, _chunkZRT45YCMJs.a)(_u, "now");
var uo = "\\[\\]\\.:\\/", z0 = new RegExp("[" + uo + "]", "g"), fo = "[^" + uo + "]", k0 = "[^" + uo.replace("\\.", "") + "]", V0 = /((?:WC+[\/:])*)/.source.replace("WC", fo), H0 = /(WCOD+)?/.source.replace("WCOD", k0), G0 = /(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC", fo), W0 = /\.(WC+)(?:\[(.+)\])?/.source.replace("WC", fo), X0 = new RegExp("^" + V0 + H0 + G0 + W0 + "$"), q0 = [
    "material",
    "materials",
    "bones",
    "map"
], il = class {
    constructor(e1, t, n){
        let i = n || jt.parseTrackName(t);
        this._targetGroup = e1, this._bindings = e1.subscribe_(t, i);
    }
    getValue(e1, t) {
        this.bind();
        let n = this._targetGroup.nCachedObjects_, i = this._bindings[n];
        void 0 !== i && i.getValue(e1, t);
    }
    setValue(e1, t) {
        let n = this._bindings;
        for(let i = this._targetGroup.nCachedObjects_, r = n.length; i !== r; ++i)n[i].setValue(e1, t);
    }
    bind() {
        let e1 = this._bindings;
        for(let t = this._targetGroup.nCachedObjects_, n = e1.length; t !== n; ++t)e1[t].bind();
    }
    unbind() {
        let e1 = this._bindings;
        for(let t = this._targetGroup.nCachedObjects_, n = e1.length; t !== n; ++t)e1[t].unbind();
    }
};
(0, _chunkZRT45YCMJs.a)(il, "Composite");
var eo = il, pn = class e1 {
    constructor(t, n, i){
        this.path = n, this.parsedPath = i || e1.parseTrackName(n), this.node = e1.findNode(t, this.parsedPath.nodeName), this.rootNode = t, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
    }
    static create(t, n, i) {
        return t && t.isAnimationObjectGroup ? new e1.Composite(t, n, i) : new e1(t, n, i);
    }
    static sanitizeNodeName(e1) {
        return e1.replace(/\s/g, "_").replace(z0, "");
    }
    static parseTrackName(e1) {
        let t = X0.exec(e1);
        if (null === t) throw new Error("PropertyBinding: Cannot parse trackName: " + e1);
        let n = {
            nodeName: t[2],
            objectName: t[3],
            objectIndex: t[4],
            propertyName: t[5],
            propertyIndex: t[6]
        }, i = n.nodeName && n.nodeName.lastIndexOf(".");
        if (void 0 !== i && -1 !== i) {
            let e1 = n.nodeName.substring(i + 1);
            -1 !== q0.indexOf(e1) && (n.nodeName = n.nodeName.substring(0, i), n.objectName = e1);
        }
        if (null === n.propertyName || 0 === n.propertyName.length) throw new Error("PropertyBinding: can not parse propertyName from trackName: " + e1);
        return n;
    }
    static findNode(e1, t) {
        if (void 0 === t || "" === t || "." === t || -1 === t || t === e1.name || t === e1.uuid) return e1;
        if (e1.skeleton) {
            let n = e1.skeleton.getBoneByName(t);
            if (void 0 !== n) return n;
        }
        if (e1.children) {
            let n = (0, _chunkZRT45YCMJs.a)(function(e1) {
                for(let i = 0; i < e1.length; i++){
                    let r = e1[i];
                    if (r.name === t || r.uuid === t) return r;
                    let a = n(r.children);
                    if (a) return a;
                }
                return null;
            }, "searchNodeSubtree"), i = n(e1.children);
            if (i) return i;
        }
        return null;
    }
    _getValue_unavailable() {}
    _setValue_unavailable() {}
    _getValue_direct(e1, t) {
        e1[t] = this.targetObject[this.propertyName];
    }
    _getValue_array(e1, t) {
        let n = this.resolvedProperty;
        for(let i = 0, r = n.length; i !== r; ++i)e1[t++] = n[i];
    }
    _getValue_arrayElement(e1, t) {
        e1[t] = this.resolvedProperty[this.propertyIndex];
    }
    _getValue_toArray(e1, t) {
        this.resolvedProperty.toArray(e1, t);
    }
    _setValue_direct(e1, t) {
        this.targetObject[this.propertyName] = e1[t];
    }
    _setValue_direct_setNeedsUpdate(e1, t) {
        this.targetObject[this.propertyName] = e1[t], this.targetObject.needsUpdate = !0;
    }
    _setValue_direct_setMatrixWorldNeedsUpdate(e1, t) {
        this.targetObject[this.propertyName] = e1[t], this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    _setValue_array(e1, t) {
        let n = this.resolvedProperty;
        for(let i = 0, r = n.length; i !== r; ++i)n[i] = e1[t++];
    }
    _setValue_array_setNeedsUpdate(e1, t) {
        let n = this.resolvedProperty;
        for(let i = 0, r = n.length; i !== r; ++i)n[i] = e1[t++];
        this.targetObject.needsUpdate = !0;
    }
    _setValue_array_setMatrixWorldNeedsUpdate(e1, t) {
        let n = this.resolvedProperty;
        for(let i = 0, r = n.length; i !== r; ++i)n[i] = e1[t++];
        this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    _setValue_arrayElement(e1, t) {
        this.resolvedProperty[this.propertyIndex] = e1[t];
    }
    _setValue_arrayElement_setNeedsUpdate(e1, t) {
        this.resolvedProperty[this.propertyIndex] = e1[t], this.targetObject.needsUpdate = !0;
    }
    _setValue_arrayElement_setMatrixWorldNeedsUpdate(e1, t) {
        this.resolvedProperty[this.propertyIndex] = e1[t], this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    _setValue_fromArray(e1, t) {
        this.resolvedProperty.fromArray(e1, t);
    }
    _setValue_fromArray_setNeedsUpdate(e1, t) {
        this.resolvedProperty.fromArray(e1, t), this.targetObject.needsUpdate = !0;
    }
    _setValue_fromArray_setMatrixWorldNeedsUpdate(e1, t) {
        this.resolvedProperty.fromArray(e1, t), this.targetObject.matrixWorldNeedsUpdate = !0;
    }
    _getValue_unbound(e1, t) {
        this.bind(), this.getValue(e1, t);
    }
    _setValue_unbound(e1, t) {
        this.bind(), this.setValue(e1, t);
    }
    bind() {
        let t = this.node, n = this.parsedPath, i = n.objectName, r = n.propertyName, a = n.propertyIndex;
        if (t || (t = e1.findNode(this.rootNode, n.nodeName), this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, !t) return void console.warn("THREE.PropertyBinding: No target node found for track: " + this.path + ".");
        if (i) {
            let e1 = n.objectIndex;
            switch(i){
                case "materials":
                    if (!t.material) return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                    if (!t.material.materials) return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.", this);
                    t = t.material.materials;
                    break;
                case "bones":
                    if (!t.skeleton) return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.", this);
                    t = t.skeleton.bones;
                    for(let n = 0; n < t.length; n++)if (t[n].name === e1) {
                        e1 = n;
                        break;
                    }
                    break;
                case "map":
                    if ("map" in t) {
                        t = t.map;
                        break;
                    }
                    if (!t.material) return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.", this);
                    if (!t.material.map) return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.", this);
                    t = t.material.map;
                    break;
                default:
                    if (void 0 === t[i]) return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.", this);
                    t = t[i];
            }
            if (void 0 !== e1) {
                if (void 0 === t[e1]) return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.", this, t);
                t = t[e1];
            }
        }
        let s = t[r];
        if (void 0 === s) {
            let e1 = n.nodeName;
            return void console.error("THREE.PropertyBinding: Trying to update property for track: " + e1 + "." + r + " but it wasn't found.", t);
        }
        let o = this.Versioning.None;
        this.targetObject = t, void 0 !== t.needsUpdate ? o = this.Versioning.NeedsUpdate : void 0 !== t.matrixWorldNeedsUpdate && (o = this.Versioning.MatrixWorldNeedsUpdate);
        let l = this.BindingType.Direct;
        if (void 0 !== a) {
            if ("morphTargetInfluences" === r) {
                if (!t.geometry) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.", this);
                if (!t.geometry.morphAttributes) return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.", this);
                void 0 !== t.morphTargetDictionary[a] && (a = t.morphTargetDictionary[a]);
            }
            l = this.BindingType.ArrayElement, this.resolvedProperty = s, this.propertyIndex = a;
        } else void 0 !== s.fromArray && void 0 !== s.toArray ? (l = this.BindingType.HasFromToArray, this.resolvedProperty = s) : Array.isArray(s) ? (l = this.BindingType.EntireArray, this.resolvedProperty = s) : this.propertyName = r;
        this.getValue = this.GetterByBindingType[l], this.setValue = this.SetterByBindingTypeAndVersioning[l][o];
    }
    unbind() {
        this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound;
    }
};
(0, _chunkZRT45YCMJs.a)(pn, "PropertyBinding");
var jt = pn;
jt.Composite = eo, jt.prototype.BindingType = {
    Direct: 0,
    EntireArray: 1,
    ArrayElement: 2,
    HasFromToArray: 3
}, jt.prototype.Versioning = {
    None: 0,
    NeedsUpdate: 1,
    MatrixWorldNeedsUpdate: 2
}, jt.prototype.GetterByBindingType = [
    jt.prototype._getValue_direct,
    jt.prototype._getValue_array,
    jt.prototype._getValue_arrayElement,
    jt.prototype._getValue_toArray
], jt.prototype.SetterByBindingTypeAndVersioning = [
    [
        jt.prototype._setValue_direct,
        jt.prototype._setValue_direct_setNeedsUpdate,
        jt.prototype._setValue_direct_setMatrixWorldNeedsUpdate
    ],
    [
        jt.prototype._setValue_array,
        jt.prototype._setValue_array_setNeedsUpdate,
        jt.prototype._setValue_array_setMatrixWorldNeedsUpdate
    ],
    [
        jt.prototype._setValue_arrayElement,
        jt.prototype._setValue_arrayElement_setNeedsUpdate,
        jt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate
    ],
    [
        jt.prototype._setValue_fromArray,
        jt.prototype._setValue_fromArray_setNeedsUpdate,
        jt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate
    ]
];
var Q0 = new Float32Array(1), xr = class e1 {
    constructor(e1){
        this.value = e1;
    }
    clone() {
        return new e1(void 0 === this.value.clone ? this.value : this.value.clone());
    }
};
(0, _chunkZRT45YCMJs.a)(xr, "Uniform");
var xu = xr, vu = new ee, sl = class {
    constructor(e1, t, n = 0, i = 1 / 0){
        this.ray = new Vi(e1, t), this.near = n, this.far = i, this.camera = null, this.layers = new Hi, this.params = {
            Mesh: {},
            Line: {
                threshold: 1
            },
            LOD: {},
            Points: {
                threshold: 1
            },
            Sprite: {}
        };
    }
    set(e1, t) {
        this.ray.set(e1, t);
    }
    setFromCamera(e1, t) {
        t.isPerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(t.matrixWorld), this.ray.direction.set(e1.x, e1.y, .5).unproject(t).sub(this.ray.origin).normalize(), this.camera = t) : t.isOrthographicCamera ? (this.ray.origin.set(e1.x, e1.y, (t.near + t.far) / (t.near - t.far)).unproject(t), this.ray.direction.set(0, 0, -1).transformDirection(t.matrixWorld), this.camera = t) : console.error("THREE.Raycaster: Unsupported camera type: " + t.type);
    }
    setFromXRController(e1) {
        return vu.identity().extractRotation(e1.matrixWorld), this.ray.origin.setFromMatrixPosition(e1.matrixWorld), this.ray.direction.set(0, 0, -1).applyMatrix4(vu), this;
    }
    intersectObject(e1, t = !0, n = []) {
        return no(e1, this, n, t), n.sort(Mu), n;
    }
    intersectObjects(e1, t = !0, n = []) {
        for(let i = 0, r = e1.length; i < r; i++)no(e1[i], this, n, t);
        return n.sort(Mu), n;
    }
};
(0, _chunkZRT45YCMJs.a)(sl, "Raycaster");
var yu = sl;
function Mu(e1, t) {
    return e1.distance - t.distance;
}
function no(e1, t, n, i) {
    if (e1.layers.test(t.layers) && e1.raycast(t, n), !0 === i) {
        let i = e1.children;
        for(let e1 = 0, r = i.length; e1 < r; e1++)no(i[e1], t, n, !0);
    }
}
(0, _chunkZRT45YCMJs.a)(Mu, "ascSort"), (0, _chunkZRT45YCMJs.a)(no, "intersect");
var rl = class extends Qs {
    constructor(e1 = 10, t = 10, n = 4473924, i = 8947848){
        n = new Ht(n), i = new Ht(i);
        let r = t / 2, a = e1 / t, s = e1 / 2, o = [], l = [];
        for(let e1 = 0, u = 0, h = -s; e1 <= t; e1++, h += a){
            o.push(-s, 0, h, s, 0, h), o.push(h, 0, -s, h, 0, s);
            let t = e1 === r ? n : i;
            t.toArray(l, u), u += 3, t.toArray(l, u), u += 3, t.toArray(l, u), u += 3, t.toArray(l, u), u += 3;
        }
        let u = new Ee;
        u.setAttribute("position", new se(o, 3)), u.setAttribute("color", new se(l, 3)), super(u, new Xi({
            vertexColors: !0,
            toneMapped: !1
        })), this.type = "GridHelper";
    }
    dispose() {
        this.geometry.dispose(), this.material.dispose();
    }
};
(0, _chunkZRT45YCMJs.a)(rl, "GridHelper");
var Su = rl, Is = new bn, al = class extends Qs {
    constructor(e1, t = 16776960){
        let n = new Uint16Array([
            0,
            1,
            1,
            2,
            2,
            3,
            3,
            0,
            4,
            5,
            5,
            6,
            6,
            7,
            7,
            4,
            0,
            4,
            1,
            5,
            2,
            6,
            3,
            7
        ]), i = new Float32Array(24), r = new Ee;
        r.setIndex(new Se(n, 1)), r.setAttribute("position", new Se(i, 3)), super(r, new Xi({
            color: t,
            toneMapped: !1
        })), this.object = e1, this.type = "BoxHelper", this.matrixAutoUpdate = !1, this.update();
    }
    update(e1) {
        if (void 0 !== e1 && console.warn("THREE.BoxHelper: .update() has no longer arguments."), void 0 !== this.object && Is.setFromObject(this.object), Is.isEmpty()) return;
        let t = Is.min, n = Is.max, i = this.geometry.attributes.position, r = i.array;
        r[0] = n.x, r[1] = n.y, r[2] = n.z, r[3] = t.x, r[4] = n.y, r[5] = n.z, r[6] = t.x, r[7] = t.y, r[8] = n.z, r[9] = n.x, r[10] = t.y, r[11] = n.z, r[12] = n.x, r[13] = n.y, r[14] = t.z, r[15] = t.x, r[16] = n.y, r[17] = t.z, r[18] = t.x, r[19] = t.y, r[20] = t.z, r[21] = n.x, r[22] = t.y, r[23] = t.z, i.needsUpdate = !0, this.geometry.computeBoundingSphere();
    }
    setFromObject(e1) {
        return this.object = e1, this.update(), this;
    }
    copy(e1, t) {
        return super.copy(e1, t), this.object = e1.object, this;
    }
    dispose() {
        this.geometry.dispose(), this.material.dispose();
    }
};
(0, _chunkZRT45YCMJs.a)(al, "BoxHelper");
var bu = al, ol = class {
    constructor(){
        this.type = "ShapePath", this.color = new Ht, this.subPaths = [], this.currentPath = null;
    }
    moveTo(e1, t) {
        return this.currentPath = new Yi, this.subPaths.push(this.currentPath), this.currentPath.moveTo(e1, t), this;
    }
    lineTo(e1, t) {
        return this.currentPath.lineTo(e1, t), this;
    }
    quadraticCurveTo(e1, t, n, i) {
        return this.currentPath.quadraticCurveTo(e1, t, n, i), this;
    }
    bezierCurveTo(e1, t, n, i, r, a) {
        return this.currentPath.bezierCurveTo(e1, t, n, i, r, a), this;
    }
    splineThru(e1) {
        return this.currentPath.splineThru(e1), this;
    }
    toShapes(e1) {
        function t(e1) {
            let t = [];
            for(let n = 0, i = e1.length; n < i; n++){
                let i = e1[n], r = new _i;
                r.curves = i.curves, t.push(r);
            }
            return t;
        }
        function n(e1, t) {
            let n = t.length, i = !1;
            for(let r = n - 1, a = 0; a < n; r = a++){
                let n = t[r], s = t[a], o = s.x - n.x, l = s.y - n.y;
                if (Math.abs(l) > Number.EPSILON) {
                    if (l < 0 && (n = t[a], o = -o, s = t[r], l = -l), e1.y < n.y || e1.y > s.y) continue;
                    if (e1.y === n.y) {
                        if (e1.x === n.x) return !0;
                    } else {
                        let t = l * (e1.x - n.x) - o * (e1.y - n.y);
                        if (0 === t) return !0;
                        if (t < 0) continue;
                        i = !i;
                    }
                } else {
                    if (e1.y !== n.y) continue;
                    if (s.x <= e1.x && e1.x <= n.x || n.x <= e1.x && e1.x <= s.x) return !0;
                }
            }
            return i;
        }
        (0, _chunkZRT45YCMJs.a)(t, "toShapesNoHoles"), (0, _chunkZRT45YCMJs.a)(n, "isPointInsidePolygon");
        let i = xi.isClockWise, r = this.subPaths;
        if (0 === r.length) return [];
        let a, s, o, l = [];
        if (1 === r.length) return s = r[0], o = new _i, o.curves = s.curves, l.push(o), l;
        let h = !i(r[0].getPoints());
        h = e1 ? !h : h;
        let c, d, p = [], f = [], m = [], g = 0;
        f[g] = void 0, m[g] = [];
        for(let t = 0, n = r.length; t < n; t++)s = r[t], c = s.getPoints(), a = i(c), a = e1 ? !a : a, a ? (!h && f[g] && g++, f[g] = {
            s: new _i,
            p: c
        }, f[g].s.curves = s.curves, h && g++, m[g] = []) : m[g].push({
            h: s,
            p: c[0]
        });
        if (!f[0]) return t(r);
        if (f.length > 1) {
            let e1 = !1, t = 0;
            for(let e1 = 0, t = f.length; e1 < t; e1++)p[e1] = [];
            for(let i = 0, r = f.length; i < r; i++){
                let r = m[i];
                for(let a = 0; a < r.length; a++){
                    let s = r[a], o = !0;
                    for(let r = 0; r < f.length; r++)n(s.p, f[r].p) && (i !== r && t++, o ? (o = !1, p[r].push(s)) : e1 = !0);
                    o && p[i].push(s);
                }
            }
            t > 0 && !1 === e1 && (m = p);
        }
        for(let e1 = 0, t = f.length; e1 < t; e1++){
            o = f[e1].s, l.push(o), d = m[e1];
            for(let e1 = 0, t = d.length; e1 < t; e1++)o.holes.push(d[e1].h);
        }
        return l;
    }
};
(0, _chunkZRT45YCMJs.a)(ol, "ShapePath");
var Eu = ol, cl = class extends Ye {
    constructor(e1 = 1, t = 1, n = 1, i = {}){
        console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'), super(e1, t, {
            ...i,
            count: n
        }), this.isWebGLMultipleRenderTargets = !0;
    }
    get texture() {
        return this.textures;
    }
};
(0, _chunkZRT45YCMJs.a)(cl, "WebGLMultipleRenderTargets");
var wu = cl;
typeof __THREE_DEVTOOLS__ < "u" && __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register", {
    detail: {
        revision: io
    }
})), typeof window < "u" && (window.__THREE__ ? console.warn("WARNING: Multiple instances of Three.js being imported.") : window.__THREE__ = io);

},{"./chunk-A5C75TI6.js":"1qWho","./chunk-ZRT45YCM.js":"cpJAp","@parcel/transformer-js/src/esmodule-helpers.js":"gkKU3"}],"1qWho":[function(require,module,exports) {
var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
parcelHelpers.defineInteropFlag(exports);
parcelHelpers.export(exports, "a", ()=>c);
parcelHelpers.export(exports, "b", ()=>e);
var _chunkZRT45YCMJs = require("./chunk-ZRT45YCM.js");
var e, c = (0, _chunkZRT45YCMJs.b)(()=>{
    e = {
        env: {
            NODE_ENV: "production",
            npm_package_version: "5.39.3"
        }
    };
});

},{"./chunk-ZRT45YCM.js":"cpJAp","@parcel/transformer-js/src/esmodule-helpers.js":"gkKU3"}],"cpJAp":[function(require,module,exports) {
var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
parcelHelpers.defineInteropFlag(exports);
parcelHelpers.export(exports, "a", ()=>q);
parcelHelpers.export(exports, "b", ()=>r);
parcelHelpers.export(exports, "c", ()=>s);
parcelHelpers.export(exports, "d", ()=>t);
parcelHelpers.export(exports, "e", ()=>u);
parcelHelpers.export(exports, "f", ()=>v);
parcelHelpers.export(exports, "g", ()=>o);
parcelHelpers.export(exports, "h", ()=>w);
parcelHelpers.export(exports, "i", ()=>p);
parcelHelpers.export(exports, "j", ()=>x);
parcelHelpers.export(exports, "k", ()=>y);
var h = Object.create, f = Object.defineProperty, i = Object.getOwnPropertyDescriptor, j = Object.getOwnPropertyNames, k = Object.getPrototypeOf, l = Object.prototype.hasOwnProperty, m = (e, t, r)=>t in e ? f(e, t, {
        enumerable: !0,
        configurable: !0,
        writable: !0,
        value: r
    }) : e[t] = r, q = (e, t)=>f(e, "name", {
        value: t,
        configurable: !0
    }), r = (e, t)=>()=>(e && (t = e(e = 0)), t), s = (e, t)=>()=>(t || e((t = {
            exports: {}
        }).exports, t), t.exports), t = (e, t)=>{
    for(var r in t)f(e, r, {
        get: t[r],
        enumerable: !0
    });
}, n = (e, t, r, a1)=>{
    if (t && "object" == typeof t || "function" == typeof t) for (let o of j(t))!l.call(e, o) && o !== r && f(e, o, {
        get: ()=>t[o],
        enumerable: !(a1 = i(t, o)) || a1.enumerable
    });
    return e;
}, u = (e, t, r)=>(r = null != e ? h(k(e)) : {}, n(!t && e && e.__esModule ? r : f(r, "default", {
        value: e,
        enumerable: !0
    }), e)), v = (e, t, r)=>(m(e, "symbol" != typeof t ? t + "" : t, r), r), g = (e, t, r)=>{
    if (!t.has(e)) throw TypeError("Cannot " + r);
}, o = (e, t, r)=>(g(e, t, "read from private field"), r ? r.call(e) : t.get(e)), w = (e, t, r)=>{
    if (t.has(e)) throw TypeError("Cannot add the same private member more than once");
    t instanceof WeakSet ? t.add(e) : t.set(e, r);
}, p = (e, t, r, a1)=>(g(e, t, "write to private field"), a1 ? a1.call(e, r) : t.set(e, r), r), x = (e, t, r, a1)=>({
        set _ (a){
            p(e, t, a, r);
        },
        get _ () {
            return o(e, t, a1);
        }
    }), y = (e, t, r)=>(g(e, t, "access private method"), r);

},{"@parcel/transformer-js/src/esmodule-helpers.js":"gkKU3"}],"gkKU3":[function(require,module,exports) {
exports.interopDefault = function(a) {
    return a && a.__esModule ? a : {
        default: a
    };
};
exports.defineInteropFlag = function(a) {
    Object.defineProperty(a, "__esModule", {
        value: true
    });
};
exports.exportAll = function(source, dest) {
    Object.keys(source).forEach(function(key) {
        if (key === "default" || key === "__esModule" || Object.prototype.hasOwnProperty.call(dest, key)) return;
        Object.defineProperty(dest, key, {
            enumerable: true,
            get: function() {
                return source[key];
            }
        });
    });
    return dest;
};
exports.export = function(dest, destName, get) {
    Object.defineProperty(dest, destName, {
        enumerable: true,
        get: get
    });
};

},{}],"2mYir":[function(require,module,exports) {
module.exports = require("1b210f66dcac8eea")(require("331c249de4974bf7").getBundleURL("7UhFu") + "browser-FRW3YVQB.7ee31d81.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("CeDaz"));

},{"1b210f66dcac8eea":"61B45","331c249de4974bf7":"lgJ39"}],"61B45":[function(require,module,exports) {
"use strict";
var cacheLoader = require("ca2a84f7fa4a3bb0");
module.exports = cacheLoader(function(bundle) {
    return new Promise(function(resolve, reject) {
        // Don't insert the same script twice (e.g. if it was already in the HTML)
        var existingScripts = document.getElementsByTagName("script");
        if ([].concat(existingScripts).some(function isCurrentBundle(script) {
            return script.src === bundle;
        })) {
            resolve();
            return;
        }
        var preloadLink = document.createElement("link");
        preloadLink.href = bundle;
        preloadLink.rel = "preload";
        preloadLink.as = "script";
        document.head.appendChild(preloadLink);
        var script = document.createElement("script");
        script.async = true;
        script.type = "text/javascript";
        script.src = bundle;
        script.onerror = function(e) {
            var error = new TypeError("Failed to fetch dynamically imported module: ".concat(bundle, ". Error: ").concat(e.message));
            script.onerror = script.onload = null;
            script.remove();
            reject(error);
        };
        script.onload = function() {
            script.onerror = script.onload = null;
            resolve();
        };
        document.getElementsByTagName("head")[0].appendChild(script);
    });
});

},{"ca2a84f7fa4a3bb0":"j49pS"}],"j49pS":[function(require,module,exports) {
"use strict";
var cachedBundles = {};
var cachedPreloads = {};
var cachedPrefetches = {};
function getCache(type) {
    switch(type){
        case "preload":
            return cachedPreloads;
        case "prefetch":
            return cachedPrefetches;
        default:
            return cachedBundles;
    }
}
module.exports = function(loader, type) {
    return function(bundle) {
        var cache = getCache(type);
        if (cache[bundle]) return cache[bundle];
        return cache[bundle] = loader.apply(null, arguments).catch(function(e) {
            delete cache[bundle];
            throw e;
        });
    };
};

},{}],"lgJ39":[function(require,module,exports) {
"use strict";
var bundleURL = {};
function getBundleURLCached(id) {
    var value = bundleURL[id];
    if (!value) {
        value = getBundleURL();
        bundleURL[id] = value;
    }
    return value;
}
function getBundleURL() {
    try {
        throw new Error();
    } catch (err) {
        var matches = ("" + err.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);
        if (matches) // The first two stack frames will be this function and getBundleURLCached.
        // Use the 3rd one, which will be a runtime in the original bundle.
        return getBaseURL(matches[2]);
    }
    return "/";
}
function getBaseURL(url) {
    return ("" + url).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/, "$1") + "/";
}
// TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.
function getOrigin(url) {
    var matches = ("" + url).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^/]+/);
    if (!matches) throw new Error("Origin not found");
    return matches[0];
}
exports.getBundleURL = getBundleURLCached;
exports.getBaseURL = getBaseURL;
exports.getOrigin = getOrigin;

},{}],"40Qz9":[function(require,module,exports) {
module.exports = require("7b0b152a59823d60")(require("91a306daf4c78729").getBundleURL("7UhFu") + "Arrival-KLIH5LTH.1df2e5a6.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("gxA5t"));

},{"7b0b152a59823d60":"61B45","91a306daf4c78729":"lgJ39"}],"hsbVk":[function(require,module,exports) {
module.exports = require("56b8382474a8b9a9")(require("987c8c67d6d2a34b").getBundleURL("7UhFu") + "Chalet-ZU2FPU2K.3db3c93b.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("51GIV"));

},{"56b8382474a8b9a9":"61B45","987c8c67d6d2a34b":"lgJ39"}],"2AQes":[function(require,module,exports) {
module.exports = require("ffaa6f20759dfcbd")(require("38dd0ad1b6462d3").getBundleURL("7UhFu") + "HelveticaNeue-PHK3JE5I.dabcafda.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("h6uih"));

},{"ffaa6f20759dfcbd":"61B45","38dd0ad1b6462d3":"lgJ39"}],"iyPTa":[function(require,module,exports) {
module.exports = require("84d83c3a8b5d12d5")(require("66e6ad8b1b68034b").getBundleURL("7UhFu") + "Helvetiker-JVUX4WK7.f2c77f71.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("5acVf"));

},{"84d83c3a8b5d12d5":"61B45","66e6ad8b1b68034b":"lgJ39"}],"gLwi1":[function(require,module,exports) {
module.exports = require("288e6117b7ead165")(require("bf7525568d7efe00").getBundleURL("7UhFu") + "Lato-BX5JVWZI.d8729308.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("IyOjn"));

},{"288e6117b7ead165":"61B45","bf7525568d7efe00":"lgJ39"}],"aCqAc":[function(require,module,exports) {
module.exports = require("fc8549d537831479")(require("f4ad4fa116d51eba").getBundleURL("7UhFu") + "MyriadPro-3UATSCWU.c9cda5ab.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("3zfjD"));

},{"fc8549d537831479":"61B45","f4ad4fa116d51eba":"lgJ39"}],"2niDS":[function(require,module,exports) {
module.exports = require("27285b2d3c2520d5")(require("5bb1a9b832880d83").getBundleURL("7UhFu") + "ProximaNova-54WAWGUY.f3202f42.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("aDRPb"));

},{"27285b2d3c2520d5":"61B45","5bb1a9b832880d83":"lgJ39"}],"dBv18":[function(require,module,exports) {
module.exports = require("5b7a0b6cd02ab9d3")(require("1edc9c37d2c5c6ec").getBundleURL("7UhFu") + "SimonCircular-ETZIFPSM.4d7092b3.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("ldHR2"));

},{"5b7a0b6cd02ab9d3":"61B45","1edc9c37d2c5c6ec":"lgJ39"}],"PMiT0":[function(require,module,exports) {
module.exports = require("c588d608b95b4762")(require("8c66521e5abe82e2").getBundleURL("7UhFu") + "outdoor-context-ML562UXL.bcbd7cd2.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("kpoYU"));

},{"c588d608b95b4762":"61B45","8c66521e5abe82e2":"lgJ39"}],"D6ND1":[function(require,module,exports) {
module.exports = require("9c43adf6c1ea6df6")(require("f4765c81b631ff33").getBundleURL("7UhFu") + "GLTFExporter-BWOZSB34.440a0719.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("9pIfe"));

},{"9c43adf6c1ea6df6":"61B45","f4765c81b631ff33":"lgJ39"}],"3KoBW":[function(require,module,exports) {
module.exports = require("6d805a992029b58")(require("36d6a468400ffb71").getBundleURL("7UhFu") + "PerformanceController-F735IIJL.5594c064.js" + "?" + Date.now()).catch((err)=>{
    delete module.bundle.cache[module.id];
    throw err;
}).then(()=>module.bundle.root("idGhe"));

},{"6d805a992029b58":"61B45","36d6a468400ffb71":"lgJ39"}],"4amsj":[function() {},{}],"lW6qc":[function() {},{}]},["fm8Gy","h7u1C"], "h7u1C", "parcelRequire79a8")

//# sourceMappingURL=index.b71e74eb.js.map
